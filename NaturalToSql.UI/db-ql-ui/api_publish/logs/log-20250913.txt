2025-09-13 20:46:38.179 +03:00 [INF] This is a test log to file!
2025-09-13 20:46:38.959 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 20:46:39.001 +03:00 [INF] API configured successfully.
2025-09-13 20:46:39.465 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 20:46:39.589 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 20:46:40.230 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 20:46:40.309 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:46:40.329 +03:00 [INF] Registered 23 endpoints in 1,866 milliseconds.
2025-09-13 20:46:40.335 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:46:40.393 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:46:40.499 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:46:40.511 +03:00 [DBG] Created DbConnection. (9ms).
2025-09-13 20:46:40.512 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.523 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:46:40.527 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-13 20:46:40.529 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.546 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.547 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.550 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:46:40.550 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.566 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:40.568 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.573 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-13 20:46:40.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-09-13 20:46:40.578 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 20:46:40.613 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 20:46:40.614 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:40.615 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 20:46:40.615 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.616 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:40.617 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 20:46:40.618 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:46:40.618 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.619 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:46:40.623 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:46:40.624 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.624 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.624 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.624 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 20:46:40.631 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 20:46:40.632 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:46:40.632 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.632 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.632 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:46:40.6320474+00:00');
SELECT changes();
2025-09-13 20:46:40.635 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:46:40.6320474+00:00');
SELECT changes();
2025-09-13 20:46:40.679 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:46:40.680 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:46:40.681 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.681 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.681 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:46:40.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:46:40.682 +03:00 [DBG] Committing transaction.
2025-09-13 20:46:40.687 +03:00 [DBG] Committed transaction.
2025-09-13 20:46:40.688 +03:00 [DBG] Disposing transaction.
2025-09-13 20:46:40.690 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:46:40.690 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:46:40.692 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:46:40.692 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:46:40.692 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:40.693 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.693 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:46:40.693 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:46:40.693 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.694 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:46:40.694 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:46:40.696 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:46:40.696 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:46:40.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:46:40.696 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:46:40.697 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:46:40.698 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:40.699 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 20:46:40.703 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 20:46:40.713 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.713 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.713 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 20:46:40.713 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 20:46:40.713 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.713 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.713 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 20:46:40.714 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 20:46:40.714 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.714 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.714 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 20:46:40.714 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 20:46:40.714 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.714 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.714 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 20:46:40.714 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 20:46:40.714 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 20:46:40.719 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.720 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.720 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 20:46:40.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 20:46:40.720 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.720 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.720 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 20:46:40.721 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 20:46:40.721 +03:00 [DBG] Committing transaction.
2025-09-13 20:46:40.725 +03:00 [DBG] Committed transaction.
2025-09-13 20:46:40.725 +03:00 [DBG] Disposing transaction.
2025-09-13 20:46:40.725 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.725 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.725 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.725 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 20:46:40.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 20:46:40.726 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:46:40.726 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:46:40.726 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.726 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.726 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.726 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 20:46:40.727 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 20:46:40.727 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.727 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.727 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.727 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 20:46:40.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 20:46:40.728 +03:00 [DBG] Committing transaction.
2025-09-13 20:46:40.731 +03:00 [DBG] Committed transaction.
2025-09-13 20:46:40.731 +03:00 [DBG] Disposing transaction.
2025-09-13 20:46:40.731 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.731 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.731 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.732 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 20:46:40.732 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 20:46:40.732 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.732 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.732 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 20:46:40.738 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 20:46:40.738 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 20:46:40.741 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:46:40.741 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:46:40.742 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.742 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.742 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 20:46:40.742 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 20:46:40.742 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.742 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.742 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 20:46:40.742 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 20:46:40.742 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 20:46:40.751 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 20:46:40.751 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.751 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.751 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.751 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 20:46:40.751 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 20:46:40.751 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.751 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.751 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.751 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 20:46:40.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 20:46:40.752 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.752 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.752 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 20:46:40.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 20:46:40.752 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.752 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.752 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 20:46:40.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 20:46:40.752 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.752 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.752 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 20:46:40.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 20:46:40.753 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.753 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.753 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.753 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 20:46:40.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 20:46:40.753 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.753 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.753 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.753 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 20:46:40.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 20:46:40.753 +03:00 [DBG] Committing transaction.
2025-09-13 20:46:40.756 +03:00 [DBG] Committed transaction.
2025-09-13 20:46:40.756 +03:00 [DBG] Disposing transaction.
2025-09-13 20:46:40.756 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.756 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.756 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 20:46:40.756 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 20:46:40.756 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:46:40.757 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:46:40.757 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.757 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.757 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.757 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 20:46:40.757 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 20:46:40.757 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.757 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.757 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.757 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 20:46:40.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 20:46:40.758 +03:00 [DBG] Committing transaction.
2025-09-13 20:46:40.761 +03:00 [DBG] Committed transaction.
2025-09-13 20:46:40.761 +03:00 [DBG] Disposing transaction.
2025-09-13 20:46:40.761 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.761 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.761 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.761 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 20:46:40.761 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 20:46:40.761 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:46:40.761 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:46:40.761 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.761 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.762 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.762 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 20:46:40.762 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 20:46:40.762 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.762 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.762 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.762 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 20:46:40.762 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 20:46:40.762 +03:00 [DBG] Committing transaction.
2025-09-13 20:46:40.769 +03:00 [DBG] Committed transaction.
2025-09-13 20:46:40.770 +03:00 [DBG] Disposing transaction.
2025-09-13 20:46:40.770 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:46:40.770 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.770 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:46:40.770 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 20:46:40.773 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 20:46:40.773 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:46:40.773 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:46:40.773 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:46:40.776 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:46:40.776 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:40.776 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:46:40.776 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:46:40.776 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:40.776 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:46:40.777 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:46:40.777 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:46:40.813 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 20:46:40.838 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 20:46:40.838 +03:00 [DBG] Hosting starting
2025-09-13 20:46:40.917 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 20:46:40.918 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 20:46:40.960 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 20:46:40.961 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 20:46:40.961 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:46:40.961 +03:00 [INF] Hosting environment: Development
2025-09-13 20:46:40.961 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 20:46:40.961 +03:00 [DBG] Hosting started
2025-09-13 20:46:40.984 +03:00 [DBG] Connection id "0HNFITLVHD9UM" accepted.
2025-09-13 20:46:40.984 +03:00 [DBG] Connection id "0HNFITLVHD9UM" started.
2025-09-13 20:46:41.022 +03:00 [DBG] Connection id "0HNFITLVHD9UN" accepted.
2025-09-13 20:46:41.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 20:46:41.022 +03:00 [DBG] Connection id "0HNFITLVHD9UN" started.
2025-09-13 20:46:41.042 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:46:41.043 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:46:41.063 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:46:41.063 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:46:41.064 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 20:46:41.066 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:46:41.076 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:46:41.093 +03:00 [INF] Getting all users
2025-09-13 20:46:41.118 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 20:46:41.162 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:46:41.317 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 20:46:41.335 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:46:41.335 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:46:41.336 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:41.336 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:41.337 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:46:41.337 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:46:41.337 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:46:41.337 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:46:41.339 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:46:41.341 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:41.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:46:41.343 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:46:41.343 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:46:41.368 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:46:41.369 +03:00 [DBG] Connection id "0HNFITLVHD9UM" completed keep alive response.
2025-09-13 20:46:41.369 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:46:41.371 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:46:41.371 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:46:41.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 352.0333ms
2025-09-13 20:47:03.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3f6ff5e0-5e9a-4167-a94a-4715887aa04d - null null
2025-09-13 20:47:03.430 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3f6ff5e0-5e9a-4167-a94a-4715887aa04d'
2025-09-13 20:47:03.430 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3f6ff5e0-5e9a-4167-a94a-4715887aa04d'
2025-09-13 20:47:03.430 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:03.431 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:03.432 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:03.432 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:03.433 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:03.453 +03:00 [INF] Getting user by ID: "3f6ff5e0-5e9a-4167-a94a-4715887aa04d"
2025-09-13 20:47:03.461 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:47:03.464 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:47:03.493 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:47:03.500 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:03.500 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:03.500 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.500 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.500 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:03.501 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:03.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 20:47:03.504 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:03.507 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:03.507 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.508 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:03.508 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.508 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.508 +03:00 [WRN] User with ID "3f6ff5e0-5e9a-4167-a94a-4715887aa04d" not found
2025-09-13 20:47:03.510 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:03.511 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID 3f6ff5e0-5e9a-4167-a94a-4715887aa04d not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 20:47:03.577 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 20:47:03.586 +03:00 [DBG] Connection id "0HNFITLVHD9UM" completed keep alive response.
2025-09-13 20:47:03.586 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:03.586 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.586 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.586 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3f6ff5e0-5e9a-4167-a94a-4715887aa04d - 500 null application/json; charset=utf-8 157.6748ms
2025-09-13 20:47:03.588 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 20:47:03.588 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:47:03.588 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 20:47:03.589 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:03.589 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:03.589 +03:00 [DBG] The request is a preflight request.
2025-09-13 20:47:03.590 +03:00 [DBG] Connection id "0HNFITLVHD9UM" completed keep alive response.
2025-09-13 20:47:03.590 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.7673ms
2025-09-13 20:47:03.592 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 20:47:03.592 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:47:03.592 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 20:47:03.593 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:03.593 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:03.593 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 20:47:03.594 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:03.599 +03:00 [DBG] Connection id "0HNFITLVHD9UM", Request id "0HNFITLVHD9UM:00000004": started reading request body.
2025-09-13 20:47:03.599 +03:00 [DBG] Connection id "0HNFITLVHD9UM", Request id "0HNFITLVHD9UM:00000004": done reading request body.
2025-09-13 20:47:03.606 +03:00 [INF] Creating new user with API key: 
2025-09-13 20:47:03.608 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 20:47:03.613 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 20:47:03.614 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:03.614 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:03.614 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:03.614 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:03.615 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:03.615 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 20:47:03.615 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 20:47:03.615 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.615 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:03.615 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.615 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.637 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:03.670 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:03.673 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:03.682 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:03.685 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 20:47:03.686 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:03.686 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:03.718 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.718 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.719 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:03.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:03.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 20:47:03.720 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 20:47:03.729 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 20:47:03.730 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.731 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:47:03.731 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.732 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.737 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:03.738 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 20:47:03.738 +03:00 [INF] User created successfully with ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:47:03.741 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 20:47:03.741 +03:00 [DBG] Connection id "0HNFITLVHD9UM" completed keep alive response.
2025-09-13 20:47:03.741 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:03.741 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.741 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.741 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 149.1223ms
2025-09-13 20:47:03.743 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:47:03.743 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:03.743 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:03.743 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:03.743 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:03.743 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:03.744 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:03.744 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:03.745 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:47:03.747 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:03.747 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:03.747 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.747 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.747 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:03.747 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:03.747 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:03.747 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:03.748 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:03.754 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:03.759 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.759 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 11ms reading results.
2025-09-13 20:47:03.759 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:03.759 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.762 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:03.762 +03:00 [DBG] Connection id "0HNFITLVHD9UM" completed keep alive response.
2025-09-13 20:47:03.763 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:03.763 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:03.763 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:03.763 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 19.8831ms
2025-09-13 20:47:06.941 +03:00 [INF] This is a test log to file!
2025-09-13 20:47:07.062 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 20:47:07.064 +03:00 [INF] API configured successfully.
2025-09-13 20:47:07.114 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 20:47:07.148 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 20:47:07.463 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 20:47:07.514 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:07.531 +03:00 [INF] Registered 23 endpoints in 532 milliseconds.
2025-09-13 20:47:07.535 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:07.571 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:07.641 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:07.649 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 20:47:07.650 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.653 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:07.655 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 20:47:07.656 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.662 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:07.664 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.667 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:07.667 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.669 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:07.670 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 20:47:07.673 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:07.677 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 20:47:07.677 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 20:47:07.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:47:07.702 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:47:07.703 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:07.703 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:07.703 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:07.703 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:47:07.7033425+00:00');
SELECT changes();
2025-09-13 20:47:07.708 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:47:07.7033425+00:00');
SELECT changes();
2025-09-13 20:47:07.745 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:47:07.747 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:47:07.748 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:47:07.748 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:47:07.748 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:47:07.748 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:47:07.748 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:47:07.749 +03:00 [DBG] Committing transaction.
2025-09-13 20:47:07.750 +03:00 [DBG] Committed transaction.
2025-09-13 20:47:07.751 +03:00 [DBG] Disposing transaction.
2025-09-13 20:47:07.752 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:47:07.752 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:47:07.753 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:07.753 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:07.753 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.753 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:07.753 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.754 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:07.754 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:07.754 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:07.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:07.754 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:47:07.754 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:47:07.756 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:07.756 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:07.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:07.757 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:47:07.757 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:47:07.759 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:07.760 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 20:47:07.763 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 20:47:07.763 +03:00 [DBG] Committing transaction.
2025-09-13 20:47:07.764 +03:00 [DBG] Committed transaction.
2025-09-13 20:47:07.764 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:07.764 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:07.764 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:07.764 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:47:07.770 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:47:07.770 +03:00 [DBG] Disposing transaction.
2025-09-13 20:47:07.771 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:07.772 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 20:47:07.773 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:07.773 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:07.773 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:07.773 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:47:07.773 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:47:07.788 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 20:47:07.801 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 20:47:07.802 +03:00 [DBG] Hosting starting
2025-09-13 20:47:07.840 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 20:47:07.841 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 20:47:07.849 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 20:47:07.849 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 20:47:07.849 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:47:07.850 +03:00 [INF] Hosting environment: Development
2025-09-13 20:47:07.850 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 20:47:07.850 +03:00 [DBG] Hosting started
2025-09-13 20:47:10.920 +03:00 [DBG] Connection id "0HNFITM8ET5Q1" accepted.
2025-09-13 20:47:10.921 +03:00 [DBG] Connection id "0HNFITM8ET5Q1" started.
2025-09-13 20:47:10.948 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:10.981 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:10.981 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:10.995 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 20:47:10.997 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:11.022 +03:00 [INF] Api health check sent.
2025-09-13 20:47:11.024 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:11.024 +03:00 [DBG] Connection id "0HNFITM8ET5Q1" completed keep alive response.
2025-09-13 20:47:11.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 77.9127ms
2025-09-13 20:47:11.032 +03:00 [DBG] Connection id "0HNFITM8ET5Q2" accepted.
2025-09-13 20:47:11.032 +03:00 [DBG] Connection id "0HNFITM8ET5Q2" started.
2025-09-13 20:47:11.033 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:47:11.034 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:11.035 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:11.035 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:11.037 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:11.037 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:11.038 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:11.048 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:11.066 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:47:11.099 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:47:11.127 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:47:11.280 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:47:11.300 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:11.300 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:11.302 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:11.303 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:11.303 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:11.304 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:11.305 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:11.309 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:11.334 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:11.351 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.352 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 42ms reading results.
2025-09-13 20:47:11.353 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.353 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:11.367 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:11.367 +03:00 [DBG] Connection id "0HNFITM8ET5Q2" completed keep alive response.
2025-09-13 20:47:11.368 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:11.370 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:11.370 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:11.371 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 337.4566ms
2025-09-13 20:47:11.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 20:47:11.413 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 20:47:11.413 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 20:47:11.413 +03:00 [DBG] Connection id "0HNFITM8ET5Q3" accepted.
2025-09-13 20:47:11.414 +03:00 [DBG] Connection id "0HNFITM8ET5Q3" started.
2025-09-13 20:47:11.414 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 20:47:11.414 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:47:11.414 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:47:11.417 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:11.417 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:11.417 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 20:47:11.418 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:11.418 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:11.418 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:47:11.419 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:11.419 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:11.421 +03:00 [INF] Getting all users
2025-09-13 20:47:11.425 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 20:47:11.426 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 20:47:11.426 +03:00 [DBG] Connection id "0HNFITM8ET5Q2" completed keep alive response.
2025-09-13 20:47:11.426 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:47:11.426 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:11.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 13.2163ms
2025-09-13 20:47:11.443 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 20:47:11.446 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:11.446 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:11.446 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:11.446 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.446 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:11.447 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:11.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:11.447 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:47:11.447 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:47:11.450 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.450 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:47:11.450 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.450 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:11.452 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:47:11.453 +03:00 [DBG] Connection id "0HNFITM8ET5Q3" completed keep alive response.
2025-09-13 20:47:11.453 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:11.453 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:11.453 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:11.453 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 39.6538ms
2025-09-13 20:47:11.472 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:47:11.473 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:11.473 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:11.473 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:11.473 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:11.473 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:11.474 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:11.474 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:11.475 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:47:11.478 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:11.478 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:11.478 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:11.479 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.479 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:11.479 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:11.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:11.479 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:11.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:11.480 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:11.480 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.480 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:11.480 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:11.480 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:11.480 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:11.480 +03:00 [DBG] Connection id "0HNFITM8ET5Q3" completed keep alive response.
2025-09-13 20:47:11.481 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:11.481 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:11.481 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:11.481 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 8.5209ms
2025-09-13 20:47:14.668 +03:00 [INF] This is a test log to file!
2025-09-13 20:47:14.790 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 20:47:14.792 +03:00 [INF] API configured successfully.
2025-09-13 20:47:14.840 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 20:47:14.875 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 20:47:15.193 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 20:47:15.249 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:15.266 +03:00 [INF] Registered 23 endpoints in 538 milliseconds.
2025-09-13 20:47:15.271 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:15.311 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:15.379 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:15.388 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 20:47:15.389 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.392 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:15.393 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 20:47:15.394 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.400 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:15.402 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.406 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:15.406 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.407 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:15.408 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 20:47:15.412 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:15.417 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 20:47:15.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 20:47:15.423 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:47:15.443 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:47:15.445 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:15.445 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:15.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:15.445 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:47:15.4449125+00:00');
SELECT changes();
2025-09-13 20:47:15.453 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:47:15.4449125+00:00');
SELECT changes();
2025-09-13 20:47:15.488 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:47:15.490 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:47:15.491 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:47:15.491 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:47:15.491 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:47:15.491 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:47:15.492 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:47:15.492 +03:00 [DBG] Committing transaction.
2025-09-13 20:47:15.493 +03:00 [DBG] Committed transaction.
2025-09-13 20:47:15.493 +03:00 [DBG] Disposing transaction.
2025-09-13 20:47:15.495 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:47:15.495 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:47:15.496 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:15.496 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:15.496 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.497 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:15.497 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.497 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:15.497 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:15.497 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:15.497 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:15.497 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:47:15.497 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:47:15.499 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:15.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:15.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:15.499 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:47:15.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:47:15.503 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:15.504 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 20:47:15.507 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 20:47:15.507 +03:00 [DBG] Committing transaction.
2025-09-13 20:47:15.507 +03:00 [DBG] Committed transaction.
2025-09-13 20:47:15.508 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:47:15.508 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:15.508 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:47:15.508 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:47:15.514 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:47:15.514 +03:00 [DBG] Disposing transaction.
2025-09-13 20:47:15.515 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:15.517 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 20:47:15.517 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:15.517 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:15.517 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:15.517 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:47:15.517 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:47:15.532 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 20:47:15.543 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 20:47:15.544 +03:00 [DBG] Hosting starting
2025-09-13 20:47:15.583 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 20:47:15.584 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 20:47:15.594 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 20:47:15.595 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 20:47:15.595 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:47:15.595 +03:00 [INF] Hosting environment: Development
2025-09-13 20:47:15.595 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 20:47:15.595 +03:00 [DBG] Hosting started
2025-09-13 20:47:15.633 +03:00 [DBG] Connection id "0HNFITM9RRB0K" accepted.
2025-09-13 20:47:15.633 +03:00 [DBG] Connection id "0HNFITM9RRB0K" started.
2025-09-13 20:47:15.652 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 20:47:15.686 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 20:47:15.687 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 20:47:15.688 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:15.704 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:15.704 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:15.706 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 20:47:15.709 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:15.721 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:15.750 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 20:47:15.751 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 20:47:15.819 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:16.258 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:16.261 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:16.400 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 20:47:16.507 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 20:47:16.508 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 20:47:16.524 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:16.526 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:16.526 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:16.527 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 876.8603ms
2025-09-13 20:47:17.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 20:47:17.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 20:47:17.392 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 20:47:17.392 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:17.393 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:17.393 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:17.393 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:17.394 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:17.397 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:17.413 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:17.414 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.181 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.186 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:18.186 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:18.186 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:18.186 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 796.6663ms
2025-09-13 20:47:18.522 +03:00 [DBG] Connection id "0HNFITM9RRB0L" accepted.
2025-09-13 20:47:18.522 +03:00 [DBG] Connection id "0HNFITM9RRB0L" started.
2025-09-13 20:47:18.522 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:18.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:18.522 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:18.524 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:18.536 +03:00 [INF] Api health check sent.
2025-09-13 20:47:18.537 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:18.537 +03:00 [DBG] Connection id "0HNFITM9RRB0L" completed keep alive response.
2025-09-13 20:47:18.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 14.969ms
2025-09-13 20:47:18.541 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:47:18.541 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:18.541 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:18.541 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:18.541 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:18.541 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:18.541 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:18.556 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:18.564 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:47:18.574 +03:00 [DBG] Connection id "0HNFITM9RRB0M" accepted.
2025-09-13 20:47:18.574 +03:00 [DBG] Connection id "0HNFITM9RRB0M" started.
2025-09-13 20:47:18.574 +03:00 [DBG] Connection id "0HNFITM9RRB0N" accepted.
2025-09-13 20:47:18.574 +03:00 [DBG] Connection id "0HNFITM9RRB0N" started.
2025-09-13 20:47:18.574 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 20:47:18.574 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 20:47:18.574 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 20:47:18.574 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 20:47:18.574 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:18.574 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 20:47:18.575 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 20:47:18.575 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:18.575 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:18.575 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:18.575 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:18.575 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:18.575 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:18.575 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:18.576 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:18.576 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:18.576 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 20:47:18.576 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 20:47:18.576 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.577 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.577 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.577 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.577 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.579 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 20:47:18.582 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.582 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 20:47:18.582 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 20:47:18.583 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:18.583 +03:00 [DBG] Connection id "0HNFITM9RRB0M" completed keep alive response.
2025-09-13 20:47:18.583 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:18.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 8.5778ms
2025-09-13 20:47:18.606 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:47:18.637 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:47:18.813 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:47:18.834 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:18.834 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:18.836 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:18.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:18.837 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:18.837 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:18.837 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:18.840 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:18.845 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:18.871 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:18.879 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.879 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:18.879 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:18.879 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:18.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 304.6369ms
2025-09-13 20:47:18.890 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:18.890 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 45ms reading results.
2025-09-13 20:47:18.892 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:18.892 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:18.903 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:18.903 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:18.903 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:18.904 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:18.904 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:18.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 363.6866ms
2025-09-13 20:47:18.935 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 20:47:18.935 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 20:47:18.935 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 20:47:18.935 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 20:47:18.935 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 20:47:18.935 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:18.935 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 20:47:18.935 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:18.935 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:18.936 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:18.936 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:18.936 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:18.936 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:18.936 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:18.937 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:18.937 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:18.937 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 20:47:18.937 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.937 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 20:47:18.937 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.938 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:18.938 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.938 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.938 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 20:47:18.939 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 20:47:18.941 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 20:47:18.941 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 20:47:18.942 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 20:47:18.942 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:18.942 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:18.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 6.7927ms
2025-09-13 20:47:19.215 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:19.216 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 20:47:19.216 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:19.216 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:19.216 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 280.8153ms
2025-09-13 20:47:20.906 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 20:47:20.907 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 20:47:20.907 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 20:47:20.907 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:20.907 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:20.907 +03:00 [DBG] The request is a preflight request.
2025-09-13 20:47:20.907 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:20.907 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 1.0018ms
2025-09-13 20:47:20.909 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 20:47:20.909 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 20:47:20.909 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 20:47:20.909 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:20.909 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:20.909 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 20:47:20.910 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:20.925 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:00000004": started reading request body.
2025-09-13 20:47:20.927 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:00000004": done reading request body.
2025-09-13 20:47:20.941 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 20:47:20.941 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 20:47:21.003 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 20:47:21.021 +03:00 [DBG] Saved secret profile-05b09d32-0234-4796-9b7f-a4357475e454 for provider "SqlServer"
2025-09-13 20:47:21.021 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 20:47:21.029 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 20:47:21.035 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:47:21.038 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:21.038 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:21.038 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.038 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.039 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 20:47:21.039 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 20:47:21.040 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.040 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:21.040 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.040 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.067 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.092 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.095 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:21.105 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:21.108 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 20:47:21.109 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:21.109 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:21.143 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.143 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.144 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.144 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.145 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 20:47:21.145 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 20:47:21.149 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 20:47:21.151 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.151 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:47:21.151 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.151 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.156 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.156 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 20:47:21.157 +03:00 [INF] Profile created successfully with Id "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.158 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 20:47:21.158 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:21.158 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:21.158 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.158 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.158 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 249.8723ms
2025-09-13 20:47:21.160 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:47:21.161 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:21.161 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:47:21.161 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:21.161 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:21.161 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:21.161 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:21.162 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:21.162 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:47:21.165 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:21.165 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:21.165 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.165 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.165 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.165 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.165 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:21.165 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:21.165 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.169 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.170 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.170 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 20:47:21.170 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.170 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.172 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:47:21.172 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:21.172 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:21.172 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.172 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 11.9366ms
2025-09-13 20:47:21.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 20:47:21.218 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:47:21.218 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:47:21.218 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:47:21.218 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:21.218 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:21.218 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:47:21.219 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:21.222 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 20:47:21.223 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:47:21.223 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:47:21.223 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:21.223 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:21.223 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:21.223 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:21.224 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:21.227 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:47:21.228 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 20:47:21.242 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:47:21.245 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:21.245 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:21.245 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:21.245 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:21.245 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.245 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.245 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.245 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.245 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.245 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.245 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.246 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.246 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.246 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.246 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.248 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.248 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.248 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.248 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:21.248 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:47:21.248 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.248 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.248 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.248 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.249 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.249 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.249 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.249 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.249 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.249 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.250 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.250 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.250 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.250 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.250 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.250 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.250 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.250 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.250 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:21.250 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.250 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.250 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.250 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.250 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:21.251 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.251 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.253 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.254 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.255 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:21.255 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:21.255 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:21.255 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.255 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.255 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 33.2835ms
2025-09-13 20:47:21.256 +03:00 [DBG] Fetching schema for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", ForceRefresh=false
2025-09-13 20:47:21.256 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 20:47:21.257 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 20:47:21.257 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:47:21.257 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:47:21.257 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:21.257 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:21.257 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:21.258 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:21.259 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:21.259 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:21.260 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:21.260 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.260 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.260 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.260 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.260 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.260 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.261 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:21.261 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.261 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:21.261 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.261 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.261 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.261 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.261 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.262 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:21.262 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.262 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:21.262 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:21.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.262 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:21.262 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:21.262 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.263 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:21.263 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:21.264 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:21.264 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:21.264 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.264 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.265 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 8.584ms
2025-09-13 20:47:21.297 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 20:47:21.301 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:47:21.301 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:21.301 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:21.301 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:21.301 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:21.301 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 83.2297ms
2025-09-13 20:47:21.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 20:47:21.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:47:21.302 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:47:21.302 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:47:21.302 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:21.303 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:21.303 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:47:21.303 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:21.304 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:47:21.304 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:21.304 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:21.304 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 2.1452ms
2025-09-13 20:47:22.540 +03:00 [DBG] Connection id "0HNFITM9RRB0L" received FIN.
2025-09-13 20:47:22.540 +03:00 [DBG] Connection id "0HNFITM9RRB0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 20:47:22.540 +03:00 [DBG] Connection id "0HNFITM9RRB0L" disconnecting.
2025-09-13 20:47:22.541 +03:00 [DBG] Connection id "0HNFITM9RRB0L" stopped.
2025-09-13 20:47:32.166 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute - null null
2025-09-13 20:47:32.166 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute'
2025-09-13 20:47:32.166 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 20:47:32.166 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:32.166 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:32.167 +03:00 [DBG] The request is a preflight request.
2025-09-13 20:47:32.167 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:32.167 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute - 204 null null 0.729ms
2025-09-13 20:47:32.168 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute - application/json 186
2025-09-13 20:47:32.168 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute'
2025-09-13 20:47:32.168 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute'
2025-09-13 20:47:32.168 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-13 20:47:32.168 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:32.168 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:32.168 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-13 20:47:32.169 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:32.178 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:00000009": started reading request body.
2025-09-13 20:47:32.178 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:00000009": done reading request body.
2025-09-13 20:47:32.186 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:32.186 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:32.186 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:32.187 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.187 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:32.187 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.187 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.187 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:32.187 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:32.187 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:32.187 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.187 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:32.187 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.187 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:32.188 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:32.188 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:32.188 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:32.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.188 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:32.188 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:32.188 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.188 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:32.188 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.188 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:32.189 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:32.189 +03:00 [INF] Executing SQL for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", Mode="ReadOnly"
2025-09-13 20:47:32.194 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-09-13 20:47:32.194 +03:00 [DBG] SQL: select * from products
2025-09-13 20:47:32.195 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 20:47:32.195 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 20:47:32.219 +03:00 [INF] Query execution finished in 24 ms, returned 18 rows
2025-09-13 20:47:32.222 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:32.222 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.222 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:32.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.222 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:32.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:32.222 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.222 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:32.222 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.222 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:32.242 +03:00 [DBG] The navigation 'Query.Profile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:32.243 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:32.243 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:32.253 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Profile.Queries'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:32.255 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:32.255 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 20:47:32.255 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:32.255 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:32.257 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:32.257 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.257 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:32.257 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:32.257 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 1986), @p3='?' (Size = 22), @p4='?' (DbType = DateTime), @p5='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Queries" ("Id", "ProfileId", "ResultJson", "SqlQuery", "TimestampUtc", "UserQuery")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-13 20:47:32.261 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 1986), @p3='?' (Size = 22), @p4='?' (DbType = DateTime), @p5='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Queries" ("Id", "ProfileId", "ResultJson", "SqlQuery", "TimestampUtc", "UserQuery")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-13 20:47:32.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.262 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:32.262 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:32.262 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:32.263 +03:00 [DBG] An entity of type 'Query' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:32.263 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 20:47:32.267 +03:00 [INF] ProfileSettingsChangedEvent triggered: {"DateOccurred":"2025-09-13T17:47:32.2338831Z","$type":"QueryAddedEvent"}
2025-09-13 20:47:32.268 +03:00 [INF] Saved query to DB for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:32.271 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-13 20:47:32.271 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:32.271 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:32.271 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:32.271 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:32.271 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/execute - 200 null application/json; charset=utf-8 103.1388ms
2025-09-13 20:47:33.274 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 20:47:33.274 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:47:33.274 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:47:33.274 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:33.274 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:33.274 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:33.274 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:33.275 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:33.275 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:33.276 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:33.276 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:33.276 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:33.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:33.276 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:33.276 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:33.276 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:33.276 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:33.276 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:33.277 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:33.278 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:33.278 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 20:47:33.278 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:33.278 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:33.278 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:33.278 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:33.278 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:33.278 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:33.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:33.278 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:33.278 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:33.278 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:47:33.278 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:33.278 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:33.279 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:33.279 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:33.279 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:47:33.282 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:47:33.282 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:33.282 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:33.282 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:33.282 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:33.282 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 8.5655ms
2025-09-13 20:47:42.418 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:42.418 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:42.418 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:42.418 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:42.418 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:42.418 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:42.418 +03:00 [INF] Api health check sent.
2025-09-13 20:47:42.418 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:42.418 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:42.418 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8046ms
2025-09-13 20:47:46.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:46.389 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:46.389 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:46.389 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:46.389 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:46.389 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:46.389 +03:00 [INF] Api health check sent.
2025-09-13 20:47:46.389 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:46.389 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:46.389 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6092ms
2025-09-13 20:47:46.390 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:46.390 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:46.391 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:46.391 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:46.391 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:46.391 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:46.391 +03:00 [INF] Api health check sent.
2025-09-13 20:47:46.391 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:46.391 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:46.391 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6153ms
2025-09-13 20:47:50.392 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - null null
2025-09-13 20:47:50.392 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 20:47:50.392 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 20:47:50.392 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:50.392 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:50.392 +03:00 [DBG] The request is a preflight request.
2025-09-13 20:47:50.392 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:50.392 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 204 null null 0.279ms
2025-09-13 20:47:50.393 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - application/json 81
2025-09-13 20:47:50.393 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 20:47:50.393 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 20:47:50.393 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 20:47:50.393 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:50.393 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:50.393 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 20:47:50.394 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:47:50.396 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:0000000F": started reading request body.
2025-09-13 20:47:50.396 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:0000000F": done reading request body.
2025-09-13 20:47:50.398 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:47:50.399 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:47:50.399 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:50.399 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:50.399 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:50.399 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:50.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:50.399 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:50.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:47:50.399 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:50.399 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:50.399 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:50.399 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:47:50.399 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:50.399 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:50.400 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:50.401 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:50.403 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:50.403 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 20:47:50.403 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 20:47:50.403 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 20:47:50.408 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:50.408 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:50.408 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:47:50.408 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:47:50.410 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 20:47:50.410 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 20:47:50.410 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 20:47:50.414 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:50.414 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 20:47:50.414 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:47:50.415 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:50.416 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:47:50.416 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 20:47:50.417 +03:00 [INF] AI mode changed to "Local" for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T17:47:50.4001011Z"
2025-09-13 20:47:50.417 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 20:47:50.417 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:50.417 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:47:50.417 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:47:50.418 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:47:50.418 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 200 null application/json; charset=utf-8 24.4069ms
2025-09-13 20:47:50.533 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:47:50.533 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:47:50.533 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:50.533 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:50.534 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:50.534 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:50.555 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:47:50.555 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:47:50.975 +03:00 [DBG] Connection id "0HNFITM9RRB0O" accepted.
2025-09-13 20:47:50.975 +03:00 [DBG] Connection id "0HNFITM9RRB0O" started.
2025-09-13 20:47:50.975 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:50.975 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:50.975 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:50.976 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:50.976 +03:00 [INF] Api health check sent.
2025-09-13 20:47:50.976 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:50.976 +03:00 [DBG] Connection id "0HNFITM9RRB0O" completed keep alive response.
2025-09-13 20:47:50.976 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2893ms
2025-09-13 20:47:51.981 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:51.981 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:51.981 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:51.981 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:51.981 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:51.981 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:51.982 +03:00 [INF] Api health check sent.
2025-09-13 20:47:51.982 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:51.982 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:51.982 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.378ms
2025-09-13 20:47:54.650 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:54.650 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:54.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 503 null application/json; charset=utf-8 4117.271ms
2025-09-13 20:47:54.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:47:54.651 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:47:54.652 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:54.652 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:54.652 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:54.652 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:54.653 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:47:54.653 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:47:54.976 +03:00 [DBG] Connection id "0HNFITM9RRB0O" received FIN.
2025-09-13 20:47:54.977 +03:00 [DBG] Connection id "0HNFITM9RRB0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 20:47:54.977 +03:00 [DBG] Connection id "0HNFITM9RRB0O" disconnecting.
2025-09-13 20:47:54.977 +03:00 [DBG] Connection id "0HNFITM9RRB0O" stopped.
2025-09-13 20:47:56.135 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:56.135 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:56.135 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:56.135 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:56.135 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:56.135 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:56.135 +03:00 [INF] Api health check sent.
2025-09-13 20:47:56.135 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:56.135 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:56.135 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4974ms
2025-09-13 20:47:56.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:47:56.137 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:47:56.137 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:47:56.137 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:56.137 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:56.137 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:47:56.137 +03:00 [INF] Api health check sent.
2025-09-13 20:47:56.137 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:47:56.137 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:47:56.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5359ms
2025-09-13 20:47:58.660 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:58.660 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:47:58.660 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 503 null application/json; charset=utf-8 4008.8096ms
2025-09-13 20:47:58.661 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:47:58.661 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:47:58.662 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:58.662 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:47:58.662 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:47:58.662 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:47:58.662 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:47:58.662 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:48:02.669 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:02.670 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:48:02.670 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 503 null application/json; charset=utf-8 4008.1612ms
2025-09-13 20:48:02.671 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:48:02.671 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:48:02.671 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:02.671 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:02.671 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:02.671 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:02.671 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:48:02.671 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:48:06.680 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:06.680 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:48:06.680 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 503 null application/json; charset=utf-8 4009.7618ms
2025-09-13 20:48:12.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:48:12.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:48:12.415 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:48:12.415 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:48:12.416 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:12.416 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:48:12.416 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:12.416 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:12.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:12.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:12.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:48:12.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:12.416 +03:00 [INF] Api health check sent.
2025-09-13 20:48:12.416 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:48:12.416 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:48:12.416 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:48:12.416 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:48:12.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5191ms
2025-09-13 20:48:12.424 +03:00 [INF] Received HTTP response headers after 6.1148ms - 200
2025-09-13 20:48:12.424 +03:00 [INF] End processing HTTP request after 8.1543ms - 200
2025-09-13 20:48:12.425 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:48:12.425 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:48:12.425 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 9.594ms
2025-09-13 20:48:12.480 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:48:12.480 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:48:12.480 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:48:12.480 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:48:12.480 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:48:12.480 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:12.480 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:12.480 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:48:12.482 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:48:12.482 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:48:12.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 2.4069ms
2025-09-13 20:48:23.088 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert - null null
2025-09-13 20:48:23.088 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert'
2025-09-13 20:48:23.088 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 20:48:23.088 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:23.088 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:23.088 +03:00 [DBG] The request is a preflight request.
2025-09-13 20:48:23.088 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:48:23.088 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert - 204 null null 0.4141ms
2025-09-13 20:48:23.089 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert - application/json 173
2025-09-13 20:48:23.089 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert'
2025-09-13 20:48:23.089 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert'
2025-09-13 20:48:23.089 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 20:48:23.089 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:23.089 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:23.089 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 20:48:23.090 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:48:23.092 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:00000017": started reading request body.
2025-09-13 20:48:23.092 +03:00 [DBG] Connection id "0HNFITM9RRB0N", Request id "0HNFITM9RRB0N:00000017": done reading request body.
2025-09-13 20:48:23.094 +03:00 [INF] Converting NL to SQL for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:48:23.095 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:48:23.095 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:48:23.095 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:48:23.095 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:48:23.095 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:48:23.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:48:23.095 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:48:23.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:48:23.095 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:48:23.095 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:48:23.096 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.096 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:48:23.096 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.096 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:48:23.096 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:48:23.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:48:23.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:48:23.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:48:23.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:48:23.096 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:48:23.097 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:48:23.097 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.097 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:48:23.097 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.097 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:48:23.097 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:48:23.097 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:48:23.098 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.098 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:48:23.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:48:23.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:48:23.098 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:48:23.098 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:48:23.098 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.098 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:48:23.098 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:48:23.098 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:48:23.099 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:48:23.099 +03:00 [DBG] Fetching schema for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", ForceRefresh=false
2025-09-13 20:48:23.099 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 20:48:23.100 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 20:48:23.117 +03:00 [INF] Local LLM is configured
2025-09-13 20:48:23.117 +03:00 [INF] Converting natural language to SQL. User query: show all products in the database
2025-09-13 20:48:23.118 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-13 20:48:23.118 +03:00 [DBG] Generated prompt with 6 messages
2025-09-13 20:48:23.122 +03:00 [DBG] Request payload prepared for LLM API
2025-09-13 20:48:42.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:48:42.415 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:48:42.415 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:48:42.415 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:48:42.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:48:42.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:48:42.416 +03:00 [INF] Api health check sent.
2025-09-13 20:48:42.416 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:48:42.416 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:48:42.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6526ms
2025-09-13 20:48:49.864 +03:00 [INF] LLM API responded with status: "OK"
2025-09-13 20:48:49.880 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-13 20:48:49.881 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 20:48:49.882 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:48:49.882 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:48:49.882 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:48:49.882 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:48:49.882 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/convert - 200 null application/json; charset=utf-8 26793.0889ms
2025-09-13 20:49:12.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:49:12.416 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:49:12.416 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:49:12.416 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:49:12.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:49:12.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:49:12.416 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:49:12.416 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:49:12.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:49:12.416 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:49:12.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:49:12.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:49:12.416 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:49:12.416 +03:00 [INF] Api health check sent.
2025-09-13 20:49:12.416 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:49:12.416 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:49:12.416 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:49:12.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2679ms
2025-09-13 20:49:12.417 +03:00 [INF] Received HTTP response headers after 0.729ms - 200
2025-09-13 20:49:12.417 +03:00 [INF] End processing HTTP request after 0.8542ms - 200
2025-09-13 20:49:12.417 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:49:12.417 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:49:12.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.3947ms
2025-09-13 20:49:12.483 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:49:12.483 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:49:12.484 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:49:12.484 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:49:12.484 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:49:12.484 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:49:12.484 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:49:12.484 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:49:12.484 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:49:12.484 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:49:12.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.8072ms
2025-09-13 20:49:29.649 +03:00 [DBG] Connection id "0HNFITM9RRB0M" disconnecting.
2025-09-13 20:49:29.650 +03:00 [DBG] Connection id "0HNFITM9RRB0M" stopped.
2025-09-13 20:49:29.650 +03:00 [DBG] Connection id "0HNFITM9RRB0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 20:49:43.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:49:43.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:49:43.191 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:49:43.191 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:49:43.191 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:49:43.191 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:49:43.192 +03:00 [INF] Api health check sent.
2025-09-13 20:49:43.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:49:43.192 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:49:43.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.493ms
2025-09-13 20:49:50.555 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 20:50:00.555 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:50:00.557 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 1 items
2025-09-13 20:50:10.558 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:50:10.558 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-09-13 20:50:12.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:50:12.415 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:50:12.415 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:50:12.416 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:50:12.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:50:12.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:50:12.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:50:12.416 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:50:12.416 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:50:12.416 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:50:12.416 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:50:12.416 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:50:12.416 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:50:12.416 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:50:12.416 +03:00 [INF] Api health check sent.
2025-09-13 20:50:12.416 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:50:12.416 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:50:12.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5099ms
2025-09-13 20:50:12.418 +03:00 [INF] Received HTTP response headers after 1.7272ms - 200
2025-09-13 20:50:12.418 +03:00 [INF] End processing HTTP request after 2.0248ms - 200
2025-09-13 20:50:12.418 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:50:12.418 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:50:12.418 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 2.916ms
2025-09-13 20:50:12.482 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:50:12.482 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:50:12.482 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:50:12.482 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:50:12.482 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:50:12.482 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:50:12.482 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:50:12.482 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:50:12.482 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:50:12.482 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:50:12.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3011ms
2025-09-13 20:50:20.558 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:50:20.558 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 20:50:30.559 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:50:30.559 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 20:50:40.560 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:50:40.560 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 20:50:43.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:50:43.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:50:43.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:50:43.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:50:43.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:50:43.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:50:43.192 +03:00 [INF] Api health check sent.
2025-09-13 20:50:43.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:50:43.192 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:50:43.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3689ms
2025-09-13 20:50:50.560 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:50:50.560 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 20:51:00.560 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:51:00.560 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-09-13 20:51:10.560 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:51:10.560 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-09-13 20:51:13.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:51:13.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:51:13.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:51:13.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:51:13.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:51:13.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:51:13.193 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:51:13.193 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:51:13.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:51:13.194 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:51:13.194 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:51:13.194 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:51:13.194 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:51:13.194 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:51:13.194 +03:00 [INF] Api health check sent.
2025-09-13 20:51:13.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:51:13.194 +03:00 [DBG] Connection id "0HNFITM9RRB0K" completed keep alive response.
2025-09-13 20:51:13.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.302ms
2025-09-13 20:51:13.195 +03:00 [INF] Received HTTP response headers after 1.4587ms - 200
2025-09-13 20:51:13.195 +03:00 [INF] End processing HTTP request after 1.6564ms - 200
2025-09-13 20:51:13.195 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:51:13.195 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:51:13.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 2.2412ms
2025-09-13 20:51:13.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:51:13.202 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:51:13.202 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:51:13.202 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:51:13.203 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:51:13.203 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:51:13.203 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:51:13.203 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:51:13.203 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:51:13.203 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:51:13.203 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 2.1647ms
2025-09-13 20:51:20.561 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:51:20.561 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-09-13 20:51:30.562 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:51:30.562 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-09-13 20:51:40.563 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:51:40.563 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 20:51:50.564 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:51:50.564 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-09-13 20:52:00.564 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:52:00.564 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 20:52:10.565 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 20:52:10.565 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 20:52:12.416 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 20:52:13.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:52:13.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:52:13.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:52:13.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:52:13.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:52:13.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:52:13.193 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:52:13.193 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:52:13.196 +03:00 [INF] Received HTTP response headers after 2.4248ms - 200
2025-09-13 20:52:13.196 +03:00 [INF] End processing HTTP request after 2.7117ms - 200
2025-09-13 20:52:13.196 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:52:13.196 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:52:13.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 3.9961ms
2025-09-13 20:52:13.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:52:13.199 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:52:13.199 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:52:13.199 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:52:13.199 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:52:13.199 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:52:13.199 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:52:13.199 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:52:13.199 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:52:13.199 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:52:13.199 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.4063ms
2025-09-13 20:52:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:52:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:52:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:52:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:52:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:52:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:52:17.192 +03:00 [INF] Api health check sent.
2025-09-13 20:52:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:52:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:52:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3523ms
2025-09-13 20:52:20.565 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:52:20.565 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2025-09-13 20:52:30.566 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:52:30.566 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-09-13 20:52:40.566 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:52:40.566 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-13 20:52:50.568 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:52:50.568 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2025-09-13 20:53:00.569 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:53:00.569 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-09-13 20:53:10.569 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:53:10.569 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 2 items
2025-09-13 20:53:13.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:53:13.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:53:13.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:53:13.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:53:13.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:53:13.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:53:13.193 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:53:13.193 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:53:13.194 +03:00 [INF] Received HTTP response headers after 0.6241ms - 200
2025-09-13 20:53:13.194 +03:00 [INF] End processing HTTP request after 0.815ms - 200
2025-09-13 20:53:13.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:53:13.194 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:53:13.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.4423ms
2025-09-13 20:53:13.197 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:53:13.197 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:53:13.197 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:53:13.197 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:53:13.197 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:53:13.197 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:53:13.197 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:53:13.197 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:53:13.198 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:53:13.198 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:53:13.198 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.658ms
2025-09-13 20:53:17.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:53:17.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:53:17.191 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:53:17.191 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:53:17.191 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:53:17.191 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:53:17.191 +03:00 [INF] Api health check sent.
2025-09-13 20:53:17.191 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:53:17.191 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:53:17.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2589ms
2025-09-13 20:53:20.570 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:53:20.570 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2025-09-13 20:53:23.767 +03:00 [DBG] Connection id "0HNFITM9RRB0K" disconnecting.
2025-09-13 20:53:23.767 +03:00 [DBG] Connection id "0HNFITM9RRB0K" stopped.
2025-09-13 20:53:23.767 +03:00 [DBG] Connection id "0HNFITM9RRB0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 20:53:30.571 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:53:30.571 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-13 20:53:40.572 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:53:40.572 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0637ms - processed: 0 items - remaining: 2 items
2025-09-13 20:53:50.573 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:53:50.573 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-09-13 20:54:00.574 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:54:00.574 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2025-09-13 20:54:10.574 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 20:54:10.574 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-09-13 20:54:13.201 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 20:54:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0P" accepted.
2025-09-13 20:54:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0P" started.
2025-09-13 20:54:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:54:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:54:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:54:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:54:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:54:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:54:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:54:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:54:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:54:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:54:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:54:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:54:17.192 +03:00 [INF] Api health check sent.
2025-09-13 20:54:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:54:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0P" completed keep alive response.
2025-09-13 20:54:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.288ms
2025-09-13 20:54:17.192 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:54:17.192 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:54:17.195 +03:00 [INF] Received HTTP response headers after 2.0335ms - 200
2025-09-13 20:54:17.195 +03:00 [INF] End processing HTTP request after 2.2296ms - 200
2025-09-13 20:54:17.195 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:54:17.195 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:54:17.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 2.7758ms
2025-09-13 20:54:17.273 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:54:17.273 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:54:17.273 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:54:17.273 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:54:17.273 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:54:17.273 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:54:17.273 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:54:17.273 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:54:17.273 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:54:17.273 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:54:17.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3518ms
2025-09-13 20:54:20.576 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:54:20.576 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 3 items
2025-09-13 20:54:30.576 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:54:30.577 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 3 items
2025-09-13 20:54:40.576 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:54:40.577 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 3 items
2025-09-13 20:54:50.577 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:54:50.578 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 3 items
2025-09-13 20:55:00.578 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:55:00.578 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 3 items
2025-09-13 20:55:10.578 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:55:10.578 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 3 items
2025-09-13 20:55:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:55:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:55:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:55:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:55:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:55:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:55:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:55:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:55:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:55:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:55:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:55:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:55:17.193 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:55:17.193 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:55:17.194 +03:00 [INF] Api health check sent.
2025-09-13 20:55:17.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:55:17.194 +03:00 [DBG] Connection id "0HNFITM9RRB0P" completed keep alive response.
2025-09-13 20:55:17.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6731ms
2025-09-13 20:55:17.194 +03:00 [INF] Received HTTP response headers after 0.5205ms - 200
2025-09-13 20:55:17.194 +03:00 [INF] End processing HTTP request after 0.7144ms - 200
2025-09-13 20:55:17.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:55:17.194 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:55:17.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.4515ms
2025-09-13 20:55:17.196 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:55:17.196 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:55:17.196 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:55:17.196 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:55:17.196 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:55:17.196 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:55:17.196 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:55:17.196 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:55:17.197 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:55:17.197 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:55:17.197 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3312ms
2025-09-13 20:55:20.580 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:55:20.580 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 3 items
2025-09-13 20:55:30.580 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:55:30.580 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0879ms - processed: 0 items - remaining: 3 items
2025-09-13 20:55:40.582 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:55:40.582 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 3 items
2025-09-13 20:55:50.582 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:55:50.582 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 3 items
2025-09-13 20:56:00.582 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:56:00.582 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 3 items
2025-09-13 20:56:10.583 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2025-09-13 20:56:10.584 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 3 items
2025-09-13 20:56:17.193 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 20:56:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:56:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:56:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:56:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:56:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:56:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:56:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:56:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:56:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:56:17.193 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:56:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:56:17.193 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:56:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:56:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:56:17.193 +03:00 [INF] Api health check sent.
2025-09-13 20:56:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:56:17.193 +03:00 [DBG] Connection id "0HNFITM9RRB0P" completed keep alive response.
2025-09-13 20:56:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3132ms
2025-09-13 20:56:17.195 +03:00 [INF] Received HTTP response headers after 2.1412ms - 200
2025-09-13 20:56:17.196 +03:00 [INF] End processing HTTP request after 2.2799ms - 200
2025-09-13 20:56:17.196 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:56:17.196 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:56:17.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 2.772ms
2025-09-13 20:56:17.259 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:56:17.259 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:56:17.259 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:56:17.259 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:56:17.259 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:56:17.260 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:56:17.260 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:56:17.260 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:56:17.260 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:56:17.260 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:56:17.260 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3196ms
2025-09-13 20:56:20.584 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:56:20.584 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 4 items
2025-09-13 20:56:30.585 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:56:30.586 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 4 items
2025-09-13 20:56:40.587 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:56:40.587 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 4 items
2025-09-13 20:56:50.588 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:56:50.588 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 4 items
2025-09-13 20:57:00.589 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:57:00.589 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 4 items
2025-09-13 20:57:10.588 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:57:10.589 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0982ms - processed: 0 items - remaining: 4 items
2025-09-13 20:57:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:57:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:57:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:57:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:57:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:57:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:57:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:57:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:57:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:57:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:57:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:57:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:57:17.192 +03:00 [INF] Api health check sent.
2025-09-13 20:57:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:57:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0P" completed keep alive response.
2025-09-13 20:57:17.192 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:57:17.192 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:57:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.271ms
2025-09-13 20:57:17.193 +03:00 [INF] Received HTTP response headers after 0.4406ms - 200
2025-09-13 20:57:17.193 +03:00 [INF] End processing HTTP request after 0.5626ms - 200
2025-09-13 20:57:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:57:17.193 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:57:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.1637ms
2025-09-13 20:57:17.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:57:17.265 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:57:17.265 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:57:17.265 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:57:17.265 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:57:17.265 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:57:17.265 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:57:17.265 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:57:17.265 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:57:17.265 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:57:17.265 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3267ms
2025-09-13 20:57:20.589 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:57:20.589 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 4 items
2025-09-13 20:57:30.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:57:30.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 4 items
2025-09-13 20:57:40.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:57:40.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 4 items
2025-09-13 20:57:50.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:57:50.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 4 items
2025-09-13 20:58:00.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:58:00.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 4 items
2025-09-13 20:58:10.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2025-09-13 20:58:10.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 4 items
2025-09-13 20:58:17.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:58:17.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:58:17.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:58:17.191 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:58:17.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:58:17.191 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:58:17.191 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:58:17.191 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:58:17.191 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:58:17.191 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:58:17.191 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:58:17.191 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:58:17.191 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:58:17.191 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:58:17.192 +03:00 [INF] Api health check sent.
2025-09-13 20:58:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:58:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0P" completed keep alive response.
2025-09-13 20:58:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5285ms
2025-09-13 20:58:17.192 +03:00 [INF] Received HTTP response headers after 0.3823ms - 200
2025-09-13 20:58:17.192 +03:00 [INF] End processing HTTP request after 0.501ms - 200
2025-09-13 20:58:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:58:17.192 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:58:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 0.9717ms
2025-09-13 20:58:17.194 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 20:58:17.260 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:58:17.260 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:58:17.260 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:58:17.260 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:58:17.260 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:58:17.260 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:58:17.260 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:58:17.260 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:58:17.260 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:58:17.260 +03:00 [DBG] Connection id "0HNFITM9RRB0N" completed keep alive response.
2025-09-13 20:58:17.260 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.2897ms
2025-09-13 20:58:20.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-09-13 20:58:20.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 5 items
2025-09-13 20:58:30.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-09-13 20:58:30.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 5 items
2025-09-13 20:58:40.591 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-09-13 20:58:40.591 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 5 items
2025-09-13 20:58:50.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-09-13 20:58:50.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 5 items
2025-09-13 20:59:03.268 +03:00 [INF] This is a test log to file!
2025-09-13 20:59:03.453 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 20:59:03.457 +03:00 [INF] API configured successfully.
2025-09-13 20:59:03.517 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 20:59:03.561 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 20:59:03.934 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 20:59:03.996 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:04.018 +03:00 [INF] Registered 23 endpoints in 648 milliseconds.
2025-09-13 20:59:04.024 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:04.068 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:04.134 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:04.142 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 20:59:04.144 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.146 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:04.148 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 20:59:04.149 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.156 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:04.159 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.161 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:04.161 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.163 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:04.164 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 20:59:04.168 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:04.173 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 20:59:04.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 20:59:04.178 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:59:04.197 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:59:04.198 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:04.198 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:04.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:04.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:59:04.1982349+00:00');
SELECT changes();
2025-09-13 20:59:04.210 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:59:04.1982349+00:00');
SELECT changes();
2025-09-13 20:59:04.251 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:59:04.253 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:59:04.254 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:59:04.254 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:59:04.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:59:04.255 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:59:04.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:59:04.256 +03:00 [DBG] Committing transaction.
2025-09-13 20:59:04.257 +03:00 [DBG] Committed transaction.
2025-09-13 20:59:04.257 +03:00 [DBG] Disposing transaction.
2025-09-13 20:59:04.259 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:59:04.259 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:59:04.260 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:04.260 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:04.260 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.260 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:04.260 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.260 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:04.261 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:04.261 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:04.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:04.261 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:59:04.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:59:04.262 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:04.262 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:04.262 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:04.262 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:59:04.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:59:04.265 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:04.266 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:59:04.269 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 20:59:04.270 +03:00 [DBG] Committing transaction.
2025-09-13 20:59:04.270 +03:00 [DBG] Committed transaction.
2025-09-13 20:59:04.270 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:04.270 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:04.270 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:04.270 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:59:04.272 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:59:04.272 +03:00 [DBG] Disposing transaction.
2025-09-13 20:59:04.273 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:04.275 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 20:59:04.275 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:04.275 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:04.275 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:04.275 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:59:04.275 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:59:04.288 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 20:59:04.299 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 20:59:04.300 +03:00 [DBG] Hosting starting
2025-09-13 20:59:04.340 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 20:59:04.341 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 20:59:04.355 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 20:59:04.355 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 20:59:04.355 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:59:04.356 +03:00 [INF] Hosting environment: Development
2025-09-13 20:59:04.356 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 20:59:04.356 +03:00 [DBG] Hosting started
2025-09-13 20:59:04.682 +03:00 [DBG] Connection id "0HNFITST5RPRO" accepted.
2025-09-13 20:59:04.682 +03:00 [DBG] Connection id "0HNFITST5RPRO" started.
2025-09-13 20:59:04.705 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 20:59:04.757 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:59:04.758 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:04.783 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:04.784 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:04.786 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 20:59:04.790 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:04.803 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:04.823 +03:00 [INF] Getting all users
2025-09-13 20:59:04.850 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 20:59:04.897 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:59:05.123 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 20:59:05.154 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:05.154 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:05.156 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.159 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.160 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:05.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.161 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:59:05.166 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:59:05.186 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.186 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 20ms reading results.
2025-09-13 20:59:05.188 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.189 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.218 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.219 +03:00 [DBG] Connection id "0HNFITST5RPRO" completed keep alive response.
2025-09-13 20:59:05.219 +03:00 [DBG] Connection id "0HNFITST5RPRP" accepted.
2025-09-13 20:59:05.219 +03:00 [DBG] Connection id "0HNFITST5RPRP" started.
2025-09-13 20:59:05.220 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:05.220 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 20:59:05.222 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:59:05.223 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.224 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.225 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.225 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:05.225 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:05.226 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.227 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:05.227 +03:00 [INF] Getting all users
2025-09-13 20:59:05.226 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 522.2334ms
2025-09-13 20:59:05.231 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:05.231 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:05.231 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.231 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:05.231 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.231 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.231 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:59:05.231 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:59:05.232 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:05.232 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:59:05.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.232 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:59:05.232 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.232 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:05.232 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.233 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.233 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.233 +03:00 [DBG] Connection id "0HNFITST5RPRP" completed keep alive response.
2025-09-13 20:59:05.233 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:05.233 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.234 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 13.4956ms
2025-09-13 20:59:05.234 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:05.234 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:05.236 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.239 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:05.281 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:59:05.291 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:59:05.295 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:59:05.347 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:59:05.361 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:05.361 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:05.362 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.362 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:05.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 20:59:05.366 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:05.369 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:05.407 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:05.440 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:05.462 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.462 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 92ms reading results.
2025-09-13 20:59:05.462 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.462 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.464 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.464 +03:00 [DBG] Connection id "0HNFITST5RPRO" completed keep alive response.
2025-09-13 20:59:05.465 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:05.465 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.465 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 233.5778ms
2025-09-13 20:59:05.465 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:59:05.465 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:05.466 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:05.466 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.467 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:05.467 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:05.467 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.468 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:05.468 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:59:05.469 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:05.470 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:05.470 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.470 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:05.470 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.470 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.470 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:05.471 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:05.471 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:05.472 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:05.473 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.473 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 20:59:05.473 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.473 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.474 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.474 +03:00 [DBG] Connection id "0HNFITST5RPRP" completed keep alive response.
2025-09-13 20:59:05.474 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:05.474 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.474 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.474 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 9.0555ms
2025-09-13 20:59:05.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 20:59:05.507 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 20:59:05.507 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.507 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:05.507 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:05.507 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.509 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:05.509 +03:00 [INF] Getting all users
2025-09-13 20:59:05.510 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:05.510 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:05.510 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.510 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.511 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:05.511 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.511 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.511 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:59:05.511 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 20:59:05.511 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.511 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:59:05.511 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.512 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.512 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 20:59:05.512 +03:00 [DBG] Connection id "0HNFITST5RPRP" completed keep alive response.
2025-09-13 20:59:05.512 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:05.512 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.512 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 5.7557ms
2025-09-13 20:59:05.537 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:59:05.537 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:05.537 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:05.538 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.538 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:05.539 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:05.540 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.541 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:05.541 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:59:05.542 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:05.542 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:05.542 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.542 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.542 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:05.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.542 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:05.542 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:05.543 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:05.543 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:05.543 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:05.543 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.543 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:59:05.544 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:05.544 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.544 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:05.545 +03:00 [DBG] Connection id "0HNFITST5RPRP" completed keep alive response.
2025-09-13 20:59:05.545 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:05.546 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:05.546 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:05.546 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 8.8777ms
2025-09-13 20:59:08.754 +03:00 [INF] This is a test log to file!
2025-09-13 20:59:08.884 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 20:59:08.886 +03:00 [INF] API configured successfully.
2025-09-13 20:59:08.937 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 20:59:08.975 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 20:59:09.328 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 20:59:09.385 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:09.404 +03:00 [INF] Registered 23 endpoints in 586 milliseconds.
2025-09-13 20:59:09.410 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:09.450 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:09.530 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:09.540 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 20:59:09.542 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.544 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:09.546 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 20:59:09.547 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.554 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:09.556 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.559 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:09.559 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.561 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:09.562 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 20:59:09.565 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:09.568 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 20:59:09.569 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 20:59:09.574 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:59:09.596 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 20:59:09.597 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:09.597 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:09.597 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:09.597 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:59:09.5970686+00:00');
SELECT changes();
2025-09-13 20:59:09.601 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 17:59:09.5970686+00:00');
SELECT changes();
2025-09-13 20:59:09.639 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:59:09.641 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:59:09.642 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 20:59:09.642 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:59:09.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 20:59:09.643 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:59:09.643 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 20:59:09.644 +03:00 [DBG] Committing transaction.
2025-09-13 20:59:09.645 +03:00 [DBG] Committed transaction.
2025-09-13 20:59:09.645 +03:00 [DBG] Disposing transaction.
2025-09-13 20:59:09.646 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 20:59:09.647 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 20:59:09.647 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:09.648 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:09.648 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.648 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:09.648 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.648 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:09.649 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:09.649 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:09.649 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:09.649 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:59:09.649 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 20:59:09.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:09.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:09.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:09.651 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:59:09.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 20:59:09.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:09.655 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 20:59:09.658 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 20:59:09.658 +03:00 [DBG] Committing transaction.
2025-09-13 20:59:09.659 +03:00 [DBG] Committed transaction.
2025-09-13 20:59:09.659 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 20:59:09.659 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:09.659 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 20:59:09.659 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:59:09.661 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 20:59:09.661 +03:00 [DBG] Disposing transaction.
2025-09-13 20:59:09.663 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:09.664 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 20:59:09.664 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:09.664 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:09.665 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:09.665 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:59:09.665 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 20:59:09.680 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 20:59:09.692 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 20:59:09.693 +03:00 [DBG] Hosting starting
2025-09-13 20:59:09.733 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 20:59:09.734 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 20:59:09.743 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 20:59:09.743 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 20:59:09.743 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:59:09.744 +03:00 [INF] Hosting environment: Development
2025-09-13 20:59:09.744 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 20:59:09.744 +03:00 [DBG] Hosting started
2025-09-13 20:59:12.653 +03:00 [DBG] Connection id "0HNFITSVHSHEK" accepted.
2025-09-13 20:59:12.654 +03:00 [DBG] Connection id "0HNFITSVHSHEK" started.
2025-09-13 20:59:12.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:59:12.705 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:59:12.706 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:59:12.720 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 20:59:12.723 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:59:12.748 +03:00 [INF] Api health check sent.
2025-09-13 20:59:12.749 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:59:12.749 +03:00 [DBG] Connection id "0HNFITSVHSHEK" completed keep alive response.
2025-09-13 20:59:12.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 80.8422ms
2025-09-13 20:59:12.763 +03:00 [DBG] Connection id "0HNFITSVHSHEL" accepted.
2025-09-13 20:59:12.763 +03:00 [DBG] Connection id "0HNFITSVHSHEL" started.
2025-09-13 20:59:12.764 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 20:59:12.765 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:12.766 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 20:59:12.766 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:12.767 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:12.767 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:12.768 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:12.778 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:12.796 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 20:59:12.832 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:59:12.861 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 20:59:13.040 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:59:13.071 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:13.071 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:13.073 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.074 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.074 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.074 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 20:59:13.077 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:13.082 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 20:59:13.114 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.148 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.171 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.172 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 89ms reading results.
2025-09-13 20:59:13.174 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.174 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 20:59:13.194 +03:00 [DBG] Connection id "0HNFITSVHSHEL" completed keep alive response.
2025-09-13 20:59:13.195 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.196 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.197 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.197 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 433.0718ms
2025-09-13 20:59:13.300 +03:00 [DBG] Connection id "0HNFITSVHSHEM" accepted.
2025-09-13 20:59:13.300 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 20:59:13.300 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.301 +03:00 [DBG] Connection id "0HNFITSVHSHEM" started.
2025-09-13 20:59:13.301 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.301 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 20:59:13.302 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:13.303 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:13.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:59:13.303 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:59:13.304 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:59:13.304 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:13.304 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:13.305 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:59:13.305 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.308 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:13.309 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:13.318 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 20:59:13.319 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 20:59:13.345 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 20:59:13.349 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:13.349 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:13.350 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:13.350 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:13.351 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.351 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.351 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.352 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.352 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.352 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.352 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.353 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.353 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.353 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.353 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.354 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.354 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.354 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.368 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.368 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.377 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.377 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 22ms reading results.
2025-09-13 20:59:13.378 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.378 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.380 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:59:13.379 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.382 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.383 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.383 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.382 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 26ms reading results.
2025-09-13 20:59:13.383 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.384 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.384 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.384 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.385 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:59:13.385 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.385 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.392 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:59:13.394 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:59:13.394 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.395 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.395 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.395 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.395 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.396 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.396 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:59:13.396 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:59:13.396 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:13.396 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.396 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.396 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.396 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.396 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 95.5198ms
2025-09-13 20:59:13.396 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:59:13.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 20:59:13.398 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:59:13.399 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 20:59:13.399 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:59:13.399 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:13.399 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:13.399 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:59:13.401 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:13.402 +03:00 [DBG] Creating DbConnection.
2025-09-13 20:59:13.403 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 20:59:13.403 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.403 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.403 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.403 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.403 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.403 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.404 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.404 +03:00 [DBG] Fetching schema for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", ForceRefresh=false
2025-09-13 20:59:13.404 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.405 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 20:59:13.405 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.405 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 20:59:13.405 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.406 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.406 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:59:13.406 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 20:59:13.406 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.406 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.406 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 20:59:13.407 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.407 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 20:59:13.407 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.407 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 20:59:13.407 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.408 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 20:59:13.408 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 20:59:13.409 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.409 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 20:59:13.410 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 20:59:13.410 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:13.410 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.410 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.410 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.410 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 13.0107ms
2025-09-13 20:59:13.508 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 20:59:13.517 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.517 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 20:59:13.518 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.518 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.518 +03:00 [DBG] Connection id "0HNFITSVHSHEL" completed keep alive response.
2025-09-13 20:59:13.518 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.518 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.518 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 20:59:13.518 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 20:59:13.518 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:13.519 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 218.2165ms
2025-09-13 20:59:13.519 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:13.519 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.520 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:13.520 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.521 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:13.521 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.521 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 3.7564ms
2025-09-13 20:59:13.522 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 20:59:13.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.522 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.522 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.523 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:13.523 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:13.523 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.524 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:13.524 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.524 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:13.524 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.525 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 2.574ms
2025-09-13 20:59:13.526 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 20:59:13.526 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.526 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 20:59:13.526 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.527 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:13.527 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:13.527 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.528 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 20:59:13.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 20:59:13.529 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:13.529 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 20:59:13.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 3.2599ms
2025-09-13 20:59:14.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:59:14.301 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:59:14.301 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:59:14.302 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:14.302 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:14.302 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:59:14.303 +03:00 [INF] Api health check sent.
2025-09-13 20:59:14.303 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:59:14.303 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:14.303 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.9852ms
2025-09-13 20:59:14.306 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 20:59:14.306 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 20:59:14.306 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:59:14.306 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:14.306 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:14.306 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:59:14.316 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 20:59:14.317 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 20:59:14.379 +03:00 [INF] Received HTTP response headers after 60.4906ms - 200
2025-09-13 20:59:14.379 +03:00 [INF] End processing HTTP request after 64.1873ms - 200
2025-09-13 20:59:14.382 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 20:59:14.382 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:14.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 76.881ms
2025-09-13 20:59:14.384 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 20:59:14.384 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 20:59:14.384 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:59:14.384 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 20:59:14.384 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:59:14.384 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:14.385 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:14.385 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:59:14.386 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 20:59:14.386 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:14.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.8928ms
2025-09-13 20:59:16.758 +03:00 [DBG] Connection id "0HNFITSVHSHEK" received FIN.
2025-09-13 20:59:16.758 +03:00 [DBG] Connection id "0HNFITSVHSHEK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 20:59:16.758 +03:00 [DBG] Connection id "0HNFITSVHSHEK" disconnecting.
2025-09-13 20:59:16.759 +03:00 [DBG] Connection id "0HNFITSVHSHEK" stopped.
2025-09-13 20:59:45.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 20:59:45.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 20:59:45.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 20:59:45.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 20:59:45.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 20:59:45.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 20:59:45.193 +03:00 [INF] Api health check sent.
2025-09-13 20:59:45.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 20:59:45.193 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 20:59:45.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7084ms
2025-09-13 21:00:15.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:00:15.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:00:15.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:00:15.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:00:15.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:00:15.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:00:15.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:00:15.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:00:15.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:00:15.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:00:15.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:00:15.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:00:15.193 +03:00 [INF] Api health check sent.
2025-09-13 21:00:15.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:00:15.193 +03:00 [DBG] Connection id "0HNFITSVHSHEL" completed keep alive response.
2025-09-13 21:00:15.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6996ms
2025-09-13 21:00:15.194 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:00:15.194 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:00:15.195 +03:00 [INF] Received HTTP response headers after 1.6477ms - 200
2025-09-13 21:00:15.196 +03:00 [INF] End processing HTTP request after 1.8891ms - 200
2025-09-13 21:00:15.196 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:00:15.196 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:00:15.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 3.5802ms
2025-09-13 21:00:15.251 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:00:15.251 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:00:15.251 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:00:15.251 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:00:15.251 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:00:15.251 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:00:15.251 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:00:15.251 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:00:15.251 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:00:15.251 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:00:15.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.4457ms
2025-09-13 21:00:45.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:00:45.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:00:45.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:00:45.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:00:45.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:00:45.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:00:45.193 +03:00 [INF] Api health check sent.
2025-09-13 21:00:45.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:00:45.193 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:00:45.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5939ms
2025-09-13 21:01:14.316 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 21:01:15.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:01:15.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:01:15.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:01:15.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:01:15.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:01:15.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:01:15.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:01:15.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:01:15.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:01:15.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:01:15.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:01:15.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:01:15.193 +03:00 [INF] Api health check sent.
2025-09-13 21:01:15.193 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:01:15.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:01:15.193 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:01:15.193 +03:00 [DBG] Connection id "0HNFITSVHSHEL" completed keep alive response.
2025-09-13 21:01:15.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6789ms
2025-09-13 21:01:15.196 +03:00 [INF] Received HTTP response headers after 2.7492ms - 200
2025-09-13 21:01:15.196 +03:00 [INF] End processing HTTP request after 2.958ms - 200
2025-09-13 21:01:15.196 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:01:15.197 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:01:15.197 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 4.4018ms
2025-09-13 21:01:15.248 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:01:15.248 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:01:15.248 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:01:15.248 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:01:15.248 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:01:15.248 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:01:15.248 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:01:15.248 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:01:15.249 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:01:15.249 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:01:15.249 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.4093ms
2025-09-13 21:01:24.316 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:01:24.318 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
2025-09-13 21:01:34.318 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:01:34.318 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-09-13 21:01:44.318 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:01:44.318 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 21:01:45.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:01:45.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:01:45.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:01:45.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:01:45.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:01:45.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:01:45.193 +03:00 [INF] Api health check sent.
2025-09-13 21:01:45.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:01:45.193 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:01:45.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4903ms
2025-09-13 21:01:54.319 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:01:54.319 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 21:02:04.319 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:02:04.319 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-09-13 21:02:14.319 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:02:14.319 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-09-13 21:02:14.391 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:02:14.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:02:14.391 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:02:14.391 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:02:14.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:02:14.391 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:02:14.391 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:02:14.391 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:02:14.391 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:02:14.391 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:02:14.391 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:02:14.391 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:02:14.392 +03:00 [INF] Api health check sent.
2025-09-13 21:02:14.392 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:02:14.392 +03:00 [DBG] Connection id "0HNFITSVHSHEL" completed keep alive response.
2025-09-13 21:02:14.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.375ms
2025-09-13 21:02:14.392 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:02:14.392 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:02:14.392 +03:00 [INF] Received HTTP response headers after 0.5535ms - 200
2025-09-13 21:02:14.392 +03:00 [INF] End processing HTTP request after 0.7226ms - 200
2025-09-13 21:02:14.393 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:02:14.393 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:02:14.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.5245ms
2025-09-13 21:02:14.442 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:02:14.442 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:02:14.442 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:02:14.442 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:02:14.442 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:02:14.442 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:02:14.442 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:02:14.442 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:02:14.443 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:02:14.443 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:02:14.443 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.0093ms
2025-09-13 21:02:24.320 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:02:24.320 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 21:02:34.320 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:02:34.320 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 21:02:44.320 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:02:44.320 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
2025-09-13 21:02:45.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:02:45.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:02:45.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:02:45.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:02:45.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:02:45.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:02:45.193 +03:00 [INF] Api health check sent.
2025-09-13 21:02:45.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:02:45.193 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:02:45.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5342ms
2025-09-13 21:02:54.322 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:02:54.322 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-13 21:03:04.321 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:03:04.321 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-09-13 21:03:14.321 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:03:14.321 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-09-13 21:03:15.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:03:15.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:03:15.191 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:03:15.191 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:03:15.191 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:03:15.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:03:15.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:03:15.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:03:15.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:03:15.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:03:15.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:03:15.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:03:15.192 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:03:15.192 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:03:15.192 +03:00 [INF] Api health check sent.
2025-09-13 21:03:15.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:03:15.192 +03:00 [DBG] Connection id "0HNFITSVHSHEL" completed keep alive response.
2025-09-13 21:03:15.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5425ms
2025-09-13 21:03:15.192 +03:00 [INF] Received HTTP response headers after 0.5461ms - 200
2025-09-13 21:03:15.192 +03:00 [INF] End processing HTTP request after 0.673ms - 200
2025-09-13 21:03:15.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:03:15.193 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:03:15.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.3776ms
2025-09-13 21:03:15.194 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 21:03:15.195 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:03:15.195 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:03:15.195 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:03:15.195 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:03:15.195 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:03:15.195 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:03:15.195 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:03:15.195 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:03:15.195 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:03:15.195 +03:00 [DBG] Connection id "0HNFITSVHSHEM" completed keep alive response.
2025-09-13 21:03:15.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.355ms
2025-09-13 21:03:24.322 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:03:24.322 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-09-13 21:03:34.322 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:03:34.322 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-09-13 21:03:44.322 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:03:44.323 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2025-09-13 21:03:54.323 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:03:54.323 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2025-09-13 21:04:04.324 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:04:04.324 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-13 21:06:11.301 +03:00 [INF] This is a test log to file!
2025-09-13 21:06:11.453 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:06:11.455 +03:00 [INF] API configured successfully.
2025-09-13 21:06:11.515 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:06:11.558 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:06:11.933 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:06:11.996 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:12.014 +03:00 [INF] Registered 23 endpoints in 639 milliseconds.
2025-09-13 21:06:12.018 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:12.057 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:12.143 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:12.152 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:06:12.153 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.156 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:12.158 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:06:12.159 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.166 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.169 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.171 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:12.171 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.174 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.176 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:06:12.181 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:12.185 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:06:12.185 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:06:12.191 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:06:12.213 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:06:12.216 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:12.216 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:12.216 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:12.216 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:06:12.2159371+00:00');
SELECT changes();
2025-09-13 21:06:12.224 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:06:12.2159371+00:00');
SELECT changes();
2025-09-13 21:06:12.273 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:06:12.278 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:06:12.279 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:06:12.279 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:06:12.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:06:12.280 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:06:12.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:06:12.283 +03:00 [DBG] Committing transaction.
2025-09-13 21:06:12.284 +03:00 [DBG] Committed transaction.
2025-09-13 21:06:12.285 +03:00 [DBG] Disposing transaction.
2025-09-13 21:06:12.286 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:06:12.287 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:06:12.288 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:12.288 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:12.289 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.289 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.289 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.289 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:12.290 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:12.290 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:12.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:12.290 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:06:12.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:06:12.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:12.293 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:12.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:12.293 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:06:12.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:06:12.297 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.298 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:06:12.301 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:06:12.301 +03:00 [DBG] Committing transaction.
2025-09-13 21:06:12.301 +03:00 [DBG] Committed transaction.
2025-09-13 21:06:12.302 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:12.302 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:12.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:12.302 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:06:12.308 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:06:12.308 +03:00 [DBG] Disposing transaction.
2025-09-13 21:06:12.309 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.311 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:06:12.311 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:12.311 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.311 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:12.311 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:06:12.311 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:06:12.326 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:06:12.337 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:06:12.338 +03:00 [DBG] Hosting starting
2025-09-13 21:06:12.380 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:06:12.381 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:06:12.391 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:06:12.391 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:06:12.392 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:06:12.392 +03:00 [INF] Hosting environment: Development
2025-09-13 21:06:12.392 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:06:12.392 +03:00 [DBG] Hosting started
2025-09-13 21:06:12.496 +03:00 [DBG] Connection id "0HNFIU0SLQ9U6" accepted.
2025-09-13 21:06:12.497 +03:00 [DBG] Connection id "0HNFIU0SLQ9U6" started.
2025-09-13 21:06:12.525 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:06:12.571 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:06:12.573 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:12.594 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:12.594 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:12.595 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:06:12.598 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:12.608 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:12.623 +03:00 [INF] Getting all users
2025-09-13 21:06:12.644 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:06:12.700 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:06:12.908 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:06:12.939 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:12.939 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:12.941 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:12.943 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.943 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:12.943 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:12.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:12.944 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:06:12.946 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:06:12.965 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.965 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 19ms reading results.
2025-09-13 21:06:12.968 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:12.968 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.014 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.015 +03:00 [DBG] Connection id "0HNFIU0SLQ9U6" completed keep alive response.
2025-09-13 21:06:13.016 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:13.016 +03:00 [DBG] Connection id "0HNFIU0SLQ9U7" accepted.
2025-09-13 21:06:13.017 +03:00 [DBG] Connection id "0HNFIU0SLQ9U7" started.
2025-09-13 21:06:13.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:06:13.018 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.019 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:06:13.019 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.019 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.020 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:13.021 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:13.021 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.022 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:13.022 +03:00 [INF] Getting all users
2025-09-13 21:06:13.019 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 496.6539ms
2025-09-13 21:06:13.024 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:06:13.024 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:13.025 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:13.025 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.025 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:13.025 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:13.025 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.026 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.026 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:13.026 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.026 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:06:13.026 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:06:13.026 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:13.026 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:13.027 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.027 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:06:13.027 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.027 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.027 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.028 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.028 +03:00 [DBG] Connection id "0HNFIU0SLQ9U7" completed keep alive response.
2025-09-13 21:06:13.028 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:13.028 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:13.028 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.028 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 11.13ms
2025-09-13 21:06:13.054 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:06:13.076 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:06:13.081 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:06:13.133 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:06:13.146 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:13.147 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:13.147 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.147 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.147 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:13.148 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-13 21:06:13.152 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:13.157 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:13.201 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:13.243 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:13.271 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.271 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 113ms reading results.
2025-09-13 21:06:13.271 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.271 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.274 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.274 +03:00 [DBG] Connection id "0HNFIU0SLQ9U6" completed keep alive response.
2025-09-13 21:06:13.274 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:13.274 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.274 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 250.628ms
2025-09-13 21:06:13.276 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:06:13.276 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:13.276 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:13.276 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.277 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:13.277 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:13.277 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.278 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:13.279 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:06:13.280 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:13.280 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:13.280 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:13.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.281 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:13.281 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:13.282 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:13.282 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:13.283 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.283 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:06:13.283 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.283 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.283 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.283 +03:00 [DBG] Connection id "0HNFIU0SLQ9U7" completed keep alive response.
2025-09-13 21:06:13.283 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:13.283 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.284 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.284 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 7.7841ms
2025-09-13 21:06:13.320 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:06:13.320 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:06:13.320 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.320 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:13.320 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:13.321 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.322 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:13.322 +03:00 [INF] Getting all users
2025-09-13 21:06:13.322 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:13.322 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:13.322 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.322 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.323 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:13.323 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.323 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.323 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:06:13.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:06:13.324 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.324 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:06:13.324 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.324 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.325 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:06:13.325 +03:00 [DBG] Connection id "0HNFIU0SLQ9U7" completed keep alive response.
2025-09-13 21:06:13.325 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:13.325 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.325 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.326 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 5.3937ms
2025-09-13 21:06:13.348 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:06:13.348 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:13.348 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:13.348 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.349 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:13.349 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:13.349 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.349 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:13.350 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:06:13.350 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:13.350 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:13.350 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.350 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:13.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:13.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:13.351 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:13.351 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:13.351 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:13.351 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.351 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:06:13.351 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:13.352 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.352 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:13.352 +03:00 [DBG] Connection id "0HNFIU0SLQ9U7" completed keep alive response.
2025-09-13 21:06:13.352 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:13.352 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:13.352 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:13.352 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 4.105ms
2025-09-13 21:06:16.563 +03:00 [INF] This is a test log to file!
2025-09-13 21:06:16.697 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:06:16.699 +03:00 [INF] API configured successfully.
2025-09-13 21:06:16.761 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:06:16.797 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:06:17.133 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:06:17.193 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:17.215 +03:00 [INF] Registered 23 endpoints in 588 milliseconds.
2025-09-13 21:06:17.220 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:17.263 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:17.346 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:17.357 +03:00 [DBG] Created DbConnection. (8ms).
2025-09-13 21:06:17.358 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.361 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:17.363 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:06:17.364 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.372 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:17.375 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.378 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:17.378 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.380 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:17.381 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:06:17.384 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:17.388 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:06:17.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:06:17.395 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:06:17.418 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:06:17.419 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:17.419 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:17.419 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:17.419 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:06:17.4193205+00:00');
SELECT changes();
2025-09-13 21:06:17.431 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:06:17.4193205+00:00');
SELECT changes();
2025-09-13 21:06:17.473 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:06:17.475 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:06:17.476 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:06:17.476 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:06:17.477 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:06:17.477 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:06:17.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:06:17.478 +03:00 [DBG] Committing transaction.
2025-09-13 21:06:17.479 +03:00 [DBG] Committed transaction.
2025-09-13 21:06:17.479 +03:00 [DBG] Disposing transaction.
2025-09-13 21:06:17.481 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:06:17.481 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:06:17.483 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:17.483 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:17.483 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.483 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:17.483 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.484 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:17.484 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:17.484 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:17.484 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:17.484 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:06:17.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:06:17.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:17.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:17.485 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:17.485 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:06:17.486 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:06:17.489 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:17.490 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:06:17.493 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:06:17.493 +03:00 [DBG] Committing transaction.
2025-09-13 21:06:17.493 +03:00 [DBG] Committed transaction.
2025-09-13 21:06:17.493 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:06:17.494 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:17.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:06:17.494 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:06:17.496 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:06:17.496 +03:00 [DBG] Disposing transaction.
2025-09-13 21:06:17.497 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:17.500 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:06:17.500 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:17.500 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:17.500 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:17.500 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:06:17.501 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:06:17.515 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:06:17.526 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:06:17.527 +03:00 [DBG] Hosting starting
2025-09-13 21:06:17.574 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:06:17.575 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:06:17.585 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:06:17.585 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:06:17.585 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:06:17.585 +03:00 [INF] Hosting environment: Development
2025-09-13 21:06:17.585 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:06:17.585 +03:00 [DBG] Hosting started
2025-09-13 21:06:20.450 +03:00 [DBG] Connection id "0HNFIU0V1LODS" accepted.
2025-09-13 21:06:20.451 +03:00 [DBG] Connection id "0HNFIU0V1LODS" started.
2025-09-13 21:06:20.468 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:06:20.506 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:06:20.507 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:06:20.522 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:06:20.524 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:06:20.550 +03:00 [INF] Api health check sent.
2025-09-13 21:06:20.551 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:06:20.552 +03:00 [DBG] Connection id "0HNFIU0V1LODS" completed keep alive response.
2025-09-13 21:06:20.552 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 85.8059ms
2025-09-13 21:06:20.562 +03:00 [DBG] Connection id "0HNFIU0V1LODT" accepted.
2025-09-13 21:06:20.562 +03:00 [DBG] Connection id "0HNFIU0V1LODT" started.
2025-09-13 21:06:20.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:06:20.564 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:20.565 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:06:20.565 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:20.567 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:20.568 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:20.569 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:20.584 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:20.611 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:06:20.648 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:06:20.677 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:06:20.842 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:06:20.865 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:20.865 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:20.866 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:20.867 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:20.868 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:20.868 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:20.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:06:20.871 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:20.875 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:06:20.903 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:20.929 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:20.946 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:20.946 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 71ms reading results.
2025-09-13 21:06:20.948 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:20.948 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:20.964 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:06:20.965 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:06:20.966 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:20.968 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:20.968 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:20.969 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 405.4455ms
2025-09-13 21:06:21.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:06:21.076 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.076 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.076 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.077 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:21.077 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:21.078 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.081 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:21.082 +03:00 [DBG] Connection id "0HNFIU0V1LODU" accepted.
2025-09-13 21:06:21.082 +03:00 [DBG] Connection id "0HNFIU0V1LODU" started.
2025-09-13 21:06:21.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:06:21.083 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:06:21.083 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:06:21.083 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:06:21.084 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:21.084 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:21.084 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:06:21.085 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:21.091 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:06:21.092 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:06:21.110 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:06:21.113 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:21.113 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:21.114 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:21.114 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.114 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:21.114 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.114 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:21.114 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.114 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.114 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.114 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:21.114 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.114 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.114 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.114 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.114 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:21.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.115 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:21.123 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:21.123 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:21.128 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.128 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.129 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 13ms reading results.
2025-09-13 21:06:21.129 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 14ms reading results.
2025-09-13 21:06:21.129 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.129 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.129 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.129 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.130 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:06:21.131 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.131 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.131 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:21.131 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.131 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.131 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.131 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.132 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:06:21.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.132 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.137 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:06:21.137 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.137 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:21.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.138 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.138 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.138 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.138 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:06:21.138 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.138 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:06:21.138 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.138 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.139 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:06:21.141 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:06:21.141 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:21.141 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:21.141 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.142 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 59.4313ms
2025-09-13 21:06:21.142 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:06:21.144 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:06:21.144 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:06:21.144 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:06:21.144 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:21.144 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:21.144 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:06:21.145 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:21.145 +03:00 [DBG] Fetching schema for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", ForceRefresh=false
2025-09-13 21:06:21.146 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:06:21.146 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:06:21.146 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:06:21.147 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.147 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.147 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:21.147 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.147 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.147 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.148 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:21.148 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:06:21.148 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.149 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:06:21.149 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.149 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.149 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:06:21.150 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.150 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:06:21.150 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:06:21.150 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:06:21.150 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.150 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:06:21.150 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:06:21.151 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.151 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:06:21.151 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:06:21.151 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:21.151 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:21.151 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.151 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.152 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 9.0262ms
2025-09-13 21:06:21.224 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:06:21.230 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.230 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:06:21.231 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.231 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.231 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.231 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:21.231 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:21.231 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:06:21.232 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.232 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:21.232 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:06:21.232 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:06:21.232 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 156.4882ms
2025-09-13 21:06:21.233 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:21.233 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.233 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:21.233 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:21.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 3.13ms
2025-09-13 21:06:21.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:06:21.235 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.235 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.235 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.235 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:21.235 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:21.235 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.236 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:21.237 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.237 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:21.237 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:21.237 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 2.4573ms
2025-09-13 21:06:21.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:06:21.239 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.239 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:06:21.239 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.239 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:21.239 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:21.240 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.241 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:06:21.241 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:06:21.242 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:21.242 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:06:21.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 2.9369ms
2025-09-13 21:06:22.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:06:22.086 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:06:22.086 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:06:22.086 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:22.086 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:22.086 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:06:22.087 +03:00 [INF] Api health check sent.
2025-09-13 21:06:22.087 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:06:22.087 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:22.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.7101ms
2025-09-13 21:06:22.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:06:22.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:06:22.090 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:06:22.090 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:22.090 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:22.090 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:06:22.098 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:06:22.098 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:06:22.165 +03:00 [INF] Received HTTP response headers after 65.0587ms - 200
2025-09-13 21:06:22.166 +03:00 [INF] End processing HTTP request after 69.5489ms - 200
2025-09-13 21:06:22.169 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:06:22.169 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:22.169 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 79.7319ms
2025-09-13 21:06:22.171 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:06:22.171 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:06:22.171 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:06:22.172 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:06:22.172 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:06:22.172 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:22.172 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:22.172 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:06:22.173 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:06:22.173 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:22.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 2.3241ms
2025-09-13 21:06:24.561 +03:00 [DBG] Connection id "0HNFIU0V1LODS" received FIN.
2025-09-13 21:06:24.562 +03:00 [DBG] Connection id "0HNFIU0V1LODS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:06:24.562 +03:00 [DBG] Connection id "0HNFIU0V1LODS" disconnecting.
2025-09-13 21:06:24.563 +03:00 [DBG] Connection id "0HNFIU0V1LODS" stopped.
2025-09-13 21:06:52.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:06:52.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:06:52.180 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:06:52.180 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:06:52.180 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:06:52.180 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:06:52.180 +03:00 [INF] Api health check sent.
2025-09-13 21:06:52.180 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:06:52.180 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:06:52.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8893ms
2025-09-13 21:07:22.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:07:22.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:07:22.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:07:22.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:07:22.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:07:22.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:07:22.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:07:22.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:07:22.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:07:22.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:07:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:07:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:07:22.179 +03:00 [INF] Api health check sent.
2025-09-13 21:07:22.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:07:22.179 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:07:22.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7443ms
2025-09-13 21:07:22.180 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:07:22.180 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:07:22.182 +03:00 [INF] Received HTTP response headers after 1.7119ms - 200
2025-09-13 21:07:22.182 +03:00 [INF] End processing HTTP request after 1.9876ms - 200
2025-09-13 21:07:22.182 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:07:22.182 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:07:22.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 3.8259ms
2025-09-13 21:07:22.250 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:07:22.251 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:07:22.251 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:07:22.251 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:07:22.251 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:07:22.251 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:07:22.251 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:07:22.251 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:07:22.251 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:07:22.251 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:07:22.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.5756ms
2025-09-13 21:07:52.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:07:52.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:07:52.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:07:52.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:07:52.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:07:52.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:07:52.179 +03:00 [INF] Api health check sent.
2025-09-13 21:07:52.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:07:52.179 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:07:52.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6062ms
2025-09-13 21:08:22.098 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 21:08:22.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:08:22.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:08:22.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:08:22.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:08:22.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:08:22.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:08:22.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:08:22.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:08:22.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:08:22.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:08:22.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:08:22.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:08:22.179 +03:00 [INF] Api health check sent.
2025-09-13 21:08:22.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:08:22.179 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:08:22.179 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:08:22.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6378ms
2025-09-13 21:08:22.179 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:08:22.182 +03:00 [INF] Received HTTP response headers after 3.247ms - 200
2025-09-13 21:08:22.182 +03:00 [INF] End processing HTTP request after 3.4255ms - 200
2025-09-13 21:08:22.182 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:08:22.182 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:08:22.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 4.5389ms
2025-09-13 21:08:22.252 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:08:22.252 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:08:22.252 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:08:22.252 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:08:22.252 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:08:22.252 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:08:22.253 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:08:22.253 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:08:22.253 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:08:22.253 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:08:22.253 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.59ms
2025-09-13 21:08:32.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:08:32.101 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
2025-09-13 21:08:42.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:08:42.102 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-09-13 21:08:52.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:08:52.102 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 21:08:52.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:08:52.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:08:52.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:08:52.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:08:52.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:08:52.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:08:52.178 +03:00 [INF] Api health check sent.
2025-09-13 21:08:52.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:08:52.179 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:08:52.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5278ms
2025-09-13 21:09:02.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:09:02.102 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 21:09:12.103 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:09:12.103 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 21:09:22.103 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:09:22.103 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-09-13 21:09:22.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:09:22.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:09:22.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:09:22.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:09:22.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:09:22.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:09:22.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:09:22.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:09:22.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:09:22.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:09:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:09:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:09:22.179 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:09:22.179 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:09:22.179 +03:00 [INF] Api health check sent.
2025-09-13 21:09:22.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:09:22.180 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:09:22.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.9054ms
2025-09-13 21:09:22.180 +03:00 [INF] Received HTTP response headers after 0.501ms - 200
2025-09-13 21:09:22.180 +03:00 [INF] End processing HTTP request after 0.7167ms - 200
2025-09-13 21:09:22.180 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:09:22.180 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:09:22.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.823ms
2025-09-13 21:09:22.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:09:22.183 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:09:22.183 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:09:22.183 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:09:22.183 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:09:22.183 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:09:22.183 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:09:22.183 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:09:22.183 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:09:22.183 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:09:22.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.5263ms
2025-09-13 21:09:32.104 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:09:32.104 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 21:09:42.104 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:09:42.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 21:09:52.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:09:52.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0152ms - processed: 0 items - remaining: 1 items
2025-09-13 21:09:52.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:09:52.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:09:52.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:09:52.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:09:52.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:09:52.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:09:52.179 +03:00 [INF] Api health check sent.
2025-09-13 21:09:52.180 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:09:52.180 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:09:52.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7564ms
2025-09-13 21:10:02.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:10:02.106 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-09-13 21:10:12.106 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:10:12.106 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-09-13 21:10:22.106 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:10:22.106 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-09-13 21:10:22.178 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 21:10:22.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:10:22.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:10:22.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:10:22.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:10:22.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:10:22.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:10:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:10:22.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:10:22.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:10:22.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:10:22.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:10:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:10:22.179 +03:00 [INF] Api health check sent.
2025-09-13 21:10:22.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:10:22.180 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:10:22.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5004ms
2025-09-13 21:10:22.180 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:10:22.180 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:10:22.182 +03:00 [INF] Received HTTP response headers after 1.8716ms - 200
2025-09-13 21:10:22.182 +03:00 [INF] End processing HTTP request after 2.0888ms - 200
2025-09-13 21:10:22.182 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:10:22.182 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:10:22.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 3.3099ms
2025-09-13 21:10:22.243 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:10:22.244 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:10:22.244 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:10:22.244 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:10:22.244 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:10:22.244 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:10:22.244 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:10:22.244 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:10:22.244 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:10:22.244 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:10:22.244 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.4738ms
2025-09-13 21:10:32.107 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:10:32.107 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-13 21:10:42.107 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:10:42.107 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
2025-09-13 21:10:52.108 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:10:52.108 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 2 items
2025-09-13 21:10:52.180 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:10:52.180 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:10:52.180 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:10:52.180 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:10:52.180 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:10:52.180 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:10:52.180 +03:00 [INF] Api health check sent.
2025-09-13 21:10:52.180 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:10:52.180 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:10:52.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5236ms
2025-09-13 21:11:02.109 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:11:02.109 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2025-09-13 21:11:12.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:11:12.110 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2025-09-13 21:11:22.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:11:22.110 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2025-09-13 21:11:22.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:11:22.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:11:22.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:11:22.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:11:22.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:11:22.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:11:22.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:11:22.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:11:22.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:11:22.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:11:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:11:22.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:11:22.179 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:11:22.179 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:11:22.179 +03:00 [INF] Api health check sent.
2025-09-13 21:11:22.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:11:22.179 +03:00 [DBG] Connection id "0HNFIU0V1LODT" completed keep alive response.
2025-09-13 21:11:22.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7482ms
2025-09-13 21:11:22.179 +03:00 [INF] Received HTTP response headers after 0.4444ms - 200
2025-09-13 21:11:22.179 +03:00 [INF] End processing HTTP request after 0.5541ms - 200
2025-09-13 21:11:22.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:11:22.179 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:11:22.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.1637ms
2025-09-13 21:11:22.182 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:11:22.182 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:11:22.182 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:11:22.182 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:11:22.182 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:11:22.182 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:11:22.182 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:11:22.183 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:11:22.183 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:11:22.183 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:11:22.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.7755ms
2025-09-13 21:11:32.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:11:32.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-09-13 21:11:42.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:11:42.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0931ms - processed: 0 items - remaining: 2 items
2025-09-13 21:11:52.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:11:52.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-09-13 21:11:52.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:11:52.179 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:11:52.179 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:11:52.179 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:11:52.179 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:11:52.179 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:11:52.179 +03:00 [INF] Api health check sent.
2025-09-13 21:11:52.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:11:52.179 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:11:52.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4502ms
2025-09-13 21:12:02.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:12:02.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0614ms - processed: 0 items - remaining: 2 items
2025-09-13 21:12:12.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 21:12:12.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2025-09-13 21:12:21.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:12:21.219 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:12:21.219 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:12:21.219 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:21.219 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:21.219 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:21.219 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:21.228 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:21.229 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:21.229 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:21.230 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:21.230 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:21.230 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:21.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:21.230 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:21.230 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:21.231 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:21.231 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:21.231 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:21.231 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:21.232 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:21.232 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:21.232 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:21.232 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:21.232 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:21.232 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:21.232 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:21.232 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:21.232 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:21.233 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:21.233 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:21.233 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:21.233 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:21.233 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:21.233 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:21.234 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:21.234 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:21.234 +03:00 [DBG] Connection id "0HNFIU0V1LODU" completed keep alive response.
2025-09-13 21:12:21.234 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:21.234 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:21.234 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:21.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 15.8758ms
2025-09-13 21:12:26.278 +03:00 [INF] This is a test log to file!
2025-09-13 21:12:26.441 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:12:26.444 +03:00 [INF] API configured successfully.
2025-09-13 21:12:26.504 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:12:26.560 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:12:26.980 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:12:27.055 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:27.075 +03:00 [INF] Registered 23 endpoints in 713 milliseconds.
2025-09-13 21:12:27.079 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:27.119 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:27.188 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:27.197 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 21:12:27.198 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.201 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:27.202 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:12:27.203 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:27.212 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.217 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:27.217 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.219 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:27.220 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:12:27.224 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:27.228 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:12:27.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:12:27.239 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:12:27.264 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:12:27.266 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:27.266 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:27.266 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:27.267 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:12:27.266064+00:00');
SELECT changes();
2025-09-13 21:12:27.273 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:12:27.266064+00:00');
SELECT changes();
2025-09-13 21:12:27.315 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:12:27.318 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:12:27.320 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:12:27.320 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:12:27.322 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-13 21:12:27.323 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:12:27.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:12:27.324 +03:00 [DBG] Committing transaction.
2025-09-13 21:12:27.325 +03:00 [DBG] Committed transaction.
2025-09-13 21:12:27.326 +03:00 [DBG] Disposing transaction.
2025-09-13 21:12:27.327 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:12:27.327 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:12:27.328 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:27.328 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:27.328 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.329 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:27.329 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.329 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:27.329 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:27.329 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:27.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:27.329 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:12:27.329 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:12:27.330 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:27.331 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:27.331 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:27.331 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:12:27.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:12:27.338 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:27.339 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:12:27.345 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:12:27.345 +03:00 [DBG] Committing transaction.
2025-09-13 21:12:27.345 +03:00 [DBG] Committed transaction.
2025-09-13 21:12:27.346 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:27.346 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:27.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:27.346 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:12:27.350 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:12:27.350 +03:00 [DBG] Disposing transaction.
2025-09-13 21:12:27.351 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:27.353 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:12:27.354 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:27.354 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:27.354 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:27.354 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:12:27.354 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:12:27.368 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:12:27.383 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:12:27.384 +03:00 [DBG] Hosting starting
2025-09-13 21:12:27.426 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:12:27.427 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:12:27.436 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:12:27.436 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:12:27.436 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:12:27.437 +03:00 [INF] Hosting environment: Development
2025-09-13 21:12:27.437 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:12:27.437 +03:00 [DBG] Hosting started
2025-09-13 21:12:27.574 +03:00 [DBG] Connection id "0HNFIU4CER3F8" accepted.
2025-09-13 21:12:27.575 +03:00 [DBG] Connection id "0HNFIU4CER3F8" started.
2025-09-13 21:12:27.596 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:12:27.653 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:12:27.653 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:27.677 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:27.678 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:27.680 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:12:27.684 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:27.699 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:27.718 +03:00 [INF] Getting all users
2025-09-13 21:12:27.743 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:12:27.786 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:12:28.003 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:12:28.035 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:28.036 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:28.038 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.039 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:28.039 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.040 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:12:28.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:12:28.052 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.053 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 11ms reading results.
2025-09-13 21:12:28.054 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.055 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.099 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.100 +03:00 [DBG] Connection id "0HNFIU4CER3F8" completed keep alive response.
2025-09-13 21:12:28.100 +03:00 [DBG] Connection id "0HNFIU4CER3F9" accepted.
2025-09-13 21:12:28.101 +03:00 [DBG] Connection id "0HNFIU4CER3F9" started.
2025-09-13 21:12:28.101 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:28.102 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:12:28.103 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:12:28.104 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.104 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.105 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:12:28.106 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:28.107 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:28.107 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.109 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:28.109 +03:00 [INF] Getting all users
2025-09-13 21:12:28.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 512.5977ms
2025-09-13 21:12:28.113 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:28.113 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:28.113 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.113 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.113 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:28.114 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.114 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:12:28.114 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:12:28.115 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.115 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:28.116 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.116 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.117 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.118 +03:00 [DBG] Connection id "0HNFIU4CER3F9" completed keep alive response.
2025-09-13 21:12:28.118 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:28.118 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.118 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 16.7415ms
2025-09-13 21:12:28.125 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:12:28.125 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:28.129 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:28.129 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.130 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:28.130 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:28.134 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.135 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:28.188 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:12:28.196 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:12:28.199 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:12:28.245 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:12:28.253 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:28.253 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:28.253 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.253 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.253 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:28.253 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-13 21:12:28.259 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:28.263 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:28.288 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:28.308 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:28.324 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.324 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 60ms reading results.
2025-09-13 21:12:28.324 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.324 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.326 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.326 +03:00 [DBG] Connection id "0HNFIU4CER3F8" completed keep alive response.
2025-09-13 21:12:28.326 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:12:28.326 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:28.326 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:28.326 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.326 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:28.326 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.326 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.326 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 201.2361ms
2025-09-13 21:12:28.327 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:28.328 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:28.328 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.329 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:28.330 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:12:28.331 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:28.331 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:28.331 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.331 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.331 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:28.331 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.331 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.331 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:28.331 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:28.331 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:28.332 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:28.332 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.332 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:28.332 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.332 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.332 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.332 +03:00 [DBG] Connection id "0HNFIU4CER3F9" completed keep alive response.
2025-09-13 21:12:28.332 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:28.333 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.333 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 7.1193ms
2025-09-13 21:12:28.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:12:28.356 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:12:28.356 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.356 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:28.356 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:28.356 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.357 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:28.357 +03:00 [INF] Getting all users
2025-09-13 21:12:28.357 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:28.357 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:28.357 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.358 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.358 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:28.358 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.358 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.358 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:12:28.358 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:12:28.359 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.359 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:28.359 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.359 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.359 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:12:28.359 +03:00 [DBG] Connection id "0HNFIU4CER3F9" completed keep alive response.
2025-09-13 21:12:28.359 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:28.359 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.359 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.359 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 3.5868ms
2025-09-13 21:12:28.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:12:28.381 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:28.381 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:28.381 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.381 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:28.381 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:28.381 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.382 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:28.383 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:12:28.384 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:28.384 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:28.384 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.384 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.384 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:28.384 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.384 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:28.384 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:28.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:28.384 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:28.385 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:28.385 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.385 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:28.385 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:28.385 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.385 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:28.385 +03:00 [DBG] Connection id "0HNFIU4CER3F9" completed keep alive response.
2025-09-13 21:12:28.385 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:28.385 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:28.385 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:28.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 5.0381ms
2025-09-13 21:12:31.586 +03:00 [INF] This is a test log to file!
2025-09-13 21:12:31.716 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:12:31.718 +03:00 [INF] API configured successfully.
2025-09-13 21:12:31.775 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:12:31.810 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:12:32.165 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:12:32.225 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:32.241 +03:00 [INF] Registered 23 endpoints in 591 milliseconds.
2025-09-13 21:12:32.246 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:32.283 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:32.359 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:32.367 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:12:32.368 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.372 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:32.374 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:12:32.374 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.381 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:32.384 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.386 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:32.386 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.388 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:32.389 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:12:32.393 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:32.397 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:12:32.398 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:12:32.402 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:12:32.421 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:12:32.422 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:32.422 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:32.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:32.422 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:12:32.4222763+00:00');
SELECT changes();
2025-09-13 21:12:32.427 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:12:32.4222763+00:00');
SELECT changes();
2025-09-13 21:12:32.468 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:12:32.470 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:12:32.471 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:12:32.471 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:12:32.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:12:32.472 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:12:32.472 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:12:32.473 +03:00 [DBG] Committing transaction.
2025-09-13 21:12:32.474 +03:00 [DBG] Committed transaction.
2025-09-13 21:12:32.475 +03:00 [DBG] Disposing transaction.
2025-09-13 21:12:32.476 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:12:32.476 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:12:32.477 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:32.477 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:32.477 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.477 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:32.477 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.477 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:32.478 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:32.478 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:32.478 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:32.478 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:12:32.478 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:12:32.479 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:32.479 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:32.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:32.480 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:12:32.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:12:32.483 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:32.483 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:12:32.487 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:12:32.487 +03:00 [DBG] Committing transaction.
2025-09-13 21:12:32.487 +03:00 [DBG] Committed transaction.
2025-09-13 21:12:32.487 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:12:32.487 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:32.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:12:32.487 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:12:32.490 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:12:32.490 +03:00 [DBG] Disposing transaction.
2025-09-13 21:12:32.491 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:32.493 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:12:32.493 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:32.494 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:32.494 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:32.494 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:12:32.494 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:12:32.509 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:12:32.519 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:12:32.520 +03:00 [DBG] Hosting starting
2025-09-13 21:12:32.567 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:12:32.568 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:12:32.579 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:12:32.579 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:12:32.579 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:12:32.579 +03:00 [INF] Hosting environment: Development
2025-09-13 21:12:32.579 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:12:32.579 +03:00 [DBG] Hosting started
2025-09-13 21:12:35.478 +03:00 [DBG] Connection id "0HNFIU4EQ785K" accepted.
2025-09-13 21:12:35.479 +03:00 [DBG] Connection id "0HNFIU4EQ785K" started.
2025-09-13 21:12:35.496 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:12:35.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:12:35.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:12:35.543 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:12:35.544 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:12:35.568 +03:00 [INF] Api health check sent.
2025-09-13 21:12:35.569 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:12:35.569 +03:00 [DBG] Connection id "0HNFIU4EQ785K" completed keep alive response.
2025-09-13 21:12:35.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 74.9221ms
2025-09-13 21:12:35.578 +03:00 [DBG] Connection id "0HNFIU4EQ785L" accepted.
2025-09-13 21:12:35.578 +03:00 [DBG] Connection id "0HNFIU4EQ785L" started.
2025-09-13 21:12:35.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:12:35.581 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:35.581 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:12:35.582 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:35.584 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:35.584 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:35.585 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:35.598 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:35.618 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:12:35.656 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:12:35.689 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:12:35.858 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:12:35.880 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:35.881 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:35.882 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:35.882 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:35.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:35.883 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:35.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:35.885 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:35.889 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:35.917 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:35.943 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:35.962 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:35.963 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 73ms reading results.
2025-09-13 21:12:35.964 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:35.965 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:35.983 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:12:35.984 +03:00 [DBG] Connection id "0HNFIU4EQ785L" completed keep alive response.
2025-09-13 21:12:35.984 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:35.986 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:35.986 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:35.986 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 407.0256ms
2025-09-13 21:12:36.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:12:36.088 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.088 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.088 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.089 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:36.089 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:36.091 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.094 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:36.096 +03:00 [DBG] Connection id "0HNFIU4EQ785M" accepted.
2025-09-13 21:12:36.096 +03:00 [DBG] Connection id "0HNFIU4EQ785M" started.
2025-09-13 21:12:36.096 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:12:36.097 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:12:36.097 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:12:36.097 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:36.097 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:36.098 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:36.098 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:36.099 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:36.104 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:12:36.105 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:12:36.125 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:12:36.128 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:36.128 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:36.128 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:36.128 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.128 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:36.128 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.128 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.128 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:36.129 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.129 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.129 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.129 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.129 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:36.129 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.129 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.129 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.129 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.129 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:36.130 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.130 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:36.137 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:36.137 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:36.142 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.142 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.142 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 12ms reading results.
2025-09-13 21:12:36.142 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 13ms reading results.
2025-09-13 21:12:36.142 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.142 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.143 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.143 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.143 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:36.144 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.144 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.144 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:36.144 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.144 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.145 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.145 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:36.145 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.145 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.149 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:36.150 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:36.150 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.150 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:36.150 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.150 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.151 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.151 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.151 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:36.151 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.151 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.152 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:36.153 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:36.153 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:36.153 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:36.153 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.153 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 57.1686ms
2025-09-13 21:12:36.154 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:12:36.155 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:12:36.156 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:12:36.156 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:36.156 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:36.156 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:36.156 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:36.157 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:36.158 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:36.159 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:36.159 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.159 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:36.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.159 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.159 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.160 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:36.160 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:36.160 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.160 +03:00 [DBG] Fetching schema for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", ForceRefresh=false
2025-09-13 21:12:36.161 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:36.161 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.161 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.161 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:36.161 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.162 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.162 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:36.162 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:36.162 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.162 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:12:36.162 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:12:36.162 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.162 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:36.162 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:36.162 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.163 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:12:36.163 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:12:36.164 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:36.164 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:36.164 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.164 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 9.6161ms
2025-09-13 21:12:36.234 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:12:36.239 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:12:36.240 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.240 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.240 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.240 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:36.240 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:36.240 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.241 +03:00 [DBG] Connection id "0HNFIU4EQ785L" completed keep alive response.
2025-09-13 21:12:36.241 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:36.241 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:36.241 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:36.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 153.2568ms
2025-09-13 21:12:36.242 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:36.242 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.242 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:36.242 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:36.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 3.2475ms
2025-09-13 21:12:36.243 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:12:36.244 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.244 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.244 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.244 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:36.244 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:36.244 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.245 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:36.245 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.245 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:36.245 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:36.245 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 1.8911ms
2025-09-13 21:12:36.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:12:36.246 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.246 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:12:36.246 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.247 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:36.247 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:36.247 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.247 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:36.248 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:12:36.248 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:36.248 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:36.248 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 1.4542ms
2025-09-13 21:12:37.099 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:12:37.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:12:37.099 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:12:37.100 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:37.100 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:37.100 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:12:37.100 +03:00 [INF] Api health check sent.
2025-09-13 21:12:37.100 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:12:37.100 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:37.101 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.3256ms
2025-09-13 21:12:37.103 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:12:37.103 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:12:37.104 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:37.104 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:37.104 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:37.104 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:37.138 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:12:37.141 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:12:37.228 +03:00 [INF] Received HTTP response headers after 85.2899ms - 200
2025-09-13 21:12:37.228 +03:00 [INF] End processing HTTP request after 93.4473ms - 200
2025-09-13 21:12:37.231 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:37.231 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:37.232 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 128.2339ms
2025-09-13 21:12:37.233 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:12:37.233 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:12:37.233 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:12:37.234 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:12:37.234 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:37.234 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:37.234 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:37.234 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:37.235 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:37.235 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:37.236 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 2.1979ms
2025-09-13 21:12:39.577 +03:00 [DBG] Connection id "0HNFIU4EQ785K" received FIN.
2025-09-13 21:12:39.577 +03:00 [DBG] Connection id "0HNFIU4EQ785K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:12:39.578 +03:00 [DBG] Connection id "0HNFIU4EQ785K" disconnecting.
2025-09-13 21:12:39.578 +03:00 [DBG] Connection id "0HNFIU4EQ785K" stopped.
2025-09-13 21:12:48.088 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - null null
2025-09-13 21:12:48.088 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:12:48.088 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:12:48.088 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:48.088 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:48.088 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:12:48.089 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:48.089 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 204 null null 1.3731ms
2025-09-13 21:12:48.091 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - application/json 136
2025-09-13 21:12:48.092 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:12:48.092 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:12:48.092 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:12:48.092 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:48.092 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:48.092 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:12:48.102 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:48.109 +03:00 [DBG] Connection id "0HNFIU4EQ785M", Request id "0HNFIU4EQ785M:0000000A": started reading request body.
2025-09-13 21:12:48.109 +03:00 [DBG] Connection id "0HNFIU4EQ785M", Request id "0HNFIU4EQ785M:0000000A": done reading request body.
2025-09-13 21:12:48.118 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:48.118 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:48.118 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:48.118 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:48.118 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:48.118 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:48.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:48.119 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:48.119 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:48.119 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:48.119 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:48.119 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:48.120 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:48.120 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:48.120 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:48.129 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:48.131 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:12:48.149 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:12:48.151 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:12:48.152 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:12:48.152 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:12:48.183 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:48.183 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:48.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:48.184 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:48.184 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:48.184 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:12:48.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:12:48.190 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:48.190 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:12:48.190 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:48.190 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:48.192 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:48.192 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:12:48.195 +03:00 [INF] AI mode changed to "Groq" for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:12:48.1203055Z"
2025-09-13 21:12:48.196 +03:00 [INF] API key changed for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:12:48.1206666Z"
2025-09-13 21:12:48.196 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:12:48.196 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:48.196 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:48.196 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:48.196 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:48.196 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 200 null application/json; charset=utf-8 105.1302ms
2025-09-13 21:12:48.742 +03:00 [DBG] Connection id "0HNFIU4EQ785N" accepted.
2025-09-13 21:12:48.742 +03:00 [DBG] Connection id "0HNFIU4EQ785N" started.
2025-09-13 21:12:48.743 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:12:48.743 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:12:48.743 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:12:48.743 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:12:48.743 +03:00 [INF] Api health check sent.
2025-09-13 21:12:48.743 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:12:48.743 +03:00 [DBG] Connection id "0HNFIU4EQ785N" completed keep alive response.
2025-09-13 21:12:48.743 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.579ms
2025-09-13 21:12:52.480 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - application/json 81
2025-09-13 21:12:52.480 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:12:52.480 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:12:52.480 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:12:52.480 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:52.480 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:52.480 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:12:52.481 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:12:52.481 +03:00 [DBG] Connection id "0HNFIU4EQ785M", Request id "0HNFIU4EQ785M:0000000B": started reading request body.
2025-09-13 21:12:52.481 +03:00 [DBG] Connection id "0HNFIU4EQ785M", Request id "0HNFIU4EQ785M:0000000B": done reading request body.
2025-09-13 21:12:52.482 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:12:52.482 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:12:52.482 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:52.482 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:52.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:52.482 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:52.482 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:52.482 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:52.482 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:12:52.482 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:52.483 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:52.483 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:52.483 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:12:52.483 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:52.483 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:52.483 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:52.483 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:12:52.483 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:12:52.483 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:12:52.483 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:12:52.483 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:12:52.483 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:52.484 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:52.484 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:12:52.484 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:52.484 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:12:52.484 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:12:52.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:12:52.487 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:52.487 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:12:52.487 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:12:52.487 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:52.488 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:12:52.488 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:12:52.488 +03:00 [INF] AI mode changed to "Local" for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:12:52.4832940Z"
2025-09-13 21:12:52.488 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:12:52.488 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:52.488 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:12:52.488 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:12:52.489 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:12:52.489 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 200 null application/json; charset=utf-8 8.4883ms
2025-09-13 21:12:52.668 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:12:52.668 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:12:52.668 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:52.668 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:52.668 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:52.668 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:52.669 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:12:52.669 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:12:52.670 +03:00 [INF] Received HTTP response headers after 1.4161ms - 200
2025-09-13 21:12:52.671 +03:00 [INF] End processing HTTP request after 1.6347ms - 200
2025-09-13 21:12:52.671 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:52.671 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:52.671 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 2.9875ms
2025-09-13 21:12:52.673 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:12:52.673 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:12:52.673 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:12:52.673 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:12:52.673 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:52.673 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:52.673 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:52.673 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:52.674 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:52.674 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:52.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.4249ms
2025-09-13 21:12:52.744 +03:00 [DBG] Connection id "0HNFIU4EQ785N" received FIN.
2025-09-13 21:12:52.745 +03:00 [DBG] Connection id "0HNFIU4EQ785N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:12:52.745 +03:00 [DBG] Connection id "0HNFIU4EQ785N" disconnecting.
2025-09-13 21:12:52.745 +03:00 [DBG] Connection id "0HNFIU4EQ785N" stopped.
2025-09-13 21:12:53.086 +03:00 [DBG] Connection id "0HNFIU4EQ785O" accepted.
2025-09-13 21:12:53.086 +03:00 [DBG] Connection id "0HNFIU4EQ785O" started.
2025-09-13 21:12:53.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:12:53.086 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:12:53.086 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:12:53.086 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:12:53.086 +03:00 [INF] Api health check sent.
2025-09-13 21:12:53.086 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:12:53.086 +03:00 [DBG] Connection id "0HNFIU4EQ785O" completed keep alive response.
2025-09-13 21:12:53.086 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3483ms
2025-09-13 21:12:54.094 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:12:54.094 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:12:54.094 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:12:54.094 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:54.094 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:54.094 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:12:54.095 +03:00 [INF] Api health check sent.
2025-09-13 21:12:54.095 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:12:54.095 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:54.095 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.682ms
2025-09-13 21:12:54.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:12:54.098 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:12:54.098 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:54.098 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:54.098 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:54.098 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:54.098 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:12:54.098 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:12:54.098 +03:00 [INF] Received HTTP response headers after 0.4934ms - 200
2025-09-13 21:12:54.098 +03:00 [INF] End processing HTTP request after 0.6577ms - 200
2025-09-13 21:12:54.099 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:12:54.099 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:54.099 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.327ms
2025-09-13 21:12:54.101 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:12:54.102 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:12:54.102 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:12:54.102 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:12:54.102 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:54.103 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:12:54.103 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:12:54.103 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:54.103 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:12:54.103 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:12:54.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.5568ms
2025-09-13 21:12:57.087 +03:00 [DBG] Connection id "0HNFIU4EQ785O" received FIN.
2025-09-13 21:12:57.087 +03:00 [DBG] Connection id "0HNFIU4EQ785O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:12:57.088 +03:00 [DBG] Connection id "0HNFIU4EQ785O" disconnecting.
2025-09-13 21:12:57.088 +03:00 [DBG] Connection id "0HNFIU4EQ785O" stopped.
2025-09-13 21:13:08.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:13:08.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:13:08.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:13:08.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:13:08.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:13:08.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:13:08.192 +03:00 [INF] Api health check sent.
2025-09-13 21:13:08.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:13:08.192 +03:00 [DBG] Connection id "0HNFIU4EQ785M" completed keep alive response.
2025-09-13 21:13:08.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.0125ms
2025-09-13 21:17:44.164 +03:00 [INF] This is a test log to file!
2025-09-13 21:17:44.337 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:17:44.340 +03:00 [INF] API configured successfully.
2025-09-13 21:17:44.403 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:17:44.451 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:17:44.837 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:17:44.909 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:44.929 +03:00 [INF] Registered 23 endpoints in 680 milliseconds.
2025-09-13 21:17:44.934 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:44.973 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:45.056 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:45.064 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:17:45.066 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.070 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:45.073 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-13 21:17:45.074 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.081 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.083 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.089 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:45.089 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.093 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.095 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:17:45.101 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:45.107 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:17:45.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-09-13 21:17:45.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:17:45.135 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:17:45.136 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:45.136 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:45.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:45.136 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:17:45.1364963+00:00');
SELECT changes();
2025-09-13 21:17:45.143 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:17:45.1364963+00:00');
SELECT changes();
2025-09-13 21:17:45.189 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:17:45.193 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:17:45.195 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:17:45.195 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:17:45.195 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:17:45.196 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:17:45.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:17:45.199 +03:00 [DBG] Committing transaction.
2025-09-13 21:17:45.201 +03:00 [DBG] Committed transaction.
2025-09-13 21:17:45.202 +03:00 [DBG] Disposing transaction.
2025-09-13 21:17:45.203 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:17:45.203 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:17:45.204 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:45.204 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:45.205 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.205 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.205 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.205 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:45.206 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:45.206 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:45.206 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:45.206 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:17:45.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:17:45.208 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:45.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:45.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:45.208 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:17:45.209 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:17:45.211 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.214 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:17:45.217 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:17:45.217 +03:00 [DBG] Committing transaction.
2025-09-13 21:17:45.218 +03:00 [DBG] Committed transaction.
2025-09-13 21:17:45.218 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:45.218 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:45.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:45.218 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:17:45.221 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:17:45.222 +03:00 [DBG] Disposing transaction.
2025-09-13 21:17:45.222 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.225 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:17:45.226 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:45.226 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.226 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:45.226 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:17:45.226 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:17:45.248 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:17:45.268 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:17:45.270 +03:00 [DBG] Hosting starting
2025-09-13 21:17:45.329 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:17:45.330 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:17:45.339 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:17:45.339 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:17:45.340 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:17:45.340 +03:00 [INF] Hosting environment: Development
2025-09-13 21:17:45.340 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:17:45.340 +03:00 [DBG] Hosting started
2025-09-13 21:17:45.494 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" accepted.
2025-09-13 21:17:45.494 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" started.
2025-09-13 21:17:45.520 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:17:45.571 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:17:45.572 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:45.595 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:45.595 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:45.597 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:17:45.600 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:45.615 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:45.636 +03:00 [INF] Getting all users
2025-09-13 21:17:45.665 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:17:45.711 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:17:45.932 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:17:45.963 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:45.963 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:45.965 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:45.966 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.966 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:45.966 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:45.966 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:45.967 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:17:45.971 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:17:45.995 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.995 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 24ms reading results.
2025-09-13 21:17:45.996 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:45.997 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.033 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.034 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" completed keep alive response.
2025-09-13 21:17:46.034 +03:00 [DBG] Connection id "0HNFIU7B6OGT7" accepted.
2025-09-13 21:17:46.036 +03:00 [DBG] Connection id "0HNFIU7B6OGT7" started.
2025-09-13 21:17:46.036 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:46.038 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.039 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.039 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:17:46.042 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:46.044 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:46.044 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.040 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 522.2822ms
2025-09-13 21:17:46.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:17:46.046 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:46.046 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:46.046 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:17:46.046 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.047 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.048 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:46.048 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:46.049 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:46.049 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.050 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:46.051 +03:00 [INF] Getting all users
2025-09-13 21:17:46.055 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:46.056 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:46.057 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.057 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.057 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:46.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.058 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:17:46.064 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:17:46.064 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.065 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:17:46.065 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.065 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.066 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.067 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" completed keep alive response.
2025-09-13 21:17:46.067 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:46.067 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.067 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.067 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 21.5333ms
2025-09-13 21:17:46.113 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:17:46.132 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:17:46.141 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:17:46.199 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:17:46.210 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:46.210 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:46.210 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.210 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:46.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.212 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:17:46.214 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:46.219 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:46.272 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:46.300 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:46.318 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.318 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 98ms reading results.
2025-09-13 21:17:46.319 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.319 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.321 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.321 +03:00 [DBG] Connection id "0HNFIU7B6OGT7" completed keep alive response.
2025-09-13 21:17:46.322 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:46.322 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:17:46.322 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.322 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 282.4203ms
2025-09-13 21:17:46.322 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:46.322 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:46.322 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.322 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:46.323 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:46.323 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.324 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:46.325 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:17:46.326 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:46.326 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:46.326 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.326 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.326 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:46.326 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.327 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.327 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:46.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:46.328 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:46.328 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:46.329 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.329 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:17:46.329 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.329 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.329 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.329 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" completed keep alive response.
2025-09-13 21:17:46.329 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:46.329 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.329 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 8.0639ms
2025-09-13 21:17:46.359 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:17:46.359 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:17:46.359 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.359 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:46.359 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:46.359 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.360 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:46.360 +03:00 [INF] Getting all users
2025-09-13 21:17:46.360 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:46.360 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:46.360 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.360 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:46.360 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.360 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:17:46.361 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:17:46.361 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.361 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:17:46.361 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.361 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.361 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:17:46.361 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" completed keep alive response.
2025-09-13 21:17:46.361 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:46.361 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.361 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 2.594ms
2025-09-13 21:17:46.388 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:17:46.388 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:46.388 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:46.389 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.389 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:46.389 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:46.389 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.389 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:46.390 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:17:46.390 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:46.390 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:46.390 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.390 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.390 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:46.390 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.390 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:46.390 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:46.390 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:46.391 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:46.391 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:46.391 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.391 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:17:46.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:46.391 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.391 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:46.392 +03:00 [DBG] Connection id "0HNFIU7B6OGT6" completed keep alive response.
2025-09-13 21:17:46.392 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:46.392 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:46.392 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:46.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 3.7398ms
2025-09-13 21:17:49.619 +03:00 [INF] This is a test log to file!
2025-09-13 21:17:49.770 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:17:49.772 +03:00 [INF] API configured successfully.
2025-09-13 21:17:49.830 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:17:49.870 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:17:50.242 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:17:50.315 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:50.334 +03:00 [INF] Registered 23 endpoints in 641 milliseconds.
2025-09-13 21:17:50.338 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:50.384 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:50.466 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:50.475 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 21:17:50.477 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.480 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:50.481 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:17:50.482 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.491 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:50.493 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.496 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:50.497 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.499 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:50.500 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:17:50.505 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:50.508 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:17:50.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:17:50.515 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:17:50.535 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:17:50.536 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:50.536 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:50.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:50.536 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:17:50.5364492+00:00');
SELECT changes();
2025-09-13 21:17:50.545 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:17:50.5364492+00:00');
SELECT changes();
2025-09-13 21:17:50.591 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:17:50.594 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:17:50.595 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:17:50.595 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:17:50.596 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:17:50.596 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:17:50.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:17:50.598 +03:00 [DBG] Committing transaction.
2025-09-13 21:17:50.598 +03:00 [DBG] Committed transaction.
2025-09-13 21:17:50.600 +03:00 [DBG] Disposing transaction.
2025-09-13 21:17:50.602 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:17:50.602 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:17:50.603 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:50.603 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:50.603 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.604 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:50.604 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.604 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:50.604 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:50.604 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:50.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:50.605 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:17:50.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:17:50.607 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:50.608 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:50.608 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:50.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:17:50.609 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:17:50.613 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:50.615 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:17:50.620 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:17:50.620 +03:00 [DBG] Committing transaction.
2025-09-13 21:17:50.620 +03:00 [DBG] Committed transaction.
2025-09-13 21:17:50.620 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:17:50.621 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:50.621 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:17:50.621 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:17:50.624 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:17:50.624 +03:00 [DBG] Disposing transaction.
2025-09-13 21:17:50.625 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:50.628 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-09-13 21:17:50.629 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:50.629 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:50.629 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:50.629 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:17:50.629 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:17:50.646 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:17:50.660 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:17:50.662 +03:00 [DBG] Hosting starting
2025-09-13 21:17:50.705 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:17:50.706 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:17:50.718 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:17:50.718 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:17:50.719 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:17:50.719 +03:00 [INF] Hosting environment: Development
2025-09-13 21:17:50.719 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:17:50.719 +03:00 [DBG] Hosting started
2025-09-13 21:17:53.510 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" accepted.
2025-09-13 21:17:53.510 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" started.
2025-09-13 21:17:53.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:17:53.567 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:17:53.567 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:17:53.584 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:17:53.585 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:17:53.618 +03:00 [INF] Api health check sent.
2025-09-13 21:17:53.619 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:17:53.619 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" completed keep alive response.
2025-09-13 21:17:53.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 92.7304ms
2025-09-13 21:17:53.646 +03:00 [DBG] Connection id "0HNFIU7DJ6TBM" accepted.
2025-09-13 21:17:53.646 +03:00 [DBG] Connection id "0HNFIU7DJ6TBM" started.
2025-09-13 21:17:53.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:17:53.650 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:53.651 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:17:53.652 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:53.653 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:53.654 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:53.656 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:53.673 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:53.700 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:17:53.752 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:17:53.782 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:17:53.976 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:17:54.002 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:54.002 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:54.004 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.006 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.006 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.006 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:17:54.010 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:54.015 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:17:54.043 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.076 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.096 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.098 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 82ms reading results.
2025-09-13 21:17:54.099 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.100 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.120 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:17:54.121 +03:00 [DBG] Connection id "0HNFIU7DJ6TBM" completed keep alive response.
2025-09-13 21:17:54.122 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.125 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.125 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 476.95ms
2025-09-13 21:17:54.244 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:17:54.244 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.244 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.244 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.245 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:54.245 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:54.246 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.250 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:54.251 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" accepted.
2025-09-13 21:17:54.251 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" started.
2025-09-13 21:17:54.252 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:17:54.252 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:17:54.253 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:17:54.253 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:17:54.253 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:54.253 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:54.253 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:17:54.255 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:54.262 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:17:54.264 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:17:54.281 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:17:54.284 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:54.284 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:54.285 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:54.285 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:54.285 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.285 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.285 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.285 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.285 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.285 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.285 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.285 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.286 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.286 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.286 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.286 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.286 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.287 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.294 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.294 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.300 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.300 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.301 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 14ms reading results.
2025-09-13 21:17:54.301 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 13ms reading results.
2025-09-13 21:17:54.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.301 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.301 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.302 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:17:54.302 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.303 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.303 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.303 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.303 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.304 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.304 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.304 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:17:54.304 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.304 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.310 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:17:54.310 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:17:54.311 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.311 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.311 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.311 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.311 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.312 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.312 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:17:54.312 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.312 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.312 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:17:54.313 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:17:54.313 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:54.313 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.313 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.313 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.313 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 61.4953ms
2025-09-13 21:17:54.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - null null
2025-09-13 21:17:54.316 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:17:54.316 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac'
2025-09-13 21:17:54.316 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:17:54.316 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:54.316 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:54.316 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:17:54.317 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:54.319 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:17:54.319 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:17:54.319 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.319 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.319 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.319 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.319 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.320 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.320 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.321 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:17:54.321 +03:00 [DBG] Fetching schema for Profile "9b1a960a-366c-4689-9813-14d9e71778ac", ForceRefresh=false
2025-09-13 21:17:54.321 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.321 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:17:54.321 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.321 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.321 +03:00 [INF] Fetching connection string for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:17:54.322 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.322 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.322 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:17:54.322 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.322 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:17:54.322 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:17:54.322 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:17:54.323 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.323 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:17:54.323 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:17:54.323 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.323 +03:00 [DBG] Fetched secret for profile "9b1a960a-366c-4689-9813-14d9e71778ac"
2025-09-13 21:17:54.324 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:17:54.324 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:54.325 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.325 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.325 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.325 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9b1a960a-366c-4689-9813-14d9e71778ac - 200 null application/json; charset=utf-8 10.3767ms
2025-09-13 21:17:54.407 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:17:54.413 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:17:54.414 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.414 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.414 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.415 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:54.415 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:54.415 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.415 +03:00 [DBG] Connection id "0HNFIU7DJ6TBM" completed keep alive response.
2025-09-13 21:17:54.415 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.415 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:17:54.415 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:17:54.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 171.7861ms
2025-09-13 21:17:54.416 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:54.416 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.416 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:54.416 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 2.6113ms
2025-09-13 21:17:54.418 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:17:54.418 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.418 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.418 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.418 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:54.418 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:54.418 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.420 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:54.420 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.421 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:54.421 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.421 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 3.497ms
2025-09-13 21:17:54.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - null null
2025-09-13 21:17:54.422 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.422 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema'
2025-09-13 21:17:54.422 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.422 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:54.423 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:54.423 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.424 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:17:54.425 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:17:54.425 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:54.425 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:17:54.425 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9b1a960a-366c-4689-9813-14d9e71778ac/schema - 200 null application/json; charset=utf-8 3.3523ms
2025-09-13 21:17:55.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:17:55.257 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:17:55.257 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:17:55.258 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:55.258 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:55.258 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:17:55.259 +03:00 [INF] Api health check sent.
2025-09-13 21:17:55.259 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:17:55.259 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:55.260 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 2.6516ms
2025-09-13 21:17:55.263 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:17:55.263 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:17:55.263 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:17:55.263 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:55.263 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:55.263 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:17:55.275 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:17:55.276 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:17:55.348 +03:00 [INF] Received HTTP response headers after 69.7174ms - 200
2025-09-13 21:17:55.348 +03:00 [INF] End processing HTTP request after 75.3601ms - 200
2025-09-13 21:17:55.352 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:17:55.352 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:55.352 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 89.3825ms
2025-09-13 21:17:55.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:17:55.355 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:17:55.355 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:17:55.355 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:17:55.355 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:17:55.355 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:17:55.355 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:17:55.355 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:17:55.358 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:17:55.358 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:17:55.358 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 3.5549ms
2025-09-13 21:17:57.628 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" received FIN.
2025-09-13 21:17:57.629 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:17:57.629 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" disconnecting.
2025-09-13 21:17:57.630 +03:00 [DBG] Connection id "0HNFIU7DJ6TBL" stopped.
2025-09-13 21:18:25.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:18:25.364 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:18:25.364 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:18:25.364 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:18:25.364 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:18:25.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:18:25.364 +03:00 [INF] Api health check sent.
2025-09-13 21:18:25.364 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:18:25.365 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:18:25.365 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.61ms
2025-09-13 21:18:55.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:18:55.364 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:18:55.364 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:18:55.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:18:55.364 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:18:55.364 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:18:55.364 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:18:55.364 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:18:55.364 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:18:55.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:18:55.364 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:18:55.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:18:55.364 +03:00 [INF] Api health check sent.
2025-09-13 21:18:55.364 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:18:55.364 +03:00 [DBG] Connection id "0HNFIU7DJ6TBM" completed keep alive response.
2025-09-13 21:18:55.364 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5962ms
2025-09-13 21:18:55.365 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:18:55.365 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:18:55.367 +03:00 [INF] Received HTTP response headers after 1.5673ms - 200
2025-09-13 21:18:55.367 +03:00 [INF] End processing HTTP request after 1.9444ms - 200
2025-09-13 21:18:55.368 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:18:55.368 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:18:55.368 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 4.2591ms
2025-09-13 21:18:55.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:18:55.441 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:18:55.441 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:18:55.441 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:18:55.441 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:18:55.441 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:18:55.444 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:18:55.444 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:18:55.444 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:18:55.445 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:18:55.445 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 3.6761ms
2025-09-13 21:19:25.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:19:25.363 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:19:25.363 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:19:25.364 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:19:25.364 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:19:25.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:19:25.364 +03:00 [INF] Api health check sent.
2025-09-13 21:19:25.364 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:19:25.364 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:19:25.364 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5937ms
2025-09-13 21:19:55.274 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 21:19:55.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:19:55.363 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:19:55.363 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:19:55.363 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:19:55.363 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:19:55.363 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:19:55.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:19:55.364 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:19:55.364 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:19:55.364 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:19:55.364 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:19:55.364 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:19:55.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:19:55.364 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:19:55.364 +03:00 [INF] Api health check sent.
2025-09-13 21:19:55.364 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:19:55.364 +03:00 [DBG] Connection id "0HNFIU7DJ6TBM" completed keep alive response.
2025-09-13 21:19:55.364 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5143ms
2025-09-13 21:19:55.366 +03:00 [INF] Received HTTP response headers after 2.6166ms - 200
2025-09-13 21:19:55.367 +03:00 [INF] End processing HTTP request after 2.8998ms - 200
2025-09-13 21:19:55.367 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:19:55.367 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:19:55.367 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 4.1994ms
2025-09-13 21:19:55.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:19:55.441 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:19:55.441 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:19:55.441 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:19:55.441 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:19:55.441 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:19:55.441 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:19:55.441 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:19:55.441 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:19:55.441 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:19:55.442 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.6863ms
2025-09-13 21:20:05.274 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:20:05.276 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0195ms - processed: 0 items - remaining: 1 items
2025-09-13 21:20:12.744 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - null null
2025-09-13 21:20:12.744 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:12.745 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:20:12.745 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:12.745 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:12.745 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:20:12.745 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:12.745 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 204 null null 1.0892ms
2025-09-13 21:20:12.747 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - application/json 136
2025-09-13 21:20:12.748 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:12.748 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:12.748 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:12.748 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:12.748 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:12.748 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:12.758 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:20:12.766 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN", Request id "0HNFIU7DJ6TBN:00000010": started reading request body.
2025-09-13 21:20:12.766 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN", Request id "0HNFIU7DJ6TBN:00000010": done reading request body.
2025-09-13 21:20:12.775 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:20:12.775 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:20:12.775 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:12.775 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.775 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:12.775 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:12.775 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:12.775 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:12.776 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:12.776 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:12.776 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:12.776 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.776 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:20:12.776 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.776 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:12.783 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:12.787 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:20:12.804 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:20:12.807 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:20:12.807 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:20:12.808 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:20:12.840 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:12.840 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.841 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:12.842 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:12.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:20:12.843 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:20:12.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:20:12.854 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.854 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 10ms reading results.
2025-09-13 21:20:12.854 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.855 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:12.857 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:12.858 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:20:12.860 +03:00 [INF] AI mode changed to "Groq" for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:20:12.7769318Z"
2025-09-13 21:20:12.861 +03:00 [INF] API key changed for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:20:12.7770321Z"
2025-09-13 21:20:12.861 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:12.861 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:12.861 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:20:12.861 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:12.862 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:12.862 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 200 null application/json; charset=utf-8 114.5354ms
2025-09-13 21:20:12.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:20:12.882 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:20:12.882 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:20:12.882 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:12.882 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:12.882 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:12.882 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:12.883 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:20:12.883 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:20:12.884 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:20:12.884 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:20:12.884 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:12.884 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.884 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:12.884 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:12.884 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:12.884 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:12.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:12.885 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:12.885 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:12.886 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.886 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:20:12.886 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:12.886 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:12.887 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:12.887 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:12.887 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:20:12.887 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:12.887 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:12.887 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 5.4052ms
2025-09-13 21:20:13.392 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" accepted.
2025-09-13 21:20:13.392 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" started.
2025-09-13 21:20:13.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:20:13.392 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:20:13.392 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:20:13.392 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:20:13.392 +03:00 [INF] Api health check sent.
2025-09-13 21:20:13.392 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:20:13.392 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" completed keep alive response.
2025-09-13 21:20:13.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4715ms
2025-09-13 21:20:15.276 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:20:15.276 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
2025-09-13 21:20:17.395 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" received FIN.
2025-09-13 21:20:17.395 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:20:17.395 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" disconnecting.
2025-09-13 21:20:17.396 +03:00 [DBG] Connection id "0HNFIU7DJ6TBO" stopped.
2025-09-13 21:20:18.112 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - null null
2025-09-13 21:20:18.112 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:18.112 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:20:18.112 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:18.112 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:18.112 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:20:18.112 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:18.112 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 204 null null 0.2804ms
2025-09-13 21:20:18.113 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - application/json 81
2025-09-13 21:20:18.113 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:18.113 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:18.113 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:18.113 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:18.113 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:18.113 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:18.114 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:20:18.114 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN", Request id "0HNFIU7DJ6TBN:00000013": started reading request body.
2025-09-13 21:20:18.114 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN", Request id "0HNFIU7DJ6TBN:00000013": done reading request body.
2025-09-13 21:20:18.115 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:20:18.115 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:20:18.115 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:18.115 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:18.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:18.115 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:18.115 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:18.115 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:18.115 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:18.115 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:18.115 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.116 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:20:18.116 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.116 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:18.116 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:18.116 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:20:18.116 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:20:18.116 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:20:18.116 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:20:18.116 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:20:18.116 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:18.116 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.116 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:18.116 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:18.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:18.117 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:20:18.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:20:18.123 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.124 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 6ms reading results.
2025-09-13 21:20:18.124 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.124 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:18.124 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:18.124 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:20:18.125 +03:00 [INF] AI mode changed to "Local" for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:20:18.1160780Z"
2025-09-13 21:20:18.125 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:18.125 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:18.125 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:20:18.125 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:18.125 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:18.125 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 200 null application/json; charset=utf-8 12.1909ms
2025-09-13 21:20:18.159 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:20:18.159 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:20:18.159 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:20:18.159 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:18.159 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:18.159 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:18.159 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:18.160 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:20:18.160 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:20:18.160 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:20:18.161 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:20:18.161 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:18.161 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.161 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:18.161 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:18.161 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:18.161 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:18.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:18.161 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:18.161 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:18.161 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.161 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:20:18.162 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:18.162 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:18.162 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:18.162 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:18.162 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:20:18.162 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:18.162 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:18.162 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 2.8948ms
2025-09-13 21:20:18.202 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:20:18.202 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:20:18.202 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:20:18.203 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:18.203 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:18.203 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:20:18.203 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:20:18.203 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:20:18.204 +03:00 [INF] Received HTTP response headers after 0.6339ms - 200
2025-09-13 21:20:18.204 +03:00 [INF] End processing HTTP request after 0.8025ms - 200
2025-09-13 21:20:18.204 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:20:18.204 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:18.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.8472ms
2025-09-13 21:20:18.207 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:20:18.207 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:20:18.207 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:20:18.207 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:20:18.207 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:20:18.207 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:18.207 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:18.207 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:20:18.207 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:20:18.207 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:18.207 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.6387ms
2025-09-13 21:20:18.666 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" accepted.
2025-09-13 21:20:18.666 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" started.
2025-09-13 21:20:18.666 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:20:18.667 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:20:18.667 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:20:18.667 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:20:18.667 +03:00 [INF] Api health check sent.
2025-09-13 21:20:18.667 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:20:18.667 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" completed keep alive response.
2025-09-13 21:20:18.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3091ms
2025-09-13 21:20:19.672 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:20:19.672 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:20:19.672 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:20:19.672 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:19.672 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:19.672 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:20:19.672 +03:00 [INF] Api health check sent.
2025-09-13 21:20:19.672 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:20:19.672 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:19.672 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3805ms
2025-09-13 21:20:19.674 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:20:19.674 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:20:19.674 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:20:19.674 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:19.674 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:19.674 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:20:19.675 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:20:19.675 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:20:19.675 +03:00 [INF] Received HTTP response headers after 0.5309ms - 200
2025-09-13 21:20:19.675 +03:00 [INF] End processing HTTP request after 0.965ms - 200
2025-09-13 21:20:19.676 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:20:19.676 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:19.676 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.9134ms
2025-09-13 21:20:19.678 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:20:19.678 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:20:19.678 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:20:19.678 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:20:19.678 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:20:19.678 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:19.678 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:19.678 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:20:19.678 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:20:19.678 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:19.679 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3563ms
2025-09-13 21:20:22.668 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" received FIN.
2025-09-13 21:20:22.668 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:20:22.668 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" disconnecting.
2025-09-13 21:20:22.668 +03:00 [DBG] Connection id "0HNFIU7DJ6TBP" stopped.
2025-09-13 21:20:25.277 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 21:20:25.277 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 21:20:25.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:20:25.363 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:20:25.363 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:20:25.363 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:25.363 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:25.363 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:20:25.363 +03:00 [INF] Api health check sent.
2025-09-13 21:20:25.363 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:20:25.363 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:25.363 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4075ms
2025-09-13 21:20:30.828 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - null null
2025-09-13 21:20:30.828 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:30.828 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:20:30.828 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:30.828 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:30.828 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:20:30.828 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:30.828 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 204 null null 0.3814ms
2025-09-13 21:20:30.829 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - application/json 81
2025-09-13 21:20:30.829 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:30.829 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode'
2025-09-13 21:20:30.829 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:30.830 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:30.830 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:30.830 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:30.830 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:20:30.830 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN", Request id "0HNFIU7DJ6TBN:0000001C": started reading request body.
2025-09-13 21:20:30.830 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN", Request id "0HNFIU7DJ6TBN:0000001C": done reading request body.
2025-09-13 21:20:30.831 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:20:30.831 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:20:30.831 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:30.831 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.831 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:30.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:30.831 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:30.831 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:30.831 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:30.832 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:30.832 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:30.832 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:20:30.832 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.832 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:30.832 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:30.832 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:20:30.833 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:20:30.833 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:20:30.833 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:20:30.833 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:20:30.833 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:30.833 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.833 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:30.833 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:30.833 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:30.833 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:20:30.833 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:20:30.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.837 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:20:30.837 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.837 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:30.838 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:30.838 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:20:30.838 +03:00 [INF] AI mode changed to "Basic" for user "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" at "2025-09-13T18:20:30.8328111Z"
2025-09-13 21:20:30.838 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:20:30.838 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:30.838 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:20:30.839 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:30.839 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:30.839 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c/aimode - 200 null application/json; charset=utf-8 9.333ms
2025-09-13 21:20:30.875 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:20:30.875 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:20:30.875 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:20:30.875 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:30.875 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:20:30.875 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:20:30.875 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:30.876 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:20:30.876 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:20:30.876 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:20:30.876 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:20:30.876 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:30.876 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.876 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:20:30.876 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:30.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:20:30.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:30.877 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:20:30.877 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:30.877 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:20:30.877 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.877 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:20:30.877 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:20:30.877 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:30.877 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:20:30.877 +03:00 [DBG] Connection id "0HNFIU7DJ6TBN" completed keep alive response.
2025-09-13 21:20:30.877 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:20:30.877 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:20:30.877 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:20:30.878 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 200 null application/json; charset=utf-8 2.4113ms
2025-09-13 21:20:31.383 +03:00 [DBG] Connection id "0HNFIU7DJ6TBQ" accepted.
2025-09-13 21:20:31.383 +03:00 [DBG] Connection id "0HNFIU7DJ6TBQ" started.
2025-09-13 21:20:31.384 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:20:31.384 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:20:31.384 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:20:31.384 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:20:31.384 +03:00 [INF] Api health check sent.
2025-09-13 21:20:31.384 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:20:31.384 +03:00 [DBG] Connection id "0HNFIU7DJ6TBQ" completed keep alive response.
2025-09-13 21:20:31.384 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.565ms
2025-09-13 21:21:12.979 +03:00 [INF] This is a test log to file!
2025-09-13 21:21:13.161 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:21:13.165 +03:00 [INF] API configured successfully.
2025-09-13 21:21:13.249 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:21:13.303 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:21:13.726 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:21:13.821 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:13.860 +03:00 [INF] Registered 23 endpoints in 806 milliseconds.
2025-09-13 21:21:13.866 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:13.942 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:14.061 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:14.072 +03:00 [DBG] Created DbConnection. (9ms).
2025-09-13 21:21:14.074 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.077 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:14.079 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:21:14.081 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.094 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.096 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.100 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:21:14.101 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.108 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:14.113 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.119 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-09-13 21:21:14.120 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-09-13 21:21:14.129 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:21:14.186 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:21:14.189 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:14.192 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-09-13 21:21:14.193 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.193 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:14.194 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:21:14.198 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:14.198 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:21:14.204 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:21:14.205 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.205 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.205 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:21:14.249 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:21:14.250 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:14.250 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.251 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.251 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:21:14.250583+00:00');
SELECT changes();
2025-09-13 21:21:14.259 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:21:14.250583+00:00');
SELECT changes();
2025-09-13 21:21:14.318 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:14.320 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:14.321 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.321 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.321 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.321 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:21:14.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:21:14.323 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:14.360 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:14.361 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:14.363 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:14.363 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:14.365 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:14.365 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:14.365 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.365 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:14.367 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.367 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:14.368 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:14.368 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.368 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.368 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:21:14.368 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:21:14.370 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:14.370 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:14.370 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:14.370 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:21:14.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:21:14.373 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:14.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:21:14.380 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:21:14.393 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.393 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.393 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:21:14.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:21:14.394 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.394 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.394 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:21:14.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:21:14.394 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.394 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.394 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:21:14.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:21:14.395 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.395 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.395 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.395 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:21:14.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:21:14.395 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:21:14.405 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.405 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.405 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.405 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:21:14.405 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:21:14.405 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.405 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.405 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.406 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:21:14.406 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:21:14.406 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:14.410 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:14.410 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:14.411 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.411 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.411 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.411 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:21:14.411 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:21:14.411 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:14.411 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:14.411 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.411 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.411 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.411 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:21:14.412 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:21:14.412 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.412 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.412 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:21:14.414 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:21:14.415 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:14.417 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:14.418 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:14.418 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.418 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.418 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:21:14.418 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:21:14.418 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.418 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.418 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:21:14.421 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:21:14.422 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:21:14.427 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:14.427 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:14.427 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.427 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.428 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.428 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:21:14.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:21:14.429 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.429 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.429 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.429 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:21:14.429 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:21:14.429 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:21:14.441 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:21:14.441 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.441 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.441 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.441 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:21:14.442 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:21:14.442 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.442 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.442 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.442 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:21:14.442 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:21:14.442 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.442 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.442 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.442 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:21:14.443 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:21:14.443 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.443 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.443 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:21:14.443 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:21:14.443 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.443 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.443 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:21:14.444 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:21:14.444 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.444 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.444 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.444 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:21:14.445 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:21:14.445 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.445 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.445 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:21:14.445 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:21:14.445 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:14.451 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:14.451 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:14.451 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.451 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.451 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.451 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:21:14.451 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:21:14.451 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:14.452 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:14.452 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.452 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.452 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.452 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:21:14.452 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:21:14.452 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.452 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.452 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.452 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:21:14.452 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:21:14.453 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:14.455 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:14.455 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:14.455 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.456 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.456 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.456 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:21:14.456 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:21:14.456 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:14.456 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:14.456 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.456 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.456 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.457 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:21:14.457 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:21:14.457 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.457 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.457 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.457 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:21:14.458 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:21:14.458 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:14.460 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:14.460 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:14.460 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:14.460 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.461 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:14.461 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:21:14.467 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:21:14.468 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:14.468 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.468 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:14.468 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:21:14.470 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:21:14.470 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:14.470 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:14.471 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:14.471 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:14.471 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:14.471 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:21:14.471 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:21:14.502 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:21:14.528 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:21:14.530 +03:00 [DBG] Hosting starting
2025-09-13 21:21:14.621 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:21:14.622 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:21:14.638 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:21:14.639 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:21:14.639 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:21:14.640 +03:00 [INF] Hosting environment: Development
2025-09-13 21:21:14.640 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:21:14.640 +03:00 [DBG] Hosting started
2025-09-13 21:21:14.858 +03:00 [DBG] Connection id "0HNFIU99JDF7M" accepted.
2025-09-13 21:21:14.859 +03:00 [DBG] Connection id "0HNFIU99JDF7M" started.
2025-09-13 21:21:14.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:21:14.900 +03:00 [DBG] Connection id "0HNFIU99JDF7N" accepted.
2025-09-13 21:21:14.900 +03:00 [DBG] Connection id "0HNFIU99JDF7N" started.
2025-09-13 21:21:14.909 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:21:14.910 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:14.930 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:14.930 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:14.931 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:21:14.933 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:14.949 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:14.969 +03:00 [INF] Getting all users
2025-09-13 21:21:15.000 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:21:15.054 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:21:15.263 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:21:15.284 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:15.284 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:15.285 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:15.287 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.287 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:15.287 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:15.287 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:15.288 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:21:15.290 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:21:15.293 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.294 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:21:15.295 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.296 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:15.322 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.323 +03:00 [DBG] Connection id "0HNFIU99JDF7M" completed keep alive response.
2025-09-13 21:21:15.324 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:21:15.324 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:15.325 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:21:15.326 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.327 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:15.327 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:15.328 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:15.328 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:15.330 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.331 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:15.331 +03:00 [INF] Getting all users
2025-09-13 21:21:15.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 449.6885ms
2025-09-13 21:21:15.333 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:15.334 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:15.334 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:15.335 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.335 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:15.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:15.335 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:15.335 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:21:15.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:21:15.337 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.337 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:15.337 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.338 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:15.339 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.340 +03:00 [DBG] Connection id "0HNFIU99JDF7N" completed keep alive response.
2025-09-13 21:21:15.341 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:15.341 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:15.341 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:15.342 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 17.5572ms
2025-09-13 21:21:15.359 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:21:15.360 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:21:15.360 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.361 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:15.361 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:15.362 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.363 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:15.363 +03:00 [INF] Getting all users
2025-09-13 21:21:15.365 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:15.366 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:15.366 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:15.366 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.367 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:15.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:15.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:15.367 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:21:15.367 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:21:15.367 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.367 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:15.367 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:15.367 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:15.368 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:21:15.368 +03:00 [DBG] Connection id "0HNFIU99JDF7N" completed keep alive response.
2025-09-13 21:21:15.368 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:15.368 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:15.368 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:15.368 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 8.499ms
2025-09-13 21:21:21.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - null null
2025-09-13 21:21:21.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:21:21.648 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c'
2025-09-13 21:21:21.648 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:21.648 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:21.648 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:21.649 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:21.658 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:21.678 +03:00 [INF] Getting user by ID: "c5e6add4-9b42-4d40-805c-6d3d199c7b1c"
2025-09-13 21:21:21.687 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:21:21.690 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:21:21.718 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:21:21.726 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:21.726 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:21.726 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:21.726 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.726 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:21.726 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:21.727 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:21:21.729 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:21.731 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:21.731 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.732 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:21.732 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.732 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:21.733 +03:00 [WRN] User with ID "c5e6add4-9b42-4d40-805c-6d3d199c7b1c" not found
2025-09-13 21:21:21.736 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:21.738 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID c5e6add4-9b42-4d40-805c-6d3d199c7b1c not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:21:21.838 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:21:21.849 +03:00 [DBG] Connection id "0HNFIU99JDF7N" completed keep alive response.
2025-09-13 21:21:21.850 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:21.850 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:21.850 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:21.850 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/c5e6add4-9b42-4d40-805c-6d3d199c7b1c - 500 null application/json; charset=utf-8 202.8933ms
2025-09-13 21:21:21.853 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:21:21.853 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:21:21.853 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:21:21.853 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:21.853 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:21.853 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:21:21.854 +03:00 [DBG] Connection id "0HNFIU99JDF7N" completed keep alive response.
2025-09-13 21:21:21.854 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.1682ms
2025-09-13 21:21:21.856 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 21:21:21.857 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:21:21.857 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:21:21.857 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:21.857 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:21.857 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:21:21.858 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:21.863 +03:00 [DBG] Connection id "0HNFIU99JDF7N", Request id "0HNFIU99JDF7N:00000005": started reading request body.
2025-09-13 21:21:21.864 +03:00 [DBG] Connection id "0HNFIU99JDF7N", Request id "0HNFIU99JDF7N:00000005": done reading request body.
2025-09-13 21:21:21.871 +03:00 [INF] Creating new user with API key: 
2025-09-13 21:21:21.872 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:21:21.877 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:21:21.878 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:21.878 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:21.878 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:21.878 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.878 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:21.878 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:21.878 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:21.878 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:21:21.879 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:21:21.879 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.879 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:21.879 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.879 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:21.903 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:21.937 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:21.941 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:21:21.950 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:21:21.953 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:21:21.954 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:21:21.954 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:21:21.991 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:21.992 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:21.992 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:21.993 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:21.994 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:21:21.994 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:21:21.999 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:21:22.001 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:22.001 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:21:22.001 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:22.002 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:22.007 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:22.008 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:21:22.009 +03:00 [INF] User created successfully with ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:21:22.011 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:21:22.011 +03:00 [DBG] Connection id "0HNFIU99JDF7N" completed keep alive response.
2025-09-13 21:21:22.011 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:22.011 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:22.011 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:22.011 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 155.2472ms
2025-09-13 21:21:22.014 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:21:22.014 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:21:22.014 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:21:22.014 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:22.014 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:22.014 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:22.014 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:22.015 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:22.016 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:21:22.017 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:22.017 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:22.017 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:22.017 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:22.017 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:22.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:22.017 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:22.017 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:22.017 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:22.023 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:22.028 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:22.028 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 10ms reading results.
2025-09-13 21:21:22.028 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:22.028 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:22.030 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:22.031 +03:00 [DBG] Connection id "0HNFIU99JDF7N" completed keep alive response.
2025-09-13 21:21:22.031 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:22.031 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:22.031 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:22.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 17.0838ms
2025-09-13 21:21:25.237 +03:00 [INF] This is a test log to file!
2025-09-13 21:21:25.368 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:21:25.372 +03:00 [INF] API configured successfully.
2025-09-13 21:21:25.425 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:21:25.464 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:21:25.810 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:21:25.872 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:25.889 +03:00 [INF] Registered 23 endpoints in 588 milliseconds.
2025-09-13 21:21:25.893 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:25.936 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:26.016 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:26.026 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 21:21:26.028 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.030 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:26.032 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:21:26.033 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.040 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:26.042 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.045 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:26.045 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.047 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:26.048 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:21:26.051 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:26.055 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:21:26.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:21:26.060 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:21:26.081 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:21:26.082 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:26.082 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:26.082 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:26.082 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:21:26.0825027+00:00');
SELECT changes();
2025-09-13 21:21:26.087 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:21:26.0825027+00:00');
SELECT changes();
2025-09-13 21:21:26.126 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:26.128 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:26.129 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:21:26.129 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:26.129 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:21:26.129 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:21:26.130 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:21:26.130 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:26.131 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:26.132 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:26.133 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:21:26.133 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:21:26.134 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:26.134 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:26.134 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.134 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:26.135 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.135 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:26.135 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:26.135 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:26.135 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:26.135 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:21:26.135 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:21:26.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:26.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:26.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:26.137 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:21:26.138 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:21:26.140 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:26.141 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:21:26.144 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:21:26.144 +03:00 [DBG] Committing transaction.
2025-09-13 21:21:26.144 +03:00 [DBG] Committed transaction.
2025-09-13 21:21:26.145 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:21:26.145 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:26.145 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:21:26.145 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:21:26.147 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:21:26.148 +03:00 [DBG] Disposing transaction.
2025-09-13 21:21:26.148 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:26.150 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:21:26.150 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:26.150 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:26.150 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:26.150 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:21:26.150 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:21:26.164 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:21:26.176 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:21:26.178 +03:00 [DBG] Hosting starting
2025-09-13 21:21:26.222 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:21:26.223 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:21:26.233 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:21:26.233 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:21:26.234 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:21:26.234 +03:00 [INF] Hosting environment: Development
2025-09-13 21:21:26.234 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:21:26.234 +03:00 [DBG] Hosting started
2025-09-13 21:21:29.132 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" accepted.
2025-09-13 21:21:29.132 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" started.
2025-09-13 21:21:29.150 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:21:29.183 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:21:29.183 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:21:29.198 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:21:29.199 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:21:29.225 +03:00 [INF] Api health check sent.
2025-09-13 21:21:29.227 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:21:29.227 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" completed keep alive response.
2025-09-13 21:21:29.228 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 79.0659ms
2025-09-13 21:21:29.235 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" accepted.
2025-09-13 21:21:29.235 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" started.
2025-09-13 21:21:29.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:21:29.238 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:21:29.238 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:21:29.239 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:29.240 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:29.240 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:29.241 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:29.252 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:29.273 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:21:29.309 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:21:29.340 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:21:29.511 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:21:29.533 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:29.533 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:29.535 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:29.536 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:29.536 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:29.537 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:29.537 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:29.539 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:29.543 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:29.571 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:29.589 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:29.589 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 46ms reading results.
2025-09-13 21:21:29.591 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:29.591 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:29.606 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:29.606 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:29.608 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:29.609 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:29.610 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:29.613 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 372.8798ms
2025-09-13 21:21:29.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:21:29.657 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:21:29.657 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:21:29.658 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:29.659 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:29.659 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:21:29.661 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:29.666 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:21:29.666 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:29.666 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:29.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 9.1077ms
2025-09-13 21:21:30.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:21:30.660 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:21:30.660 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:21:30.661 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:30.661 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:30.661 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:21:30.662 +03:00 [INF] Api health check sent.
2025-09-13 21:21:30.662 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:21:30.662 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:30.662 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 2.3275ms
2025-09-13 21:21:33.235 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" received FIN.
2025-09-13 21:21:33.235 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:21:33.235 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" disconnecting.
2025-09-13 21:21:33.237 +03:00 [DBG] Connection id "0HNFIU9DRHHHC" stopped.
2025-09-13 21:21:35.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:21:35.200 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:21:35.200 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:21:35.201 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:21:35.201 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:35.201 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:35.201 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:21:35.210 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:35.219 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:21:35.221 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:21:35.228 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:21:35.379 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:21:35.383 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:21:35.435 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:21:35.495 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:21:35.496 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:21:35.502 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:21:35.503 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:35.503 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:35.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 304.2742ms
2025-09-13 21:21:36.200 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:21:36.200 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:21:36.201 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:21:36.201 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:21:36.201 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:36.201 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:36.201 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:21:36.202 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:36.207 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:21:36.212 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:21:36.212 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:21:36.703 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:21:36.707 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:21:36.707 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:36.707 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:36.707 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 506.7421ms
2025-09-13 21:21:38.677 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:21:38.678 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:21:38.678 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:21:38.678 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:38.678 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:38.678 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:21:38.678 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:38.678 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 1.0881ms
2025-09-13 21:21:38.680 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:21:38.680 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:21:38.680 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:21:38.680 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:38.680 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:38.680 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:21:38.681 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:38.693 +03:00 [DBG] Connection id "0HNFIU9DRHHHD", Request id "0HNFIU9DRHHHD:00000007": started reading request body.
2025-09-13 21:21:38.693 +03:00 [DBG] Connection id "0HNFIU9DRHHHD", Request id "0HNFIU9DRHHHD:00000007": done reading request body.
2025-09-13 21:21:38.705 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:21:38.705 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:21:38.784 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:21:38.789 +03:00 [DBG] Saved secret profile-cf488741-284f-407c-a00f-8ec61e49a137 for provider "SqlServer"
2025-09-13 21:21:38.789 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:21:38.792 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:21:38.799 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:21:38.803 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:38.803 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:38.803 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:38.803 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.803 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:38.803 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:38.803 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:38.803 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:21:38.803 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:21:38.804 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.804 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:38.804 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.804 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:38.826 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:38.851 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:38.853 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:21:38.865 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:21:38.868 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:21:38.869 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:21:38.869 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:21:38.907 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:38.907 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.908 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:38.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:38.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:21:38.910 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:21:38.914 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:21:38.916 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.916 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:21:38.917 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.917 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:38.922 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:38.923 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:21:38.924 +03:00 [INF] Profile created successfully with Id "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:38.925 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:21:38.926 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:38.926 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:38.926 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:38.926 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:38.926 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 245.9733ms
2025-09-13 21:21:38.928 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:21:38.928 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:21:38.928 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:21:38.928 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:38.929 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:38.929 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:38.929 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:38.929 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:38.930 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:21:38.932 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:38.932 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:38.932 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:38.932 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:38.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:38.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:38.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:38.932 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:21:38.932 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:38.937 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:38.937 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.937 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:21:38.937 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:38.937 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:38.939 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:21:38.939 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:38.939 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:38.939 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:38.939 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:38.939 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 10.8203ms
2025-09-13 21:21:38.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:21:38.989 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:21:38.989 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:21:38.989 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:21:38.989 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:38.989 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:38.989 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:21:38.991 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:38.993 +03:00 [DBG] Connection id "0HNFIU9DRHHHE" accepted.
2025-09-13 21:21:38.993 +03:00 [DBG] Connection id "0HNFIU9DRHHHE" started.
2025-09-13 21:21:38.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - null null
2025-09-13 21:21:38.994 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:21:38.994 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:21:38.994 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:21:38.994 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:38.994 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:38.994 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:21:38.996 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:38.998 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:21:38.999 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:21:39.018 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:21:39.022 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:39.022 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:39.022 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:39.022 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:39.022 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.022 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.023 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.023 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:39.023 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.023 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.023 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.023 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.023 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.023 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:39.023 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.023 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.023 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.023 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:39.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.024 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:39.025 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.025 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.026 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:21:39.026 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.026 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:21:39.026 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.026 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.026 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.027 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:39.028 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:39.028 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.028 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.028 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.028 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.028 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:39.028 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:39.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.028 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.028 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.029 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.029 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:39.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:39.029 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.029 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.029 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.029 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.031 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:39.032 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:39.033 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:21:39.033 +03:00 [DBG] Connection id "0HNFIU9DRHHHE" completed keep alive response.
2025-09-13 21:21:39.033 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:39.033 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.033 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.033 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - 200 null application/json; charset=utf-8 40.2858ms
2025-09-13 21:21:39.033 +03:00 [DBG] Fetching schema for Profile "9f92a273-04f1-4993-abd1-9a8af1aa598b", ForceRefresh=false
2025-09-13 21:21:39.034 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - null null
2025-09-13 21:21:39.034 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:21:39.035 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:21:39.035 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:21:39.035 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:21:39.035 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:39.035 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:39.035 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:21:39.036 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:39.036 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:21:39.037 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:21:39.037 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.037 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.037 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:39.037 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.037 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.037 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.038 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.038 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:21:39.039 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.039 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:21:39.039 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.040 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.040 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:39.040 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.040 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.040 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:21:39.040 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.041 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:21:39.041 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:21:39.041 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.041 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:21:39.041 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:21:39.041 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.042 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:21:39.042 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:21:39.042 +03:00 [DBG] Connection id "0HNFIU9DRHHHE" completed keep alive response.
2025-09-13 21:21:39.042 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:39.043 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.043 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.043 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - 200 null application/json; charset=utf-8 8.8114ms
2025-09-13 21:21:39.074 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:21:39.077 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:21:39.077 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:39.077 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:39.077 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:21:39.077 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:21:39.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 88.3692ms
2025-09-13 21:21:39.078 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:21:39.079 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:21:39.080 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:21:39.080 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:21:39.080 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:21:39.080 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:21:39.080 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:21:39.081 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:21:39.081 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:21:39.081 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:21:39.081 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:21:39.081 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 2.8644ms
2025-09-13 21:22:01.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:01.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:01.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:01.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:01.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:01.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:01.193 +03:00 [INF] Api health check sent.
2025-09-13 21:22:01.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:01.193 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:01.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.0071ms
2025-09-13 21:22:31.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:31.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:31.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:31.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:31.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:31.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:31.193 +03:00 [INF] Api health check sent.
2025-09-13 21:22:31.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:31.194 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:31.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.471ms
2025-09-13 21:22:41.394 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - null null
2025-09-13 21:22:41.394 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:41.394 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:22:41.394 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:41.394 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:41.394 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:22:41.394 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:41.394 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 204 null null 0.5574ms
2025-09-13 21:22:41.395 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - application/json 136
2025-09-13 21:22:41.395 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:41.395 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:41.395 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:41.395 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:41.395 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:41.395 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:41.396 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:41.398 +03:00 [DBG] Connection id "0HNFIU9DRHHHD", Request id "0HNFIU9DRHHHD:0000000E": started reading request body.
2025-09-13 21:22:41.398 +03:00 [DBG] Connection id "0HNFIU9DRHHHD", Request id "0HNFIU9DRHHHD:0000000E": done reading request body.
2025-09-13 21:22:41.401 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:41.401 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:41.401 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.402 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.402 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:41.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.402 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.402 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:41.402 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:41.402 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.402 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.402 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.402 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:41.402 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.402 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.403 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.403 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:41.406 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:41.407 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:22:41.407 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:41.407 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:41.416 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.417 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.417 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:41.417 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.419 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:22:41.419 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:41.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:41.424 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.424 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:22:41.424 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.425 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.425 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.425 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:22:41.428 +03:00 [INF] AI mode changed to "Groq" for user "ef6e62e7-cbbf-4954-9238-3228711c4e8f" at "2025-09-13T18:22:41.4029877Z"
2025-09-13 21:22:41.430 +03:00 [INF] API key changed for user "ef6e62e7-cbbf-4954-9238-3228711c4e8f" at "2025-09-13T18:22:41.4030951Z"
2025-09-13 21:22:41.431 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:41.431 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:41.431 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:41.431 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.431 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.431 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 200 null application/json; charset=utf-8 35.98ms
2025-09-13 21:22:41.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:22:41.475 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:41.475 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:41.475 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:41.475 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:41.475 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:41.475 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:41.475 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:41.475 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:22:41.476 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:41.476 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:41.476 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.476 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:41.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.476 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:41.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:41.479 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.480 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.480 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.480 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:22:41.486 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.486 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.486 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:41.486 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:41.486 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:41.486 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.486 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.487 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 11.9958ms
2025-09-13 21:22:41.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:22:41.554 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:22:41.554 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:22:41.554 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:41.554 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:41.554 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:22:41.555 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:41.556 +03:00 [INF] Getting all users
2025-09-13 21:22:41.559 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:22:41.559 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:22:41.570 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:22:41.572 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:41.572 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:41.572 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.572 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.572 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:41.572 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.573 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:22:41.573 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:22:41.575 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.575 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:22:41.575 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.576 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.577 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:22:41.577 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:41.577 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:41.577 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.577 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.577 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 23.444ms
2025-09-13 21:22:41.590 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:22:41.590 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:41.590 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:41.590 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:41.591 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:41.591 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:41.591 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:41.591 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:41.591 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:22:41.591 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:41.592 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:41.592 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.592 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.592 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:41.592 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:41.592 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:41.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:41.592 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.593 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:41.593 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.593 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:41.593 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:41.593 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.593 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:41.593 +03:00 [DBG] Connection id "0HNFIU9DRHHHD" completed keep alive response.
2025-09-13 21:22:41.594 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:41.594 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:41.594 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:41.594 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 3.5022ms
2025-09-13 21:22:44.787 +03:00 [INF] This is a test log to file!
2025-09-13 21:22:44.918 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:22:44.920 +03:00 [INF] API configured successfully.
2025-09-13 21:22:44.973 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:22:45.010 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:22:45.380 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:22:45.436 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:45.452 +03:00 [INF] Registered 23 endpoints in 604 milliseconds.
2025-09-13 21:22:45.458 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:45.497 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:45.568 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:45.576 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:22:45.578 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.580 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:45.582 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:22:45.582 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.589 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:45.590 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.593 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:45.593 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.595 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:45.596 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:22:45.599 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:22:45.603 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:22:45.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:22:45.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:22:45.626 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:22:45.627 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:22:45.627 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:22:45.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:22:45.627 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:22:45.6271597+00:00');
SELECT changes();
2025-09-13 21:22:45.631 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:22:45.6271597+00:00');
SELECT changes();
2025-09-13 21:22:45.671 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:22:45.674 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:22:45.675 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:22:45.675 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:22:45.675 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:22:45.676 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:22:45.676 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:22:45.677 +03:00 [DBG] Committing transaction.
2025-09-13 21:22:45.678 +03:00 [DBG] Committed transaction.
2025-09-13 21:22:45.678 +03:00 [DBG] Disposing transaction.
2025-09-13 21:22:45.680 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:22:45.680 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:22:45.680 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:45.680 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:45.680 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.681 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:45.681 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.681 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:45.681 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:22:45.681 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:22:45.681 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:22:45.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:22:45.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:22:45.682 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:45.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:45.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:45.682 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:22:45.683 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:22:45.685 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:45.686 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:22:45.688 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:22:45.688 +03:00 [DBG] Committing transaction.
2025-09-13 21:22:45.688 +03:00 [DBG] Committed transaction.
2025-09-13 21:22:45.688 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:22:45.688 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:22:45.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:22:45.688 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:22:45.691 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:22:45.691 +03:00 [DBG] Disposing transaction.
2025-09-13 21:22:45.692 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:45.693 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:22:45.694 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:45.694 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:45.694 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:45.694 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:22:45.694 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:22:45.708 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:22:45.718 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:22:45.718 +03:00 [DBG] Hosting starting
2025-09-13 21:22:45.760 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:22:45.761 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:22:45.771 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:22:45.771 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:22:45.771 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:22:45.771 +03:00 [INF] Hosting environment: Development
2025-09-13 21:22:45.771 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:22:45.771 +03:00 [DBG] Hosting started
2025-09-13 21:22:48.652 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" accepted.
2025-09-13 21:22:48.652 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" started.
2025-09-13 21:22:48.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:48.702 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:48.702 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:48.715 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:22:48.717 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:48.740 +03:00 [INF] Api health check sent.
2025-09-13 21:22:48.741 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:48.741 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" completed keep alive response.
2025-09-13 21:22:48.744 +03:00 [DBG] Connection id "0HNFIUA5HT2CQ" accepted.
2025-09-13 21:22:48.744 +03:00 [DBG] Connection id "0HNFIUA5HT2CQ" started.
2025-09-13 21:22:48.742 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 73.1294ms
2025-09-13 21:22:48.745 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:22:48.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:48.747 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:48.747 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:48.749 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:48.749 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:48.750 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:48.760 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:48.782 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:22:48.795 +03:00 [DBG] Connection id "0HNFIUA5HT2CR" accepted.
2025-09-13 21:22:48.795 +03:00 [DBG] Connection id "0HNFIUA5HT2CR" started.
2025-09-13 21:22:48.795 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:22:48.795 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:48.795 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:48.795 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:48.796 +03:00 [DBG] Connection id "0HNFIUA5HT2CS" accepted.
2025-09-13 21:22:48.796 +03:00 [DBG] Connection id "0HNFIUA5HT2CS" started.
2025-09-13 21:22:48.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - null null
2025-09-13 21:22:48.797 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:48.797 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:48.797 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:22:48.797 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:22:48.797 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:48.797 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:48.797 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:48.797 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:48.798 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:48.800 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:48.800 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:48.824 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:22:48.824 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:22:48.856 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:22:48.856 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:22:49.053 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:22:49.053 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:22:49.080 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:49.080 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:49.080 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:49.080 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:49.080 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:49.080 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:49.081 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.081 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.081 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.082 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.082 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.082 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.082 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.082 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.082 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:22:49.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:22:49.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:49.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.089 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:49.089 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.089 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.112 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:49.112 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:49.112 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:49.131 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:49.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.133 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 42ms reading results.
2025-09-13 21:22:49.133 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 42ms reading results.
2025-09-13 21:22:49.133 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 42ms reading results.
2025-09-13 21:22:49.134 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.134 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.134 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.134 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.135 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.135 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.135 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.136 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.136 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.136 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.136 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.137 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.137 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:49.137 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.137 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.142 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.143 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.143 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.143 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.143 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.143 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.144 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.144 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.145 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:49.145 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.145 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.146 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.150 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.150 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:49.151 +03:00 [DBG] Connection id "0HNFIUA5HT2CQ" completed keep alive response.
2025-09-13 21:22:49.151 +03:00 [DBG] Connection id "0HNFIUA5HT2CS" completed keep alive response.
2025-09-13 21:22:49.152 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" accepted.
2025-09-13 21:22:49.152 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.152 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.152 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" started.
2025-09-13 21:22:49.153 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - null null
2025-09-13 21:22:49.153 +03:00 [DBG] Fetching schema for Profile "9f92a273-04f1-4993-abd1-9a8af1aa598b", ForceRefresh=false
2025-09-13 21:22:49.154 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:22:49.154 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:22:49.154 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.154 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:22:49.154 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.154 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.154 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.154 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.155 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.155 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.155 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 409.5731ms
2025-09-13 21:22:49.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - 200 null application/json; charset=utf-8 358.5019ms
2025-09-13 21:22:49.156 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.158 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:49.158 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:49.158 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.158 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.158 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.158 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.159 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.159 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:49.159 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.159 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:49.159 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.159 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.160 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.160 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.160 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.160 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.161 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.161 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.161 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:49.161 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.161 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.162 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.162 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.163 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.163 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.163 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.163 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.163 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - 200 null application/json; charset=utf-8 10.2174ms
2025-09-13 21:22:49.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - null null
2025-09-13 21:22:49.204 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:22:49.204 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b'
2025-09-13 21:22:49.204 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.204 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.204 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.204 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.205 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.206 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:49.206 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:49.206 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.206 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.206 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.206 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.206 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.207 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.207 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:49.207 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.207 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:49.207 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.207 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.207 +03:00 [INF] Fetching connection string for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.208 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.208 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.208 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:49.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:49.208 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.208 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:22:49.208 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.208 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:49.209 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:49.209 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.209 +03:00 [DBG] Fetched secret for profile "9f92a273-04f1-4993-abd1-9a8af1aa598b"
2025-09-13 21:22:49.209 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:22:49.209 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.209 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.209 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.209 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/9f92a273-04f1-4993-abd1-9a8af1aa598b - 200 null application/json; charset=utf-8 6.2101ms
2025-09-13 21:22:49.228 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:22:49.233 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.233 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:22:49.234 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.234 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.234 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.234 +03:00 [DBG] Connection id "0HNFIUA5HT2CR" completed keep alive response.
2025-09-13 21:22:49.234 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.234 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.235 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.235 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:49.235 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:49.235 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.235 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 439.5835ms
2025-09-13 21:22:49.236 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.236 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.237 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.237 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.237 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 3.315ms
2025-09-13 21:22:49.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:22:49.238 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.238 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.238 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.238 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.238 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.238 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.239 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.239 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.239 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.239 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.239 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 1.529ms
2025-09-13 21:22:49.240 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:22:49.240 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.241 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.241 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.241 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.241 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.241 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.242 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.242 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.242 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.242 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.243 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 2.3195ms
2025-09-13 21:22:49.243 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:22:49.243 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.244 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.244 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.244 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.244 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.244 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.244 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.245 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.245 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.245 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.245 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 1.4969ms
2025-09-13 21:22:49.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - null null
2025-09-13 21:22:49.246 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.246 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema'
2025-09-13 21:22:49.246 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.246 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:49.246 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:49.246 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.247 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:49.248 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:22:49.248 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:49.248 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:49.248 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/9f92a273-04f1-4993-abd1-9a8af1aa598b/schema - 200 null application/json; charset=utf-8 2.5638ms
2025-09-13 21:22:52.040 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - null null
2025-09-13 21:22:52.040 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:52.040 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:22:52.040 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:52.040 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:52.041 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:22:52.042 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:52.042 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 204 null null 2.0858ms
2025-09-13 21:22:52.043 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - application/json 81
2025-09-13 21:22:52.044 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:52.044 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:52.044 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:52.044 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:52.044 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:52.044 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:52.055 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:52.063 +03:00 [DBG] Connection id "0HNFIUA5HT2CT", Request id "0HNFIUA5HT2CT:00000009": started reading request body.
2025-09-13 21:22:52.063 +03:00 [DBG] Connection id "0HNFIUA5HT2CT", Request id "0HNFIUA5HT2CT:00000009": done reading request body.
2025-09-13 21:22:52.073 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:52.073 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:52.073 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:52.073 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.073 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:52.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:52.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:52.073 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:52.074 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:52.074 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:52.074 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:52.074 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.074 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:52.074 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.075 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:52.081 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:52.084 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:52.110 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:52.112 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:22:52.113 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:52.114 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:52.148 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:52.148 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.149 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:52.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:52.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:22:52.151 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:52.152 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:52.157 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.157 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:22:52.157 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.157 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:52.159 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:52.159 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:22:52.163 +03:00 [INF] AI mode changed to "Local" for user "ef6e62e7-cbbf-4954-9238-3228711c4e8f" at "2025-09-13T18:22:52.0753437Z"
2025-09-13 21:22:52.164 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:52.164 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:52.164 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:52.164 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:52.164 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:52.164 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 200 null application/json; charset=utf-8 121.3324ms
2025-09-13 21:22:52.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:22:52.166 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:52.166 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:52.166 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:52.166 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:52.166 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:52.166 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:52.167 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:52.167 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:22:52.168 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:52.168 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:52.168 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:52.168 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.168 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:52.168 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:52.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:52.168 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:52.168 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:52.169 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:52.169 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:52.169 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.169 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:52.169 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:52.169 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:52.170 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:52.170 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:52.170 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:52.170 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:52.170 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:52.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 4.0285ms
2025-09-13 21:22:52.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:22:52.214 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:22:52.214 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:22:52.214 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:52.214 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:52.214 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:22:52.220 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:22:52.221 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:22:52.292 +03:00 [INF] Received HTTP response headers after 68.0072ms - 200
2025-09-13 21:22:52.292 +03:00 [INF] End processing HTTP request after 72.6692ms - 200
2025-09-13 21:22:52.295 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:22:52.296 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:52.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 82.5048ms
2025-09-13 21:22:52.300 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:22:52.300 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:22:52.300 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:22:52.300 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:22:52.300 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:22:52.300 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:52.300 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:52.300 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:22:52.303 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:22:52.304 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:52.304 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 3.9159ms
2025-09-13 21:22:52.674 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:52.674 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:52.674 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:52.674 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:52.675 +03:00 [INF] Api health check sent.
2025-09-13 21:22:52.675 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:52.675 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" completed keep alive response.
2025-09-13 21:22:52.675 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6626ms
2025-09-13 21:22:53.680 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:53.680 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:53.680 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:53.680 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:53.680 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:53.681 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:53.681 +03:00 [INF] Api health check sent.
2025-09-13 21:22:53.681 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:53.681 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:53.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5214ms
2025-09-13 21:22:53.683 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 21:22:53.683 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 21:22:53.683 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:22:53.684 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:53.684 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:53.684 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:22:53.685 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 21:22:53.685 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 21:22:53.687 +03:00 [INF] Received HTTP response headers after 1.532ms - 200
2025-09-13 21:22:53.687 +03:00 [INF] End processing HTTP request after 1.7638ms - 200
2025-09-13 21:22:53.687 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 21:22:53.687 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:53.687 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 3.8807ms
2025-09-13 21:22:53.689 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 21:22:53.689 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 21:22:53.689 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:22:53.689 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 21:22:53.689 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:22:53.690 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:53.690 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:53.690 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:22:53.690 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 21:22:53.690 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:53.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.3336ms
2025-09-13 21:22:55.886 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - application/json 81
2025-09-13 21:22:55.886 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:55.886 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:55.886 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:55.886 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:55.886 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:55.886 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:55.887 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:55.887 +03:00 [DBG] Connection id "0HNFIUA5HT2CT", Request id "0HNFIUA5HT2CT:00000010": started reading request body.
2025-09-13 21:22:55.887 +03:00 [DBG] Connection id "0HNFIUA5HT2CT", Request id "0HNFIUA5HT2CT:00000010": done reading request body.
2025-09-13 21:22:55.888 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:55.888 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:55.888 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:55.888 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:55.888 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:55.888 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:55.888 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:55.889 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:55.889 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:55.889 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:55.889 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.889 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:55.889 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.890 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:55.890 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:55.890 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:55.890 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:55.890 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:22:55.890 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:55.890 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:55.890 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:55.891 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.891 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:55.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:55.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:55.891 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:55.891 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:55.894 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.894 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:22:55.894 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.894 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:55.894 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:55.894 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:22:55.895 +03:00 [INF] AI mode changed to "Basic" for user "ef6e62e7-cbbf-4954-9238-3228711c4e8f" at "2025-09-13T18:22:55.8900552Z"
2025-09-13 21:22:55.895 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:55.895 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:55.895 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:55.895 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:55.895 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:55.895 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 200 null application/json; charset=utf-8 9.1604ms
2025-09-13 21:22:55.942 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:22:55.942 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:55.942 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:55.942 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:55.942 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:55.942 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:55.942 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:55.943 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:55.943 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:22:55.944 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:55.944 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:55.945 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:55.945 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.945 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:55.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:55.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:55.945 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:55.946 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:55.946 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:55.946 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:55.946 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.946 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:55.946 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:55.946 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:55.946 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:55.946 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:55.947 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:55.947 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:55.947 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:55.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 4.4521ms
2025-09-13 21:22:56.453 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:56.454 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:56.454 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:56.454 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:56.454 +03:00 [INF] Api health check sent.
2025-09-13 21:22:56.454 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:56.454 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" completed keep alive response.
2025-09-13 21:22:56.454 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7365ms
2025-09-13 21:22:58.692 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - null null
2025-09-13 21:22:58.692 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:58.692 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:22:58.692 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:58.692 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:58.692 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:22:58.692 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:58.692 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 204 null null 0.5536ms
2025-09-13 21:22:58.693 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - application/json 136
2025-09-13 21:22:58.693 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:58.693 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode'
2025-09-13 21:22:58.693 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:58.693 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:58.693 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:58.693 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:58.694 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:58.694 +03:00 [DBG] Connection id "0HNFIUA5HT2CT", Request id "0HNFIUA5HT2CT:00000013": started reading request body.
2025-09-13 21:22:58.694 +03:00 [DBG] Connection id "0HNFIUA5HT2CT", Request id "0HNFIUA5HT2CT:00000013": done reading request body.
2025-09-13 21:22:58.694 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:58.694 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:58.694 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:58.694 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:58.694 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:58.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:58.694 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:58.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:58.695 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:58.696 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:58.696 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.696 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:58.696 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.696 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:58.696 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:58.696 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:58.697 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:58.697 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:22:58.697 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:22:58.697 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:22:58.697 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:58.697 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.697 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:58.697 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:58.697 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:58.697 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:58.697 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:22:58.700 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.700 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:22:58.700 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.701 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:58.701 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:58.701 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:22:58.701 +03:00 [INF] AI mode changed to "Groq" for user "ef6e62e7-cbbf-4954-9238-3228711c4e8f" at "2025-09-13T18:22:58.6965796Z"
2025-09-13 21:22:58.703 +03:00 [INF] API key changed for user "ef6e62e7-cbbf-4954-9238-3228711c4e8f" at "2025-09-13T18:22:58.6967727Z"
2025-09-13 21:22:58.703 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:22:58.703 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:58.703 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:58.703 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:58.703 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:58.703 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f/aimode - 200 null application/json; charset=utf-8 10.085ms
2025-09-13 21:22:58.751 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:22:58.751 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:58.751 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:22:58.751 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:58.751 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:22:58.751 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:22:58.752 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:58.752 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:22:58.752 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:22:58.752 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:22:58.752 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:22:58.752 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:58.753 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.753 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:22:58.753 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:58.753 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:22:58.753 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:58.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:22:58.753 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:58.753 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:22:58.753 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.753 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:22:58.753 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:22:58.753 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:58.754 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:22:58.754 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:22:58.754 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:22:58.754 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:22:58.754 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:22:58.754 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 200 null application/json; charset=utf-8 2.4533ms
2025-09-13 21:22:59.256 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:22:59.256 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:22:59.256 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:22:59.256 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:22:59.256 +03:00 [INF] Api health check sent.
2025-09-13 21:22:59.256 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:22:59.256 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" completed keep alive response.
2025-09-13 21:22:59.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4549ms
2025-09-13 21:23:00.668 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:23:00.668 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:23:00.669 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:23:00.669 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:00.669 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:00.669 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:23:00.669 +03:00 [INF] Api health check sent.
2025-09-13 21:23:00.669 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:23:00.669 +03:00 [DBG] Connection id "0HNFIUA5HT2CT" completed keep alive response.
2025-09-13 21:23:00.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4807ms
2025-09-13 21:23:03.258 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" received FIN.
2025-09-13 21:23:03.258 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:23:03.259 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" disconnecting.
2025-09-13 21:23:03.260 +03:00 [DBG] Connection id "0HNFIUA5HT2CP" stopped.
2025-09-13 21:23:21.826 +03:00 [INF] This is a test log to file!
2025-09-13 21:23:21.974 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:23:21.978 +03:00 [INF] API configured successfully.
2025-09-13 21:23:22.040 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:23:22.084 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:23:22.542 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:23:22.612 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:22.632 +03:00 [INF] Registered 23 endpoints in 730 milliseconds.
2025-09-13 21:23:22.639 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:22.680 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:22.753 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:22.762 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 21:23:22.764 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.769 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:22.771 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:23:22.773 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.782 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.784 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.791 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:23:22.792 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.801 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:22.804 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.810 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-13 21:23:22.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-09-13 21:23:22.818 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:23:22.845 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:23:22.847 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:22.850 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:23:22.850 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.850 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:22.851 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:23:22.854 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:22.854 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:22.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:22.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:23:22.859 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:23:22.860 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.861 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.861 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.861 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:23:22.880 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:23:22.881 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:22.881 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:22.881 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:22.881 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:23:22.8813466+00:00');
SELECT changes();
2025-09-13 21:23:22.884 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:23:22.8813466+00:00');
SELECT changes();
2025-09-13 21:23:22.940 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:22.944 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:22.946 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.946 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.946 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.947 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:23:22.947 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:23:22.950 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:22.956 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:22.958 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:22.960 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:22.961 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:22.963 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:22.963 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:22.963 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.964 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:22.966 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:22.966 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:22.966 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:22.966 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:22.966 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:22.966 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:23:22.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:23:22.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:22.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:22.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:22.970 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:23:22.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:23:22.972 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:22.974 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:23:22.980 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:23:22.990 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.990 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.990 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:23:22.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:23:22.990 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.990 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.990 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:23:22.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:23:22.990 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.990 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.990 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:23:22.991 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:23:22.991 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.991 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.991 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.991 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:23:22.991 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:23:22.991 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:23:22.996 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.996 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.996 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.996 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:23:22.996 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:23:22.996 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.996 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.996 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.996 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:23:22.996 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:23:22.996 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:22.999 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:22.999 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:22.999 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:22.999 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:22.999 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:23:22.999 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:23:22.999 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:23.000 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:23.000 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.000 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.000 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:23:23.000 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:23:23.000 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.000 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.000 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:23:23.000 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:23:23.000 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:23.003 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:23.003 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:23.003 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.003 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.003 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:23:23.003 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:23:23.003 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.003 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.003 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:23:23.005 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:23:23.006 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:23:23.009 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:23.009 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:23.009 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.009 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.009 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.009 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:23:23.010 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:23:23.010 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.010 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.010 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.010 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:23:23.010 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:23:23.010 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:23:23.018 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:23:23.018 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.018 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.019 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:23:23.019 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:23:23.019 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.019 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.019 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:23:23.019 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:23:23.020 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.020 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:23:23.020 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:23:23.020 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.020 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:23:23.020 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:23:23.020 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.020 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:23:23.020 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:23:23.020 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.020 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.020 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:23:23.021 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:23:23.021 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.021 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.021 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:23:23.021 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:23:23.021 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:23.024 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:23.024 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:23.024 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.024 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.024 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.024 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:23:23.024 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:23:23.024 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:23.024 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:23.024 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.024 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.024 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.024 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:23:23.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:23:23.025 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.025 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.025 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:23:23.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:23:23.025 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:23.028 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:23.028 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:23.028 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.028 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.028 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:23:23.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:23:23.028 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:23.028 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:23.028 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.028 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.028 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:23:23.029 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:23:23.029 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.029 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:23:23.029 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:23:23.029 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:23.032 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:23.032 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:23.032 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:23.032 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.032 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:23.032 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:23:23.035 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:23:23.036 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:23.036 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:23.037 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:23.037 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:23:23.041 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:23:23.042 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:23.042 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:23.042 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:23.042 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:23.042 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:23.042 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:23:23.043 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:23:23.071 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:23:23.092 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:23:23.096 +03:00 [DBG] Hosting starting
2025-09-13 21:23:23.239 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:23:23.243 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:23:23.257 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:23:23.257 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:23:23.257 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:23:23.258 +03:00 [INF] Hosting environment: Development
2025-09-13 21:23:23.259 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:23:23.259 +03:00 [DBG] Hosting started
2025-09-13 21:23:23.482 +03:00 [DBG] Connection id "0HNFIUAFU29B5" accepted.
2025-09-13 21:23:23.483 +03:00 [DBG] Connection id "0HNFIUAFU29B5" started.
2025-09-13 21:23:23.510 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:23:23.526 +03:00 [DBG] Connection id "0HNFIUAFU29B6" accepted.
2025-09-13 21:23:23.527 +03:00 [DBG] Connection id "0HNFIUAFU29B6" started.
2025-09-13 21:23:23.547 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:23:23.547 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:23.566 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:23.566 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:23.567 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:23:23.571 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:23.583 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:23.606 +03:00 [INF] Getting all users
2025-09-13 21:23:23.642 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:23:23.714 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:23:24.068 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:23:24.095 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:24.095 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:24.097 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:24.099 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:24.099 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:24.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:24.100 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:24.103 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:24.106 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.108 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:23:24.110 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.111 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:24.146 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.146 +03:00 [DBG] Connection id "0HNFIUAFU29B5" completed keep alive response.
2025-09-13 21:23:24.147 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:24.147 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:23:24.149 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:23:24.149 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.149 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:24.150 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:24.151 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:24.152 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:24.152 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.153 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:24.153 +03:00 [INF] Getting all users
2025-09-13 21:23:24.152 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 643.9793ms
2025-09-13 21:23:24.157 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:24.158 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:24.158 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:24.158 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.158 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:24.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:24.158 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:24.158 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:24.158 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:24.159 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.159 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:24.159 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.159 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:24.160 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.160 +03:00 [DBG] Connection id "0HNFIUAFU29B6" completed keep alive response.
2025-09-13 21:23:24.160 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:24.160 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:24.161 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:24.161 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 13.2571ms
2025-09-13 21:23:24.182 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:23:24.182 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:23:24.182 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.183 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:24.183 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:24.184 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.185 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:24.185 +03:00 [INF] Getting all users
2025-09-13 21:23:24.188 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:24.188 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:24.188 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:24.188 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:24.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:24.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:24.189 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:24.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:24.189 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.189 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:24.190 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:24.190 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:24.190 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:24.190 +03:00 [DBG] Connection id "0HNFIUAFU29B6" completed keep alive response.
2025-09-13 21:23:24.190 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:24.191 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:24.191 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:24.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 8.9738ms
2025-09-13 21:23:29.209 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - null null
2025-09-13 21:23:29.209 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:23:29.209 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f'
2025-09-13 21:23:29.210 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:29.210 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:29.210 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:29.210 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:29.220 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:29.242 +03:00 [INF] Getting user by ID: "ef6e62e7-cbbf-4954-9238-3228711c4e8f"
2025-09-13 21:23:29.254 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:23:29.257 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:23:29.285 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:23:29.292 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:29.292 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:29.292 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.292 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:29.292 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.295 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:29.298 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:29.298 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.298 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:29.298 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.298 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.299 +03:00 [WRN] User with ID "ef6e62e7-cbbf-4954-9238-3228711c4e8f" not found
2025-09-13 21:23:29.300 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:29.302 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID ef6e62e7-cbbf-4954-9238-3228711c4e8f not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:23:29.314 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:23:29.319 +03:00 [DBG] Connection id "0HNFIUAFU29B6" completed keep alive response.
2025-09-13 21:23:29.319 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:29.320 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.320 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.320 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/ef6e62e7-cbbf-4954-9238-3228711c4e8f - 500 null application/json; charset=utf-8 111.4911ms
2025-09-13 21:23:29.322 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:23:29.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:23:29.323 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:23:29.323 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:29.323 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:29.323 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:23:29.324 +03:00 [DBG] Connection id "0HNFIUAFU29B6" completed keep alive response.
2025-09-13 21:23:29.324 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.3069ms
2025-09-13 21:23:29.325 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 21:23:29.326 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:23:29.326 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:23:29.326 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:29.326 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:29.326 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:23:29.327 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:29.333 +03:00 [DBG] Connection id "0HNFIUAFU29B6", Request id "0HNFIUAFU29B6:00000005": started reading request body.
2025-09-13 21:23:29.333 +03:00 [DBG] Connection id "0HNFIUAFU29B6", Request id "0HNFIUAFU29B6:00000005": done reading request body.
2025-09-13 21:23:29.342 +03:00 [INF] Creating new user with API key: 
2025-09-13 21:23:29.343 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:23:29.348 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:23:29.350 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:29.350 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:29.350 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.351 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.351 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:29.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.351 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:23:29.352 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:23:29.352 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.352 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:29.352 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.352 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.375 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:29.408 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:29.413 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:23:29.423 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:23:29.425 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:23:29.426 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:23:29.426 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:23:29.464 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.464 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.466 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:29.466 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.468 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:23:29.468 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:23:29.472 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:23:29.474 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.474 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:23:29.475 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.475 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.481 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:29.482 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:23:29.482 +03:00 [INF] User created successfully with ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:23:29.485 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:23:29.485 +03:00 [DBG] Connection id "0HNFIUAFU29B6" completed keep alive response.
2025-09-13 21:23:29.486 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:29.486 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.486 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.486 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 160.4182ms
2025-09-13 21:23:29.488 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:23:29.488 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:29.488 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:29.488 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:29.488 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:29.488 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:29.489 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:29.490 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:29.490 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:23:29.491 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:29.491 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:29.491 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.491 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:29.491 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.491 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:29.491 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:29.491 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:29.498 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:29.502 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.502 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 10ms reading results.
2025-09-13 21:23:29.503 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:29.503 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.505 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:29.505 +03:00 [DBG] Connection id "0HNFIUAFU29B6" completed keep alive response.
2025-09-13 21:23:29.505 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:29.505 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:29.505 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:29.505 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 200 null application/json; charset=utf-8 17.9451ms
2025-09-13 21:23:32.699 +03:00 [INF] This is a test log to file!
2025-09-13 21:23:32.831 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:23:32.834 +03:00 [INF] API configured successfully.
2025-09-13 21:23:32.887 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:23:32.924 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:23:33.271 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:23:33.334 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:33.355 +03:00 [INF] Registered 23 endpoints in 591 milliseconds.
2025-09-13 21:23:33.360 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:33.402 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:33.509 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:33.524 +03:00 [DBG] Created DbConnection. (12ms).
2025-09-13 21:23:33.527 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.531 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:33.535 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-13 21:23:33.539 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:33.552 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.555 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:33.556 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.557 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:33.558 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:23:33.562 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:33.566 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:23:33.569 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-09-13 21:23:33.577 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:23:33.602 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:23:33.604 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:33.604 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:33.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:33.605 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:23:33.6040893+00:00');
SELECT changes();
2025-09-13 21:23:33.609 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:23:33.6040893+00:00');
SELECT changes();
2025-09-13 21:23:33.652 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:33.655 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:33.656 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:33.656 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:33.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:33.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:23:33.656 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:23:33.657 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:33.658 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:33.660 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:33.661 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:33.661 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:33.662 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:33.662 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:33.662 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.663 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:33.663 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.663 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:33.663 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:33.663 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:33.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:33.663 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:23:33.663 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:23:33.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:33.665 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:33.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:33.666 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:23:33.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:23:33.668 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:33.669 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:23:33.672 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:23:33.672 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:33.672 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:33.672 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:33.673 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:33.673 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:33.673 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:23:33.679 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:23:33.679 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:33.680 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:33.681 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:23:33.681 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:33.681 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:33.681 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:33.681 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:23:33.681 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:23:33.697 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:23:33.708 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:23:33.709 +03:00 [DBG] Hosting starting
2025-09-13 21:23:33.750 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:23:33.751 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:23:33.760 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:23:33.760 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:23:33.761 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:23:33.761 +03:00 [INF] Hosting environment: Development
2025-09-13 21:23:33.761 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:23:33.761 +03:00 [DBG] Hosting started
2025-09-13 21:23:36.601 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" accepted.
2025-09-13 21:23:36.601 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" started.
2025-09-13 21:23:36.620 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:23:36.652 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:23:36.653 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:23:36.667 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:23:36.669 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:23:36.693 +03:00 [INF] Api health check sent.
2025-09-13 21:23:36.695 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:23:36.695 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" completed keep alive response.
2025-09-13 21:23:36.696 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 77.5032ms
2025-09-13 21:23:36.704 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" accepted.
2025-09-13 21:23:36.704 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" started.
2025-09-13 21:23:36.705 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:23:36.706 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:36.707 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:36.708 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:36.709 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:36.710 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:36.710 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:36.722 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:36.742 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:23:36.780 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:23:36.813 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:23:36.980 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:23:37.003 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:37.003 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:37.004 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:37.006 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:37.006 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:37.006 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:37.007 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:23:37.009 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:37.013 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:37.039 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:37.061 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:37.061 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 47ms reading results.
2025-09-13 21:23:37.062 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:37.063 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:37.078 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:37.078 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:37.079 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:37.080 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:37.081 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:37.081 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 200 null application/json; charset=utf-8 375.6123ms
2025-09-13 21:23:37.135 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:23:37.135 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:23:37.135 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:23:37.136 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:37.136 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:37.137 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:23:37.139 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:37.146 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:23:37.146 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:37.146 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:37.146 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 10.9697ms
2025-09-13 21:23:38.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:23:38.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:23:38.138 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:23:38.139 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:38.139 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:38.139 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:23:38.140 +03:00 [INF] Api health check sent.
2025-09-13 21:23:38.140 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:23:38.140 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:38.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 3.3397ms
2025-09-13 21:23:40.212 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:23:40.213 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:23:40.214 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:23:40.214 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:23:40.214 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:40.214 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:40.214 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:23:40.225 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:40.239 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:23:40.240 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:23:40.248 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:23:40.385 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:23:40.389 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:23:40.438 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:23:40.498 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:23:40.499 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:23:40.505 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:23:40.506 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:40.506 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:40.506 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 293.94ms
2025-09-13 21:23:40.703 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" received FIN.
2025-09-13 21:23:40.703 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:23:40.704 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" disconnecting.
2025-09-13 21:23:40.705 +03:00 [DBG] Connection id "0HNFIUAJR5VCH" stopped.
2025-09-13 21:23:41.223 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:23:41.223 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:23:41.223 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:23:41.223 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:23:41.223 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:41.223 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:41.223 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:23:41.224 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:41.227 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:23:41.230 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:23:41.230 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:23:41.673 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:23:41.678 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:23:41.678 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:41.678 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:41.678 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 455.4815ms
2025-09-13 21:23:43.079 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:23:43.080 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:23:43.080 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:23:43.080 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.080 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.080 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:23:43.080 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:43.080 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 0.8664ms
2025-09-13 21:23:43.081 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:23:43.082 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:23:43.082 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:23:43.082 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.082 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.082 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:23:43.083 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:43.097 +03:00 [DBG] Connection id "0HNFIUAJR5VCI", Request id "0HNFIUAJR5VCI:00000007": started reading request body.
2025-09-13 21:23:43.097 +03:00 [DBG] Connection id "0HNFIUAJR5VCI", Request id "0HNFIUAJR5VCI:00000007": done reading request body.
2025-09-13 21:23:43.107 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:23:43.107 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:23:43.151 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:23:43.156 +03:00 [DBG] Saved secret profile-a8409e95-c674-4596-b256-86ef72e06558 for provider "SqlServer"
2025-09-13 21:23:43.156 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:23:43.159 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:23:43.165 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:23:43.169 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:43.169 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:43.169 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.170 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.170 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.170 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:23:43.170 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:23:43.170 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.170 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:43.170 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.170 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.194 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.218 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.220 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:23:43.232 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:23:43.236 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:23:43.237 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:23:43.238 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:23:43.280 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.281 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:23:43.282 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:23:43.287 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:23:43.289 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.289 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:23:43.290 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.290 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.297 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.297 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:23:43.298 +03:00 [INF] Profile created successfully with Id "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.300 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:23:43.300 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:43.300 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:43.300 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.300 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.300 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 219.0587ms
2025-09-13 21:23:43.303 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:23:43.303 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:43.303 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:43.303 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:43.303 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.303 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.304 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:43.304 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:43.304 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:23:43.307 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:43.308 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:43.308 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.308 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.308 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.308 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:43.308 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:43.308 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.311 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.312 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.312 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:23:43.312 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.312 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.315 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:43.315 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:43.315 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:43.315 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.315 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 200 null application/json; charset=utf-8 11.8914ms
2025-09-13 21:23:43.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:23:43.360 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:23:43.360 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:23:43.360 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:23:43.360 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.360 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.361 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:23:43.363 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:43.363 +03:00 [DBG] Connection id "0HNFIUAJR5VCJ" accepted.
2025-09-13 21:23:43.363 +03:00 [DBG] Connection id "0HNFIUAJR5VCJ" started.
2025-09-13 21:23:43.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - null null
2025-09-13 21:23:43.364 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:23:43.364 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:23:43.364 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:23:43.364 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.364 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:23:43.365 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:43.369 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:23:43.370 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:23:43.384 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:23:43.388 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:43.388 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:43.388 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:43.388 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.388 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:43.388 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.388 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.388 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.388 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.388 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.388 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.388 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.388 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.388 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.389 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.390 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.390 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.390 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:23:43.390 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:23:43.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.391 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.391 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.392 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.392 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.392 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.392 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.392 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.392 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.392 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.393 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.393 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.393 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.393 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.393 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.393 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.393 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.393 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:43.393 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:43.393 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.393 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.393 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.393 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.395 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.397 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.398 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:23:43.398 +03:00 [DBG] Connection id "0HNFIUAJR5VCJ" completed keep alive response.
2025-09-13 21:23:43.398 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:43.398 +03:00 [DBG] Fetching schema for Profile "c935cbaf-d402-49eb-b128-393109b3f1dc", ForceRefresh=false
2025-09-13 21:23:43.398 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.398 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.398 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - 200 null application/json; charset=utf-8 34.4931ms
2025-09-13 21:23:43.399 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:23:43.399 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - null null
2025-09-13 21:23:43.400 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:23:43.400 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:23:43.400 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:23:43.401 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.401 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.401 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:23:43.402 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:43.402 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:43.403 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:43.403 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.403 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.404 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.404 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.405 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:23:43.405 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.405 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.406 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:43.406 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.406 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:43.406 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.406 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.406 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.407 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.407 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.407 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:43.407 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.407 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:43.407 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.408 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:23:43.408 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.408 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:43.408 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:43.408 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.408 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:23:43.409 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:23:43.409 +03:00 [DBG] Connection id "0HNFIUAJR5VCJ" completed keep alive response.
2025-09-13 21:23:43.409 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:43.409 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.409 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.409 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - 200 null application/json; charset=utf-8 10.3208ms
2025-09-13 21:23:43.440 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:23:43.444 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:23:43.444 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:43.444 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:43.444 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:43.444 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:43.444 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 84.3825ms
2025-09-13 21:23:43.445 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:23:43.445 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:23:43.445 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:23:43.445 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:23:43.446 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:43.446 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:43.446 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:23:43.447 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:43.447 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:23:43.447 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:43.447 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:43.447 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 2.6839ms
2025-09-13 21:23:53.787 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode - null null
2025-09-13 21:23:53.788 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode'
2025-09-13 21:23:53.788 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:23:53.788 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:53.788 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:53.788 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:23:53.788 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:53.788 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode - 204 null null 0.5747ms
2025-09-13 21:23:53.789 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode - application/json 136
2025-09-13 21:23:53.789 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode'
2025-09-13 21:23:53.789 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode'
2025-09-13 21:23:53.789 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:23:53.789 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:53.789 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:53.789 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:23:53.790 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:53.792 +03:00 [DBG] Connection id "0HNFIUAJR5VCI", Request id "0HNFIUAJR5VCI:0000000C": started reading request body.
2025-09-13 21:23:53.792 +03:00 [DBG] Connection id "0HNFIUAJR5VCI", Request id "0HNFIUAJR5VCI:0000000C": done reading request body.
2025-09-13 21:23:53.796 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:53.796 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:53.796 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.796 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:53.796 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.796 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:53.797 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:53.797 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.798 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.798 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.798 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:23:53.798 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.799 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.800 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.801 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:23:53.804 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:23:53.804 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:23:53.804 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:23:53.804 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:23:53.811 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.812 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.812 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:53.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.812 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.812 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:23:53.813 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:23:53.817 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.817 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:23:53.817 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.817 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.818 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.818 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:23:53.820 +03:00 [INF] AI mode changed to "Groq" for user "3809caea-405b-4f35-9dda-26ba9741fa5d" at "2025-09-13T18:23:53.7993734Z"
2025-09-13 21:23:53.822 +03:00 [INF] API key changed for user "3809caea-405b-4f35-9dda-26ba9741fa5d" at "2025-09-13T18:23:53.7995674Z"
2025-09-13 21:23:53.822 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:23:53.822 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:53.822 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:53.822 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.822 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.822 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d/aimode - 200 null application/json; charset=utf-8 33.5713ms
2025-09-13 21:23:53.858 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:23:53.859 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:53.859 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:53.859 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:53.859 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:53.859 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:53.859 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:53.859 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:53.860 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:23:53.860 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:53.860 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:53.860 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.860 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.860 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:53.860 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.860 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.860 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:53.861 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:53.861 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.861 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.861 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.861 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:53.861 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.861 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.861 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:53.861 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:53.861 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:53.861 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.861 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 200 null application/json; charset=utf-8 3.1289ms
2025-09-13 21:23:53.915 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:23:53.915 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:23:53.915 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:53.915 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:53.915 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:53.915 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:53.916 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:53.917 +03:00 [INF] Getting all users
2025-09-13 21:23:53.920 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:23:53.920 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:23:53.930 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:23:53.933 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:53.933 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:53.933 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.933 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:53.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.933 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.933 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:53.933 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:23:53.935 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.935 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:23:53.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.936 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.937 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:23:53.937 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:53.937 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:53.937 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.938 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.939 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 23.2299ms
2025-09-13 21:23:53.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:23:53.950 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:53.950 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:23:53.950 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:53.950 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:23:53.950 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:23:53.950 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:53.951 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:53.951 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:23:53.952 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:53.952 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:53.952 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.952 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.952 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:53.952 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.952 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:53.952 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:53.952 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:23:53.952 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.952 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:23:53.953 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.953 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:23:53.953 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:53.953 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.953 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:23:53.953 +03:00 [DBG] Connection id "0HNFIUAJR5VCI" completed keep alive response.
2025-09-13 21:23:53.953 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:53.953 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:53.953 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:53.953 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 200 null application/json; charset=utf-8 3.3506ms
2025-09-13 21:23:57.133 +03:00 [INF] This is a test log to file!
2025-09-13 21:23:57.257 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:23:57.260 +03:00 [INF] API configured successfully.
2025-09-13 21:23:57.309 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:23:57.345 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:23:57.690 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:23:57.748 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:57.765 +03:00 [INF] Registered 23 endpoints in 573 milliseconds.
2025-09-13 21:23:57.770 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:57.808 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:23:57.877 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:57.885 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:23:57.887 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:57.890 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:57.891 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:23:57.892 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:57.900 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:57.904 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:57.907 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:57.908 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:57.909 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:57.910 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:23:57.916 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:57.921 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:23:57.922 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-09-13 21:23:57.927 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:23:57.948 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:23:57.950 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:57.950 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:57.950 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:57.950 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:23:57.9500954+00:00');
SELECT changes();
2025-09-13 21:23:57.954 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:23:57.9500954+00:00');
SELECT changes();
2025-09-13 21:23:57.996 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:57.999 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:58.000 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:23:58.000 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:58.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:23:58.000 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:23:58.001 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:23:58.001 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:58.002 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:58.003 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:58.006 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:23:58.006 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:23:58.007 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:23:58.007 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:23:58.007 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:58.008 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:58.008 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:58.008 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:58.008 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:58.008 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:58.009 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:58.009 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:23:58.009 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:23:58.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:23:58.011 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:58.011 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:23:58.011 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:23:58.011 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:23:58.013 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:58.015 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:23:58.018 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:23:58.018 +03:00 [DBG] Committing transaction.
2025-09-13 21:23:58.018 +03:00 [DBG] Committed transaction.
2025-09-13 21:23:58.019 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:23:58.019 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:58.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:23:58.019 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:23:58.021 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:23:58.022 +03:00 [DBG] Disposing transaction.
2025-09-13 21:23:58.022 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:23:58.024 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:23:58.025 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:23:58.025 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:23:58.025 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:23:58.025 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:23:58.025 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:23:58.039 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:23:58.053 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:23:58.054 +03:00 [DBG] Hosting starting
2025-09-13 21:23:58.095 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:23:58.096 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:23:58.105 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:23:58.105 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:23:58.105 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:23:58.105 +03:00 [INF] Hosting environment: Development
2025-09-13 21:23:58.105 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:23:58.106 +03:00 [DBG] Hosting started
2025-09-13 21:24:01.001 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" accepted.
2025-09-13 21:24:01.001 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" started.
2025-09-13 21:24:01.018 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:24:01.048 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:24:01.049 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:24:01.062 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:24:01.063 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:24:01.085 +03:00 [INF] Api health check sent.
2025-09-13 21:24:01.086 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:24:01.087 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" completed keep alive response.
2025-09-13 21:24:01.090 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" accepted.
2025-09-13 21:24:01.090 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" started.
2025-09-13 21:24:01.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:24:01.092 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:24:01.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 70.9315ms
2025-09-13 21:24:01.092 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:24:01.093 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:24:01.094 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.094 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.096 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:24:01.106 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.127 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:24:01.134 +03:00 [DBG] Connection id "0HNFIUAR3S6E4" accepted.
2025-09-13 21:24:01.134 +03:00 [DBG] Connection id "0HNFIUAR3S6E4" started.
2025-09-13 21:24:01.134 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:24:01.135 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.135 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.135 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.136 +03:00 [DBG] Connection id "0HNFIUAR3S6E5" accepted.
2025-09-13 21:24:01.136 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.136 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.136 +03:00 [DBG] Connection id "0HNFIUAR3S6E5" started.
2025-09-13 21:24:01.137 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - null null
2025-09-13 21:24:01.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:24:01.138 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:24:01.138 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.138 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.138 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.138 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.140 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.140 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.170 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:24:01.170 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:24:01.204 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:24:01.204 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:24:01.386 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:24:01.388 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:24:01.408 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:01.408 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:01.408 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:01.408 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:01.408 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:01.408 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:01.410 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.410 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.410 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.411 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.411 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.411 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.411 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.411 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.411 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.411 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.411 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.412 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:24:01.413 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.413 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:24:01.413 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.418 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.418 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.418 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:24:01.441 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:24:01.441 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:24:01.441 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:24:01.462 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.462 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.462 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 43ms reading results.
2025-09-13 21:24:01.462 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 43ms reading results.
2025-09-13 21:24:01.462 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:24:01.463 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.463 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 44ms reading results.
2025-09-13 21:24:01.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.465 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.465 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.465 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.466 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.466 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.466 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.466 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.467 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.467 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.467 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.467 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.467 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:01.467 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.467 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.472 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.473 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.473 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.473 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.473 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.473 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.473 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.473 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.474 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.474 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.474 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:01.474 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.474 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.475 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.481 +03:00 [DBG] Fetching schema for Profile "c935cbaf-d402-49eb-b128-393109b3f1dc", ForceRefresh=false
2025-09-13 21:24:01.482 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:24:01.482 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.482 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:24:01.482 +03:00 [DBG] Connection id "0HNFIUAR3S6E5" completed keep alive response.
2025-09-13 21:24:01.482 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.483 +03:00 [DBG] Connection id "0HNFIUAR3S6E6" accepted.
2025-09-13 21:24:01.483 +03:00 [DBG] Connection id "0HNFIUAR3S6E6" started.
2025-09-13 21:24:01.483 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.483 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.485 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.485 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.486 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.486 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 200 null application/json; charset=utf-8 395.3051ms
2025-09-13 21:24:01.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - 200 null application/json; charset=utf-8 349.0514ms
2025-09-13 21:24:01.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - null null
2025-09-13 21:24:01.487 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:24:01.487 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:24:01.487 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.488 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.488 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.488 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.489 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.491 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:01.491 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:01.491 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.491 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.492 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.493 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:24:01.493 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.493 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:01.493 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.493 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.494 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.494 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.494 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.494 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.495 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.495 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.495 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.496 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.496 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:01.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.496 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.496 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.497 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.497 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.497 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.497 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.497 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.497 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - 200 null application/json; charset=utf-8 10.7364ms
2025-09-13 21:24:01.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - null null
2025-09-13 21:24:01.532 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:24:01.532 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc'
2025-09-13 21:24:01.532 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.532 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.532 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.532 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.533 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.533 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:01.533 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:01.533 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.533 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.533 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.533 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.533 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.534 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:24:01.534 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.534 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:01.534 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.534 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.534 +03:00 [INF] Fetching connection string for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.535 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.535 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.535 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:01.535 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.535 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:01.535 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:24:01.535 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.535 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:01.535 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:01.535 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.536 +03:00 [DBG] Fetched secret for profile "c935cbaf-d402-49eb-b128-393109b3f1dc"
2025-09-13 21:24:01.536 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:24:01.536 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.536 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.536 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.536 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/c935cbaf-d402-49eb-b128-393109b3f1dc - 200 null application/json; charset=utf-8 4.9004ms
2025-09-13 21:24:01.553 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:24:01.558 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:24:01.559 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.559 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.559 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.559 +03:00 [DBG] Connection id "0HNFIUAR3S6E4" completed keep alive response.
2025-09-13 21:24:01.560 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.560 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.560 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.560 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:01.560 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:01.560 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.560 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 425.2425ms
2025-09-13 21:24:01.561 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.562 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.562 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.562 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.562 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 3.7286ms
2025-09-13 21:24:01.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:24:01.563 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.563 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.563 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.564 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.564 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.564 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.564 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.565 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.565 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.565 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.565 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 1.6238ms
2025-09-13 21:24:01.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:24:01.566 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.566 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.566 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.566 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.566 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.566 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.567 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.568 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.568 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.568 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.568 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 2.3937ms
2025-09-13 21:24:01.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:24:01.569 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.569 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.569 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.570 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.570 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.570 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.570 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.571 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.571 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.571 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 1.8282ms
2025-09-13 21:24:01.572 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - null null
2025-09-13 21:24:01.572 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.572 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema'
2025-09-13 21:24:01.572 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.572 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:01.572 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:01.572 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.573 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:01.574 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:24:01.574 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:01.574 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:01.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/c935cbaf-d402-49eb-b128-393109b3f1dc/schema - 200 null application/json; charset=utf-8 2.3865ms
2025-09-13 21:24:05.088 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" received FIN.
2025-09-13 21:24:05.089 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:24:05.089 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" disconnecting.
2025-09-13 21:24:05.090 +03:00 [DBG] Connection id "0HNFIUAR3S6E2" stopped.
2025-09-13 21:24:08.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:24:08.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:24:08.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:24:08.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:08.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:08.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:24:08.194 +03:00 [INF] Api health check sent.
2025-09-13 21:24:08.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:24:08.194 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:08.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 2.2865ms
2025-09-13 21:24:38.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:24:38.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:24:38.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:24:38.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:38.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:38.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:24:38.193 +03:00 [INF] Api health check sent.
2025-09-13 21:24:38.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:24:38.194 +03:00 [DBG] Connection id "0HNFIUAR3S6E3" completed keep alive response.
2025-09-13 21:24:38.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.9025ms
2025-09-13 21:24:54.412 +03:00 [INF] This is a test log to file!
2025-09-13 21:24:54.556 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:24:54.558 +03:00 [INF] API configured successfully.
2025-09-13 21:24:54.616 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:24:54.667 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:24:55.072 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:24:55.148 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:55.168 +03:00 [INF] Registered 23 endpoints in 682 milliseconds.
2025-09-13 21:24:55.174 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:55.212 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:55.284 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:55.292 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:24:55.295 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.298 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:55.300 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:24:55.301 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.306 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.307 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.310 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:55.310 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.316 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:55.320 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.323 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-13 21:24:55.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-13 21:24:55.329 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:24:55.360 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:24:55.362 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:55.365 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:24:55.365 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.365 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:55.367 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:24:55.369 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:24:55.369 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.370 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.370 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:24:55.376 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:24:55.377 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.377 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.377 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:24:55.386 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:24:55.387 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:24:55.387 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.387 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.387 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:24:55.3869127+00:00');
SELECT changes();
2025-09-13 21:24:55.390 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:24:55.3869127+00:00');
SELECT changes();
2025-09-13 21:24:55.430 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:24:55.432 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:24:55.433 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.433 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.433 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.433 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:24:55.433 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:24:55.434 +03:00 [DBG] Committing transaction.
2025-09-13 21:24:55.437 +03:00 [DBG] Committed transaction.
2025-09-13 21:24:55.439 +03:00 [DBG] Disposing transaction.
2025-09-13 21:24:55.440 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:24:55.441 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:24:55.442 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:55.442 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:55.442 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.442 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:55.443 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.443 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:55.443 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:24:55.443 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.443 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:24:55.443 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:24:55.445 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:55.445 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:55.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:55.446 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:24:55.447 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:24:55.449 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:55.450 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:24:55.455 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:24:55.467 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.467 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.467 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:24:55.467 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:24:55.468 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.468 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.468 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.468 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:24:55.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:24:55.469 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.469 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.469 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.469 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:24:55.469 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:24:55.469 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.469 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.469 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.469 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:24:55.469 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:24:55.470 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:24:55.475 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.475 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.476 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:24:55.476 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:24:55.476 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.476 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.477 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:24:55.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:24:55.477 +03:00 [DBG] Committing transaction.
2025-09-13 21:24:55.485 +03:00 [DBG] Committed transaction.
2025-09-13 21:24:55.485 +03:00 [DBG] Disposing transaction.
2025-09-13 21:24:55.485 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.485 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.485 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.485 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:24:55.486 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:24:55.486 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:24:55.486 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:24:55.486 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.486 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.487 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:24:55.487 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:24:55.487 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.487 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.487 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:24:55.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:24:55.489 +03:00 [DBG] Committing transaction.
2025-09-13 21:24:55.492 +03:00 [DBG] Committed transaction.
2025-09-13 21:24:55.492 +03:00 [DBG] Disposing transaction.
2025-09-13 21:24:55.492 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.492 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.492 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:24:55.492 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:24:55.492 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.492 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.492 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:24:55.494 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:24:55.495 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:24:55.498 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:24:55.499 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:24:55.499 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.499 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.499 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:24:55.500 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:24:55.500 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.500 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.501 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:24:55.501 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:24:55.501 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:24:55.509 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:24:55.509 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.509 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.509 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.509 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:24:55.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:24:55.510 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.510 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.510 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:24:55.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:24:55.510 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.510 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.510 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:24:55.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:24:55.510 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.510 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.510 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:24:55.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:24:55.510 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.511 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.511 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.511 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:24:55.511 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:24:55.511 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.511 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.511 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.511 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:24:55.511 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:24:55.511 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.511 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.511 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.511 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:24:55.511 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:24:55.511 +03:00 [DBG] Committing transaction.
2025-09-13 21:24:55.514 +03:00 [DBG] Committed transaction.
2025-09-13 21:24:55.514 +03:00 [DBG] Disposing transaction.
2025-09-13 21:24:55.514 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.514 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.514 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:24:55.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:24:55.514 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:24:55.515 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:24:55.515 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.515 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.515 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:24:55.515 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:24:55.515 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.515 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.515 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:24:55.515 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:24:55.515 +03:00 [DBG] Committing transaction.
2025-09-13 21:24:55.518 +03:00 [DBG] Committed transaction.
2025-09-13 21:24:55.518 +03:00 [DBG] Disposing transaction.
2025-09-13 21:24:55.518 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.518 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.518 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:24:55.518 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:24:55.518 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:24:55.518 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:24:55.518 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.518 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.518 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:24:55.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:24:55.519 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.519 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.519 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.519 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:24:55.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:24:55.519 +03:00 [DBG] Committing transaction.
2025-09-13 21:24:55.521 +03:00 [DBG] Committed transaction.
2025-09-13 21:24:55.521 +03:00 [DBG] Disposing transaction.
2025-09-13 21:24:55.521 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:24:55.521 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.521 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:24:55.521 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:24:55.524 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:24:55.524 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:24:55.524 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.524 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:24:55.524 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:24:55.527 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:24:55.527 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:55.527 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:55.527 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:55.527 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:55.527 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:55.527 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:24:55.527 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:24:55.550 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:24:55.566 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:24:55.568 +03:00 [DBG] Hosting starting
2025-09-13 21:24:55.614 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:24:55.617 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:24:55.630 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:24:55.630 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:24:55.630 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:24:55.630 +03:00 [INF] Hosting environment: Development
2025-09-13 21:24:55.630 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:24:55.630 +03:00 [DBG] Hosting started
2025-09-13 21:24:55.770 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" accepted.
2025-09-13 21:24:55.771 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" started.
2025-09-13 21:24:55.800 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:24:55.861 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:24:55.862 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:55.883 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:55.883 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:55.884 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:24:55.885 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:55.897 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:55.913 +03:00 [INF] Getting all users
2025-09-13 21:24:55.941 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:24:55.987 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:24:56.283 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:24:56.306 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:56.306 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:56.308 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:56.309 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:56.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:56.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:56.309 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:24:56.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:24:56.315 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.316 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:24:56.318 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.318 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:56.376 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.380 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:24:56.382 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:56.390 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:56.390 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:24:56.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 593.5149ms
2025-09-13 21:24:56.434 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:24:56.435 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:24:56.435 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.437 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:56.437 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:56.441 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.443 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:56.443 +03:00 [INF] Getting all users
2025-09-13 21:24:56.449 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:56.449 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:56.449 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:56.449 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.449 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:56.449 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:56.449 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:56.449 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:24:56.450 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:24:56.452 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.452 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:24:56.452 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.453 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:56.453 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.454 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:24:56.454 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:56.454 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:56.454 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:56.454 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 20.6688ms
2025-09-13 21:24:56.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:24:56.508 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:24:56.508 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.509 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:24:56.509 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:24:56.512 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.513 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:24:56.513 +03:00 [INF] Getting all users
2025-09-13 21:24:56.515 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:24:56.515 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:24:56.515 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:56.515 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.515 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:24:56.516 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:56.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:24:56.516 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:24:56.517 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:24:56.518 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.518 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:24:56.518 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:24:56.518 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:56.519 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:24:56.519 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:24:56.519 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:24:56.520 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:24:56.520 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:24:56.520 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 12.5289ms
2025-09-13 21:25:07.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - null null
2025-09-13 21:25:07.729 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:25:07.730 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d'
2025-09-13 21:25:07.730 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:07.730 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:07.730 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:07.730 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:07.731 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:07.748 +03:00 [INF] Getting user by ID: "3809caea-405b-4f35-9dda-26ba9741fa5d"
2025-09-13 21:25:07.754 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:25:07.759 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:25:07.787 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:25:07.793 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:07.793 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:07.794 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:07.794 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:07.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.795 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:07.800 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:07.800 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.800 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:07.800 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.800 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:07.800 +03:00 [WRN] User with ID "3809caea-405b-4f35-9dda-26ba9741fa5d" not found
2025-09-13 21:25:07.802 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:07.804 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID 3809caea-405b-4f35-9dda-26ba9741fa5d not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:25:07.816 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:25:07.822 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:25:07.822 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:07.822 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:07.822 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:07.822 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/3809caea-405b-4f35-9dda-26ba9741fa5d - 500 null application/json; charset=utf-8 93.3249ms
2025-09-13 21:25:07.825 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:25:07.825 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:25:07.825 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:25:07.826 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:07.826 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:07.826 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:25:07.827 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:25:07.827 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 2.2996ms
2025-09-13 21:25:07.829 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 21:25:07.829 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:25:07.829 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:25:07.829 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:07.829 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:07.829 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:25:07.830 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:07.835 +03:00 [DBG] Connection id "0HNFIUBBE6EHD", Request id "0HNFIUBBE6EHD:00000006": started reading request body.
2025-09-13 21:25:07.835 +03:00 [DBG] Connection id "0HNFIUBBE6EHD", Request id "0HNFIUBBE6EHD:00000006": done reading request body.
2025-09-13 21:25:07.844 +03:00 [INF] Creating new user with API key: 
2025-09-13 21:25:07.845 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:25:07.850 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:25:07.852 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:07.852 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:07.852 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:07.852 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:07.852 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.852 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:25:07.853 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:25:07.853 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:07.853 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.853 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:07.877 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:07.914 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:07.917 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:25:07.928 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:25:07.931 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:25:07.932 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:25:07.932 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:25:07.968 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:07.968 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:07.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:25:07.970 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:25:07.978 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:25:07.980 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.980 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:25:07.980 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.980 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:07.986 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:07.987 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:25:07.987 +03:00 [INF] User created successfully with ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:25:07.989 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:25:07.989 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:25:07.989 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:07.989 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:07.989 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:07.989 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 160.4872ms
2025-09-13 21:25:07.992 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:25:07.992 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:25:07.992 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:25:07.992 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:07.992 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:07.992 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:07.992 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:07.993 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:07.993 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:25:07.994 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:07.994 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:07.994 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:07.994 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:07.994 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:07.994 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.994 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:07.994 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:07.994 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:08.000 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:08.004 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:08.004 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 9ms reading results.
2025-09-13 21:25:08.004 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:08.004 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:08.008 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:08.009 +03:00 [DBG] Connection id "0HNFIUBBE6EHD" completed keep alive response.
2025-09-13 21:25:08.009 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:08.009 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:08.009 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:08.009 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 200 null application/json; charset=utf-8 16.9637ms
2025-09-13 21:25:11.201 +03:00 [INF] This is a test log to file!
2025-09-13 21:25:11.333 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:25:11.335 +03:00 [INF] API configured successfully.
2025-09-13 21:25:11.387 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:25:11.423 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:25:11.762 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:25:11.823 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:11.842 +03:00 [INF] Registered 23 endpoints in 576 milliseconds.
2025-09-13 21:25:11.846 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:11.884 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:11.959 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:11.969 +03:00 [DBG] Created DbConnection. (8ms).
2025-09-13 21:25:11.971 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:11.974 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:11.976 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:25:11.977 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:11.984 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:11.987 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:11.990 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:11.990 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:11.991 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:11.992 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:25:11.995 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:25:11.999 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:25:12.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:25:12.005 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:25:12.028 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:25:12.029 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:25:12.029 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:25:12.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:25:12.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:25:12.0295507+00:00');
SELECT changes();
2025-09-13 21:25:12.036 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:25:12.0295507+00:00');
SELECT changes();
2025-09-13 21:25:12.074 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:25:12.077 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:25:12.078 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:25:12.078 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:25:12.078 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:25:12.078 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:25:12.078 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:25:12.079 +03:00 [DBG] Committing transaction.
2025-09-13 21:25:12.079 +03:00 [DBG] Committed transaction.
2025-09-13 21:25:12.081 +03:00 [DBG] Disposing transaction.
2025-09-13 21:25:12.082 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:25:12.082 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:25:12.083 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:12.083 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:12.083 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:12.084 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:12.084 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:12.084 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:12.084 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:25:12.084 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:25:12.084 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:25:12.084 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:25:12.084 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:25:12.085 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:12.085 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:12.085 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:12.085 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:25:12.086 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:25:12.088 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:12.089 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:25:12.092 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:25:12.092 +03:00 [DBG] Committing transaction.
2025-09-13 21:25:12.092 +03:00 [DBG] Committed transaction.
2025-09-13 21:25:12.093 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:25:12.093 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:25:12.093 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:25:12.093 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:25:12.100 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:25:12.100 +03:00 [DBG] Disposing transaction.
2025-09-13 21:25:12.101 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:12.103 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:25:12.103 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:12.103 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:12.103 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:12.103 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:25:12.103 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:25:12.116 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:25:12.128 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:25:12.129 +03:00 [DBG] Hosting starting
2025-09-13 21:25:12.171 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:25:12.172 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:25:12.180 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:25:12.180 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:25:12.180 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:25:12.180 +03:00 [INF] Hosting environment: Development
2025-09-13 21:25:12.180 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:25:12.180 +03:00 [DBG] Hosting started
2025-09-13 21:25:15.109 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" accepted.
2025-09-13 21:25:15.109 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" started.
2025-09-13 21:25:15.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:25:15.163 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:25:15.164 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:25:15.179 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:25:15.181 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:25:15.205 +03:00 [INF] Api health check sent.
2025-09-13 21:25:15.206 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:25:15.206 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" completed keep alive response.
2025-09-13 21:25:15.207 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 80.8037ms
2025-09-13 21:25:15.215 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" accepted.
2025-09-13 21:25:15.215 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" started.
2025-09-13 21:25:15.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:25:15.217 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:25:15.218 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:25:15.218 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:15.219 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:15.219 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:15.221 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:15.231 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:15.250 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:25:15.288 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:25:15.316 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:25:15.481 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:25:15.503 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:15.504 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:15.505 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:15.507 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:15.507 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:15.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:15.508 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:25:15.509 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:15.514 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:15.540 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:15.560 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:15.561 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 47ms reading results.
2025-09-13 21:25:15.562 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:15.563 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:15.578 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:15.579 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:15.580 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:15.582 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:15.582 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:15.585 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 200 null application/json; charset=utf-8 365.789ms
2025-09-13 21:25:15.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:25:15.633 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:25:15.633 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:25:15.634 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:15.634 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:15.635 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:25:15.637 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:15.643 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:25:15.644 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:15.644 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:15.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 11.1192ms
2025-09-13 21:25:16.635 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:25:16.635 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:25:16.635 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:25:16.635 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:16.635 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:16.635 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:25:16.635 +03:00 [INF] Api health check sent.
2025-09-13 21:25:16.635 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:25:16.636 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:16.636 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.0502ms
2025-09-13 21:25:19.216 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" received FIN.
2025-09-13 21:25:19.216 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:25:19.216 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" disconnecting.
2025-09-13 21:25:19.217 +03:00 [DBG] Connection id "0HNFIUBH6K9D0" stopped.
2025-09-13 21:25:31.029 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:25:31.030 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:25:31.030 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:25:31.030 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:25:31.030 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:31.030 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:31.030 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:25:31.041 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:31.051 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:25:31.053 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:25:31.060 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:25:31.208 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:25:31.212 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:25:31.270 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:25:31.333 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:25:31.333 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:25:31.339 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:25:31.341 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:31.341 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:31.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 312.8964ms
2025-09-13 21:25:31.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:25:31.970 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:25:31.970 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:25:31.970 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:25:31.970 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:31.970 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:31.970 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:25:31.971 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:31.975 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:25:31.977 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:25:31.978 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:25:32.423 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:25:32.427 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:25:32.427 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:32.427 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:32.428 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 457.8545ms
2025-09-13 21:25:34.068 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:25:34.068 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:25:34.068 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:25:34.068 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.068 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.068 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:25:34.069 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:34.069 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 1.0034ms
2025-09-13 21:25:34.070 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:25:34.070 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:25:34.070 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:25:34.070 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.070 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.070 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:25:34.071 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:34.083 +03:00 [DBG] Connection id "0HNFIUBH6K9D1", Request id "0HNFIUBH6K9D1:00000007": started reading request body.
2025-09-13 21:25:34.083 +03:00 [DBG] Connection id "0HNFIUBH6K9D1", Request id "0HNFIUBH6K9D1:00000007": done reading request body.
2025-09-13 21:25:34.094 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:25:34.095 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:25:34.137 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:25:34.141 +03:00 [DBG] Saved secret profile-4866ec7d-4b4f-4a06-8f96-1fe86e4100e2 for provider "SqlServer"
2025-09-13 21:25:34.142 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:25:34.144 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:25:34.151 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:25:34.155 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:34.155 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:34.155 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.155 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.156 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.156 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.156 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.156 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:25:34.156 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:25:34.156 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.156 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:34.156 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.156 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.180 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.203 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.206 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:25:34.219 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:25:34.222 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:25:34.223 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:25:34.223 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:25:34.261 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.261 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.263 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.264 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:25:34.264 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:25:34.273 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:25:34.276 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.276 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:25:34.276 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.276 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.281 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.282 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:25:34.282 +03:00 [INF] Profile created successfully with Id "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.284 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:25:34.284 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:34.284 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:34.284 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.284 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.284 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 214.2519ms
2025-09-13 21:25:34.286 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:25:34.286 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:25:34.286 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:25:34.286 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:34.286 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.286 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.286 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:34.287 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:34.288 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:25:34.290 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:34.290 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:34.290 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.290 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.290 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.290 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.290 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:34.291 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:25:34.291 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.295 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.296 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.296 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 5ms reading results.
2025-09-13 21:25:34.296 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.296 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.297 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:25:34.298 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:34.298 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:34.298 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.298 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.298 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 200 null application/json; charset=utf-8 11.7616ms
2025-09-13 21:25:34.345 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:25:34.345 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:25:34.345 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:25:34.345 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:25:34.345 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.345 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.345 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:25:34.347 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:34.349 +03:00 [DBG] Connection id "0HNFIUBH6K9D2" accepted.
2025-09-13 21:25:34.349 +03:00 [DBG] Connection id "0HNFIUBH6K9D2" started.
2025-09-13 21:25:34.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - null null
2025-09-13 21:25:34.349 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:25:34.349 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:25:34.350 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:25:34.350 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.350 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.350 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:25:34.350 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:34.354 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:25:34.354 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:25:34.370 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:25:34.373 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:34.373 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:34.373 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:34.374 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.374 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:34.374 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.374 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.374 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.374 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.374 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.374 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.374 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.374 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.374 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.374 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.374 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.375 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.376 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.376 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.376 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:25:34.376 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:34.376 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.376 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.376 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.376 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.377 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.377 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.378 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.378 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.378 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.378 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.378 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.378 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.379 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.379 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.379 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.379 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.379 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.380 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:34.380 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.380 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.380 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:34.380 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.380 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.380 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.382 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.383 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:25:34.383 +03:00 [DBG] Connection id "0HNFIUBH6K9D2" completed keep alive response.
2025-09-13 21:25:34.383 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:34.383 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.383 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.384 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - 200 null application/json; charset=utf-8 34.8024ms
2025-09-13 21:25:34.385 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.385 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - null null
2025-09-13 21:25:34.387 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:25:34.387 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:25:34.387 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:25:34.387 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.387 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.387 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:25:34.388 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:34.388 +03:00 [DBG] Fetching schema for Profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513", ForceRefresh=false
2025-09-13 21:25:34.389 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:25:34.389 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:25:34.389 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.389 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.390 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.390 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:25:34.390 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.391 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:25:34.391 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.391 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:34.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.392 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.392 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.392 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.392 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.392 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:25:34.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.392 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:25:34.393 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:25:34.393 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.393 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:25:34.393 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:25:34.393 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.394 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:25:34.394 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:25:34.394 +03:00 [DBG] Connection id "0HNFIUBH6K9D2" completed keep alive response.
2025-09-13 21:25:34.394 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:34.394 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.394 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.394 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - 200 null application/json; charset=utf-8 8.6459ms
2025-09-13 21:25:34.424 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:25:34.429 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:25:34.429 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:34.429 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:34.429 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:25:34.429 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:25:34.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 84.2564ms
2025-09-13 21:25:34.430 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:25:34.431 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:25:34.431 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:25:34.431 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:25:34.431 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:34.431 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:34.431 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:25:34.432 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:25:34.432 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:25:34.433 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:34.433 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:25:34.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 2.3905ms
2025-09-13 21:25:47.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:25:47.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:25:47.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:25:47.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:25:47.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:25:47.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:25:47.193 +03:00 [INF] Api health check sent.
2025-09-13 21:25:47.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:25:47.193 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:25:47.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5172ms
2025-09-13 21:26:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:26:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:26:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:26:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:26:17.193 +03:00 [INF] Api health check sent.
2025-09-13 21:26:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:26:17.193 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:26:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4839ms
2025-09-13 21:26:22.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode - null null
2025-09-13 21:26:22.874 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode'
2025-09-13 21:26:22.874 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:26:22.874 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:22.874 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:22.874 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:26:22.874 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:26:22.874 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode - 204 null null 0.6696ms
2025-09-13 21:26:22.875 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode - application/json 136
2025-09-13 21:26:22.875 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode'
2025-09-13 21:26:22.876 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode'
2025-09-13 21:26:22.876 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:26:22.876 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:22.876 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:22.876 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:26:22.877 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:22.879 +03:00 [DBG] Connection id "0HNFIUBH6K9D1", Request id "0HNFIUBH6K9D1:0000000E": started reading request body.
2025-09-13 21:26:22.879 +03:00 [DBG] Connection id "0HNFIUBH6K9D1", Request id "0HNFIUBH6K9D1:0000000E": done reading request body.
2025-09-13 21:26:22.883 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:22.883 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:22.883 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:22.883 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:22.883 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:22.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:22.884 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:22.884 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:22.884 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:22.885 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:22.885 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.885 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:26:22.885 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.885 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:22.887 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:22.889 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:26:22.895 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:26:22.897 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:26:22.897 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:26:22.898 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:26:22.908 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:22.908 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.909 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:22.909 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:22.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:26:22.910 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:26:22.911 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:26:22.916 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.916 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 5ms reading results.
2025-09-13 21:26:22.916 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.916 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:22.917 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:22.917 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:26:22.919 +03:00 [INF] AI mode changed to "Groq" for user "e688b692-74e0-4fcb-8ff6-c2f28ae280ec" at "2025-09-13T18:26:22.8863349Z"
2025-09-13 21:26:22.920 +03:00 [INF] API key changed for user "e688b692-74e0-4fcb-8ff6-c2f28ae280ec" at "2025-09-13T18:26:22.8865745Z"
2025-09-13 21:26:22.920 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:26:22.920 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:26:22.920 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:22.920 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:22.920 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:22.920 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec/aimode - 200 null application/json; charset=utf-8 44.6347ms
2025-09-13 21:26:22.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:26:22.964 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:26:22.964 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:26:22.964 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:22.965 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:22.965 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:22.965 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:22.965 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:22.966 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:26:22.966 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:22.966 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:22.966 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:22.966 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.966 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:22.966 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:22.966 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:22.966 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:22.967 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:22.967 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:22.967 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:22.967 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.967 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:22.967 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:22.967 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:22.967 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:22.967 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:26:22.967 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:22.967 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:22.967 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:22.967 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 200 null application/json; charset=utf-8 3.1798ms
2025-09-13 21:26:23.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:26:23.030 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:26:23.030 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:26:23.030 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:23.030 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:23.030 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:26:23.031 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:23.032 +03:00 [INF] Getting all users
2025-09-13 21:26:23.034 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:26:23.035 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:26:23.047 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:26:23.049 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:23.049 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:23.049 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:23.049 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:23.050 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:23.050 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:23.050 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:23.050 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:26:23.050 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:26:23.052 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:23.052 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:26:23.052 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:23.053 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:23.053 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:26:23.053 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:26:23.054 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:23.054 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:23.054 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:23.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 23.669ms
2025-09-13 21:26:23.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:26:23.066 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:26:23.066 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:26:23.066 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:23.067 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:23.067 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:23.067 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:23.067 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:23.068 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:26:23.068 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:23.068 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:23.068 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:23.068 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:23.068 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:23.068 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:23.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:23.069 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:23.069 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:23.069 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:23.069 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:23.069 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:23.069 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:23.069 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:23.069 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:23.069 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:23.069 +03:00 [DBG] Connection id "0HNFIUBH6K9D1" completed keep alive response.
2025-09-13 21:26:23.069 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:23.069 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:23.069 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:23.070 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 200 null application/json; charset=utf-8 3.4628ms
2025-09-13 21:26:26.276 +03:00 [INF] This is a test log to file!
2025-09-13 21:26:26.395 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:26:26.397 +03:00 [INF] API configured successfully.
2025-09-13 21:26:26.444 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:26:26.480 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:26:26.812 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:26:26.871 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:26.888 +03:00 [INF] Registered 23 endpoints in 554 milliseconds.
2025-09-13 21:26:26.893 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:26.928 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:26.998 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:27.007 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:26:27.009 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.011 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:27.013 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:26:27.013 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.019 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:27.021 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.024 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:27.024 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.025 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:27.027 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:26:27.029 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:26:27.033 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:26:27.034 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:26:27.038 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:26:27.057 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:26:27.058 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:26:27.058 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:26:27.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:26:27.058 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:26:27.0584675+00:00');
SELECT changes();
2025-09-13 21:26:27.062 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:26:27.0584675+00:00');
SELECT changes();
2025-09-13 21:26:27.104 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:26:27.107 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:26:27.107 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:26:27.108 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:26:27.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:26:27.108 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:26:27.108 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:26:27.109 +03:00 [DBG] Committing transaction.
2025-09-13 21:26:27.110 +03:00 [DBG] Committed transaction.
2025-09-13 21:26:27.111 +03:00 [DBG] Disposing transaction.
2025-09-13 21:26:27.112 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:26:27.112 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:26:27.113 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:27.113 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:27.113 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.114 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:27.114 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.114 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:27.114 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:26:27.114 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:26:27.114 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:26:27.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:26:27.114 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:26:27.116 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:27.116 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:27.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:27.116 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:26:27.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:26:27.119 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:27.120 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:26:27.125 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:26:27.125 +03:00 [DBG] Committing transaction.
2025-09-13 21:26:27.125 +03:00 [DBG] Committed transaction.
2025-09-13 21:26:27.125 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:26:27.125 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:26:27.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:26:27.126 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:26:27.128 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:26:27.128 +03:00 [DBG] Disposing transaction.
2025-09-13 21:26:27.129 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:27.132 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:26:27.132 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:27.132 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:27.132 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:27.132 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:26:27.132 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:26:27.146 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:26:27.156 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:26:27.157 +03:00 [DBG] Hosting starting
2025-09-13 21:26:27.194 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:26:27.195 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:26:27.203 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:26:27.203 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:26:27.203 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:26:27.203 +03:00 [INF] Hosting environment: Development
2025-09-13 21:26:27.203 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:26:27.204 +03:00 [DBG] Hosting started
2025-09-13 21:26:30.197 +03:00 [DBG] Connection id "0HNFIUC7INB6D" accepted.
2025-09-13 21:26:30.198 +03:00 [DBG] Connection id "0HNFIUC7INB6D" started.
2025-09-13 21:26:30.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:26:30.240 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:26:30.241 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:26:30.255 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:26:30.257 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:26:30.278 +03:00 [INF] Api health check sent.
2025-09-13 21:26:30.279 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:26:30.280 +03:00 [DBG] Connection id "0HNFIUC7INB6D" completed keep alive response.
2025-09-13 21:26:30.283 +03:00 [DBG] Connection id "0HNFIUC7INB6E" accepted.
2025-09-13 21:26:30.280 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 68.9935ms
2025-09-13 21:26:30.283 +03:00 [DBG] Connection id "0HNFIUC7INB6E" started.
2025-09-13 21:26:30.284 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:26:30.285 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:26:30.286 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:26:30.286 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:30.287 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.287 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.288 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:30.297 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.316 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:26:30.334 +03:00 [DBG] Connection id "0HNFIUC7INB6F" accepted.
2025-09-13 21:26:30.335 +03:00 [DBG] Connection id "0HNFIUC7INB6F" started.
2025-09-13 21:26:30.335 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:26:30.335 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.335 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.336 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.337 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.337 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.337 +03:00 [DBG] Connection id "0HNFIUC7INB6G" accepted.
2025-09-13 21:26:30.337 +03:00 [DBG] Connection id "0HNFIUC7INB6G" started.
2025-09-13 21:26:30.338 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.338 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - null null
2025-09-13 21:26:30.338 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:26:30.339 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:26:30.339 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.339 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.339 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.339 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.341 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.341 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.358 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:26:30.358 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:26:30.389 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:26:30.389 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:26:30.555 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:26:30.555 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:26:30.580 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:30.580 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:30.580 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:30.580 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:30.580 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:30.580 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:30.582 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.582 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.582 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.583 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.583 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.584 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:26:30.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:26:30.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:30.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.593 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.593 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:26:30.593 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.621 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:30.621 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:30.621 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:30.645 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.645 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.646 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 52ms reading results.
2025-09-13 21:26:30.646 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 52ms reading results.
2025-09-13 21:26:30.647 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:30.647 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.647 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.647 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.647 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 54ms reading results.
2025-09-13 21:26:30.648 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.648 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.648 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.648 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.649 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.650 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.651 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.651 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.652 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:30.652 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.652 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.656 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.657 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.658 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.658 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.658 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.658 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.658 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.658 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.659 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.659 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.659 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:30.659 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.659 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.660 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.667 +03:00 [DBG] Fetching schema for Profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513", ForceRefresh=false
2025-09-13 21:26:30.667 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:26:30.667 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.668 +03:00 [DBG] Connection id "0HNFIUC7INB6E" completed keep alive response.
2025-09-13 21:26:30.668 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:30.668 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.668 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.669 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:26:30.671 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.671 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.671 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.671 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.672 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 200 null application/json; charset=utf-8 387.9333ms
2025-09-13 21:26:30.672 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - 200 null application/json; charset=utf-8 334.1965ms
2025-09-13 21:26:30.672 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - null null
2025-09-13 21:26:30.673 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:26:30.674 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:26:30.674 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.674 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.674 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.674 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.676 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.678 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:30.678 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:30.678 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.678 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.678 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.679 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.679 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.679 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:30.680 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.680 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:30.680 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.680 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.680 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.681 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.681 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.681 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.681 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.681 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.681 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.682 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.682 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.682 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:30.682 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.682 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.682 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.683 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.683 +03:00 [DBG] Connection id "0HNFIUC7INB6E" completed keep alive response.
2025-09-13 21:26:30.683 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.683 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.683 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.683 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - 200 null application/json; charset=utf-8 10.8177ms
2025-09-13 21:26:30.747 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:26:30.750 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - null null
2025-09-13 21:26:30.751 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:26:30.751 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513'
2025-09-13 21:26:30.751 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.751 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.751 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.751 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.753 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.753 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.754 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:26:30.754 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:26:30.754 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.754 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.754 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:26:30.754 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.754 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.755 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.755 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:26:30.755 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.755 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.755 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.755 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.755 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:30.755 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.755 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.755 +03:00 [DBG] Connection id "0HNFIUC7INB6F" completed keep alive response.
2025-09-13 21:26:30.755 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.755 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.755 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.755 +03:00 [INF] Fetching connection string for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.756 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.756 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.756 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.756 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 420.5991ms
2025-09-13 21:26:30.756 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.756 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.756 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:26:30.756 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:26:30.756 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.756 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.756 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:26:30.757 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.757 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.757 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:26:30.757 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:30.757 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:26:30.757 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.757 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 2.8143ms
2025-09-13 21:26:30.758 +03:00 [DBG] Fetched secret for profile "61501d10-a4ef-48ce-85d4-9dc5e8f52513"
2025-09-13 21:26:30.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:26:30.758 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:26:30.758 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.758 +03:00 [DBG] Connection id "0HNFIUC7INB6E" completed keep alive response.
2025-09-13 21:26:30.759 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.759 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.759 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.759 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:26:30.759 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:26:30.759 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.759 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.759 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/61501d10-a4ef-48ce-85d4-9dc5e8f52513 - 200 null application/json; charset=utf-8 8.5134ms
2025-09-13 21:26:30.759 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.760 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.761 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.761 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:30.761 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 2.9325ms
2025-09-13 21:26:30.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:26:30.762 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.762 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.762 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.762 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.762 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.762 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.763 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.763 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.763 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:30.763 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.763 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 1.6595ms
2025-09-13 21:26:30.765 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:26:30.765 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.765 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.765 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.765 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.765 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.766 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.767 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.767 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.767 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:30.767 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.767 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 2.4922ms
2025-09-13 21:26:30.768 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - null null
2025-09-13 21:26:30.768 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.768 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema'
2025-09-13 21:26:30.768 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.768 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:30.768 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:30.768 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.770 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:26:30.771 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:26:30.771 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:30.771 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:26:30.771 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/61501d10-a4ef-48ce-85d4-9dc5e8f52513/schema - 200 null application/json; charset=utf-8 3.0603ms
2025-09-13 21:26:34.280 +03:00 [DBG] Connection id "0HNFIUC7INB6D" received FIN.
2025-09-13 21:26:34.281 +03:00 [DBG] Connection id "0HNFIUC7INB6D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:26:34.281 +03:00 [DBG] Connection id "0HNFIUC7INB6D" disconnecting.
2025-09-13 21:26:34.282 +03:00 [DBG] Connection id "0HNFIUC7INB6D" stopped.
2025-09-13 21:26:47.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:26:47.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:26:47.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:26:47.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:26:47.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:26:47.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:26:47.194 +03:00 [INF] Api health check sent.
2025-09-13 21:26:47.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:26:47.194 +03:00 [DBG] Connection id "0HNFIUC7INB6G" completed keep alive response.
2025-09-13 21:26:47.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.8502ms
2025-09-13 21:27:07.926 +03:00 [INF] This is a test log to file!
2025-09-13 21:27:08.070 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:27:08.073 +03:00 [INF] API configured successfully.
2025-09-13 21:27:08.130 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:27:08.191 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:27:08.592 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:27:08.650 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:08.669 +03:00 [INF] Registered 23 endpoints in 670 milliseconds.
2025-09-13 21:27:08.674 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:08.713 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:08.797 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:08.809 +03:00 [DBG] Created DbConnection. (10ms).
2025-09-13 21:27:08.811 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:08.815 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:08.817 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:27:08.818 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:08.825 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:08.827 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:08.830 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:08.830 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:08.840 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:08.844 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:08.849 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-13 21:27:08.850 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-09-13 21:27:08.860 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:27:08.899 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:27:08.901 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:08.905 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-09-13 21:27:08.905 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:08.905 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:08.906 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:27:08.909 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:08.909 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:08.909 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:08.910 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:27:08.914 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:27:08.915 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:08.915 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:08.915 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:08.915 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:27:08.930 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:27:08.931 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:08.931 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:08.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:08.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:27:08.9307737+00:00');
SELECT changes();
2025-09-13 21:27:08.933 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:27:08.9307737+00:00');
SELECT changes();
2025-09-13 21:27:08.986 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:08.990 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:08.992 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:08.992 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:08.992 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:08.992 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:27:08.993 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:27:08.994 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:08.998 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:09.000 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:09.002 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:09.002 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:09.004 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:09.004 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:09.004 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.004 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.006 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.007 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.007 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:09.007 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:09.007 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:09.007 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:27:09.007 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:27:09.009 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:09.009 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.009 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.010 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:27:09.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:27:09.013 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.015 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:27:09.020 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:27:09.029 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.029 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:27:09.030 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:27:09.030 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.030 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.030 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:27:09.030 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:27:09.030 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.030 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.030 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:27:09.031 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:27:09.031 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.031 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.031 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.031 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:27:09.031 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:27:09.031 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:27:09.035 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.035 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.035 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.035 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:27:09.035 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:27:09.035 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.036 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.036 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.036 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:27:09.036 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:27:09.036 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:09.039 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:09.040 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:09.040 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.040 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.040 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.040 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:27:09.040 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:27:09.040 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:09.040 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:09.040 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.040 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.040 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.040 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:27:09.040 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:27:09.040 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.040 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.041 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.041 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:27:09.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:27:09.041 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:09.047 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:09.047 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:09.047 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.047 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.047 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.047 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:27:09.047 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:27:09.048 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.048 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.048 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.048 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:27:09.050 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:27:09.050 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:27:09.054 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:09.054 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:09.054 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.055 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.055 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.055 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:27:09.055 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:27:09.055 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.056 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.056 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:27:09.056 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:27:09.056 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:27:09.070 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:27:09.070 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.070 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.070 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.071 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:27:09.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:27:09.071 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.071 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.071 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:27:09.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:27:09.072 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.072 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:27:09.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:27:09.072 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.072 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:27:09.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:27:09.072 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.073 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:27:09.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:27:09.073 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.073 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:27:09.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:27:09.073 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.073 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:27:09.074 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:27:09.074 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:09.077 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:09.078 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:09.078 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.078 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.078 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.078 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:27:09.078 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:27:09.078 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:09.079 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:09.079 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.079 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.079 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.079 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:27:09.079 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:27:09.079 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.079 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.079 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.079 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:27:09.080 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:27:09.080 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:09.091 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:09.091 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:09.091 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.091 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:27:09.091 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:27:09.091 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:09.091 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:09.091 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.091 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:27:09.092 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:27:09.092 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.092 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.092 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:27:09.092 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:27:09.092 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:09.095 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:09.095 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:09.095 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:09.095 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:09.095 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:27:09.097 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:27:09.099 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:09.099 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:09.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:09.099 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:27:09.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:27:09.102 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.102 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.102 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:09.102 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.102 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.103 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:27:09.103 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:27:09.120 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:27:09.131 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:27:09.132 +03:00 [DBG] Hosting starting
2025-09-13 21:27:09.193 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:27:09.196 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:27:09.214 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:27:09.214 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:27:09.214 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:27:09.214 +03:00 [INF] Hosting environment: Development
2025-09-13 21:27:09.214 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:27:09.215 +03:00 [DBG] Hosting started
2025-09-13 21:27:09.299 +03:00 [DBG] Connection id "0HNFIUCJ7KDTQ" accepted.
2025-09-13 21:27:09.300 +03:00 [DBG] Connection id "0HNFIUCJ7KDTQ" started.
2025-09-13 21:27:09.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:27:09.378 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:27:09.378 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.397 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:09.398 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:09.399 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:27:09.402 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.414 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:09.435 +03:00 [INF] Getting all users
2025-09-13 21:27:09.463 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:27:09.513 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:27:09.711 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:27:09.756 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:09.756 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:09.758 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.759 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.759 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:09.760 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.760 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.760 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:09.763 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:09.767 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.767 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:27:09.770 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.771 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.819 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.819 +03:00 [DBG] Connection id "0HNFIUCJ7KDTQ" completed keep alive response.
2025-09-13 21:27:09.820 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" accepted.
2025-09-13 21:27:09.820 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" started.
2025-09-13 21:27:09.820 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:09.823 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.823 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.823 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:27:09.826 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:27:09.826 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.829 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:09.829 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:09.825 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 503.0722ms
2025-09-13 21:27:09.830 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.831 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:09.832 +03:00 [INF] Getting all users
2025-09-13 21:27:09.836 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:09.837 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:09.837 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.837 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.837 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:09.837 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.837 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.837 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:09.838 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:09.838 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:09.838 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.838 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.839 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.839 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" completed keep alive response.
2025-09-13 21:27:09.840 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:09.840 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.840 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.840 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 17.8092ms
2025-09-13 21:27:09.867 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:27:09.867 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:27:09.867 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.868 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:09.869 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:09.870 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.872 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:09.873 +03:00 [INF] Getting all users
2025-09-13 21:27:09.875 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:09.875 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:09.875 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.875 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:09.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:09.875 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:09.876 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:09.876 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.876 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:09.876 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:09.876 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.876 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:09.876 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" completed keep alive response.
2025-09-13 21:27:09.876 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:09.876 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:09.876 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:09.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 9.725ms
2025-09-13 21:27:14.149 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - null null
2025-09-13 21:27:14.149 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:27:14.149 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec'
2025-09-13 21:27:14.149 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:14.150 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:14.150 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:14.150 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:14.151 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:14.169 +03:00 [INF] Getting user by ID: "e688b692-74e0-4fcb-8ff6-c2f28ae280ec"
2025-09-13 21:27:14.179 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:27:14.183 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:27:14.213 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:27:14.220 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:14.220 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:14.220 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.220 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:14.221 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:14.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:27:14.223 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:14.227 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:14.227 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.227 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:14.227 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.227 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.228 +03:00 [WRN] User with ID "e688b692-74e0-4fcb-8ff6-c2f28ae280ec" not found
2025-09-13 21:27:14.230 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:14.231 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID e688b692-74e0-4fcb-8ff6-c2f28ae280ec not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:27:14.243 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:27:14.246 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" completed keep alive response.
2025-09-13 21:27:14.247 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:14.247 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.247 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.247 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/e688b692-74e0-4fcb-8ff6-c2f28ae280ec - 500 null application/json; charset=utf-8 98.5195ms
2025-09-13 21:27:14.251 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:27:14.251 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:27:14.251 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:27:14.251 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:14.251 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:14.252 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:27:14.252 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" completed keep alive response.
2025-09-13 21:27:14.252 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.0408ms
2025-09-13 21:27:14.254 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 21:27:14.255 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:27:14.255 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:27:14.255 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:14.255 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:14.255 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:27:14.256 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:14.263 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR", Request id "0HNFIUCJ7KDTR:00000005": started reading request body.
2025-09-13 21:27:14.263 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR", Request id "0HNFIUCJ7KDTR:00000005": done reading request body.
2025-09-13 21:27:14.272 +03:00 [INF] Creating new user with API key: 
2025-09-13 21:27:14.274 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:27:14.278 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:27:14.280 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:14.280 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:14.280 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:14.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:14.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:14.280 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:27:14.280 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:27:14.280 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.280 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:14.280 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.281 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.301 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:14.343 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:14.347 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:27:14.357 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:27:14.360 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:27:14.360 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:27:14.361 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:27:14.396 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.397 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.397 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:14.397 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:14.398 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:27:14.399 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:27:14.433 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:27:14.434 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.434 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:27:14.435 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.435 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.441 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:14.442 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:27:14.442 +03:00 [INF] User created successfully with ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:14.445 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:27:14.445 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" completed keep alive response.
2025-09-13 21:27:14.445 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:14.445 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.445 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.445 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 191.1496ms
2025-09-13 21:27:14.447 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:27:14.447 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:14.447 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:14.447 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:14.447 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:14.448 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:14.448 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:14.449 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:14.449 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:14.450 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:14.450 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:14.450 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.450 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.450 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:14.450 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:14.450 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:14.450 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:14.450 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:14.456 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:14.460 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.460 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 9ms reading results.
2025-09-13 21:27:14.461 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:14.461 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.464 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:14.464 +03:00 [DBG] Connection id "0HNFIUCJ7KDTR" completed keep alive response.
2025-09-13 21:27:14.464 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:14.464 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:14.464 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:14.464 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 200 null application/json; charset=utf-8 17.5154ms
2025-09-13 21:27:17.659 +03:00 [INF] This is a test log to file!
2025-09-13 21:27:17.793 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:27:17.795 +03:00 [INF] API configured successfully.
2025-09-13 21:27:17.849 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:27:17.885 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:27:18.226 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:27:18.288 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:18.307 +03:00 [INF] Registered 23 endpoints in 584 milliseconds.
2025-09-13 21:27:18.313 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:18.352 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:18.426 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:18.435 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:27:18.438 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.440 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:18.442 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:27:18.443 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.451 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:18.452 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.456 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:18.456 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.457 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:18.458 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:27:18.462 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:18.466 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:27:18.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:27:18.472 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:27:18.492 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:27:18.493 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:18.493 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:18.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:18.493 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:27:18.4933364+00:00');
SELECT changes();
2025-09-13 21:27:18.498 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:27:18.4933364+00:00');
SELECT changes();
2025-09-13 21:27:18.536 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:18.539 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:18.540 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:18.540 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:18.540 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:18.541 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:27:18.541 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:27:18.542 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:18.542 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:18.543 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:18.544 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:18.545 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:18.546 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:18.546 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:18.546 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:18.547 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.547 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:18.547 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:18.547 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:18.547 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:18.547 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:27:18.547 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:27:18.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:18.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:18.548 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:18.549 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:27:18.549 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:27:18.552 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:18.553 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:27:18.555 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:27:18.555 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:18.556 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:18.556 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:18.556 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:18.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:18.556 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:27:18.559 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:27:18.559 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:18.560 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:18.562 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:27:18.562 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:18.562 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:18.562 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:18.562 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:27:18.562 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:27:18.576 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:27:18.588 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:27:18.589 +03:00 [DBG] Hosting starting
2025-09-13 21:27:18.630 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:27:18.631 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:27:18.640 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:27:18.641 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:27:18.641 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:27:18.641 +03:00 [INF] Hosting environment: Development
2025-09-13 21:27:18.642 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:27:18.642 +03:00 [DBG] Hosting started
2025-09-13 21:27:21.557 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" accepted.
2025-09-13 21:27:21.558 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" started.
2025-09-13 21:27:21.575 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:27:21.611 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:27:21.612 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:27:21.627 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:27:21.629 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:27:21.656 +03:00 [INF] Api health check sent.
2025-09-13 21:27:21.657 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:27:21.657 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" completed keep alive response.
2025-09-13 21:27:21.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 84.2523ms
2025-09-13 21:27:21.667 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" accepted.
2025-09-13 21:27:21.667 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" started.
2025-09-13 21:27:21.668 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:27:21.669 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:21.670 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:21.670 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:21.673 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:21.673 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:21.675 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:21.686 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:21.707 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:21.745 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:27:21.778 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:27:21.943 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:27:21.966 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:21.966 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:21.967 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:21.968 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:21.968 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:21.968 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:21.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:27:21.971 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:21.975 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:22.001 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:22.020 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:22.020 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 44ms reading results.
2025-09-13 21:27:22.022 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:22.022 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:22.038 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:22.038 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:22.039 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:22.041 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:22.041 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:22.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 200 null application/json; charset=utf-8 373.6896ms
2025-09-13 21:27:22.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:27:22.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:27:22.090 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:27:22.094 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:22.094 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:22.094 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:27:22.097 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:22.102 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:27:22.102 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:22.103 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:22.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 12.9852ms
2025-09-13 21:27:23.093 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:27:23.093 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:27:23.093 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:27:23.093 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:23.093 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:23.093 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:27:23.094 +03:00 [INF] Api health check sent.
2025-09-13 21:27:23.094 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:27:23.094 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:23.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.1018ms
2025-09-13 21:27:24.638 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:27:24.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:27:24.639 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:27:24.639 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:27:24.639 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:24.639 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:24.640 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:27:24.650 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:24.659 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:27:24.661 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:27:24.668 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:24.803 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:24.807 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:24.864 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:27:24.926 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:27:24.927 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:27:24.932 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:27:24.934 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:24.934 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:24.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 296.3992ms
2025-09-13 21:27:25.069 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:27:25.069 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:27:25.069 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:27:25.069 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:27:25.070 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:25.070 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:25.070 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:27:25.071 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:25.072 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:27:25.072 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:27:25.072 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:25.072 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:25.072 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:25.074 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:27:25.076 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:27:25.076 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:27:25.077 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:27:25.077 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:25.077 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:25.078 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 8.1771ms
2025-09-13 21:27:25.666 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" received FIN.
2025-09-13 21:27:25.667 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:27:25.667 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" disconnecting.
2025-09-13 21:27:25.668 +03:00 [DBG] Connection id "0HNFIUCMSH4AE" stopped.
2025-09-13 21:27:25.972 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:27:25.972 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:27:25.972 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:27:25.972 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:27:25.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:25.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:25.973 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:27:25.973 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:25.977 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:27:25.981 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:27:25.981 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:27:26.568 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:27:26.572 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:27:26.572 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:26.572 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:26.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 599.4445ms
2025-09-13 21:27:27.811 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:27:27.811 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:27:27.811 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:27:27.811 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:27.811 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:27.811 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:27:27.812 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:27.812 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 1.6686ms
2025-09-13 21:27:27.814 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:27:27.814 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:27:27.814 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:27:27.814 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:27.814 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:27.814 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:27:27.815 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:27.828 +03:00 [DBG] Connection id "0HNFIUCMSH4AF", Request id "0HNFIUCMSH4AF:00000008": started reading request body.
2025-09-13 21:27:27.828 +03:00 [DBG] Connection id "0HNFIUCMSH4AF", Request id "0HNFIUCMSH4AF:00000008": done reading request body.
2025-09-13 21:27:27.839 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:27:27.839 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:27:27.927 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:27:27.932 +03:00 [DBG] Saved secret profile-a1b31bcb-43f8-4998-b6ae-c657e65793d4 for provider "SqlServer"
2025-09-13 21:27:27.932 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:27:27.936 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:27:27.942 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:27:27.947 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:27.947 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:27.947 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:27.947 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:27.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:27.947 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:27.947 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:27.947 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:27:27.947 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:27:27.948 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:27.948 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:27.948 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:27.948 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:27.970 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:27.994 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:27.997 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:27:28.010 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:27:28.013 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:27:28.014 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:27:28.014 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:27:28.050 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.051 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.051 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:27:28.053 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:27:28.057 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:27:28.059 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.059 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:27:28.060 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.060 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.066 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:28.067 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:27:28.067 +03:00 [INF] Profile created successfully with Id "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.069 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:27:28.069 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:28.069 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:28.069 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.069 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.069 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 255.5207ms
2025-09-13 21:27:28.071 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:27:28.071 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:28.071 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:28.071 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:28.072 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:28.072 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:28.072 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:28.072 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:28.072 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:28.075 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:28.075 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:28.075 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.075 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.075 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.075 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.075 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:28.075 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:28.076 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:28.080 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:28.080 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.081 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:27:28.081 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.081 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.082 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:28.082 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:28.082 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:28.082 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.082 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 200 null application/json; charset=utf-8 11.0624ms
2025-09-13 21:27:28.126 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:28.126 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:28.126 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:28.126 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:28.127 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:28.127 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:28.127 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:28.129 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:28.130 +03:00 [DBG] Connection id "0HNFIUCMSH4AG" accepted.
2025-09-13 21:27:28.130 +03:00 [DBG] Connection id "0HNFIUCMSH4AG" started.
2025-09-13 21:27:28.130 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - null null
2025-09-13 21:27:28.130 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:28.130 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:28.130 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:28.131 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:28.131 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:28.131 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:28.131 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:28.136 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:27:28.136 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:27:28.150 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:27:28.154 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:28.154 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:28.154 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:28.154 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:28.154 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.154 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.154 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.154 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.154 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.154 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.154 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.154 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.154 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.154 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.155 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.155 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:28.156 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.156 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:28.157 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.157 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.157 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:27:28.157 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:27:28.157 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.157 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.157 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.157 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.158 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.159 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.159 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.159 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.159 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.159 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.159 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.159 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.159 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:28.159 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.159 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:28.159 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.160 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.160 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.162 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.162 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:28.162 +03:00 [DBG] Connection id "0HNFIUCMSH4AG" completed keep alive response.
2025-09-13 21:27:28.162 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:28.162 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.163 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.163 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - 200 null application/json; charset=utf-8 32.6099ms
2025-09-13 21:27:28.164 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.164 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - null null
2025-09-13 21:27:28.165 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:28.165 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:28.165 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:28.165 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:28.165 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:28.166 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:28.166 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:28.167 +03:00 [DBG] Fetching schema for Profile "043499f6-f431-4386-be9b-224934d4e0b1", ForceRefresh=false
2025-09-13 21:27:28.167 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:28.167 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:28.167 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.167 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.168 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.168 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.168 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:27:28.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.168 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.168 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.169 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:28.169 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.169 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:28.170 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.170 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.170 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.171 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.171 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.172 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:28.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:28.172 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.172 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:28.173 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.173 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:28.173 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:28.173 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.174 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:28.174 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:28.174 +03:00 [DBG] Connection id "0HNFIUCMSH4AG" completed keep alive response.
2025-09-13 21:27:28.174 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:28.174 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.174 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - 200 null application/json; charset=utf-8 10.3405ms
2025-09-13 21:27:28.208 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:27:28.212 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:28.212 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:28.212 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:28.212 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:28.213 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:28.213 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 86.7613ms
2025-09-13 21:27:28.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:28.214 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:28.214 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:28.214 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:28.214 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:28.214 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:28.214 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:28.215 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:28.215 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:28.215 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:28.215 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:28.215 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 1.933ms
2025-09-13 21:27:37.192 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode - null null
2025-09-13 21:27:37.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode'
2025-09-13 21:27:37.192 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:27:37.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:37.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:37.192 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:27:37.192 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:37.192 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode - 204 null null 0.6845ms
2025-09-13 21:27:37.193 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode - application/json 136
2025-09-13 21:27:37.194 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode'
2025-09-13 21:27:37.194 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode'
2025-09-13 21:27:37.194 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:27:37.194 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:37.194 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:37.194 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:27:37.194 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:37.196 +03:00 [DBG] Connection id "0HNFIUCMSH4AF", Request id "0HNFIUCMSH4AF:0000000D": started reading request body.
2025-09-13 21:27:37.196 +03:00 [DBG] Connection id "0HNFIUCMSH4AF", Request id "0HNFIUCMSH4AF:0000000D": done reading request body.
2025-09-13 21:27:37.199 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:37.199 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:37.199 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.199 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:37.199 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.199 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.199 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:37.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:37.199 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.200 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.200 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:37.200 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.200 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.201 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.202 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:27:37.204 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:27:37.204 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:27:37.204 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:27:37.205 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:27:37.211 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.211 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.211 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:37.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.212 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.212 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:27:37.212 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:27:37.220 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.220 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 7ms reading results.
2025-09-13 21:27:37.220 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.220 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.220 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.220 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:27:37.223 +03:00 [INF] AI mode changed to "Groq" for user "8cc2ef33-b62e-49f3-b166-82a1213093a6" at "2025-09-13T18:27:37.2009859Z"
2025-09-13 21:27:37.224 +03:00 [INF] API key changed for user "8cc2ef33-b62e-49f3-b166-82a1213093a6" at "2025-09-13T18:27:37.2010957Z"
2025-09-13 21:27:37.224 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:27:37.224 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:37.224 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:37.224 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.224 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.224 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6/aimode - 200 null application/json; charset=utf-8 30.8221ms
2025-09-13 21:27:37.252 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:27:37.253 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:37.253 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:37.253 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:37.253 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:37.253 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:37.253 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:37.254 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:37.254 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:37.254 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:37.254 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:37.254 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.255 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.255 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:37.255 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.255 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.255 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:37.255 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:37.255 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.255 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.255 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.255 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:37.255 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.255 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.256 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:37.256 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:37.256 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:37.256 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.256 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 200 null application/json; charset=utf-8 3.432ms
2025-09-13 21:27:37.334 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:27:37.334 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:27:37.334 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:37.335 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:37.335 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:37.335 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:37.335 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:37.336 +03:00 [INF] Getting all users
2025-09-13 21:27:37.339 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:27:37.340 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:27:37.349 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:27:37.352 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:37.352 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:37.352 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.352 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.352 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:37.352 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.352 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:37.352 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:27:37.354 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.354 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:27:37.354 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.354 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.355 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:27:37.355 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:37.355 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:37.356 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.356 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.356 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 21.2693ms
2025-09-13 21:27:37.375 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:27:37.375 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:37.375 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:37.375 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:37.376 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:37.376 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:37.376 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:37.376 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:37.376 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:37.377 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:37.377 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:37.377 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.377 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:37.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:37.377 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:37.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:37.377 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.377 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:37.377 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.377 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:37.377 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:37.377 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.377 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:37.378 +03:00 [DBG] Connection id "0HNFIUCMSH4AF" completed keep alive response.
2025-09-13 21:27:37.378 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:37.378 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:37.378 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:37.378 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 200 null application/json; charset=utf-8 2.4937ms
2025-09-13 21:27:40.557 +03:00 [INF] This is a test log to file!
2025-09-13 21:27:40.713 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:27:40.716 +03:00 [INF] API configured successfully.
2025-09-13 21:27:40.770 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:27:40.806 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:27:41.176 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:27:41.234 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:41.252 +03:00 [INF] Registered 23 endpoints in 618 milliseconds.
2025-09-13 21:27:41.257 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:41.293 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:41.357 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:41.365 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:27:41.367 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.369 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:41.371 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:27:41.372 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.378 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:41.380 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.383 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:41.383 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.384 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:41.385 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:27:41.389 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:41.392 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:27:41.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:27:41.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:27:41.416 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:27:41.418 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:41.418 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:41.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:41.418 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:27:41.4181615+00:00');
SELECT changes();
2025-09-13 21:27:41.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:27:41.4181615+00:00');
SELECT changes();
2025-09-13 21:27:41.459 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:41.461 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:41.462 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:27:41.462 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:41.462 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:27:41.463 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:27:41.463 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:27:41.463 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:41.464 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:41.465 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:41.467 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:27:41.467 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:27:41.469 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:41.469 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:41.469 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.469 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:41.469 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.469 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:41.469 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:41.470 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:41.470 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:41.470 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:27:41.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:27:41.472 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:41.472 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:41.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:41.473 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:27:41.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:27:41.476 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:41.477 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:27:41.481 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:27:41.481 +03:00 [DBG] Committing transaction.
2025-09-13 21:27:41.481 +03:00 [DBG] Committed transaction.
2025-09-13 21:27:41.481 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:27:41.481 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:41.481 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:27:41.481 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:27:41.484 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:27:41.484 +03:00 [DBG] Disposing transaction.
2025-09-13 21:27:41.485 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:41.487 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:27:41.488 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:41.488 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:41.488 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:41.488 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:27:41.488 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:27:41.503 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:27:41.513 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:27:41.514 +03:00 [DBG] Hosting starting
2025-09-13 21:27:41.554 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:27:41.555 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:27:41.564 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:27:41.564 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:27:41.564 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:27:41.564 +03:00 [INF] Hosting environment: Development
2025-09-13 21:27:41.564 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:27:41.564 +03:00 [DBG] Hosting started
2025-09-13 21:27:45.197 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" accepted.
2025-09-13 21:27:45.198 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" started.
2025-09-13 21:27:45.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:27:45.250 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:27:45.250 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:27:45.262 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:27:45.264 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:27:45.285 +03:00 [INF] Api health check sent.
2025-09-13 21:27:45.286 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:27:45.286 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" completed keep alive response.
2025-09-13 21:27:45.289 +03:00 [DBG] Connection id "0HNFIUCTTVI0M" accepted.
2025-09-13 21:27:45.289 +03:00 [DBG] Connection id "0HNFIUCTTVI0M" started.
2025-09-13 21:27:45.287 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 72.7022ms
2025-09-13 21:27:45.290 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:27:45.291 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:45.292 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:27:45.292 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:45.293 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.294 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.294 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:45.305 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.323 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:27:45.352 +03:00 [DBG] Connection id "0HNFIUCTTVI0N" accepted.
2025-09-13 21:27:45.352 +03:00 [DBG] Connection id "0HNFIUCTTVI0N" started.
2025-09-13 21:27:45.352 +03:00 [DBG] Connection id "0HNFIUCTTVI0O" accepted.
2025-09-13 21:27:45.352 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:45.352 +03:00 [DBG] Connection id "0HNFIUCTTVI0O" started.
2025-09-13 21:27:45.352 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.353 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - null null
2025-09-13 21:27:45.353 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.353 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.353 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:45.353 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:45.353 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.353 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.353 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.354 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.354 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.354 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.354 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.356 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.356 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.361 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:27:45.363 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:27:45.393 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:27:45.393 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:27:45.552 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:27:45.552 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:27:45.571 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:45.571 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:45.571 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:45.571 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:45.571 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:45.572 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:45.573 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.573 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.573 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.573 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.574 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.574 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:27:45.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:27:45.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.577 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.577 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:45.577 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.581 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.581 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.581 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:27:45.601 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:45.601 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:45.601 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:45.618 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:45.618 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.618 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.618 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.619 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 37ms reading results.
2025-09-13 21:27:45.619 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 37ms reading results.
2025-09-13 21:27:45.619 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 37ms reading results.
2025-09-13 21:27:45.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.620 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.620 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.620 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.621 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.622 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.622 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.622 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.622 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.622 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.622 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.623 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.623 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.623 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:45.624 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.624 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.627 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.627 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.627 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.627 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.627 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.627 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.627 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.627 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.628 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.628 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:45.628 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.628 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.629 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.633 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:27:45.633 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.633 +03:00 [DBG] Connection id "0HNFIUCTTVI0O" completed keep alive response.
2025-09-13 21:27:45.633 +03:00 [DBG] Connection id "0HNFIUCTTVI0M" completed keep alive response.
2025-09-13 21:27:45.633 +03:00 [DBG] Fetching schema for Profile "043499f6-f431-4386-be9b-224934d4e0b1", ForceRefresh=false
2025-09-13 21:27:45.633 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" accepted.
2025-09-13 21:27:45.634 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" started.
2025-09-13 21:27:45.634 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - null null
2025-09-13 21:27:45.634 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.634 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.635 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:27:45.635 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:45.635 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:45.636 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.636 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.636 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.636 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.637 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.637 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.638 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.638 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.638 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.638 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 200 null application/json; charset=utf-8 348.0302ms
2025-09-13 21:27:45.638 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - 200 null application/json; charset=utf-8 285.6111ms
2025-09-13 21:27:45.639 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:45.639 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:45.639 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.639 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.639 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.639 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.640 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.640 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.640 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.640 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:45.641 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.641 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:45.641 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.641 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.641 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.641 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.642 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.642 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.642 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.643 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.643 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:45.643 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.643 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.643 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.644 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.644 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.644 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.644 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.644 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - 200 null application/json; charset=utf-8 10.1794ms
2025-09-13 21:27:45.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - null null
2025-09-13 21:27:45.688 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:45.688 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1'
2025-09-13 21:27:45.688 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.688 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.688 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.688 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.689 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.690 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:27:45.690 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:27:45.690 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.690 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.690 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.690 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.690 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.691 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.691 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:27:45.691 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.691 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:45.691 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.691 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.691 +03:00 [INF] Fetching connection string for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.691 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.691 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.691 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:27:45.691 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.691 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:27:45.691 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.692 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:27:45.692 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.692 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:27:45.692 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:27:45.692 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.692 +03:00 [DBG] Fetched secret for profile "043499f6-f431-4386-be9b-224934d4e0b1"
2025-09-13 21:27:45.692 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:27:45.693 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.693 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.693 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.693 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/043499f6-f431-4386-be9b-224934d4e0b1 - 200 null application/json; charset=utf-8 4.9658ms
2025-09-13 21:27:45.698 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:27:45.704 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:45.705 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.705 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.705 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.705 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.705 +03:00 [DBG] Connection id "0HNFIUCTTVI0N" completed keep alive response.
2025-09-13 21:27:45.705 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.705 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.705 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.705 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:27:45.705 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:27:45.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 353.0113ms
2025-09-13 21:27:45.706 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.707 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.707 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.707 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.707 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 3.2802ms
2025-09-13 21:27:45.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:45.709 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.709 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.709 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.709 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.709 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.709 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.710 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.710 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.710 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.710 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 1.3867ms
2025-09-13 21:27:45.711 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:45.711 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.711 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.711 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.711 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.711 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.711 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.712 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.712 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.712 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.712 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.712 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 1.2746ms
2025-09-13 21:27:45.713 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:45.713 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.713 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.714 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.714 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.714 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.714 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.714 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.715 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.715 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.715 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.715 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 1.9555ms
2025-09-13 21:27:45.716 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - null null
2025-09-13 21:27:45.716 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.716 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema'
2025-09-13 21:27:45.717 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.717 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:45.717 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:45.717 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.717 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:27:45.717 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:27:45.718 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:45.718 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:27:45.718 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/043499f6-f431-4386-be9b-224934d4e0b1/schema - 200 null application/json; charset=utf-8 1.3513ms
2025-09-13 21:27:49.288 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" received FIN.
2025-09-13 21:27:49.289 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:27:49.289 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" disconnecting.
2025-09-13 21:27:49.290 +03:00 [DBG] Connection id "0HNFIUCTTVI0L" stopped.
2025-09-13 21:27:53.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:27:53.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:27:53.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:27:53.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:27:53.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:27:53.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:27:53.193 +03:00 [INF] Api health check sent.
2025-09-13 21:27:53.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:27:53.194 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:27:53.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.9228ms
2025-09-13 21:28:23.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:28:23.194 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:28:23.194 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:28:23.194 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:28:23.194 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:28:23.194 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:28:23.194 +03:00 [INF] Api health check sent.
2025-09-13 21:28:23.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:28:23.194 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:28:23.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.2774ms
2025-09-13 21:28:53.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:28:53.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:28:53.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:28:53.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:28:53.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:28:53.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:28:53.193 +03:00 [INF] Api health check sent.
2025-09-13 21:28:53.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:28:53.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:28:53.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7324ms
2025-09-13 21:29:23.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:29:23.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:29:23.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:29:23.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:29:23.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:29:23.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:29:23.193 +03:00 [INF] Api health check sent.
2025-09-13 21:29:23.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:29:23.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:29:23.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6133ms
2025-09-13 21:29:53.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:29:53.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:29:53.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:29:53.194 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:29:53.194 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:29:53.194 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:29:53.194 +03:00 [INF] Api health check sent.
2025-09-13 21:29:53.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:29:53.194 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:29:53.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6868ms
2025-09-13 21:29:56.626 +03:00 [DBG] Connection id "0HNFIUCTTVI0M" disconnecting.
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0M" stopped.
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0N" disconnecting.
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0N" stopped.
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0O" disconnecting.
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0O" stopped.
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:29:56.627 +03:00 [DBG] Connection id "0HNFIUCTTVI0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:30:23.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:30:23.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:30:23.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:30:23.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:30:23.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:30:23.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:30:23.193 +03:00 [INF] Api health check sent.
2025-09-13 21:30:23.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:30:23.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:30:23.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7531ms
2025-09-13 21:31:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:31:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:31:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:31:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:31:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:31:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:31:17.193 +03:00 [INF] Api health check sent.
2025-09-13 21:31:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:31:17.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:31:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4887ms
2025-09-13 21:32:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:32:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:32:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:32:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:32:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:32:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:32:17.194 +03:00 [INF] Api health check sent.
2025-09-13 21:32:17.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:32:17.194 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:32:17.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6587ms
2025-09-13 21:33:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:33:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:33:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:33:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:33:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:33:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:33:17.193 +03:00 [INF] Api health check sent.
2025-09-13 21:33:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:33:17.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:33:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5698ms
2025-09-13 21:34:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:34:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:34:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:34:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:34:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:34:17.194 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:34:17.194 +03:00 [INF] Api health check sent.
2025-09-13 21:34:17.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:34:17.194 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:34:17.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8261ms
2025-09-13 21:35:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:35:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:35:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:35:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:35:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:35:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:35:17.193 +03:00 [INF] Api health check sent.
2025-09-13 21:35:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:35:17.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:35:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5442ms
2025-09-13 21:36:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:36:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:36:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:36:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:36:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:36:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:36:17.194 +03:00 [INF] Api health check sent.
2025-09-13 21:36:17.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:36:17.194 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:36:17.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.1263ms
2025-09-13 21:37:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:37:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:37:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:37:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:37:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:37:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:37:17.193 +03:00 [INF] Api health check sent.
2025-09-13 21:37:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:37:17.193 +03:00 [DBG] Connection id "0HNFIUCTTVI0P" completed keep alive response.
2025-09-13 21:37:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4566ms
2025-09-13 21:38:43.128 +03:00 [INF] This is a test log to file!
2025-09-13 21:38:43.279 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:38:43.282 +03:00 [INF] API configured successfully.
2025-09-13 21:38:43.338 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:38:43.381 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:38:43.760 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:38:43.833 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:38:43.853 +03:00 [INF] Registered 23 endpoints in 650 milliseconds.
2025-09-13 21:38:43.859 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:38:43.903 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:38:43.975 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:38:43.985 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 21:38:43.987 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:43.990 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:38:43.992 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:38:43.993 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:43.999 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.000 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.004 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.004 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.011 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.015 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.019 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-13 21:38:44.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-09-13 21:38:44.026 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:38:44.059 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:38:44.060 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.062 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:38:44.062 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.062 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.063 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:38:44.064 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:38:44.065 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.065 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:38:44.068 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:38:44.069 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.069 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.069 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:38:44.080 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:38:44.081 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:38:44.081 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.081 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.081 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:38:44.0809717+00:00');
SELECT changes();
2025-09-13 21:38:44.084 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:38:44.0809717+00:00');
SELECT changes();
2025-09-13 21:38:44.134 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:38:44.138 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:38:44.139 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.139 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.140 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:38:44.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:38:44.142 +03:00 [DBG] Committing transaction.
2025-09-13 21:38:44.146 +03:00 [DBG] Committed transaction.
2025-09-13 21:38:44.147 +03:00 [DBG] Disposing transaction.
2025-09-13 21:38:44.149 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:38:44.150 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:38:44.151 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:38:44.151 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:38:44.151 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.152 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.153 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.153 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.153 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:38:44.153 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.153 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.153 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:38:44.153 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:38:44.155 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:38:44.155 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:44.155 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:44.155 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:38:44.156 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:38:44.157 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.158 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:38:44.162 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:38:44.171 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.172 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.172 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:38:44.172 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:38:44.172 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.172 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.173 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:38:44.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:38:44.173 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.173 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.173 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:38:44.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:38:44.174 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.174 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.174 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:38:44.174 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:38:44.174 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:38:44.182 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.182 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.182 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.182 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:38:44.182 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:38:44.182 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.182 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.182 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.183 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:38:44.183 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:38:44.185 +03:00 [DBG] Committing transaction.
2025-09-13 21:38:44.188 +03:00 [DBG] Committed transaction.
2025-09-13 21:38:44.188 +03:00 [DBG] Disposing transaction.
2025-09-13 21:38:44.188 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.188 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.189 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.189 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:38:44.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:38:44.189 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:38:44.189 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:38:44.189 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.189 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.189 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.189 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:38:44.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:38:44.190 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.190 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.190 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:38:44.191 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:38:44.191 +03:00 [DBG] Committing transaction.
2025-09-13 21:38:44.198 +03:00 [DBG] Committed transaction.
2025-09-13 21:38:44.198 +03:00 [DBG] Disposing transaction.
2025-09-13 21:38:44.198 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.198 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:38:44.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:38:44.198 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.198 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:38:44.200 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:38:44.201 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:38:44.205 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:38:44.205 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:38:44.205 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.205 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.205 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:38:44.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:38:44.206 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.206 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.206 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.206 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:38:44.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:38:44.206 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:38:44.219 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:38:44.219 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.219 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.219 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:38:44.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:38:44.219 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.219 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.219 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:38:44.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:38:44.220 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.220 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.220 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.220 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:38:44.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:38:44.220 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.220 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.220 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.220 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:38:44.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:38:44.222 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:38:44.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:38:44.222 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:38:44.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:38:44.222 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:38:44.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:38:44.223 +03:00 [DBG] Committing transaction.
2025-09-13 21:38:44.227 +03:00 [DBG] Committed transaction.
2025-09-13 21:38:44.227 +03:00 [DBG] Disposing transaction.
2025-09-13 21:38:44.227 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.227 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.227 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.227 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:38:44.227 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:38:44.227 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:38:44.227 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:38:44.228 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.228 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.228 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:38:44.228 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:38:44.228 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.228 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.228 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:38:44.228 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:38:44.229 +03:00 [DBG] Committing transaction.
2025-09-13 21:38:44.233 +03:00 [DBG] Committed transaction.
2025-09-13 21:38:44.233 +03:00 [DBG] Disposing transaction.
2025-09-13 21:38:44.233 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.233 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.233 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.233 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:38:44.233 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:38:44.233 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:38:44.233 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:38:44.234 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.234 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.234 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.234 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:38:44.234 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:38:44.234 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.234 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.234 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.234 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:38:44.234 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:38:44.234 +03:00 [DBG] Committing transaction.
2025-09-13 21:38:44.239 +03:00 [DBG] Committed transaction.
2025-09-13 21:38:44.239 +03:00 [DBG] Disposing transaction.
2025-09-13 21:38:44.239 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:38:44.239 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:38:44.239 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:38:44.243 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:38:44.245 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:38:44.246 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:38:44.246 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:38:44.248 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:38:44.249 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.249 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.249 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:38:44.249 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.249 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.249 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:38:44.250 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:38:44.271 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:38:44.291 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:38:44.292 +03:00 [DBG] Hosting starting
2025-09-13 21:38:44.389 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:38:44.390 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:38:44.399 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:38:44.399 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:38:44.399 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:38:44.399 +03:00 [INF] Hosting environment: Development
2025-09-13 21:38:44.399 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:38:44.399 +03:00 [DBG] Hosting started
2025-09-13 21:38:44.450 +03:00 [DBG] Connection id "0HNFIUJ2D3JO6" accepted.
2025-09-13 21:38:44.451 +03:00 [DBG] Connection id "0HNFIUJ2D3JO6" started.
2025-09-13 21:38:44.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:38:44.510 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:38:44.512 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.550 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:38:44.551 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:38:44.551 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:38:44.554 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.568 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:38:44.584 +03:00 [INF] Getting all users
2025-09-13 21:38:44.607 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:38:44.653 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:38:44.870 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:38:44.896 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:38:44.897 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:38:44.898 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.902 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.903 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:38:44.903 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:44.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:44.904 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:38:44.908 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:38:44.916 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.918 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 9ms reading results.
2025-09-13 21:38:44.921 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.921 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.945 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.945 +03:00 [DBG] Connection id "0HNFIUJ2D3JO6" completed keep alive response.
2025-09-13 21:38:44.945 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" accepted.
2025-09-13 21:38:44.946 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" started.
2025-09-13 21:38:44.946 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:38:44.947 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:38:44.949 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:38:44.949 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.950 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.950 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.951 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:38:44.951 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:38:44.952 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.953 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:38:44.954 +03:00 [INF] Getting all users
2025-09-13 21:38:44.951 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 479.0407ms
2025-09-13 21:38:44.957 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:38:44.957 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:38:44.957 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.957 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.957 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:38:44.957 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:44.957 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:44.957 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:38:44.958 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:38:44.958 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.958 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:38:44.958 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:44.958 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.960 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.960 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" completed keep alive response.
2025-09-13 21:38:44.961 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:38:44.961 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:44.961 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:44.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 14.3126ms
2025-09-13 21:38:44.998 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:38:44.998 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:38:44.998 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:44.999 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:38:44.999 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:38:45.000 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:45.001 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:38:45.001 +03:00 [INF] Getting all users
2025-09-13 21:38:45.003 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:38:45.003 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:38:45.003 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:45.003 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:45.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:38:45.003 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:45.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:38:45.003 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:38:45.004 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:38:45.004 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:45.004 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:38:45.004 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:38:45.004 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:45.004 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:38:45.005 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" completed keep alive response.
2025-09-13 21:38:45.005 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:38:45.005 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:38:45.005 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:38:45.005 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 7.0044ms
2025-09-13 21:39:27.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - null null
2025-09-13 21:39:27.801 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:39:27.802 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6'
2025-09-13 21:39:27.803 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:27.803 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:27.803 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:27.803 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:27.804 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:27.820 +03:00 [INF] Getting user by ID: "8cc2ef33-b62e-49f3-b166-82a1213093a6"
2025-09-13 21:39:27.828 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:39:27.831 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:39:27.859 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:39:27.864 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:27.865 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:27.865 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:27.865 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:27.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:27.865 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:27.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:39:27.868 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:27.871 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:27.871 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:27.871 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:27.871 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:27.871 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:27.872 +03:00 [WRN] User with ID "8cc2ef33-b62e-49f3-b166-82a1213093a6" not found
2025-09-13 21:39:27.874 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:27.875 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID 8cc2ef33-b62e-49f3-b166-82a1213093a6 not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:39:27.885 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:39:27.889 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" completed keep alive response.
2025-09-13 21:39:27.889 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:27.889 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:27.889 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:27.889 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/8cc2ef33-b62e-49f3-b166-82a1213093a6 - 500 null application/json; charset=utf-8 88.4379ms
2025-09-13 21:39:27.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:39:27.893 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:39:27.893 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:39:27.893 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:27.893 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:27.893 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:39:27.894 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" completed keep alive response.
2025-09-13 21:39:27.894 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.5304ms
2025-09-13 21:39:27.896 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 21:39:27.896 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:39:27.896 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:39:27.896 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:27.896 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:27.896 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:39:27.897 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:27.902 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7", Request id "0HNFIUJ2D3JO7:00000005": started reading request body.
2025-09-13 21:39:27.902 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7", Request id "0HNFIUJ2D3JO7:00000005": done reading request body.
2025-09-13 21:39:27.909 +03:00 [INF] Creating new user with API key: 
2025-09-13 21:39:27.910 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:39:27.914 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:39:27.915 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:27.916 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:27.916 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:27.916 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:27.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:27.916 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:27.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:27.916 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:39:27.917 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:39:27.917 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:27.917 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:27.917 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:27.917 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:27.944 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:27.981 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:27.984 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:39:27.994 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:39:27.997 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:39:27.998 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:39:27.999 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:39:28.037 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:28.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:28.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:28.039 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:28.040 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:39:28.040 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:39:28.049 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:39:28.051 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:28.051 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:39:28.052 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:28.052 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:28.056 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:28.057 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:39:28.058 +03:00 [INF] User created successfully with ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:39:28.060 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:39:28.060 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" completed keep alive response.
2025-09-13 21:39:28.060 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:28.060 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:28.060 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:28.060 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 164.575ms
2025-09-13 21:39:28.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:39:28.062 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:39:28.062 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:39:28.063 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:28.063 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:28.063 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:28.063 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:28.064 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:28.064 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:39:28.065 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:28.065 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:28.065 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:28.065 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:28.065 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:28.065 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:28.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:28.065 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:28.066 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:28.071 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:28.076 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:28.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 10ms reading results.
2025-09-13 21:39:28.077 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:28.077 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:28.079 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:28.080 +03:00 [DBG] Connection id "0HNFIUJ2D3JO7" completed keep alive response.
2025-09-13 21:39:28.080 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:28.080 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:28.080 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:28.080 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 18.0266ms
2025-09-13 21:39:31.269 +03:00 [INF] This is a test log to file!
2025-09-13 21:39:31.394 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:39:31.398 +03:00 [INF] API configured successfully.
2025-09-13 21:39:31.449 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:39:31.485 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:39:31.817 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:39:31.876 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:31.894 +03:00 [INF] Registered 23 endpoints in 565 milliseconds.
2025-09-13 21:39:31.899 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:31.938 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:32.009 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:32.017 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:39:32.019 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.022 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:32.023 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:39:32.025 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.031 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:32.034 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.036 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:32.036 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:32.039 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:39:32.042 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:39:32.046 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-13 21:39:32.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-13 21:39:32.051 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:39:32.069 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:39:32.071 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:39:32.071 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:39:32.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:39:32.071 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:39:32.0713096+00:00');
SELECT changes();
2025-09-13 21:39:32.075 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:39:32.0713096+00:00');
SELECT changes();
2025-09-13 21:39:32.114 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:39:32.116 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:39:32.117 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:39:32.117 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:39:32.117 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:39:32.117 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:39:32.118 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:39:32.118 +03:00 [DBG] Committing transaction.
2025-09-13 21:39:32.119 +03:00 [DBG] Committed transaction.
2025-09-13 21:39:32.120 +03:00 [DBG] Disposing transaction.
2025-09-13 21:39:32.121 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:39:32.121 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:39:32.122 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:32.122 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:32.122 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.123 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:32.123 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.123 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:32.123 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:39:32.123 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:39:32.123 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:39:32.123 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:39:32.123 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:39:32.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:32.125 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:32.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:32.125 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:39:32.126 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:39:32.127 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:32.128 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:39:32.131 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:39:32.131 +03:00 [DBG] Committing transaction.
2025-09-13 21:39:32.131 +03:00 [DBG] Committed transaction.
2025-09-13 21:39:32.132 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:39:32.132 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:39:32.132 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:39:32.132 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:39:32.134 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:39:32.134 +03:00 [DBG] Disposing transaction.
2025-09-13 21:39:32.136 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:32.138 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:39:32.138 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:32.138 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:32.138 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:32.138 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:39:32.138 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:39:32.152 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:39:32.163 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:39:32.164 +03:00 [DBG] Hosting starting
2025-09-13 21:39:32.207 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:39:32.208 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:39:32.217 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:39:32.217 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:39:32.217 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:39:32.217 +03:00 [INF] Hosting environment: Development
2025-09-13 21:39:32.217 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:39:32.217 +03:00 [DBG] Hosting started
2025-09-13 21:39:35.174 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" accepted.
2025-09-13 21:39:35.174 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" started.
2025-09-13 21:39:35.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:39:35.226 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:39:35.226 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:39:35.241 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:39:35.242 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:39:35.274 +03:00 [INF] Api health check sent.
2025-09-13 21:39:35.276 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:39:35.276 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" completed keep alive response.
2025-09-13 21:39:35.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 84.3176ms
2025-09-13 21:39:35.285 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" accepted.
2025-09-13 21:39:35.285 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" started.
2025-09-13 21:39:35.286 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:39:35.288 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:39:35.289 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:39:35.289 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:35.291 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:35.292 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:35.293 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:35.307 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:35.329 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:39:35.366 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:39:35.395 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:39:35.565 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:39:35.588 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:35.588 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:35.589 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:35.591 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:35.591 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:35.591 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:35.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:39:35.594 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:35.599 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:35.625 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:35.643 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:35.643 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 44ms reading results.
2025-09-13 21:39:35.645 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:35.645 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:35.660 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:35.660 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:35.661 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:35.664 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:35.664 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:35.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 378.0283ms
2025-09-13 21:39:35.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:39:35.754 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:39:35.754 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:39:35.760 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:35.761 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:35.762 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:39:35.765 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:35.774 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:39:35.774 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:35.774 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:35.774 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 20.3728ms
2025-09-13 21:39:36.757 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:39:36.758 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:39:36.758 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:39:36.758 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:36.758 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:36.758 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:39:36.759 +03:00 [INF] Api health check sent.
2025-09-13 21:39:36.759 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:39:36.759 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:36.759 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.6057ms
2025-09-13 21:39:39.285 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" received FIN.
2025-09-13 21:39:39.285 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:39:39.286 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" disconnecting.
2025-09-13 21:39:39.287 +03:00 [DBG] Connection id "0HNFIUJHGR9AL" stopped.
2025-09-13 21:39:39.599 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:39:39.600 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:39:39.600 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:39:39.600 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:39:39.600 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:39.600 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:39.600 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:39:39.609 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:39.618 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:39:39.620 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:39:39.626 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:39:39.753 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:39:39.757 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:39:39.809 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:39:39.866 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:39:39.867 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:39:39.872 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:39:39.874 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:39.874 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:39.874 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 275.7189ms
2025-09-13 21:39:40.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:39:40.853 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:39:40.853 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:39:40.853 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:39:40.853 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:40.853 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:40.853 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:39:40.853 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:40.857 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:39:40.859 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:39:40.859 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:39:41.421 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:39:41.424 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:39:41.424 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:41.424 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:41.424 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 571.8777ms
2025-09-13 21:39:44.360 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:39:44.360 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:39:44.360 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:39:44.360 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.360 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.360 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:39:44.361 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:44.361 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 0.8291ms
2025-09-13 21:39:44.361 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:39:44.362 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:39:44.362 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:39:44.362 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.362 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.362 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:39:44.362 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:44.376 +03:00 [DBG] Connection id "0HNFIUJHGR9AM", Request id "0HNFIUJHGR9AM:00000007": started reading request body.
2025-09-13 21:39:44.376 +03:00 [DBG] Connection id "0HNFIUJHGR9AM", Request id "0HNFIUJHGR9AM:00000007": done reading request body.
2025-09-13 21:39:44.388 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:39:44.388 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:39:44.466 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:39:44.472 +03:00 [DBG] Saved secret profile-5a566cf9-f02b-4033-b926-b74f6a053861 for provider "SqlServer"
2025-09-13 21:39:44.472 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:39:44.475 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:39:44.481 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:39:44.484 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:44.485 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:44.485 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.485 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.485 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.485 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:39:44.485 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:39:44.486 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.486 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:44.486 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.486 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.507 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.529 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.532 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:39:44.543 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:39:44.545 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:39:44.545 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:39:44.546 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:39:44.581 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.581 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.582 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.583 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:39:44.583 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:39:44.587 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:39:44.589 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.589 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:39:44.590 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.590 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.595 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.596 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:39:44.596 +03:00 [INF] Profile created successfully with Id "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.598 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:39:44.598 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:44.598 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:44.598 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.599 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.599 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 237.0908ms
2025-09-13 21:39:44.601 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:39:44.601 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:39:44.601 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:39:44.601 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:44.601 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.601 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.601 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:44.602 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:44.602 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:39:44.605 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:44.605 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:44.605 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.605 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.605 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.605 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:44.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:39:44.605 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.609 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.610 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:39:44.610 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.610 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.611 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:39:44.612 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:44.612 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:44.612 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.612 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 10.9835ms
2025-09-13 21:39:44.643 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:39:44.643 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:39:44.643 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:39:44.643 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:39:44.643 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.643 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.644 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:39:44.645 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:44.646 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" accepted.
2025-09-13 21:39:44.646 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" started.
2025-09-13 21:39:44.646 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - null null
2025-09-13 21:39:44.646 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:39:44.647 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:39:44.647 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:39:44.647 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.647 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.647 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:39:44.647 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:44.650 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:39:44.651 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:39:44.664 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:39:44.667 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:44.667 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:44.667 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:44.667 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.667 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:44.668 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.668 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.668 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.668 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.668 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.668 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.668 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.668 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.668 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.668 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.668 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.669 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.670 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.670 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.670 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:44.670 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:39:44.670 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.670 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.670 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.670 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.671 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.671 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.672 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.672 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.672 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.672 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.672 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.672 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.673 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.673 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.673 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:44.673 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:44.673 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.673 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.673 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.673 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.675 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.676 +03:00 [DBG] Fetching schema for Profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046", ForceRefresh=false
2025-09-13 21:39:44.677 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.678 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:39:44.678 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:39:44.678 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:39:44.678 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:44.678 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.678 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.678 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - 200 null application/json; charset=utf-8 31.8834ms
2025-09-13 21:39:44.682 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - null null
2025-09-13 21:39:44.683 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:39:44.683 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:39:44.683 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:39:44.684 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.684 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.684 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:39:44.685 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:44.685 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:39:44.685 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:39:44.685 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.686 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.686 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.686 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.686 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.686 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.686 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.686 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:39:44.687 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.687 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:44.687 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.687 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.687 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.687 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.687 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.688 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:39:44.688 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:39:44.688 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.688 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:39:44.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.689 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:39:44.689 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:39:44.689 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.689 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:39:44.690 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:39:44.690 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:39:44.690 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:44.690 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.690 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - 200 null application/json; charset=utf-8 8.3904ms
2025-09-13 21:39:44.719 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:39:44.723 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:39:44.723 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:44.723 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:44.723 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:39:44.723 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:39:44.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 79.8776ms
2025-09-13 21:39:44.724 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:39:44.724 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:39:44.724 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:39:44.724 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:39:44.724 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:39:44.724 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:39:44.724 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:39:44.725 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:39:44.725 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:39:44.725 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:39:44.725 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:39:44.725 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 1.9103ms
2025-09-13 21:40:05.533 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - null null
2025-09-13 21:40:05.533 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:40:05.533 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:40:05.533 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:05.533 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:05.533 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:40:05.533 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:05.533 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - 204 null null 0.5453ms
2025-09-13 21:40:05.534 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - application/json 136
2025-09-13 21:40:05.535 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:40:05.535 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:40:05.535 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:40:05.535 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:05.535 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:05.535 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:40:05.535 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:05.537 +03:00 [DBG] Connection id "0HNFIUJHGR9AM", Request id "0HNFIUJHGR9AM:0000000C": started reading request body.
2025-09-13 21:40:05.537 +03:00 [DBG] Connection id "0HNFIUJHGR9AM", Request id "0HNFIUJHGR9AM:0000000C": done reading request body.
2025-09-13 21:40:05.540 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:40:05.540 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:40:05.540 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.540 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.540 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:05.540 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.540 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.540 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:05.541 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:05.541 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.541 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.541 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.541 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:40:05.541 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.541 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.542 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.543 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:40:05.545 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:40:05.545 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:40:05.545 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:40:05.545 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:40:05.552 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.552 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.552 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:05.552 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.553 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:40:05.553 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:40:05.554 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:40:05.561 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.561 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 7ms reading results.
2025-09-13 21:40:05.561 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.561 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.562 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.562 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:40:05.565 +03:00 [INF] AI mode changed to "Groq" for user "26261e2a-9a9d-492c-a5f0-730abd65b9ad" at "2025-09-13T18:40:05.5418857Z"
2025-09-13 21:40:05.566 +03:00 [INF] API key changed for user "26261e2a-9a9d-492c-a5f0-730abd65b9ad" at "2025-09-13T18:40:05.5420069Z"
2025-09-13 21:40:05.566 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:40:05.567 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:05.567 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:05.567 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.567 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.567 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - 200 null application/json; charset=utf-8 32.2714ms
2025-09-13 21:40:05.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:40:05.587 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:40:05.587 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:40:05.587 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:05.587 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:05.587 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:05.587 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:05.588 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:05.588 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:40:05.589 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:40:05.589 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:40:05.589 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.589 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:05.589 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.589 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.589 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:05.589 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:05.589 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.590 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.590 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.590 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:40:05.590 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.590 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.590 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:05.590 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:05.590 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:05.590 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.590 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 3.6029ms
2025-09-13 21:40:05.646 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:40:05.646 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:40:05.646 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:40:05.646 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:05.646 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:05.646 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:40:05.647 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:05.648 +03:00 [INF] Getting all users
2025-09-13 21:40:05.652 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:40:05.653 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:40:05.667 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:40:05.670 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:40:05.670 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:40:05.670 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.670 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.670 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:05.670 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.670 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:40:05.670 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:40:05.673 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.673 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:40:05.674 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.674 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.675 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:40:05.675 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:05.675 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:05.675 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.675 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.675 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 28.6661ms
2025-09-13 21:40:05.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:40:05.677 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:40:05.677 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:40:05.677 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:05.677 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:05.678 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:05.678 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:05.678 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:05.678 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:40:05.678 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:40:05.679 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:40:05.679 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.679 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.679 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:05.679 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:05.679 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:05.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:05.679 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.680 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:05.680 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.680 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:40:05.680 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:05.680 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.680 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:05.680 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:05.680 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:05.680 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:05.680 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:05.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 3.2449ms
2025-09-13 21:40:05.683 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" accepted.
2025-09-13 21:40:05.683 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" started.
2025-09-13 21:40:05.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:40:05.684 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:40:05.684 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:40:05.684 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:40:05.684 +03:00 [INF] Api health check sent.
2025-09-13 21:40:05.684 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:40:05.684 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" completed keep alive response.
2025-09-13 21:40:05.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5171ms
2025-09-13 21:40:06.093 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:40:06.093 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:40:06.093 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:40:06.093 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:40:06.094 +03:00 [INF] Api health check sent.
2025-09-13 21:40:06.094 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:40:06.094 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" completed keep alive response.
2025-09-13 21:40:06.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.444ms
2025-09-13 21:40:06.764 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:40:06.764 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:40:06.765 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:40:06.765 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:06.765 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:06.765 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:40:06.765 +03:00 [INF] Api health check sent.
2025-09-13 21:40:06.765 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:40:06.765 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:06.765 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5466ms
2025-09-13 21:40:09.690 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:40:09.690 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:40:09.690 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:40:09.690 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:40:09.690 +03:00 [INF] Api health check sent.
2025-09-13 21:40:09.690 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:40:09.690 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" completed keep alive response.
2025-09-13 21:40:09.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3941ms
2025-09-13 21:40:09.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:40:09.693 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:40:09.693 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:40:09.693 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:09.693 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:09.693 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:09.693 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:09.694 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:09.694 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:40:09.694 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:40:09.694 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:40:09.694 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:09.694 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:09.694 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:09.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:09.694 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:09.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:40:09.695 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:09.695 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:09.695 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.695 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:40:09.695 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.695 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:09.695 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:40:09.695 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:09.695 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:09.695 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:09.695 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:09.695 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 2.3475ms
2025-09-13 21:40:09.745 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:40:09.745 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:40:09.745 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:40:09.745 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:40:09.746 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:09.746 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:09.746 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:40:09.746 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - null null
2025-09-13 21:40:09.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:40:09.746 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:40:09.746 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:40:09.746 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:09.746 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:09.746 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:40:09.746 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:09.747 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:40:09.747 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:09.747 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:09.747 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:09.747 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 1.3874ms
2025-09-13 21:40:09.747 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:40:09.747 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:40:09.747 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:09.747 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.747 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:09.747 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:09.747 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:09.747 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:40:09.747 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:40:09.748 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:40:09.748 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.748 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:40:09.748 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:40:09.748 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.748 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:40:09.748 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:40:09.748 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:09.748 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:40:09.748 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:40:09.748 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:09.748 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:09.748 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:40:09.748 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:09.748 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.748 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:40:09.748 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:09.748 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:40:09.748 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:40:09.748 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:40:09.748 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:40:09.748 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.749 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:40:09.749 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:40:09.749 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:09.749 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:40:09.749 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" completed keep alive response.
2025-09-13 21:40:09.749 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:09.749 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 0.9758ms
2025-09-13 21:40:09.749 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:40:09.749 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:40:09.749 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:40:09.749 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:40:09.749 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:40:09.749 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:40:09.749 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - 200 null application/json; charset=utf-8 3.4462ms
2025-09-13 21:40:13.692 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" received FIN.
2025-09-13 21:40:13.692 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:40:13.692 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" disconnecting.
2025-09-13 21:40:13.693 +03:00 [DBG] Connection id "0HNFIUJHGR9AO" stopped.
2025-09-13 21:40:37.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:40:37.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:40:37.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:40:37.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:40:37.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:40:37.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:40:37.193 +03:00 [INF] Api health check sent.
2025-09-13 21:40:37.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:40:37.193 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:40:37.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5067ms
2025-09-13 21:41:07.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:41:07.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:41:07.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:41:07.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:41:07.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:41:07.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:41:07.193 +03:00 [INF] Api health check sent.
2025-09-13 21:41:07.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:41:07.193 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:41:07.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5455ms
2025-09-13 21:41:37.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:41:37.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:41:37.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:41:37.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:41:37.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:41:37.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:41:37.193 +03:00 [INF] Api health check sent.
2025-09-13 21:41:37.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:41:37.193 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:41:37.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.1813ms
2025-09-13 21:42:07.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:42:07.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:42:07.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:42:07.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:42:07.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:42:07.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:42:07.193 +03:00 [INF] Api health check sent.
2025-09-13 21:42:07.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:42:07.193 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:42:07.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7161ms
2025-09-13 21:42:20.297 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" disconnecting.
2025-09-13 21:42:20.298 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" stopped.
2025-09-13 21:42:20.298 +03:00 [DBG] Connection id "0HNFIUJHGR9AM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:42:24.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:42:24.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:42:24.323 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:42:24.323 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:42:24.323 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:42:24.323 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:42:24.323 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:42:24.323 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:42:24.324 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:42:24.324 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:42:24.324 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:42:24.324 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 1.5139ms
2025-09-13 21:42:24.326 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:42:24.326 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:42:24.326 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:42:24.326 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:42:24.326 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:42:24.326 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:42:24.326 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:42:24.327 +03:00 [DBG] Connection id "0HNFIUJHGR9AP" accepted.
2025-09-13 21:42:24.327 +03:00 [DBG] Connection id "0HNFIUJHGR9AP" started.
2025-09-13 21:42:24.327 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - null null
2025-09-13 21:42:24.327 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:42:24.327 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:42:24.327 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:42:24.327 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:42:24.327 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:42:24.327 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:42:24.327 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:42:24.327 +03:00 [DBG] Connection id "0HNFIUJHGR9AN" completed keep alive response.
2025-09-13 21:42:24.327 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:42:24.327 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:42:24.327 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 1.4638ms
2025-09-13 21:42:24.328 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:42:24.329 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:42:24.329 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:42:24.329 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:42:24.329 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:42:24.329 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:42:24.329 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:42:24.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:42:24.329 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:42:24.329 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:42:24.330 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:42:24.330 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:42:24.330 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:42:24.330 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:42:24.330 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:42:24.330 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:42:24.331 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:42:24.331 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:42:24.331 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:42:24.331 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:42:24.332 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:42:24.332 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:42:24.332 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:42:24.332 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:42:24.333 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:42:24.333 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:42:24.333 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:42:24.333 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:42:24.334 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:42:24.334 +03:00 [DBG] Connection id "0HNFIUJHGR9AP" completed keep alive response.
2025-09-13 21:42:24.334 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:42:24.334 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:42:24.334 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:42:24.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - 200 null application/json; charset=utf-8 6.8604ms
2025-09-13 21:42:37.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:42:37.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:42:37.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:42:37.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:42:37.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:42:37.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:42:37.193 +03:00 [INF] Api health check sent.
2025-09-13 21:42:37.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:42:37.193 +03:00 [DBG] Connection id "0HNFIUJHGR9AP" completed keep alive response.
2025-09-13 21:42:37.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8107ms
2025-09-13 21:43:16.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:43:16.203 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:43:16.203 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:43:16.203 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:16.203 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:16.203 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:43:16.203 +03:00 [INF] Api health check sent.
2025-09-13 21:43:16.203 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:43:16.203 +03:00 [DBG] Connection id "0HNFIUJHGR9AP" completed keep alive response.
2025-09-13 21:43:16.203 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5862ms
2025-09-13 21:43:31.730 +03:00 [INF] This is a test log to file!
2025-09-13 21:43:31.921 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:43:31.925 +03:00 [INF] API configured successfully.
2025-09-13 21:43:31.998 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:43:32.061 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:43:32.631 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:43:32.704 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:32.725 +03:00 [INF] Registered 23 endpoints in 896 milliseconds.
2025-09-13 21:43:32.730 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:32.768 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:32.864 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:32.876 +03:00 [DBG] Created DbConnection. (9ms).
2025-09-13 21:43:32.878 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:32.883 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:32.885 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:43:32.887 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:32.902 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:32.907 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:32.910 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:32.910 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:32.912 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:32.914 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:43:32.931 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:43:32.941 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:43:32.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2025-09-13 21:43:32.952 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:43:32.979 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:43:32.982 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:43:32.983 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:43:32.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:43:32.984 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:43:32.9821068+00:00');
SELECT changes();
2025-09-13 21:43:32.988 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:43:32.9821068+00:00');
SELECT changes();
2025-09-13 21:43:33.052 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:43:33.055 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:43:33.056 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:43:33.056 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:43:33.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:43:33.057 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:43:33.058 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:43:33.059 +03:00 [DBG] Committing transaction.
2025-09-13 21:43:33.060 +03:00 [DBG] Committed transaction.
2025-09-13 21:43:33.061 +03:00 [DBG] Disposing transaction.
2025-09-13 21:43:33.062 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:43:33.062 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:43:33.066 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.066 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.066 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.066 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.066 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.066 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.067 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:43:33.067 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:43:33.067 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:43:33.067 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:43:33.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:43:33.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.069 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.069 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:43:33.070 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:43:33.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.074 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:43:33.078 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:43:33.079 +03:00 [DBG] Committing transaction.
2025-09-13 21:43:33.079 +03:00 [DBG] Committed transaction.
2025-09-13 21:43:33.079 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:43:33.079 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:43:33.079 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:43:33.079 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:43:33.084 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:43:33.084 +03:00 [DBG] Disposing transaction.
2025-09-13 21:43:33.084 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.087 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:43:33.088 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.088 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.088 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.088 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:43:33.088 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:43:33.109 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:43:33.126 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:43:33.127 +03:00 [DBG] Hosting starting
2025-09-13 21:43:33.214 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:43:33.215 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:43:33.226 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:43:33.226 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:43:33.226 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:43:33.227 +03:00 [INF] Hosting environment: Development
2025-09-13 21:43:33.227 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:43:33.227 +03:00 [DBG] Hosting started
2025-09-13 21:43:33.253 +03:00 [DBG] Connection id "0HNFIULOFB9BV" accepted.
2025-09-13 21:43:33.254 +03:00 [DBG] Connection id "0HNFIULOFB9BV" started.
2025-09-13 21:43:33.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:43:33.322 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:43:33.322 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.339 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:33.340 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:33.341 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:43:33.344 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.357 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:33.376 +03:00 [INF] Getting all users
2025-09-13 21:43:33.400 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:43:33.445 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:43:33.623 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:43:33.644 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.644 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.646 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.647 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.647 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.647 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.647 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.648 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:43:33.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:43:33.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.665 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 15ms reading results.
2025-09-13 21:43:33.666 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.667 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.702 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.702 +03:00 [DBG] Connection id "0HNFIULOFB9C0" accepted.
2025-09-13 21:43:33.702 +03:00 [DBG] Connection id "0HNFIULOFB9C0" started.
2025-09-13 21:43:33.702 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:33.703 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:43:33.703 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.704 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:43:33.704 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.706 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:33.706 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:33.706 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.706 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.707 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.708 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:33.708 +03:00 [INF] Getting all users
2025-09-13 21:43:33.707 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 427.882ms
2025-09-13 21:43:33.710 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.711 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.711 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.711 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.711 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.711 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.712 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.712 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:43:33.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:43:33.712 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:43:33.712 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:33.712 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.712 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:33.713 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.713 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.713 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:33.713 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.713 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.714 +03:00 [DBG] Connection id "0HNFIULOFB9C0" completed keep alive response.
2025-09-13 21:43:33.714 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.714 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.714 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 11.4967ms
2025-09-13 21:43:33.714 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:33.714 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:33.715 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.716 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:33.740 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:43:33.748 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:43:33.752 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:43:33.786 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:43:33.793 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.793 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.794 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.794 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.795 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:33.800 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:33.828 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:33.853 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:33.870 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.870 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 69ms reading results.
2025-09-13 21:43:33.870 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.870 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.872 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.872 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:33.872 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.872 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.872 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.872 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 160.3481ms
2025-09-13 21:43:33.872 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:43:33.873 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:33.873 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:33.873 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.873 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:33.873 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:33.873 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.873 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:33.874 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:43:33.875 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.875 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.876 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.876 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.876 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.876 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.876 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:33.876 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:33.877 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:33.877 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:33.877 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.878 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:43:33.878 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.878 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.878 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.878 +03:00 [DBG] Connection id "0HNFIULOFB9C0" completed keep alive response.
2025-09-13 21:43:33.878 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.878 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.878 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.878 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 5.6282ms
2025-09-13 21:43:33.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:43:33.902 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:43:33.902 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.902 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:33.902 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:33.902 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.903 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:33.903 +03:00 [INF] Getting all users
2025-09-13 21:43:33.903 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.903 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.903 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.903 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.903 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.904 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.904 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.904 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:43:33.904 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:43:33.906 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.906 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:43:33.906 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.906 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.906 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:43:33.907 +03:00 [DBG] Connection id "0HNFIULOFB9C0" completed keep alive response.
2025-09-13 21:43:33.907 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.907 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.907 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.907 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 4.6596ms
2025-09-13 21:43:33.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:43:33.930 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:33.930 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:33.930 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.930 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:33.930 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:33.930 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.931 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:33.931 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:43:33.931 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:33.932 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:33.932 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.932 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:33.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:33.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:33.932 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:33.932 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:33.932 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:33.932 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.932 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:33.932 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:33.932 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.933 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:33.933 +03:00 [DBG] Connection id "0HNFIULOFB9C0" completed keep alive response.
2025-09-13 21:43:33.933 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:33.933 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:33.933 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:33.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 2.9214ms
2025-09-13 21:43:33.989 +03:00 [DBG] Connection id "0HNFIULOFB9C1" accepted.
2025-09-13 21:43:33.990 +03:00 [DBG] Connection id "0HNFIULOFB9C1" started.
2025-09-13 21:43:33.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:43:33.994 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:43:33.994 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:43:33.994 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:43:33.997 +03:00 [INF] Api health check sent.
2025-09-13 21:43:33.998 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:43:33.998 +03:00 [DBG] Connection id "0HNFIULOFB9C1" completed keep alive response.
2025-09-13 21:43:33.998 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 3.584ms
2025-09-13 21:43:38.008 +03:00 [DBG] Connection id "0HNFIULOFB9C1" received FIN.
2025-09-13 21:43:38.008 +03:00 [DBG] Connection id "0HNFIULOFB9C1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:43:38.009 +03:00 [DBG] Connection id "0HNFIULOFB9C1" disconnecting.
2025-09-13 21:43:38.010 +03:00 [DBG] Connection id "0HNFIULOFB9C1" stopped.
2025-09-13 21:43:38.011 +03:00 [DBG] Connection id "0HNFIULOFB9C2" accepted.
2025-09-13 21:43:38.011 +03:00 [DBG] Connection id "0HNFIULOFB9C2" started.
2025-09-13 21:43:38.011 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:43:38.011 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:43:38.011 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:43:38.011 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:43:38.012 +03:00 [INF] Api health check sent.
2025-09-13 21:43:38.012 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:43:38.012 +03:00 [DBG] Connection id "0HNFIULOFB9C2" completed keep alive response.
2025-09-13 21:43:38.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8528ms
2025-09-13 21:43:38.016 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:43:38.016 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:38.016 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:38.016 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:38.016 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.016 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.016 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:38.017 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.017 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:43:38.018 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:38.018 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:38.018 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.018 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.018 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.018 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.018 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:38.018 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:38.018 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:38.018 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:38.019 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.019 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:38.019 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.019 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.019 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:38.019 +03:00 [DBG] Connection id "0HNFIULOFB9C0" completed keep alive response.
2025-09-13 21:43:38.019 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.019 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.019 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.019 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 3.7632ms
2025-09-13 21:43:38.099 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:43:38.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.099 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.099 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.099 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.099 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.099 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.101 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - null null
2025-09-13 21:43:38.102 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.102 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:43:38.102 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:43:38.102 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:43:38.102 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.102 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.102 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:43:38.103 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.108 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:43:38.108 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:43:38.123 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:43:38.127 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:38.127 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:38.127 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:38.127 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:38.127 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.127 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.127 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.127 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.127 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.127 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.128 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.128 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.128 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.128 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.128 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.128 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:38.128 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.130 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:38.130 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.130 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.130 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:43:38.130 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:38.130 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.130 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.130 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.130 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.131 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:38.132 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.132 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.132 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.132 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.132 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.132 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.132 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.133 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.133 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:38.133 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.133 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.138 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:38.138 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:38.138 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.139 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.139 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.139 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.139 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:43:38.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.139 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:38.139 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.139 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.139 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.139 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.139 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - 200 null application/json; charset=utf-8 37.7688ms
2025-09-13 21:43:38.139 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.139 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.139 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:38.139 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.139 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.140 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:38.140 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - null null
2025-09-13 21:43:38.141 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:43:38.141 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046'
2025-09-13 21:43:38.141 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:43:38.141 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.141 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.142 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:43:38.142 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.143 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:38.143 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:38.143 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.143 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.143 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.144 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.144 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.144 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:38.144 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.144 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:38.144 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.144 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.144 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:38.145 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.145 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.145 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:38.145 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.145 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:38.145 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:38.145 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.145 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:38.145 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:38.146 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.146 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:38.146 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:43:38.146 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:38.146 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.146 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.146 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.146 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/f2f1b10e-1dbb-4f60-8dce-c1692343c046 - 200 null application/json; charset=utf-8 6.516ms
2025-09-13 21:43:38.149 +03:00 [DBG] Fetching schema for Profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046", ForceRefresh=false
2025-09-13 21:43:38.150 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:43:38.219 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:43:38.224 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:43:38.226 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.226 +03:00 [DBG] Connection id "0HNFIULOFB9C0" completed keep alive response.
2025-09-13 21:43:38.226 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.226 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.226 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.226 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:38.226 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.226 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:38.226 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.226 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 127.9414ms
2025-09-13 21:43:38.227 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.227 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.228 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.228 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:38.228 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.228 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 3.3409ms
2025-09-13 21:43:38.229 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:43:38.229 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.229 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.229 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.229 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.229 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.229 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.230 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.230 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.230 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:38.230 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 1.6ms
2025-09-13 21:43:38.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - null null
2025-09-13 21:43:38.232 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.233 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema'
2025-09-13 21:43:38.233 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.233 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:38.233 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:38.233 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.234 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:38.235 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:43:38.235 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:38.235 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:38.235 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/schema - 200 null application/json; charset=utf-8 3.0662ms
2025-09-13 21:43:39.104 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:43:39.105 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:43:39.105 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:43:39.105 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:39.105 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:39.105 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:43:39.105 +03:00 [INF] Api health check sent.
2025-09-13 21:43:39.105 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:43:39.105 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:39.106 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.4094ms
2025-09-13 21:43:39.108 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/profiles - null null
2025-09-13 21:43:39.108 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profiles'
2025-09-13 21:43:39.108 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 21:43:39.108 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:39.108 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:39.108 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 21:43:39.117 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:39.119 +03:00 [INF] Listing all profiles
2025-09-13 21:43:39.120 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .AsNoTracking()'
2025-09-13 21:43:39.121 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:43:39.133 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Profile>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
            3 -> 9
        SELECT p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
        FROM Profiles AS p
        LEFT JOIN Queries AS q ON p.Id == q.ProfileId
        ORDER BY p.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
            3 -> 9
        SELECT p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
        FROM Profiles AS p
        LEFT JOIN Queries AS q ON p.Id == q.ProfileId
        ORDER BY p.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Profile entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Profile instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Profile);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                            {
                                return 
                                {
                                    Profile instance;
                                    instance = new Profile();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                    instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                    instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                    instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Profile)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Profile)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Query entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Query instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Query);
                    dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                {
                                    return 
                                    {
                                        Query instance;
                                        instance = new Query();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                        instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                        instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                        instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                        instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Query)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
                return namelessParameter{12}.<Profile>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Profile)(resultContext.Values[0]) : default(Profile);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:43:39.136 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:39.136 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:39.136 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.136 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:39.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.137 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 21:43:39.137 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 21:43:39.138 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.138 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:43:39.138 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.138 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.138 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:39.139 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.139 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.139 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:39.139 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.139 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:39.139 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:39.139 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:39.140 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.140 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:39.140 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.140 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.140 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:39.141 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 21:43:39.141 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:39.141 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:39.142 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.142 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/profiles - 200 null application/json; charset=utf-8 34.015ms
2025-09-13 21:43:39.144 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert - null null
2025-09-13 21:43:39.144 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert'
2025-09-13 21:43:39.144 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:43:39.144 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:39.144 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:39.144 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:43:39.145 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:39.145 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert - 204 null null 0.9681ms
2025-09-13 21:43:39.146 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert - application/json 164
2025-09-13 21:43:39.147 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert'
2025-09-13 21:43:39.147 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert'
2025-09-13 21:43:39.147 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:43:39.147 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:39.147 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:39.147 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:43:39.149 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:39.155 +03:00 [DBG] Connection id "0HNFIULOFB9BV", Request id "0HNFIULOFB9BV:0000000B": started reading request body.
2025-09-13 21:43:39.155 +03:00 [DBG] Connection id "0HNFIULOFB9BV", Request id "0HNFIULOFB9BV:0000000B": done reading request body.
2025-09-13 21:43:39.166 +03:00 [INF] Converting NL to SQL for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:39.166 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:39.167 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:39.167 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.167 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:39.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.167 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.167 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:39.167 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:39.167 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:39.167 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:39.167 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.167 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:39.168 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.168 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.168 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.168 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.168 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:39.168 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.168 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:39.168 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:39.168 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.168 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:39.168 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.169 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.169 +03:00 [INF] Fetching connection string for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:39.169 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.169 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:39.169 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.169 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:39.169 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:39.170 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:43:39.170 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.170 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:39.170 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:39.170 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.170 +03:00 [DBG] Fetched secret for profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046"
2025-09-13 21:43:39.170 +03:00 [DBG] Fetching schema for Profile "f2f1b10e-1dbb-4f60-8dce-c1692343c046", ForceRefresh=false
2025-09-13 21:43:39.170 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:43:39.172 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:43:39.191 +03:00 [INF] Groq API key configured for HttpClient
2025-09-13 21:43:39.192 +03:00 [INF] Converting natural language to SQL. User query: SELECT 1 as health_check
2025-09-13 21:43:39.193 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-13 21:43:39.193 +03:00 [DBG] Generated prompt with 6 messages
2025-09-13 21:43:39.199 +03:00 [DBG] Request payload prepared for LLM API
2025-09-13 21:43:39.972 +03:00 [INF] LLM API responded with status: "OK"
2025-09-13 21:43:39.977 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-13 21:43:39.980 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:43:39.980 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:39.980 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:39.980 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:39.980 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:39.980 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/f2f1b10e-1dbb-4f60-8dce-c1692343c046/convert - 200 null application/json; charset=utf-8 834.1313ms
2025-09-13 21:43:42.014 +03:00 [DBG] Connection id "0HNFIULOFB9C2" received FIN.
2025-09-13 21:43:42.014 +03:00 [DBG] Connection id "0HNFIULOFB9C2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:43:42.014 +03:00 [DBG] Connection id "0HNFIULOFB9C2" disconnecting.
2025-09-13 21:43:42.014 +03:00 [DBG] Connection id "0HNFIULOFB9C2" stopped.
2025-09-13 21:43:43.101 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - null null
2025-09-13 21:43:43.101 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:43:43.101 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:43:43.101 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:43.101 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:43.101 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:43:43.101 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:43.102 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - 204 null null 0.5104ms
2025-09-13 21:43:43.102 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - application/json 81
2025-09-13 21:43:43.102 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:43:43.103 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:43:43.103 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:43:43.103 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:43.103 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:43.103 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:43:43.103 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:43.106 +03:00 [DBG] Connection id "0HNFIULOFB9BV", Request id "0HNFIULOFB9BV:0000000D": started reading request body.
2025-09-13 21:43:43.106 +03:00 [DBG] Connection id "0HNFIULOFB9BV", Request id "0HNFIULOFB9BV:0000000D": done reading request body.
2025-09-13 21:43:43.110 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:43.110 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:43.110 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:43.110 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.110 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:43.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:43.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:43.110 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:43.111 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:43.111 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:43.111 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:43.111 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.111 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:43.111 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.111 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:43.119 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:43.123 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:43:43.143 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:43:43.145 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:43:43.146 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:43:43.146 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:43:43.183 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:43.183 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:43.184 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:43.185 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:43.185 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:43:43.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:43:43.194 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.194 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 8ms reading results.
2025-09-13 21:43:43.194 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.194 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:43.196 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:43.197 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:43:43.199 +03:00 [INF] AI mode changed to "Basic" for user "26261e2a-9a9d-492c-a5f0-730abd65b9ad" at "2025-09-13T18:43:43.1121751Z"
2025-09-13 21:43:43.199 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:43:43.199 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:43.199 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:43.199 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:43.200 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:43.200 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - 200 null application/json; charset=utf-8 97.2031ms
2025-09-13 21:43:43.202 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:43:43.202 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:43.202 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:43.202 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:43.202 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:43.202 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:43.202 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:43.203 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:43.203 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:43:43.204 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:43.204 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:43.204 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:43.204 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.204 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:43.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:43.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:43.204 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:43.204 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:43.205 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:43.205 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:43.205 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.205 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:43.205 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:43.205 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:43.205 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:43.205 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:43.205 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:43.205 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:43.205 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:43.205 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 3.8714ms
2025-09-13 21:43:43.708 +03:00 [DBG] Connection id "0HNFIULOFB9C3" accepted.
2025-09-13 21:43:43.708 +03:00 [DBG] Connection id "0HNFIULOFB9C3" started.
2025-09-13 21:43:43.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:43:43.708 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:43:43.708 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:43:43.709 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:43:43.709 +03:00 [INF] Api health check sent.
2025-09-13 21:43:43.709 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:43:43.709 +03:00 [DBG] Connection id "0HNFIULOFB9C3" completed keep alive response.
2025-09-13 21:43:43.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4898ms
2025-09-13 21:43:47.712 +03:00 [DBG] Connection id "0HNFIULOFB9C3" received FIN.
2025-09-13 21:43:47.712 +03:00 [DBG] Connection id "0HNFIULOFB9C3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:43:47.713 +03:00 [DBG] Connection id "0HNFIULOFB9C3" disconnecting.
2025-09-13 21:43:47.713 +03:00 [DBG] Connection id "0HNFIULOFB9C3" stopped.
2025-09-13 21:43:48.182 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - null null
2025-09-13 21:43:48.183 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:43:48.183 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:43:48.183 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:48.183 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:48.183 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:43:48.183 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:48.183 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - 204 null null 0.8816ms
2025-09-13 21:43:48.185 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - application/json 136
2025-09-13 21:43:48.185 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:43:48.185 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode'
2025-09-13 21:43:48.185 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:43:48.185 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:48.185 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:48.185 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:43:48.186 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:48.186 +03:00 [DBG] Connection id "0HNFIULOFB9BV", Request id "0HNFIULOFB9BV:00000010": started reading request body.
2025-09-13 21:43:48.186 +03:00 [DBG] Connection id "0HNFIULOFB9BV", Request id "0HNFIULOFB9BV:00000010": done reading request body.
2025-09-13 21:43:48.186 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:48.187 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:48.187 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:48.187 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.187 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:48.187 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:48.187 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:48.187 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:48.187 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:48.187 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:48.187 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:48.187 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.187 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:48.187 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.187 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:48.188 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:48.188 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:43:48.188 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:43:48.188 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:43:48.188 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:43:48.188 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:43:48.189 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:48.189 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.189 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:48.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:48.189 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:48.189 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:43:48.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:43:48.194 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.194 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:43:48.194 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.194 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:48.194 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:48.194 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:43:48.195 +03:00 [INF] AI mode changed to "Groq" for user "26261e2a-9a9d-492c-a5f0-730abd65b9ad" at "2025-09-13T18:43:48.1879375Z"
2025-09-13 21:43:48.196 +03:00 [INF] API key changed for user "26261e2a-9a9d-492c-a5f0-730abd65b9ad" at "2025-09-13T18:43:48.1880905Z"
2025-09-13 21:43:48.197 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:43:48.197 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:48.197 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:48.197 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:48.197 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:48.197 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad/aimode - 200 null application/json; charset=utf-8 12.2609ms
2025-09-13 21:43:48.245 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:43:48.245 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:48.245 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:43:48.245 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:48.245 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:43:48.245 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:43:48.245 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:48.246 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:43:48.246 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:43:48.246 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:43:48.246 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:43:48.246 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:48.246 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:43:48.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:48.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:43:48.246 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:48.246 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:43:48.247 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:48.247 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:43:48.247 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.247 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:43:48.247 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:43:48.247 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:48.247 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:43:48.247 +03:00 [DBG] Connection id "0HNFIULOFB9BV" completed keep alive response.
2025-09-13 21:43:48.247 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:43:48.247 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:43:48.247 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:43:48.247 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 200 null application/json; charset=utf-8 2.3208ms
2025-09-13 21:43:48.750 +03:00 [DBG] Connection id "0HNFIULOFB9C4" accepted.
2025-09-13 21:43:48.750 +03:00 [DBG] Connection id "0HNFIULOFB9C4" started.
2025-09-13 21:43:48.750 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:43:48.750 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:43:48.750 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:43:48.750 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:43:48.751 +03:00 [INF] Api health check sent.
2025-09-13 21:43:48.751 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:43:48.751 +03:00 [DBG] Connection id "0HNFIULOFB9C4" completed keep alive response.
2025-09-13 21:43:48.751 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.375ms
2025-09-13 21:43:52.752 +03:00 [DBG] Connection id "0HNFIULOFB9C4" received FIN.
2025-09-13 21:43:52.753 +03:00 [DBG] Connection id "0HNFIULOFB9C4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:43:52.753 +03:00 [DBG] Connection id "0HNFIULOFB9C4" disconnecting.
2025-09-13 21:43:52.753 +03:00 [DBG] Connection id "0HNFIULOFB9C4" stopped.
2025-09-13 21:44:09.592 +03:00 [INF] This is a test log to file!
2025-09-13 21:44:09.750 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:44:09.754 +03:00 [INF] API configured successfully.
2025-09-13 21:44:09.828 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:44:09.877 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:44:10.279 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:44:10.344 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:10.365 +03:00 [INF] Registered 23 endpoints in 693 milliseconds.
2025-09-13 21:44:10.370 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:10.411 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:10.483 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:10.491 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-13 21:44:10.493 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.496 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:10.498 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:44:10.501 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.511 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.513 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.517 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:10.518 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:10.529 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.533 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-13 21:44:10.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-13 21:44:10.540 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:44:10.569 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:44:10.570 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:10.574 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:44:10.574 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.574 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:10.575 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:44:10.577 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:10.578 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.578 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.578 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:44:10.582 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:44:10.582 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.582 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.582 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.582 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:44:10.590 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:44:10.591 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:10.591 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.591 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.591 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:44:10.5909706+00:00');
SELECT changes();
2025-09-13 21:44:10.593 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:44:10.5909706+00:00');
SELECT changes();
2025-09-13 21:44:10.654 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:10.656 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:10.656 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.656 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.657 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:44:10.657 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:44:10.658 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:10.664 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:10.665 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:10.666 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:10.666 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:10.669 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:10.669 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:10.669 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.669 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:10.671 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.671 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:10.672 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:10.672 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.672 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:44:10.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:44:10.674 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:10.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:10.674 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:10.674 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:44:10.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:44:10.677 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:10.677 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:44:10.681 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:44:10.694 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.694 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.694 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:44:10.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:44:10.695 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.695 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.695 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:44:10.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:44:10.695 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.695 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.695 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:44:10.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:44:10.695 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.695 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.696 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:44:10.696 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:44:10.696 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:44:10.702 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.702 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.702 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:44:10.702 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:44:10.702 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.702 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.702 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:44:10.702 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:44:10.702 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:10.705 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:10.705 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:10.706 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.706 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.706 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:44:10.706 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:44:10.706 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:10.706 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:10.706 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.706 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.706 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:44:10.706 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:44:10.706 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.706 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.706 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:44:10.707 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:44:10.707 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:10.709 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:10.709 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:10.709 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.709 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.710 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:44:10.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:44:10.710 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.710 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.710 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:44:10.712 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:44:10.712 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:44:10.714 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:10.714 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:10.714 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.715 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.715 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:44:10.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:44:10.715 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.715 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.715 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:44:10.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:44:10.715 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:44:10.722 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:44:10.722 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.722 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.722 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:44:10.722 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:44:10.722 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.722 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.722 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:44:10.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:44:10.723 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.723 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:44:10.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:44:10.723 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.723 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:44:10.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:44:10.723 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.723 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:44:10.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:44:10.723 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.723 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.723 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:44:10.724 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:44:10.724 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.724 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.724 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.724 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:44:10.724 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:44:10.724 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:10.731 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:10.731 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:10.731 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.731 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.731 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.731 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:44:10.731 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:44:10.731 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:10.731 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:10.731 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.731 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.731 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.731 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:44:10.731 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:44:10.731 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.731 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.731 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.731 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:44:10.732 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:44:10.732 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:10.735 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:10.735 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:10.735 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.735 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.735 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.735 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:44:10.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:44:10.735 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:10.735 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:10.735 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.735 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.735 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.735 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:44:10.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:44:10.736 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.736 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.736 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.736 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:44:10.736 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:44:10.736 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:10.739 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:10.739 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:10.739 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:10.739 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:10.739 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:44:10.741 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:44:10.742 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:10.742 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:10.743 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:44:10.745 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:44:10.745 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:10.746 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:10.746 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:10.746 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:10.746 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:10.746 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:44:10.746 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:44:10.765 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:44:10.781 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:44:10.782 +03:00 [DBG] Hosting starting
2025-09-13 21:44:10.869 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:44:10.871 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:44:10.881 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:44:10.881 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:44:10.881 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:44:10.882 +03:00 [INF] Hosting environment: Development
2025-09-13 21:44:10.882 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:44:10.882 +03:00 [DBG] Hosting started
2025-09-13 21:44:10.913 +03:00 [DBG] Connection id "0HNFIUM3MG33L" accepted.
2025-09-13 21:44:10.914 +03:00 [DBG] Connection id "0HNFIUM3MG33L" started.
2025-09-13 21:44:10.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:44:10.991 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:44:10.991 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.009 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:11.009 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:11.010 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:44:11.012 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.024 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:11.041 +03:00 [INF] Getting all users
2025-09-13 21:44:11.069 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:44:11.123 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:44:11.343 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:44:11.376 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:11.376 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:11.378 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:11.379 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.379 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:11.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:11.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:11.379 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:11.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:11.384 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.384 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:44:11.386 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.386 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:11.427 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.428 +03:00 [DBG] Connection id "0HNFIUM3MG33L" completed keep alive response.
2025-09-13 21:44:11.428 +03:00 [DBG] Connection id "0HNFIUM3MG33M" accepted.
2025-09-13 21:44:11.428 +03:00 [DBG] Connection id "0HNFIUM3MG33M" started.
2025-09-13 21:44:11.429 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:11.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:44:11.430 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:44:11.430 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.431 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:11.432 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:11.433 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:11.433 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:11.434 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.434 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:11.434 +03:00 [INF] Getting all users
2025-09-13 21:44:11.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 494.6027ms
2025-09-13 21:44:11.438 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:11.438 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:11.438 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:11.438 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.438 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:11.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:11.438 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:11.438 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:11.439 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:11.439 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.439 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:11.439 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.439 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:11.440 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.440 +03:00 [DBG] Connection id "0HNFIUM3MG33M" completed keep alive response.
2025-09-13 21:44:11.440 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:11.440 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:11.440 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:11.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 11.4242ms
2025-09-13 21:44:11.470 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:44:11.471 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:44:11.471 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.472 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:11.472 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:11.474 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.481 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:11.482 +03:00 [INF] Getting all users
2025-09-13 21:44:11.483 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:11.484 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:44:11.485 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:11.488 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.488 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:11.489 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:11.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:11.491 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:11.493 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:11.495 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.496 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:44:11.497 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:11.497 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:11.500 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:11.500 +03:00 [DBG] Connection id "0HNFIUM3MG33M" completed keep alive response.
2025-09-13 21:44:11.500 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:11.501 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:11.502 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:11.502 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 31.3471ms
2025-09-13 21:44:15.976 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - null null
2025-09-13 21:44:15.976 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:44:15.977 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad'
2025-09-13 21:44:15.977 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:15.977 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:15.978 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:15.978 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:15.978 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:15.997 +03:00 [INF] Getting user by ID: "26261e2a-9a9d-492c-a5f0-730abd65b9ad"
2025-09-13 21:44:16.006 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:44:16.010 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:44:16.037 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:44:16.043 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:16.043 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:16.044 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.044 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.044 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:16.044 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:16.045 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:44:16.047 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:16.049 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:16.049 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.049 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:16.050 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.050 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.051 +03:00 [WRN] User with ID "26261e2a-9a9d-492c-a5f0-730abd65b9ad" not found
2025-09-13 21:44:16.053 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:16.053 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID 26261e2a-9a9d-492c-a5f0-730abd65b9ad not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:44:16.065 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:44:16.071 +03:00 [DBG] Connection id "0HNFIUM3MG33M" completed keep alive response.
2025-09-13 21:44:16.071 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:16.071 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.071 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.071 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/26261e2a-9a9d-492c-a5f0-730abd65b9ad - 500 null application/json; charset=utf-8 95.1856ms
2025-09-13 21:44:16.074 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:44:16.074 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:44:16.074 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:44:16.074 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:16.075 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:16.075 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:44:16.076 +03:00 [DBG] Connection id "0HNFIUM3MG33M" completed keep alive response.
2025-09-13 21:44:16.076 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.9038ms
2025-09-13 21:44:16.077 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-13 21:44:16.077 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:44:16.077 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:44:16.077 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:16.077 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:16.077 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:44:16.078 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:16.084 +03:00 [DBG] Connection id "0HNFIUM3MG33M", Request id "0HNFIUM3MG33M:00000005": started reading request body.
2025-09-13 21:44:16.084 +03:00 [DBG] Connection id "0HNFIUM3MG33M", Request id "0HNFIUM3MG33M:00000005": done reading request body.
2025-09-13 21:44:16.095 +03:00 [INF] Creating new user with API key: 
2025-09-13 21:44:16.096 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:44:16.100 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:44:16.102 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:16.102 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:16.102 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.102 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.102 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:16.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:16.102 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:16.102 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:44:16.102 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:44:16.102 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.102 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:16.102 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.102 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.124 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:16.160 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:16.163 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:16.175 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:16.178 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:44:16.179 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:16.179 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:16.220 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:16.221 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:16.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:44:16.222 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:44:16.231 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:44:16.234 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:44:16.234 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.234 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.240 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:16.240 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:44:16.241 +03:00 [INF] User created successfully with ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:16.243 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:44:16.243 +03:00 [DBG] Connection id "0HNFIUM3MG33M" completed keep alive response.
2025-09-13 21:44:16.244 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:16.244 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.244 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.244 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 166.9491ms
2025-09-13 21:44:16.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:16.247 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:16.247 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:16.247 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:16.247 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:16.247 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:16.247 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:16.248 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:16.248 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:16.248 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:16.248 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:16.248 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.248 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.248 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:16.248 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:16.249 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:16.249 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:16.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:16.255 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:16.261 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.261 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 12ms reading results.
2025-09-13 21:44:16.261 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:16.262 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.265 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:16.265 +03:00 [DBG] Connection id "0HNFIUM3MG33M" completed keep alive response.
2025-09-13 21:44:16.265 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:16.265 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:16.265 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:16.265 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 18.9234ms
2025-09-13 21:44:19.501 +03:00 [INF] This is a test log to file!
2025-09-13 21:44:19.639 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:44:19.641 +03:00 [INF] API configured successfully.
2025-09-13 21:44:19.701 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:44:19.745 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:44:20.158 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:44:20.244 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:20.265 +03:00 [INF] Registered 23 endpoints in 695 milliseconds.
2025-09-13 21:44:20.270 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:20.332 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:20.422 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:20.432 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-13 21:44:20.434 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.436 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:20.438 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:44:20.440 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.447 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:20.450 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.453 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-13 21:44:20.453 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.454 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:20.457 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:44:20.462 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:20.466 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:44:20.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:44:20.471 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:44:20.494 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:44:20.495 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:20.495 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:20.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:20.495 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:44:20.4955941+00:00');
SELECT changes();
2025-09-13 21:44:20.500 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:44:20.4955941+00:00');
SELECT changes();
2025-09-13 21:44:20.543 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:20.546 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:20.547 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:44:20.547 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:20.548 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:44:20.548 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:44:20.548 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:44:20.549 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:20.550 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:20.550 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:20.551 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:44:20.552 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:44:20.555 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:20.555 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:20.556 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.556 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:20.556 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.557 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:20.557 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:20.557 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:20.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:20.557 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:44:20.557 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:44:20.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:20.560 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:20.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:20.560 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:44:20.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:44:20.565 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:20.566 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:44:20.570 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:44:20.570 +03:00 [DBG] Committing transaction.
2025-09-13 21:44:20.571 +03:00 [DBG] Committed transaction.
2025-09-13 21:44:20.571 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:44:20.571 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:20.571 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:44:20.571 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:44:20.578 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:44:20.578 +03:00 [DBG] Disposing transaction.
2025-09-13 21:44:20.579 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:20.580 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:44:20.581 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:20.581 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:20.581 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:20.581 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:44:20.581 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:44:20.599 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:44:20.611 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:44:20.612 +03:00 [DBG] Hosting starting
2025-09-13 21:44:20.661 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:44:20.663 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:44:20.677 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:44:20.677 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:44:20.677 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:44:20.677 +03:00 [INF] Hosting environment: Development
2025-09-13 21:44:20.677 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:44:20.677 +03:00 [DBG] Hosting started
2025-09-13 21:44:23.375 +03:00 [DBG] Connection id "0HNFIUM7DB309" accepted.
2025-09-13 21:44:23.375 +03:00 [DBG] Connection id "0HNFIUM7DB309" started.
2025-09-13 21:44:23.398 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:23.437 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:23.438 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:23.455 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:44:23.458 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:23.485 +03:00 [INF] Api health check sent.
2025-09-13 21:44:23.488 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:23.488 +03:00 [DBG] Connection id "0HNFIUM7DB309" completed keep alive response.
2025-09-13 21:44:23.489 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 92.285ms
2025-09-13 21:44:23.497 +03:00 [DBG] Connection id "0HNFIUM7DB30A" accepted.
2025-09-13 21:44:23.498 +03:00 [DBG] Connection id "0HNFIUM7DB30A" started.
2025-09-13 21:44:23.499 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:23.500 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:23.501 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:23.501 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:23.503 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:23.503 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:23.505 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:23.518 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:23.543 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:23.583 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:44:23.616 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:44:23.804 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:44:23.830 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:23.831 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:23.832 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:23.833 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:23.833 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:23.833 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:23.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:23.835 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:23.840 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:23.867 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:23.887 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:23.888 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 47ms reading results.
2025-09-13 21:44:23.889 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:23.890 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:23.910 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:23.911 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:23.912 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:23.914 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:23.914 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:23.914 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 415.0899ms
2025-09-13 21:44:23.962 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:44:23.963 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:44:23.963 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:44:23.963 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:23.963 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:23.964 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:44:23.967 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:23.974 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:44:23.975 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:23.975 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:23.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 12.3383ms
2025-09-13 21:44:24.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:24.965 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:24.965 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:24.965 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:24.966 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:24.966 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:24.966 +03:00 [INF] Api health check sent.
2025-09-13 21:44:24.966 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:24.966 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:24.966 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.5602ms
2025-09-13 21:44:26.631 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:44:26.632 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:44:26.632 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:44:26.632 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:44:26.633 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:26.633 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:26.633 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:44:26.642 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:26.653 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:44:26.654 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:44:26.660 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:26.787 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:26.791 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:26.847 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:44:26.907 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:44:26.908 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:44:26.914 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:44:26.915 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:26.915 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:26.915 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 284.788ms
2025-09-13 21:44:26.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:44:26.941 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:44:26.941 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:44:26.941 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:44:26.941 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:26.942 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:26.942 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:44:26.942 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:26.943 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:44:26.943 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:44:26.943 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:26.943 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:26.943 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:26.945 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:44:26.948 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:44:26.948 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:44:26.948 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:44:26.948 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:26.948 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:26.948 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 7.2692ms
2025-09-13 21:44:27.496 +03:00 [DBG] Connection id "0HNFIUM7DB309" received FIN.
2025-09-13 21:44:27.497 +03:00 [DBG] Connection id "0HNFIUM7DB309" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:44:27.497 +03:00 [DBG] Connection id "0HNFIUM7DB309" disconnecting.
2025-09-13 21:44:27.499 +03:00 [DBG] Connection id "0HNFIUM7DB309" stopped.
2025-09-13 21:44:27.873 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:44:27.874 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:44:27.874 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:44:27.874 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:44:27.874 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:27.874 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:27.874 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:44:27.875 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:27.878 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:44:27.881 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:44:27.881 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:44:28.468 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:44:28.471 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:44:28.471 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:28.471 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:28.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 597.3455ms
2025-09-13 21:44:30.321 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:44:30.321 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:44:30.321 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:44:30.321 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.321 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.321 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:44:30.322 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:30.322 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 1.7126ms
2025-09-13 21:44:30.324 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:44:30.324 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:44:30.324 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:44:30.324 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.324 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.324 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:44:30.324 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:30.337 +03:00 [DBG] Connection id "0HNFIUM7DB30A", Request id "0HNFIUM7DB30A:00000008": started reading request body.
2025-09-13 21:44:30.337 +03:00 [DBG] Connection id "0HNFIUM7DB30A", Request id "0HNFIUM7DB30A:00000008": done reading request body.
2025-09-13 21:44:30.347 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:44:30.347 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:44:30.402 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:44:30.410 +03:00 [DBG] Saved secret profile-2fbecdaf-c874-4c9c-930e-78848e31d4e4 for provider "SqlServer"
2025-09-13 21:44:30.410 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:44:30.415 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:44:30.421 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:44:30.424 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:30.424 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:30.424 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.424 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.424 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.424 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.424 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:44:30.425 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:44:30.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.426 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:44:30.427 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.427 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.448 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.472 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.474 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:30.485 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:30.489 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:44:30.489 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:30.490 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:30.528 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.528 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.529 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.529 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.530 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:44:30.530 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:44:30.539 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:44:30.542 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.542 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:44:30.542 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.542 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.547 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.548 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:44:30.548 +03:00 [INF] Profile created successfully with Id "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.550 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:44:30.550 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:30.550 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:30.550 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.550 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.550 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 226.7563ms
2025-09-13 21:44:30.553 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:30.553 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:30.553 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:30.553 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:30.553 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.553 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.553 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:30.554 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:30.555 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:30.557 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:30.557 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:30.557 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.557 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.557 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.557 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.557 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:30.558 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:30.558 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.562 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.562 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.562 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:44:30.562 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.562 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.564 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:30.564 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:30.564 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:30.564 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.564 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.564 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 11.6781ms
2025-09-13 21:44:30.609 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - null null
2025-09-13 21:44:30.610 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:30.610 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:30.610 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:30.610 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.610 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.610 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:30.612 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:30.613 +03:00 [DBG] Connection id "0HNFIUM7DB30B" accepted.
2025-09-13 21:44:30.613 +03:00 [DBG] Connection id "0HNFIUM7DB30B" started.
2025-09-13 21:44:30.613 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd - null null
2025-09-13 21:44:30.614 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd'
2025-09-13 21:44:30.614 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd'
2025-09-13 21:44:30.614 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:30.614 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.614 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.614 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:30.615 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:30.618 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:44:30.619 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:44:30.634 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:44:30.637 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:30.637 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:30.638 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:30.638 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:30.638 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.638 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.638 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.638 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.638 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.638 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.638 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.639 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.639 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.639 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.640 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.640 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:44:30.640 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:30.640 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.640 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.640 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.640 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.641 +03:00 [INF] Fetching connection string for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.641 +03:00 [INF] Fetching connection string for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.641 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.641 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.641 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.641 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.642 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.642 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.642 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.642 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.642 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.642 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.642 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.642 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:30.642 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.642 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.642 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.642 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:30.642 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.642 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.645 +03:00 [DBG] Fetched secret for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.645 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:30.645 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:30.646 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:30.646 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.646 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.646 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd - 200 null application/json; charset=utf-8 32.1991ms
2025-09-13 21:44:30.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd - null null
2025-09-13 21:44:30.647 +03:00 [DBG] Fetched secret for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd'
2025-09-13 21:44:30.648 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd'
2025-09-13 21:44:30.648 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:30.648 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.648 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.648 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:30.649 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:30.649 +03:00 [DBG] Fetching schema for Profile "e9466718-3497-4bfb-995e-f71a95d570bd", ForceRefresh=false
2025-09-13 21:44:30.649 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:30.649 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:30.649 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.650 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.650 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:44:30.650 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.650 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:30.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.651 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:30.651 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.651 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.651 +03:00 [INF] Fetching connection string for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.652 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.652 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.652 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:30.652 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:30.652 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.652 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:30.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:30.653 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:30.653 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.653 +03:00 [DBG] Fetched secret for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:30.653 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:30.654 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:30.654 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:30.654 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.654 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd - 200 null application/json; charset=utf-8 7.0746ms
2025-09-13 21:44:30.688 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:44:30.692 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:30.693 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:30.693 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:30.693 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:30.693 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:30.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - 200 null application/json; charset=utf-8 83.329ms
2025-09-13 21:44:30.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - null null
2025-09-13 21:44:30.694 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:30.694 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:30.694 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:30.694 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:30.694 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:30.694 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:30.695 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:30.695 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:30.695 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:30.695 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:30.695 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - 200 null application/json; charset=utf-8 2.01ms
2025-09-13 21:44:50.765 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - null null
2025-09-13 21:44:50.765 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:44:50.765 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:44:50.765 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:50.765 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:50.765 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:44:50.765 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:50.765 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - 204 null null 0.4686ms
2025-09-13 21:44:50.767 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - application/json 136
2025-09-13 21:44:50.767 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:44:50.767 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:44:50.767 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:44:50.767 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:50.767 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:50.767 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:44:50.768 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:50.769 +03:00 [DBG] Connection id "0HNFIUM7DB30A", Request id "0HNFIUM7DB30A:0000000D": started reading request body.
2025-09-13 21:44:50.769 +03:00 [DBG] Connection id "0HNFIUM7DB30A", Request id "0HNFIUM7DB30A:0000000D": done reading request body.
2025-09-13 21:44:50.773 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:50.773 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:50.773 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.773 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.773 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:50.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.773 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:50.773 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:50.773 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.773 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.774 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.774 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:50.774 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.774 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.775 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.775 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:50.779 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:50.779 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:44:50.779 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:50.779 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:50.786 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.786 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.786 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:50.786 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.787 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.787 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:44:50.787 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:44:50.792 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.792 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 5ms reading results.
2025-09-13 21:44:50.792 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.792 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.793 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.793 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:44:50.796 +03:00 [INF] AI mode changed to "Groq" for user "4148ebc8-17b6-4f64-9612-b10ea0379506" at "2025-09-13T18:44:50.7743879Z"
2025-09-13 21:44:50.797 +03:00 [INF] API key changed for user "4148ebc8-17b6-4f64-9612-b10ea0379506" at "2025-09-13T18:44:50.7745279Z"
2025-09-13 21:44:50.798 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:44:50.798 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:50.798 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:50.798 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.798 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.798 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - 200 null application/json; charset=utf-8 31.1809ms
2025-09-13 21:44:50.840 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:50.840 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:50.840 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:50.840 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:50.840 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:50.840 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:50.841 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:50.841 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:50.841 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:50.841 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:50.841 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:50.841 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.842 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:50.842 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.842 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:50.842 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:50.843 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.843 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.843 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.843 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:50.843 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.843 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.843 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:50.843 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:50.844 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:50.844 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.844 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 3.4085ms
2025-09-13 21:44:50.901 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:44:50.901 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:44:50.901 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:50.901 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:50.901 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:50.901 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:50.901 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:50.902 +03:00 [INF] Getting all users
2025-09-13 21:44:50.905 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:44:50.905 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:44:50.916 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:44:50.919 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:50.919 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:50.919 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.919 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.919 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:50.919 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.919 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:50.919 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:44:50.922 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.922 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:44:50.922 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.922 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.923 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:44:50.923 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:50.923 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:50.924 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.924 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.924 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 23.011ms
2025-09-13 21:44:50.935 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:50.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:50.936 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:50.936 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:50.936 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:50.936 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:50.936 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:50.936 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:50.936 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:50.937 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:50.937 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:50.937 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.937 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:50.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.937 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:50.937 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:50.937 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:50.937 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.938 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:50.938 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.938 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:50.938 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:50.938 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.938 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:50.938 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:50.938 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:50.938 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:50.938 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:50.938 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 2.9019ms
2025-09-13 21:44:50.943 +03:00 [DBG] Connection id "0HNFIUM7DB30C" accepted.
2025-09-13 21:44:50.944 +03:00 [DBG] Connection id "0HNFIUM7DB30C" started.
2025-09-13 21:44:50.944 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:50.944 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:50.944 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:50.944 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:50.945 +03:00 [INF] Api health check sent.
2025-09-13 21:44:50.945 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:50.945 +03:00 [DBG] Connection id "0HNFIUM7DB30C" completed keep alive response.
2025-09-13 21:44:50.945 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.0685ms
2025-09-13 21:44:51.350 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:51.350 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:51.350 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:51.351 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:51.351 +03:00 [INF] Api health check sent.
2025-09-13 21:44:51.351 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:51.351 +03:00 [DBG] Connection id "0HNFIUM7DB30C" completed keep alive response.
2025-09-13 21:44:51.351 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4012ms
2025-09-13 21:44:54.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:54.957 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:54.957 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:54.957 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:54.958 +03:00 [INF] Api health check sent.
2025-09-13 21:44:54.958 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:54.958 +03:00 [DBG] Connection id "0HNFIUM7DB30C" completed keep alive response.
2025-09-13 21:44:54.958 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8018ms
2025-09-13 21:44:54.961 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:54.961 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:54.961 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:54.961 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:54.961 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:54.961 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:54.961 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:54.961 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:54.961 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:54.962 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:54.962 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:54.962 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:54.962 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:54.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:54.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:54.962 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:54.962 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:54.962 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:54.962 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:54.962 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:54.962 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:54.962 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:54.962 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:54.962 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:54.963 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:54.963 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:54.963 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:54.963 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:54.963 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:54.963 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 2.0644ms
2025-09-13 21:44:55.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - null null
2025-09-13 21:44:55.035 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:55.035 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:55.035 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:55.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd - null null
2025-09-13 21:44:55.035 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:55.035 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:55.035 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd'
2025-09-13 21:44:55.035 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd'
2025-09-13 21:44:55.035 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:55.035 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:55.035 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:55.035 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:55.035 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:55.036 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:55.036 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:55.036 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:55.036 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:55.036 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:55.036 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:55.036 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - 200 null application/json; charset=utf-8 1.1409ms
2025-09-13 21:44:55.036 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:55.036 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:55.036 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:55.036 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:55.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:55.036 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:55.036 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:55.037 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:55.037 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:55.037 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:55.037 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:55.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:55.037 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:55.037 +03:00 [INF] Fetching connection string for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:55.037 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - null null
2025-09-13 21:44:55.037 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:55.037 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema'
2025-09-13 21:44:55.037 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:55.037 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:55.037 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:55.037 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:55.037 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:55.037 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:55.037 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:55.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:55.038 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:55.038 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:55.038 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:44:55.038 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:55.038 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:55.038 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:55.038 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:55.038 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:55.038 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:44:55.038 +03:00 [DBG] Connection id "0HNFIUM7DB30A" completed keep alive response.
2025-09-13 21:44:55.038 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:55.038 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/e9466718-3497-4bfb-995e-f71a95d570bd/schema - 200 null application/json; charset=utf-8 0.9225ms
2025-09-13 21:44:55.038 +03:00 [DBG] Fetched secret for profile "e9466718-3497-4bfb-995e-f71a95d570bd"
2025-09-13 21:44:55.038 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:44:55.038 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:55.038 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:55.038 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:55.038 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:55.038 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/e9466718-3497-4bfb-995e-f71a95d570bd - 200 null application/json; charset=utf-8 3.3826ms
2025-09-13 21:44:55.104 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:55.104 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:55.104 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:55.104 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:55.104 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:55.104 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:55.104 +03:00 [INF] Api health check sent.
2025-09-13 21:44:55.104 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:55.104 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:55.104 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4751ms
2025-09-13 21:44:58.013 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - null null
2025-09-13 21:44:58.013 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:44:58.013 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:44:58.013 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:58.013 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:58.013 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:44:58.013 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:58.013 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - 204 null null 0.3067ms
2025-09-13 21:44:58.014 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - application/json 81
2025-09-13 21:44:58.014 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:44:58.014 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:44:58.014 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:44:58.015 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:58.015 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:58.015 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:44:58.015 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:58.015 +03:00 [DBG] Connection id "0HNFIUM7DB30B", Request id "0HNFIUM7DB30B:00000006": started reading request body.
2025-09-13 21:44:58.015 +03:00 [DBG] Connection id "0HNFIUM7DB30B", Request id "0HNFIUM7DB30B:00000006": done reading request body.
2025-09-13 21:44:58.015 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:58.015 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:58.015 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:58.015 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.015 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:58.015 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:58.015 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:58.015 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:58.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:58.016 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:58.016 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:58.016 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.016 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:58.016 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.016 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:58.016 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:58.016 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:58.016 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:58.016 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:44:58.016 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:44:58.016 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:44:58.016 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:58.016 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.016 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:58.016 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:58.016 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:58.016 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:44:58.017 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:44:58.020 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.020 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-13 21:44:58.020 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.020 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:58.020 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:58.020 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:44:58.020 +03:00 [INF] AI mode changed to "Basic" for user "4148ebc8-17b6-4f64-9612-b10ea0379506" at "2025-09-13T18:44:58.0164709Z"
2025-09-13 21:44:58.021 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:44:58.021 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:58.021 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:58.021 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:58.021 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:58.021 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - 200 null application/json; charset=utf-8 6.4106ms
2025-09-13 21:44:58.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:44:58.073 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:58.073 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:44:58.073 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:58.073 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:44:58.073 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:44:58.074 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:58.074 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:44:58.074 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:44:58.075 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:44:58.075 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:44:58.075 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:58.075 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.075 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:44:58.075 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:58.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:44:58.075 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:58.075 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:44:58.075 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:58.075 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:44:58.076 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:44:58.076 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:44:58.076 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:58.076 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:44:58.076 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:44:58.076 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:44:58.076 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:44:58.076 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:44:58.076 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 2.799ms
2025-09-13 21:44:58.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:44:58.578 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:44:58.578 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:44:58.578 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:44:58.578 +03:00 [INF] Api health check sent.
2025-09-13 21:44:58.578 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:44:58.578 +03:00 [DBG] Connection id "0HNFIUM7DB30C" completed keep alive response.
2025-09-13 21:44:58.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4237ms
2025-09-13 21:45:02.580 +03:00 [DBG] Connection id "0HNFIUM7DB30C" received FIN.
2025-09-13 21:45:02.580 +03:00 [DBG] Connection id "0HNFIUM7DB30C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:45:02.580 +03:00 [DBG] Connection id "0HNFIUM7DB30C" disconnecting.
2025-09-13 21:45:02.580 +03:00 [DBG] Connection id "0HNFIUM7DB30C" stopped.
2025-09-13 21:45:24.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:45:24.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:45:24.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:45:24.971 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:45:24.971 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:45:24.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:45:24.971 +03:00 [INF] Api health check sent.
2025-09-13 21:45:24.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:45:24.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:45:24.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5498ms
2025-09-13 21:45:54.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:45:54.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:45:54.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:45:54.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:45:54.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:45:54.972 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:45:54.972 +03:00 [INF] Api health check sent.
2025-09-13 21:45:54.972 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:45:54.972 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:45:54.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6415ms
2025-09-13 21:46:24.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:46:24.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:46:24.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:46:24.971 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:46:24.971 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:46:24.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:46:24.971 +03:00 [INF] Api health check sent.
2025-09-13 21:46:24.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:46:24.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:46:24.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3971ms
2025-09-13 21:46:54.972 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:46:54.972 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:46:54.972 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:46:54.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:46:54.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:46:54.972 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:46:54.972 +03:00 [INF] Api health check sent.
2025-09-13 21:46:54.972 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:46:54.972 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:46:54.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3757ms
2025-09-13 21:47:05.744 +03:00 [DBG] Connection id "0HNFIUM7DB30A" disconnecting.
2025-09-13 21:47:05.744 +03:00 [DBG] Connection id "0HNFIUM7DB30A" stopped.
2025-09-13 21:47:05.744 +03:00 [DBG] Connection id "0HNFIUM7DB30A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:47:24.972 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:47:24.972 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:47:24.972 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:47:24.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:47:24.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:47:24.973 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:47:24.973 +03:00 [INF] Api health check sent.
2025-09-13 21:47:24.973 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:47:24.973 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:47:24.974 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.5242ms
2025-09-13 21:47:54.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:47:54.970 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:47:54.970 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:47:54.970 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:47:54.970 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:47:54.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:47:54.971 +03:00 [INF] Api health check sent.
2025-09-13 21:47:54.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:47:54.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:47:54.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5092ms
2025-09-13 21:48:24.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:48:24.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:48:24.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:48:24.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:48:24.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:48:24.972 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:48:24.972 +03:00 [INF] Api health check sent.
2025-09-13 21:48:24.972 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:48:24.972 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:48:24.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5683ms
2025-09-13 21:48:54.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:48:54.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:48:54.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:48:54.971 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:48:54.971 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:48:54.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:48:54.971 +03:00 [INF] Api health check sent.
2025-09-13 21:48:54.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:48:54.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:48:54.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6144ms
2025-09-13 21:49:24.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:49:24.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:49:24.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:49:24.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:49:24.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:49:24.972 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:49:24.972 +03:00 [INF] Api health check sent.
2025-09-13 21:49:24.972 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:49:24.972 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:49:24.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6704ms
2025-09-13 21:49:54.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:49:54.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:49:54.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:49:54.971 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:49:54.971 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:49:54.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:49:54.972 +03:00 [INF] Api health check sent.
2025-09-13 21:49:54.972 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:49:54.972 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:49:54.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3199ms
2025-09-13 21:50:24.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:50:24.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:50:24.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:50:24.972 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:50:24.972 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:50:24.972 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:50:24.972 +03:00 [INF] Api health check sent.
2025-09-13 21:50:24.972 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:50:24.972 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:50:24.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3886ms
2025-09-13 21:50:54.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:50:54.970 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:50:54.970 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:50:54.970 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:50:54.970 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:50:54.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:50:54.971 +03:00 [INF] Api health check sent.
2025-09-13 21:50:54.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:50:54.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:50:54.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.409ms
2025-09-13 21:51:24.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:51:24.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:51:24.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:51:24.971 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:51:24.971 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:51:24.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:51:24.971 +03:00 [INF] Api health check sent.
2025-09-13 21:51:24.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:51:24.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:51:24.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3819ms
2025-09-13 21:51:54.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:51:54.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:51:54.971 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:51:54.971 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:51:54.971 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:51:54.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:51:54.971 +03:00 [INF] Api health check sent.
2025-09-13 21:51:54.971 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:51:54.971 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:51:54.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5095ms
2025-09-13 21:52:24.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:52:24.970 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:52:24.970 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:52:24.970 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:52:24.970 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:52:24.970 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:52:24.970 +03:00 [INF] Api health check sent.
2025-09-13 21:52:24.970 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:52:24.970 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:52:24.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3762ms
2025-09-13 21:52:45.307 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - null null
2025-09-13 21:52:45.307 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:52:45.307 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:52:45.307 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:52:45.307 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:52:45.307 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:52:45.307 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:52:45.308 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - 204 null null 0.356ms
2025-09-13 21:52:45.309 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - application/json 136
2025-09-13 21:52:45.309 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:52:45.309 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode'
2025-09-13 21:52:45.309 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:52:45.309 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:52:45.309 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:52:45.309 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:52:45.322 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:52:45.322 +03:00 [DBG] Connection id "0HNFIUM7DB30B", Request id "0HNFIUM7DB30B:00000018": started reading request body.
2025-09-13 21:52:45.322 +03:00 [DBG] Connection id "0HNFIUM7DB30B", Request id "0HNFIUM7DB30B:00000018": done reading request body.
2025-09-13 21:52:45.323 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:52:45.323 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:52:45.323 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:52:45.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:52:45.324 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:52:45.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:52:45.324 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:52:45.327 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:52:45.327 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:52:45.327 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:52:45.327 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.327 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:52:45.327 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.327 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:52:45.328 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:52:45.328 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:52:45.328 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:52:45.328 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:52:45.328 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:52:45.328 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:52:45.328 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:52:45.328 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:52:45.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:52:45.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:52:45.328 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:52:45.329 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 21:52:45.336 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.336 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 7ms reading results.
2025-09-13 21:52:45.336 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.336 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:52:45.337 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:52:45.337 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:52:45.337 +03:00 [INF] AI mode changed to "Groq" for user "4148ebc8-17b6-4f64-9612-b10ea0379506" at "2025-09-13T18:52:45.3279722Z"
2025-09-13 21:52:45.338 +03:00 [INF] API key changed for user "4148ebc8-17b6-4f64-9612-b10ea0379506" at "2025-09-13T18:52:45.3279736Z"
2025-09-13 21:52:45.338 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 21:52:45.338 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:52:45.338 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:52:45.338 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:52:45.338 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:52:45.338 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506/aimode - 200 null application/json; charset=utf-8 29.3112ms
2025-09-13 21:52:45.372 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:52:45.372 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:52:45.372 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:52:45.372 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:52:45.372 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:52:45.372 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:52:45.372 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:52:45.373 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:52:45.373 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:52:45.373 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:52:45.373 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:52:45.373 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:52:45.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.373 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:52:45.373 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:52:45.373 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:52:45.373 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:52:45.374 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:52:45.374 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:52:45.374 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:52:45.374 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:52:45.374 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:52:45.374 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:52:45.374 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:52:45.374 +03:00 [DBG] Connection id "0HNFIUM7DB30B" completed keep alive response.
2025-09-13 21:52:45.374 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:52:45.374 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:52:45.374 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:52:45.374 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 200 null application/json; charset=utf-8 2.4485ms
2025-09-13 21:52:45.878 +03:00 [DBG] Connection id "0HNFIUM7DB30D" accepted.
2025-09-13 21:52:45.879 +03:00 [DBG] Connection id "0HNFIUM7DB30D" started.
2025-09-13 21:52:45.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:52:45.879 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:52:45.879 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:52:45.879 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:52:45.879 +03:00 [INF] Api health check sent.
2025-09-13 21:52:45.879 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:52:45.879 +03:00 [DBG] Connection id "0HNFIUM7DB30D" completed keep alive response.
2025-09-13 21:52:45.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2377ms
2025-09-13 21:52:59.062 +03:00 [INF] This is a test log to file!
2025-09-13 21:52:59.225 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:52:59.229 +03:00 [INF] API configured successfully.
2025-09-13 21:52:59.318 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:52:59.368 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:52:59.822 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:52:59.897 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:52:59.920 +03:00 [INF] Registered 23 endpoints in 780 milliseconds.
2025-09-13 21:52:59.925 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:52:59.968 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:00.053 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:00.065 +03:00 [DBG] Created DbConnection. (8ms).
2025-09-13 21:53:00.067 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.070 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:00.072 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-13 21:53:00.073 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.078 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.079 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.082 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:00.082 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.088 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:00.090 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.094 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-13 21:53:00.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-13 21:53:00.099 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:53:00.132 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-13 21:53:00.134 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:00.137 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-09-13 21:53:00.138 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.138 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:00.139 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:53:00.142 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:00.142 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.142 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.143 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:53:00.151 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:53:00.152 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.152 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.152 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.152 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:53:00.163 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-13 21:53:00.164 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:00.164 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:53:00.1641518+00:00');
SELECT changes();
2025-09-13 21:53:00.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:53:00.1641518+00:00');
SELECT changes();
2025-09-13 21:53:00.206 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:00.208 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:00.209 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.209 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.209 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.209 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:53:00.209 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:53:00.210 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:00.213 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:00.214 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:00.216 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:00.216 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:00.217 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:00.217 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:00.217 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.218 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:00.219 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.219 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:00.219 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:00.219 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.219 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:53:00.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:53:00.222 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:00.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:00.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:00.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:53:00.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:53:00.224 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:00.225 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:53:00.230 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-13 21:53:00.245 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.246 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.246 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:53:00.246 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-13 21:53:00.247 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.247 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.248 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.248 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:53:00.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-13 21:53:00.248 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.248 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.248 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.248 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:53:00.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-13 21:53:00.249 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.249 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.249 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.249 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:53:00.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-13 21:53:00.249 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-13 21:53:00.257 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.257 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.257 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:53:00.257 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-13 21:53:00.257 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.257 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.258 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:53:00.258 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-13 21:53:00.258 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:00.261 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:00.261 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:00.261 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.262 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.262 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.262 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:53:00.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:53:00.262 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:00.262 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:00.262 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.262 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.262 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.262 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:53:00.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:53:00.263 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.263 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.263 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.263 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:53:00.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:53:00.264 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:00.266 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:00.267 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:00.267 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.267 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.267 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.267 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:53:00.267 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:53:00.267 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.267 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.267 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.267 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:53:00.269 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-13 21:53:00.270 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-13 21:53:00.272 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:00.272 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:00.273 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.273 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.273 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.273 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:53:00.273 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-13 21:53:00.273 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.273 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.273 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.273 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:53:00.273 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-13 21:53:00.274 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-13 21:53:00.281 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-13 21:53:00.282 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.282 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.282 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:53:00.282 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-13 21:53:00.282 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.282 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.282 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:53:00.282 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-13 21:53:00.282 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.283 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:53:00.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-13 21:53:00.283 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.283 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:53:00.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:53:00.283 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.283 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:53:00.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:53:00.283 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.283 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.283 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:53:00.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-13 21:53:00.284 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.284 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.284 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.284 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:53:00.284 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-13 21:53:00.284 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:00.287 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:00.287 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:00.287 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.288 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.288 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.288 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:53:00.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-13 21:53:00.288 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:00.289 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:00.289 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.289 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.289 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.289 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:53:00.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-13 21:53:00.289 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.289 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.289 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.289 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:53:00.290 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-13 21:53:00.290 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:00.293 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:00.293 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:00.293 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.293 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.293 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:53:00.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-13 21:53:00.293 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:00.293 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:00.293 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.293 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.294 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.294 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:53:00.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-13 21:53:00.294 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.294 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.294 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.294 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:53:00.295 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-13 21:53:00.295 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:00.297 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:00.297 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:00.297 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:00.297 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:00.297 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:53:00.300 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-13 21:53:00.300 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:00.301 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:00.301 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:53:00.303 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:53:00.303 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:00.303 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:00.303 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:00.303 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:00.303 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:00.303 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:53:00.303 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:53:00.328 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:53:00.343 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:53:00.344 +03:00 [DBG] Hosting starting
2025-09-13 21:53:00.398 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:53:00.399 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:53:00.409 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:53:00.409 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:53:00.409 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:53:00.410 +03:00 [INF] Hosting environment: Development
2025-09-13 21:53:00.410 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:53:00.410 +03:00 [DBG] Hosting started
2025-09-13 21:53:00.566 +03:00 [DBG] Connection id "0HNFIUR1HLB79" accepted.
2025-09-13 21:53:00.567 +03:00 [DBG] Connection id "0HNFIUR1HLB79" started.
2025-09-13 21:53:00.592 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:53:00.621 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:53:00.622 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:00.645 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:00.646 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:00.648 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:53:00.653 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:00.673 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:00.691 +03:00 [INF] Getting all users
2025-09-13 21:53:00.721 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:53:00.773 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:53:01.036 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:53:01.072 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:01.072 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:01.073 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:01.074 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.074 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:01.074 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:01.074 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:01.075 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:01.077 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:01.079 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.079 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:53:01.081 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.082 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:01.114 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.115 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:01.118 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:01.124 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:01.125 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-09-13 21:53:01.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 537.0737ms
2025-09-13 21:53:01.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:53:01.145 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:53:01.145 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.150 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:01.150 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:01.150 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.151 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:01.152 +03:00 [INF] Getting all users
2025-09-13 21:53:01.157 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:01.157 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:01.159 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:01.159 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:01.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:01.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:01.160 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:01.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:01.160 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.160 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:01.161 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.161 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:01.162 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.162 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:01.162 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:01.162 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:01.162 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:01.163 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 19.3214ms
2025-09-13 21:53:01.187 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:53:01.187 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:53:01.187 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:01.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:01.197 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.199 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:01.199 +03:00 [INF] Getting all users
2025-09-13 21:53:01.205 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:01.206 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:01.206 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:01.207 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.207 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:01.207 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:01.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:53:01.210 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:01.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:01.211 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.211 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:01.211 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:01.211 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:01.211 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:01.212 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:01.212 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:01.212 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:01.212 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:01.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 25.7721ms
2025-09-13 21:53:11.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - null null
2025-09-13 21:53:11.547 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:53:11.547 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506'
2025-09-13 21:53:11.548 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:11.548 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:11.548 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:11.548 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:11.558 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:11.576 +03:00 [INF] Getting user by ID: "4148ebc8-17b6-4f64-9612-b10ea0379506"
2025-09-13 21:53:11.581 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:53:11.589 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:53:11.617 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:53:11.624 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:11.624 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:11.624 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.624 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.624 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:11.624 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:53:11.628 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:11.630 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:11.630 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.630 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:11.630 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.630 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.630 +03:00 [WRN] User with ID "4148ebc8-17b6-4f64-9612-b10ea0379506" not found
2025-09-13 21:53:11.633 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:11.634 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID 4148ebc8-17b6-4f64-9612-b10ea0379506 not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-13 21:53:11.646 +03:00 [ERR] Unhandled exception occurred.
2025-09-13 21:53:11.650 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:11.650 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:11.650 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.650 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/4148ebc8-17b6-4f64-9612-b10ea0379506 - 500 null application/json; charset=utf-8 103.9152ms
2025-09-13 21:53:11.653 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-13 21:53:11.653 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:53:11.653 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:53:11.653 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:11.653 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:11.654 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:53:11.654 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:11.654 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.0895ms
2025-09-13 21:53:11.656 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 83
2025-09-13 21:53:11.656 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:53:11.656 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:53:11.656 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:11.656 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:11.656 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:53:11.658 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:11.663 +03:00 [DBG] Connection id "0HNFIUR1HLB79", Request id "0HNFIUR1HLB79:00000006": started reading request body.
2025-09-13 21:53:11.664 +03:00 [DBG] Connection id "0HNFIUR1HLB79", Request id "0HNFIUR1HLB79:00000006": done reading request body.
2025-09-13 21:53:11.671 +03:00 [INF] Creating new user with API key: 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
2025-09-13 21:53:11.672 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .AsNoTracking()
    .Any(p => p.ApiKey.Equals(__ApiKey_0))'
2025-09-13 21:53:11.678 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM UserInfos AS u
                WHERE u.ApiKey == @__ApiKey_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM UserInfos AS u
                WHERE u.ApiKey == @__ApiKey_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:53:11.682 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:11.682 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:11.682 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.683 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.683 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:11.683 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.683 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.683 +03:00 [DBG] Executing DbCommand [Parameters=[@__ApiKey_0='?' (Size = 56)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "UserInfos" AS "u"
    WHERE "u"."ApiKey" = @__ApiKey_0)
2025-09-13 21:53:11.683 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ApiKey_0='?' (Size = 56)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "UserInfos" AS "u"
    WHERE "u"."ApiKey" = @__ApiKey_0)
2025-09-13 21:53:11.684 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.684 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:11.684 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.684 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.685 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-13 21:53:11.689 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:53:11.690 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.690 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:11.690 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.690 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.690 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:53:11.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-13 21:53:11.690 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:11.690 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.691 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.712 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:11.747 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:11.750 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:53:11.760 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:53:11.764 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:53:11.765 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:53:11.765 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:53:11.800 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.801 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.802 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:11.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.803 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-13 21:53:11.803 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 56), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:53:11.807 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 56), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-13 21:53:11.809 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.809 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:53:11.810 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.810 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.815 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:11.815 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:53:11.816 +03:00 [INF] User created successfully with ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 21:53:11.818 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-13 21:53:11.818 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:11.818 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:11.818 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.818 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.818 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 162.2839ms
2025-09-13 21:53:11.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - null null
2025-09-13 21:53:11.820 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:11.820 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:11.820 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:11.821 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:11.821 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:11.821 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:11.822 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:11.822 +03:00 [INF] Getting user by ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 21:53:11.823 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:11.823 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:11.823 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.823 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:11.823 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.823 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:11.823 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:11.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:11.829 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:11.832 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 9ms reading results.
2025-09-13 21:53:11.833 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:11.833 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.835 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:11.836 +03:00 [DBG] Connection id "0HNFIUR1HLB79" completed keep alive response.
2025-09-13 21:53:11.836 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:11.836 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:11.836 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:11.836 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - 200 null application/json; charset=utf-8 15.8556ms
2025-09-13 21:53:15.028 +03:00 [INF] This is a test log to file!
2025-09-13 21:53:15.155 +03:00 [INF] Shared Kernal configured successfully.
2025-09-13 21:53:15.157 +03:00 [INF] API configured successfully.
2025-09-13 21:53:15.209 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-13 21:53:15.250 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-13 21:53:15.595 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-13 21:53:15.657 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:15.678 +03:00 [INF] Registered 23 endpoints in 587 milliseconds.
2025-09-13 21:53:15.683 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:15.724 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:15.805 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:15.816 +03:00 [DBG] Created DbConnection. (8ms).
2025-09-13 21:53:15.817 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.821 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:15.822 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-13 21:53:15.823 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.832 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:15.835 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.837 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:15.837 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.840 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:15.841 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-13 21:53:15.843 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:15.848 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-09-13 21:53:15.849 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-13 21:53:15.855 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:53:15.876 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-13 21:53:15.878 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:15.878 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:15.878 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:15.878 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:53:15.8778729+00:00');
SELECT changes();
2025-09-13 21:53:15.881 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-13 18:53:15.8778729+00:00');
SELECT changes();
2025-09-13 21:53:15.920 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:15.922 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:15.923 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-13 21:53:15.923 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:15.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-13 21:53:15.924 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:53:15.924 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-13 21:53:15.925 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:15.926 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:15.926 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:15.927 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-13 21:53:15.927 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-13 21:53:15.928 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:15.928 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:15.928 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.929 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:15.929 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.929 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:15.929 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:15.929 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:15.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:15.929 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:53:15.930 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-13 21:53:15.931 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:15.931 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:15.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:15.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:53:15.932 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-13 21:53:15.933 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:15.935 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:53:15.938 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-13 21:53:15.938 +03:00 [DBG] Committing transaction.
2025-09-13 21:53:15.938 +03:00 [DBG] Committed transaction.
2025-09-13 21:53:15.938 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-13 21:53:15.938 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:15.939 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-13 21:53:15.939 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:53:15.941 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-13 21:53:15.941 +03:00 [DBG] Disposing transaction.
2025-09-13 21:53:15.942 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:15.944 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-13 21:53:15.944 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:15.944 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:15.944 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:15.944 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:53:15.944 +03:00 [INF] Infrastructure configured successfully.
2025-09-13 21:53:15.958 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-13 21:53:15.970 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 21:53:15.971 +03:00 [DBG] Hosting starting
2025-09-13 21:53:16.015 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-13 21:53:16.016 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-13 21:53:16.024 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-13 21:53:16.024 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-13 21:53:16.024 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 21:53:16.025 +03:00 [INF] Hosting environment: Development
2025-09-13 21:53:16.025 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-13 21:53:16.025 +03:00 [DBG] Hosting started
2025-09-13 21:53:18.930 +03:00 [DBG] Connection id "0HNFIUR70PM5H" accepted.
2025-09-13 21:53:18.931 +03:00 [DBG] Connection id "0HNFIUR70PM5H" started.
2025-09-13 21:53:18.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:53:18.982 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:53:18.983 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:53:18.997 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-13 21:53:18.999 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:53:19.024 +03:00 [INF] Api health check sent.
2025-09-13 21:53:19.025 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:53:19.025 +03:00 [DBG] Connection id "0HNFIUR70PM5H" completed keep alive response.
2025-09-13 21:53:19.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 77.6568ms
2025-09-13 21:53:19.034 +03:00 [DBG] Connection id "0HNFIUR70PM5I" accepted.
2025-09-13 21:53:19.034 +03:00 [DBG] Connection id "0HNFIUR70PM5I" started.
2025-09-13 21:53:19.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - null null
2025-09-13 21:53:19.036 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:19.036 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:19.036 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:19.038 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:19.039 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:19.040 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:19.049 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:19.070 +03:00 [INF] Getting user by ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 21:53:19.107 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:53:19.135 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:53:19.299 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:53:19.322 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:19.323 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:19.324 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:19.325 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.325 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:19.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:19.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:19.327 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:19.331 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:19.355 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:19.373 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 42ms reading results.
2025-09-13 21:53:19.375 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.375 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:19.391 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:19.391 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:19.392 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:19.393 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:19.393 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:19.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - 200 null application/json; charset=utf-8 358.6738ms
2025-09-13 21:53:19.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-13 21:53:19.438 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-13 21:53:19.438 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:53:19.439 +03:00 [DBG] Connection id "0HNFIUR70PM5J" accepted.
2025-09-13 21:53:19.439 +03:00 [DBG] Connection id "0HNFIUR70PM5J" started.
2025-09-13 21:53:19.439 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-13 21:53:19.439 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-13 21:53:19.439 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:19.439 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:19.439 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:19.440 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:19.440 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:19.440 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:53:19.440 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:19.441 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:19.442 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:19.442 +03:00 [INF] Getting all users
2025-09-13 21:53:19.446 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-13 21:53:19.447 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-13 21:53:19.447 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-13 21:53:19.447 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:19.447 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:19.448 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 9.3336ms
2025-09-13 21:53:19.460 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:53:19.462 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:19.462 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:19.463 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:19.463 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:19.463 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:19.463 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:19.463 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:19.463 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-13 21:53:19.465 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.465 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:53:19.466 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.466 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:19.467 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-13 21:53:19.467 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:19.467 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:19.467 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:19.467 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:19.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 28.2543ms
2025-09-13 21:53:19.488 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - null null
2025-09-13 21:53:19.488 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:19.489 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:19.489 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:19.489 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:19.489 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:19.489 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:19.490 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:19.490 +03:00 [INF] Getting user by ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 21:53:19.494 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:19.494 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:19.495 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:19.495 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.495 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:19.495 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:19.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:19.495 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:19.495 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:19.496 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:19.496 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.496 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:19.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:19.496 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:19.496 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:19.496 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:19.496 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:19.496 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:19.496 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:19.496 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - 200 null application/json; charset=utf-8 8.2004ms
2025-09-13 21:53:19.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:53:19.503 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:53:19.503 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:53:19.504 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:53:19.504 +03:00 [INF] Api health check sent.
2025-09-13 21:53:19.505 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:53:19.505 +03:00 [DBG] Connection id "0HNFIUR70PM5H" completed keep alive response.
2025-09-13 21:53:19.505 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.7108ms
2025-09-13 21:53:20.442 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:53:20.442 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:53:20.442 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:53:20.442 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:20.442 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:20.442 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:53:20.442 +03:00 [INF] Api health check sent.
2025-09-13 21:53:20.442 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:53:20.443 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:20.443 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8648ms
2025-09-13 21:53:20.446 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/profiles - null null
2025-09-13 21:53:20.447 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profiles'
2025-09-13 21:53:20.447 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 21:53:20.447 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:20.447 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:20.447 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 21:53:20.458 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:20.460 +03:00 [INF] Listing all profiles
2025-09-13 21:53:20.461 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .AsNoTracking()'
2025-09-13 21:53:20.462 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:53:20.482 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Profile>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
            3 -> 9
        SELECT p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
        FROM Profiles AS p
        LEFT JOIN Queries AS q ON p.Id == q.ProfileId
        ORDER BY p.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
            3 -> 9
        SELECT p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
        FROM Profiles AS p
        LEFT JOIN Queries AS q ON p.Id == q.ProfileId
        ORDER BY p.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Profile entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Profile instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Profile);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                            {
                                return 
                                {
                                    Profile instance;
                                    instance = new Profile();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                    instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                    instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                    instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Profile)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Profile)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Query entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Query instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Query);
                    dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                {
                                    return 
                                    {
                                        Query instance;
                                        instance = new Query();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                        instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                        instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                        instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                        instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Query)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
                return namelessParameter{12}.<Profile>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Profile)(resultContext.Values[0]) : default(Profile);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-13 21:53:20.485 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:20.485 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:20.485 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:20.485 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:20.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:20.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:20.485 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:20.485 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 21:53:20.485 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 21:53:20.486 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:20.486 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:20.486 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:20.486 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:20.488 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 21:53:20.488 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:20.488 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:20.488 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:20.488 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:20.488 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/profiles - 200 null application/json; charset=utf-8 42.0454ms
2025-09-13 21:53:20.491 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/health-check-profile/convert - null null
2025-09-13 21:53:20.491 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/health-check-profile/convert'
2025-09-13 21:53:20.491 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:53:20.491 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:20.491 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:20.491 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:53:20.493 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:20.493 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/health-check-profile/convert - 204 null null 2.1332ms
2025-09-13 21:53:20.495 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/health-check-profile/convert - application/json 148
2025-09-13 21:53:20.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/health-check-profile/convert'
2025-09-13 21:53:20.496 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/health-check-profile/convert'
2025-09-13 21:53:20.496 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:53:20.496 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:20.496 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:20.497 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:53:20.498 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:20.508 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000006": started reading request body.
2025-09-13 21:53:20.508 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000006": done reading request body.
2025-09-13 21:53:20.524 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:53:20.525 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:20.525 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:20.525 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/health-check-profile/convert - 400 null application/problem+json; charset=utf-8 29.8848ms
2025-09-13 21:53:21.744 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:53:21.744 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:21.744 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:21.744 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:21.744 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:21.744 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:21.744 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:21.745 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:21.753 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:53:21.755 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:53:21.762 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:21.893 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:21.896 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:21.997 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:53:22.053 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:22.053 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:22.059 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:22.060 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:22.060 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:22.060 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 316.474ms
2025-09-13 21:53:22.419 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:53:22.420 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:22.420 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:22.420 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:22.420 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:22.420 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:22.420 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:22.420 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:22.421 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:53:22.421 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:53:22.422 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:22.422 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:22.422 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:22.423 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:53:22.427 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:22.427 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:22.427 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:22.427 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:22.427 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:22.427 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 7.9945ms
2025-09-13 21:53:22.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:53:22.957 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:53:22.957 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:53:22.957 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:22.957 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:22.957 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:22.958 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:22.959 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:22.962 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:22.965 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:22.965 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:23.507 +03:00 [DBG] Connection id "0HNFIUR70PM5H" received FIN.
2025-09-13 21:53:23.507 +03:00 [DBG] Connection id "0HNFIUR70PM5H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:53:23.508 +03:00 [DBG] Connection id "0HNFIUR70PM5H" disconnecting.
2025-09-13 21:53:23.509 +03:00 [DBG] Connection id "0HNFIUR70PM5H" stopped.
2025-09-13 21:53:23.510 +03:00 [DBG] Connection id "0HNFIUR70PM5K" accepted.
2025-09-13 21:53:23.510 +03:00 [DBG] Connection id "0HNFIUR70PM5K" started.
2025-09-13 21:53:23.511 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:53:23.511 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:53:23.511 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:53:23.511 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:53:23.512 +03:00 [INF] Api health check sent.
2025-09-13 21:53:23.512 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:53:23.512 +03:00 [DBG] Connection id "0HNFIUR70PM5K" completed keep alive response.
2025-09-13 21:53:23.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4656ms
2025-09-13 21:53:23.515 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - null null
2025-09-13 21:53:23.515 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:23.515 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:23.515 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:23.515 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:23.515 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:23.515 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:23.515 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:23.516 +03:00 [INF] Getting user by ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 21:53:23.516 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:23.517 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:23.517 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:23.517 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:23.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:23.517 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:23.517 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:23.517 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:23.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:23.518 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:23.518 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:23.518 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:23.518 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:23.518 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:23.519 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:23.519 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:23.519 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:23.519 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:23.519 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:23.519 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - 200 null application/json; charset=utf-8 4.2361ms
2025-09-13 21:53:23.547 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:53:23.547 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:23.547 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:23.547 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:23.547 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:23.547 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:23.547 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:23.548 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:23.548 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:53:23.548 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:53:23.548 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.553 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.553 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.555 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:53:23.557 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:23.557 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:23.557 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:23.557 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:23.557 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:23.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 10.8549ms
2025-09-13 21:53:23.584 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-13 21:53:23.584 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:23.584 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-13 21:53:23.584 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:23.584 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:23.584 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:23.584 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:23.585 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:23.585 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-13 21:53:23.585 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-13 21:53:23.586 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.586 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.586 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.587 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-13 21:53:23.589 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:23.589 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-13 21:53:23.590 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-13 21:53:23.590 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:23.590 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:23.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 6.1688ms
2025-09-13 21:53:23.706 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:23.710 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:23.710 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:23.710 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:23.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 752.7854ms
2025-09-13 21:53:23.711 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:53:23.711 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:53:23.711 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:53:23.711 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:23.711 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:23.711 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:23.712 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:23.712 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:23.713 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:23.713 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:23.713 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:24.078 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:24.078 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:24.078 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:24.078 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:24.078 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 367.3657ms
2025-09-13 21:53:24.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-13 21:53:24.080 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:53:24.080 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-13 21:53:24.080 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:24.080 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:24.080 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:24.080 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:24.081 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:24.082 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:24.082 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-13 21:53:24.082 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:24.348 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:24.348 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-13 21:53:24.348 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:24.348 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:24.348 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 268.8537ms
2025-09-13 21:53:25.335 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-13 21:53:25.335 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:53:25.335 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:53:25.335 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.335 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.335 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:53:25.335 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:25.335 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 0.3253ms
2025-09-13 21:53:25.336 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-13 21:53:25.336 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-13 21:53:25.336 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:53:25.336 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.336 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.337 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:53:25.337 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:25.345 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:0000000D": started reading request body.
2025-09-13 21:53:25.345 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:0000000D": done reading request body.
2025-09-13 21:53:25.353 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-13 21:53:25.354 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:53:25.427 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:53:25.432 +03:00 [DBG] Saved secret profile-07cee670-5a0d-41fa-acc9-f4281f4a678c for provider "SqlServer"
2025-09-13 21:53:25.432 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-13 21:53:25.436 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-13 21:53:25.443 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:53:25.448 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:25.448 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:25.448 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.448 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.448 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.448 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.448 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.448 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:53:25.449 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-13 21:53:25.449 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.450 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:25.450 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.450 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.472 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.495 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.498 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:53:25.509 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:53:25.512 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:53:25.512 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:53:25.513 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:53:25.548 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.548 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.549 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.549 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.550 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.550 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:53:25.553 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-13 21:53:25.555 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.555 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 21:53:25.555 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.556 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.561 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.562 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:53:25.562 +03:00 [INF] Profile created successfully with Id "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.563 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-13 21:53:25.563 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:25.564 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:25.564 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.564 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.564 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 227.3084ms
2025-09-13 21:53:25.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - null null
2025-09-13 21:53:25.566 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:25.566 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 21:53:25.566 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:25.566 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.566 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.566 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:25.567 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:25.567 +03:00 [INF] Getting user by ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 21:53:25.567 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:25.567 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:25.567 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.567 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.567 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.567 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:25.568 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:25.568 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.571 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.572 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.572 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-13 21:53:25.572 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.572 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.574 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 21:53:25.574 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:25.574 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:25.574 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.574 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - 200 null application/json; charset=utf-8 8.0143ms
2025-09-13 21:53:25.628 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema - null null
2025-09-13 21:53:25.628 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema'
2025-09-13 21:53:25.628 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema'
2025-09-13 21:53:25.628 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:53:25.628 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.629 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.629 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:53:25.629 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:25.631 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 21:53:25.632 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 21:53:25.632 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 21:53:25.632 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:25.632 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.632 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.632 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:25.633 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:25.635 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-13 21:53:25.636 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-13 21:53:25.646 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-13 21:53:25.649 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:25.649 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:25.650 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:25.650 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:25.650 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.650 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.650 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.651 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.651 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.651 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.651 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.653 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.653 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-13 21:53:25.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:25.653 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.653 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.653 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.653 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.654 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.655 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.655 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.655 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.655 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.655 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.655 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.655 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.655 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.655 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.655 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.655 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.656 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.656 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.656 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:25.656 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:25.656 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.656 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.656 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.656 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.658 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.659 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:25.659 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:25.659 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:25.659 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.659 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.659 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 27.7789ms
2025-09-13 21:53:25.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 21:53:25.660 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.661 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 21:53:25.661 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 21:53:25.661 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:25.661 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.661 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.661 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:25.662 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:25.663 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:25.663 +03:00 [DBG] Fetching schema for Profile "8d663bff-7266-446a-a134-4c1714338b7a", ForceRefresh=false
2025-09-13 21:53:25.663 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:25.663 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.663 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.663 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.663 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.663 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.663 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.664 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:25.664 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:53:25.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.664 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:25.664 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.664 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.664 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.664 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.664 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:25.664 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.664 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:25.664 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.664 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:25.665 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.665 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:25.665 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:25.665 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.665 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:25.665 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:25.665 +03:00 [DBG] Connection id "0HNFIUR70PM5I" completed keep alive response.
2025-09-13 21:53:25.665 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:25.665 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.665 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 5.6496ms
2025-09-13 21:53:25.691 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:53:25.695 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:53:25.695 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:25.695 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:25.695 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:25.695 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:25.695 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema - 200 null application/json; charset=utf-8 67.062ms
2025-09-13 21:53:25.696 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema - null null
2025-09-13 21:53:25.696 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema'
2025-09-13 21:53:25.696 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema'
2025-09-13 21:53:25.696 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:53:25.696 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:25.696 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:25.696 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:53:25.697 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:25.697 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-13 21:53:25.697 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:25.697 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:25.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/schema - 200 null application/json; charset=utf-8 1.2887ms
2025-09-13 21:53:27.513 +03:00 [DBG] Connection id "0HNFIUR70PM5K" received FIN.
2025-09-13 21:53:27.513 +03:00 [DBG] Connection id "0HNFIUR70PM5K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:53:27.513 +03:00 [DBG] Connection id "0HNFIUR70PM5K" disconnecting.
2025-09-13 21:53:27.513 +03:00 [DBG] Connection id "0HNFIUR70PM5K" stopped.
2025-09-13 21:53:36.768 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - null null
2025-09-13 21:53:36.769 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 21:53:36.769 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:53:36.769 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:36.769 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:36.769 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:53:36.769 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:36.769 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 204 null null 0.4766ms
2025-09-13 21:53:36.770 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - application/json 173
2025-09-13 21:53:36.770 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 21:53:36.770 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 21:53:36.770 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:53:36.770 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:36.770 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:36.770 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:53:36.772 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:36.772 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000012": started reading request body.
2025-09-13 21:53:36.772 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000012": done reading request body.
2025-09-13 21:53:36.775 +03:00 [INF] Converting NL to SQL for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:36.775 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:36.775 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:36.775 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:36.775 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.776 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:36.776 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:36.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:36.776 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:36.776 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 21:53:36.777 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:36.777 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:36.777 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.777 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:36.777 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.777 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:36.778 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:36.778 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.778 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:36.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:36.778 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:36.778 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:36.778 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:36.778 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.778 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:36.778 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.779 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:36.779 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:36.779 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:36.779 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.779 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:36.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:36.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:36.779 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:36.779 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:36.780 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.780 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:36.780 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:36.780 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:36.780 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:36.780 +03:00 [DBG] Fetching schema for Profile "8d663bff-7266-446a-a134-4c1714338b7a", ForceRefresh=false
2025-09-13 21:53:36.780 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 21:53:36.781 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 21:53:36.790 +03:00 [INF] Groq API key configured for HttpClient
2025-09-13 21:53:36.791 +03:00 [INF] Converting natural language to SQL. User query: show all products in the database
2025-09-13 21:53:36.792 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-13 21:53:36.792 +03:00 [DBG] Generated prompt with 6 messages
2025-09-13 21:53:36.810 +03:00 [DBG] Request payload prepared for LLM API
2025-09-13 21:53:37.604 +03:00 [INF] LLM API responded with status: "OK"
2025-09-13 21:53:37.609 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-13 21:53:37.610 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 21:53:37.611 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:37.611 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:37.611 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:37.611 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:37.611 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 200 null application/json; charset=utf-8 840.755ms
2025-09-13 21:53:44.257 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute - null null
2025-09-13 21:53:44.257 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute'
2025-09-13 21:53:44.257 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 21:53:44.257 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:44.257 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:44.257 +03:00 [DBG] The request is a preflight request.
2025-09-13 21:53:44.257 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:44.257 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute - 204 null null 0.241ms
2025-09-13 21:53:44.258 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute - application/json 326
2025-09-13 21:53:44.258 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute'
2025-09-13 21:53:44.258 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute'
2025-09-13 21:53:44.258 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-13 21:53:44.259 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:44.259 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:44.259 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-13 21:53:44.259 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:44.266 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000014": started reading request body.
2025-09-13 21:53:44.266 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000014": done reading request body.
2025-09-13 21:53:44.270 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:44.270 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:44.270 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:44.270 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.270 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:44.270 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.270 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.270 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:44.270 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:44.271 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:44.271 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.271 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:44.271 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.271 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:44.271 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:44.272 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:44.272 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.272 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:44.272 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.272 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:44.272 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:44.272 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.272 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:44.272 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.272 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:44.272 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:44.273 +03:00 [INF] Executing SQL for Profile "8d663bff-7266-446a-a134-4c1714338b7a", Mode="ReadOnly"
2025-09-13 21:53:44.281 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-09-13 21:53:44.281 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-09-13 21:53:44.282 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-13 21:53:44.282 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-13 21:53:44.353 +03:00 [INF] Query execution finished in 70 ms, returned 18 rows
2025-09-13 21:53:44.355 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:44.355 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.355 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:44.356 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.356 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.356 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:44.356 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:44.356 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.356 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:44.356 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.356 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:44.387 +03:00 [DBG] The navigation 'Query.Profile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:44.388 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:44.389 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:53:44.396 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Profile.Queries'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:44.397 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:53:44.398 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 21:53:44.398 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 21:53:44.398 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 21:53:44.399 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:44.399 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.399 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:44.399 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:44.399 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 1538), @p3='?' (Size = 133), @p4='?' (DbType = DateTime), @p5='?' (Size = 33)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Queries" ("Id", "ProfileId", "ResultJson", "SqlQuery", "TimestampUtc", "UserQuery")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-13 21:53:44.409 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 1538), @p3='?' (Size = 133), @p4='?' (DbType = DateTime), @p5='?' (Size = 33)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Queries" ("Id", "ProfileId", "ResultJson", "SqlQuery", "TimestampUtc", "UserQuery")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-13 21:53:44.409 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.409 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:44.409 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:44.409 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:44.410 +03:00 [DBG] An entity of type 'Query' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:44.410 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 21:53:44.413 +03:00 [INF] ProfileSettingsChangedEvent triggered: {"DateOccurred":"2025-09-13T18:53:44.3688598Z","$type":"QueryAddedEvent"}
2025-09-13 21:53:44.415 +03:00 [INF] Saved query to DB for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:44.417 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-13 21:53:44.417 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:44.417 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:44.417 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:44.417 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:44.417 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/execute - 200 null application/json; charset=utf-8 158.712ms
2025-09-13 21:53:45.421 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 21:53:45.421 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 21:53:45.421 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 21:53:45.421 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:45.421 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:45.421 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:45.421 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:45.421 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 21:53:45.421 +03:00 [DBG] Creating DbConnection.
2025-09-13 21:53:45.421 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 21:53:45.422 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:45.422 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:45.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:45.422 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:45.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:45.422 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:45.422 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:45.422 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:45.423 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 21:53:45.423 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:45.423 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:45.423 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:45.423 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:45.423 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:45.423 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:45.423 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:45.423 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 21:53:45.423 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:45.423 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 21:53:45.423 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:45.423 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 21:53:45.423 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:45.424 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 21:53:45.424 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 21:53:45.424 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:45.424 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 21:53:45.426 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 21:53:45.427 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:45.427 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 21:53:45.427 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 21:53:45.427 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 21:53:45.427 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 6.1959ms
2025-09-13 21:53:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:53:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:53:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:53:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:53:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:53:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:53:50.530 +03:00 [INF] Api health check sent.
2025-09-13 21:53:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:53:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:53:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5669ms
2025-09-13 21:54:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:54:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:54:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:54:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:54:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:54:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:54:20.530 +03:00 [INF] Api health check sent.
2025-09-13 21:54:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:54:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:54:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3479ms
2025-09-13 21:54:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:54:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:54:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:54:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:54:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:54:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:54:50.529 +03:00 [INF] Api health check sent.
2025-09-13 21:54:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:54:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:54:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3972ms
2025-09-13 21:55:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:55:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:55:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:55:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:55:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:55:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:55:20.530 +03:00 [INF] Api health check sent.
2025-09-13 21:55:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:55:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:55:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3999ms
2025-09-13 21:55:36.084 +03:00 [DBG] Connection id "0HNFIUR70PM5I" disconnecting.
2025-09-13 21:55:36.084 +03:00 [DBG] Connection id "0HNFIUR70PM5I" stopped.
2025-09-13 21:55:36.084 +03:00 [DBG] Connection id "0HNFIUR70PM5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 21:55:50.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:55:50.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:55:50.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:55:50.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:55:50.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:55:50.528 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:55:50.529 +03:00 [INF] Api health check sent.
2025-09-13 21:55:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:55:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:55:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6065ms
2025-09-13 21:56:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:56:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:56:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:56:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:56:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:56:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:56:20.530 +03:00 [INF] Api health check sent.
2025-09-13 21:56:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:56:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:56:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7237ms
2025-09-13 21:56:50.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:56:50.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:56:50.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:56:50.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:56:50.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:56:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:56:50.529 +03:00 [INF] Api health check sent.
2025-09-13 21:56:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:56:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:56:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5581ms
2025-09-13 21:57:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:57:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:57:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:57:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:57:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:57:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:57:20.530 +03:00 [INF] Api health check sent.
2025-09-13 21:57:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:57:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:57:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.465ms
2025-09-13 21:57:50.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:57:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:57:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:57:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:57:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:57:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:57:50.529 +03:00 [INF] Api health check sent.
2025-09-13 21:57:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:57:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:57:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.9159ms
2025-09-13 21:58:20.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:58:20.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:58:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:58:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:58:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:58:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:58:20.530 +03:00 [INF] Api health check sent.
2025-09-13 21:58:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:58:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:58:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4471ms
2025-09-13 21:58:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:58:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:58:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:58:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:58:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:58:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:58:50.530 +03:00 [INF] Api health check sent.
2025-09-13 21:58:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:58:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:58:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.516ms
2025-09-13 21:59:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:59:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:59:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:59:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:59:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:59:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:59:20.529 +03:00 [INF] Api health check sent.
2025-09-13 21:59:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:59:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:59:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.406ms
2025-09-13 21:59:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 21:59:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 21:59:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 21:59:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 21:59:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 21:59:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 21:59:50.529 +03:00 [INF] Api health check sent.
2025-09-13 21:59:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 21:59:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 21:59:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5394ms
2025-09-13 22:00:20.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:00:20.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:00:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:00:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:00:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:00:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:00:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:00:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:00:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:00:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.459ms
2025-09-13 22:00:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:00:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:00:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:00:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:00:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:00:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:00:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:00:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:00:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:00:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4196ms
2025-09-13 22:01:20.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:01:20.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:01:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:01:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:01:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:01:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:01:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:01:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:01:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:01:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5713ms
2025-09-13 22:01:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:01:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:01:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:01:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:01:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:01:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:01:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:01:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:01:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:01:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7546ms
2025-09-13 22:02:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:02:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:02:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:02:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:02:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:02:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:02:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:02:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:02:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:02:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4947ms
2025-09-13 22:02:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:02:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:02:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:02:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:02:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:02:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:02:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:02:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:02:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:02:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3571ms
2025-09-13 22:03:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:03:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:03:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:03:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:03:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:03:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:03:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:03:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:03:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:03:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4071ms
2025-09-13 22:03:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:03:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:03:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:03:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:03:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:03:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:03:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:03:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:03:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:03:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3491ms
2025-09-13 22:04:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:04:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:04:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:04:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:04:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:04:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:04:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:04:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:04:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:04:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4164ms
2025-09-13 22:04:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:04:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:04:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:04:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:04:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:04:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:04:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:04:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:04:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:04:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3165ms
2025-09-13 22:05:20.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:05:20.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:05:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:05:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:05:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:05:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:05:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:05:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:05:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:05:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3ms
2025-09-13 22:05:50.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:05:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:05:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:05:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:05:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:05:50.531 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:05:50.531 +03:00 [INF] Api health check sent.
2025-09-13 22:05:50.531 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:05:50.531 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:05:50.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6736ms
2025-09-13 22:06:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:06:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:06:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:06:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:06:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:06:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:06:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:06:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:06:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:06:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.422ms
2025-09-13 22:06:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:06:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:06:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:06:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:06:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:06:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:06:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:06:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:06:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:06:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4798ms
2025-09-13 22:07:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:07:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:07:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:07:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:07:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:07:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:07:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:07:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:07:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:07:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4712ms
2025-09-13 22:07:50.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:07:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:07:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:07:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:07:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:07:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:07:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:07:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:07:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:07:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3893ms
2025-09-13 22:08:20.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:08:20.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:08:20.531 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:08:20.531 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:08:20.531 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:08:20.531 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:08:20.531 +03:00 [INF] Api health check sent.
2025-09-13 22:08:20.531 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:08:20.531 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:08:20.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.8265ms
2025-09-13 22:08:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:08:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:08:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:08:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:08:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:08:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:08:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:08:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:08:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:08:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3934ms
2025-09-13 22:09:21.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:09:21.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:09:21.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:09:21.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:09:21.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:09:21.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:09:21.193 +03:00 [INF] Api health check sent.
2025-09-13 22:09:21.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:09:21.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:09:21.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3502ms
2025-09-13 22:09:51.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:09:51.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:09:51.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:09:51.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:09:51.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:09:51.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:09:51.193 +03:00 [INF] Api health check sent.
2025-09-13 22:09:51.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:09:51.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:09:51.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4962ms
2025-09-13 22:11:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:11:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:11:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:11:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:11:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:11:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:11:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:11:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:11:17.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:11:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2863ms
2025-09-13 22:12:17.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:12:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:12:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:12:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:12:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:12:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:12:17.192 +03:00 [INF] Api health check sent.
2025-09-13 22:12:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:12:17.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:12:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3913ms
2025-09-13 22:13:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:13:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:13:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:13:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:13:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:13:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:13:17.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.427ms
2025-09-13 22:13:30.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:13:30.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:13:30.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:13:30.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:30.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:30.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:13:30.530 +03:00 [INF] Api health check sent.
2025-09-13 22:13:30.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:13:30.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:30.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.47ms
2025-09-13 22:13:33.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:13:33.082 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:13:33.082 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:13:33.082 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.082 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.082 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:13:33.083 +03:00 [INF] Api health check sent.
2025-09-13 22:13:33.083 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:13:33.083 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:33.083 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.384ms
2025-09-13 22:13:33.084 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:13:33.084 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:13:33.084 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:13:33.084 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.084 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.084 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:13:33.084 +03:00 [INF] Api health check sent.
2025-09-13 22:13:33.084 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:13:33.085 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:33.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6584ms
2025-09-13 22:13:33.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/profiles - null null
2025-09-13 22:13:33.088 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profiles'
2025-09-13 22:13:33.088 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 22:13:33.088 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.088 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.089 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 22:13:33.089 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:13:33.089 +03:00 [INF] Listing all profiles
2025-09-13 22:13:33.090 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:13:33.090 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:13:33.090 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.091 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.091 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.091 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 22:13:33.093 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 22:13:33.095 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.095 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 22:13:33.095 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.096 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.096 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.096 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.097 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.097 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.097 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.097 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.097 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.097 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.097 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.098 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.098 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 22:13:33.098 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:33.098 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:13:33.098 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.098 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.098 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/profiles - 200 null application/json; charset=utf-8 10.0862ms
2025-09-13 22:13:33.099 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/profiles - null null
2025-09-13 22:13:33.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profiles'
2025-09-13 22:13:33.099 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 22:13:33.099 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.099 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.099 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 22:13:33.100 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:13:33.100 +03:00 [INF] Listing all profiles
2025-09-13 22:13:33.100 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:13:33.100 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:13:33.100 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.100 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.100 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.100 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 22:13:33.100 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-13 22:13:33.101 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.101 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.101 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.101 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.101 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.101 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.102 +03:00 [DBG] Connection id "0HNFIUR70PM5L" accepted.
2025-09-13 22:13:33.102 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.102 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.102 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.102 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.103 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.103 +03:00 [DBG] Connection id "0HNFIUR70PM5L" started.
2025-09-13 22:13:33.103 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - null null
2025-09-13 22:13:33.103 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.103 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:13:33.103 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 22:13:33.103 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.103 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.103 +03:00 [DBG] The request is a preflight request.
2025-09-13 22:13:33.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.103 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.103 +03:00 [DBG] Connection id "0HNFIUR70PM5L" completed keep alive response.
2025-09-13 22:13:33.103 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 204 null null 0.2534ms
2025-09-13 22:13:33.103 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.103 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.103 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.104 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/profiles'
2025-09-13 22:13:33.104 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:33.104 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:13:33.104 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.104 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.104 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/profiles - 200 null application/json; charset=utf-8 4.5296ms
2025-09-13 22:13:33.104 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - application/json 164
2025-09-13 22:13:33.104 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:13:33.105 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:13:33.105 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:13:33.105 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.105 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.105 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:13:33.105 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:13:33.106 +03:00 [DBG] Connection id "0HNFIUR70PM5L", Request id "0HNFIUR70PM5L:00000002": started reading request body.
2025-09-13 22:13:33.106 +03:00 [DBG] Connection id "0HNFIUR70PM5L", Request id "0HNFIUR70PM5L:00000002": done reading request body.
2025-09-13 22:13:33.106 +03:00 [INF] Converting NL to SQL for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.106 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - application/json 164
2025-09-13 22:13:33.106 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:13:33.106 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:13:33.106 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:13:33.106 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:13:33.106 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:33.106 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:13:33.106 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:33.106 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.106 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:13:33.107 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.107 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.107 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.107 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.107 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:13:33.107 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:13:33.107 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:13:33.107 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:0000003F": started reading request body.
2025-09-13 22:13:33.107 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:0000003F": done reading request body.
2025-09-13 22:13:33.107 +03:00 [INF] Converting NL to SQL for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.107 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.108 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:13:33.108 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.108 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:13:33.108 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.108 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.108 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.108 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.108 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.108 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:13:33.109 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.109 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.109 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.109 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.109 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.109 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.109 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:13:33.109 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.109 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.110 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.110 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.110 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.110 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.110 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.110 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.110 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.110 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.110 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.110 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.111 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.111 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.111 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.111 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:13:33.111 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.111 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.111 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.111 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.111 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.111 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.111 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.111 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.111 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.111 +03:00 [DBG] Fetching schema for Profile "8d663bff-7266-446a-a134-4c1714338b7a", ForceRefresh=false
2025-09-13 22:13:33.111 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 22:13:33.111 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.112 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:13:33.112 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:13:33.112 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:13:33.112 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:13:33.112 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:13:33.112 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.112 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 22:13:33.113 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:13:33.113 +03:00 [DBG] Fetching schema for Profile "8d663bff-7266-446a-a134-4c1714338b7a", ForceRefresh=false
2025-09-13 22:13:33.113 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 22:13:33.113 +03:00 [INF] Groq API key configured for HttpClient
2025-09-13 22:13:33.113 +03:00 [INF] Converting natural language to SQL. User query: SELECT 1 as health_check
2025-09-13 22:13:33.113 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-13 22:13:33.113 +03:00 [DBG] Generated prompt with 6 messages
2025-09-13 22:13:33.113 +03:00 [DBG] Request payload prepared for LLM API
2025-09-13 22:13:33.114 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 22:13:33.114 +03:00 [INF] Groq API key configured for HttpClient
2025-09-13 22:13:33.114 +03:00 [INF] Converting natural language to SQL. User query: SELECT 1 as health_check
2025-09-13 22:13:33.114 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-13 22:13:33.114 +03:00 [DBG] Generated prompt with 6 messages
2025-09-13 22:13:33.114 +03:00 [DBG] Request payload prepared for LLM API
2025-09-13 22:13:33.794 +03:00 [INF] LLM API responded with status: "OK"
2025-09-13 22:13:33.794 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-13 22:13:33.794 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:13:33.794 +03:00 [DBG] Connection id "0HNFIUR70PM5L" completed keep alive response.
2025-09-13 22:13:33.794 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:13:33.794 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.794 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.794 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 200 null application/json; charset=utf-8 690.2512ms
2025-09-13 22:13:33.796 +03:00 [INF] LLM API responded with status: "OK"
2025-09-13 22:13:33.796 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-13 22:13:33.797 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:13:33.797 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:33.797 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:13:33.797 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:13:33.797 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:13:33.797 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 200 null application/json; charset=utf-8 690.4004ms
2025-09-13 22:13:51.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:13:51.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:13:51.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:13:51.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:13:51.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:13:51.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:13:51.192 +03:00 [INF] Api health check sent.
2025-09-13 22:13:51.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:13:51.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:13:51.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7195ms
2025-09-13 22:14:21.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:14:21.191 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:14:21.191 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:14:21.191 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:14:21.191 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:14:21.191 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:14:21.191 +03:00 [INF] Api health check sent.
2025-09-13 22:14:21.191 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:14:21.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:14:21.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4413ms
2025-09-13 22:15:15.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 22:15:15.266 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:15:15.266 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:15:15.266 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:15.266 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:15:15.266 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:15:15.266 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:15.267 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:15:15.268 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:15:15.268 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:15:15.268 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:15.268 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:15.268 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:15:15.268 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:15.268 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:15.268 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:15.268 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:15.268 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:15:15.268 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:15:15.268 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:15.269 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:15:15.269 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:15.269 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:15.269 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:15:15.269 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:15.269 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:15.269 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:15:15.269 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:15.269 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:15.269 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:15.269 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:15.270 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:15.270 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:15:15.270 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:15.270 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:15.270 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:15:15.270 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:15.270 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:15:15.271 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:15:15.271 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:15.271 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:15.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 4.7587ms
2025-09-13 22:15:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:15:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:15:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:15:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:15:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:15:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:15:17.192 +03:00 [INF] Api health check sent.
2025-09-13 22:15:17.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:15:17.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:15:17.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.242ms
2025-09-13 22:15:34.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 22:15:34.216 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:15:34.216 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:15:34.216 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:34.216 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:15:34.216 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:15:34.216 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:34.216 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:15:34.217 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:15:34.217 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:15:34.217 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:34.217 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:34.217 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:15:34.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:34.217 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:34.217 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:34.217 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:34.217 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:15:34.218 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:15:34.218 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:34.218 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:15:34.218 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:34.218 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:34.218 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:15:34.218 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:34.218 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:34.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:15:34.218 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:34.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:34.218 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:34.218 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:34.219 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:34.219 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:15:34.219 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:34.219 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:34.219 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:15:34.219 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:34.219 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:15:34.219 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:15:34.219 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:34.219 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:34.219 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 3.5351ms
2025-09-13 22:15:44.726 +03:00 [DBG] Connection id "0HNFIUR70PM5L" disconnecting.
2025-09-13 22:15:44.726 +03:00 [DBG] Connection id "0HNFIUR70PM5L" stopped.
2025-09-13 22:15:44.726 +03:00 [DBG] Connection id "0HNFIUR70PM5L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 22:15:54.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 22:15:54.217 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:15:54.217 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:15:54.217 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:54.217 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:15:54.217 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:15:54.217 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:54.218 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:15:54.218 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:15:54.218 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:15:54.218 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:54.218 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:54.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:15:54.218 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:54.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:54.218 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:54.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:54.219 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:15:54.219 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:15:54.220 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:54.220 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:15:54.220 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:54.220 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:54.220 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:15:54.220 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:54.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:54.220 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:15:54.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:54.220 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:15:54.221 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:54.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:15:54.221 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:54.221 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:15:54.221 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:15:54.221 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:54.221 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:15:54.222 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:15:54.222 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:15:54.222 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:15:54.222 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:15:54.222 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:15:54.222 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 5.0289ms
2025-09-13 22:16:17.198 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:16:17.198 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:16:17.198 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:16:17.198 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:16:17.198 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:16:17.198 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:16:17.198 +03:00 [INF] Api health check sent.
2025-09-13 22:16:17.198 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:16:17.198 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:16:17.198 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2848ms
2025-09-13 22:17:16.916 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:17:16.916 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:17:16.916 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:17:16.916 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:16.916 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:16.916 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:17:16.916 +03:00 [INF] Api health check sent.
2025-09-13 22:17:16.916 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:17:16.916 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:16.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4162ms
2025-09-13 22:17:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:17:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:17:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:17:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:17:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:17:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:17:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2155ms
2025-09-13 22:17:21.762 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode - null null
2025-09-13 22:17:21.762 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode'
2025-09-13 22:17:21.762 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 22:17:21.762 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:21.762 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:21.762 +03:00 [DBG] The request is a preflight request.
2025-09-13 22:17:21.762 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:21.762 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode - 204 null null 0.2739ms
2025-09-13 22:17:21.764 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode - application/json 81
2025-09-13 22:17:21.764 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode'
2025-09-13 22:17:21.764 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode'
2025-09-13 22:17:21.764 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 22:17:21.764 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:21.764 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:21.764 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 22:17:21.764 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:17:21.766 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:0000004A": started reading request body.
2025-09-13 22:17:21.766 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:0000004A": done reading request body.
2025-09-13 22:17:21.769 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:17:21.769 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:17:21.769 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:21.769 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.769 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:17:21.769 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:21.769 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:21.769 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:17:21.769 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:17:21.770 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:21.770 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:21.770 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.770 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:17:21.770 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.770 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:21.771 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:21.772 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 22:17:21.773 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 22:17:21.774 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-13 22:17:21.774 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-13 22:17:21.774 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-13 22:17:21.778 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:21.778 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.778 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:17:21.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:21.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:21.779 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 22:17:21.779 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-13 22:17:21.795 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.795 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 15ms reading results.
2025-09-13 22:17:21.795 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.795 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:21.796 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:21.796 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-13 22:17:21.796 +03:00 [INF] AI mode changed to "Local" for user "230c4aaf-7338-42ef-94fb-5e8c62a7467e" at "2025-09-13T19:17:21.7706682Z"
2025-09-13 22:17:21.797 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-13 22:17:21.797 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:21.797 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:17:21.797 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:21.797 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:21.797 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e/aimode - 200 null application/json; charset=utf-8 33.2477ms
2025-09-13 22:17:21.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - null null
2025-09-13 22:17:21.852 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 22:17:21.852 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e'
2025-09-13 22:17:21.852 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 22:17:21.852 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:21.852 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:21.852 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 22:17:21.852 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:17:21.852 +03:00 [INF] Getting user by ID: "230c4aaf-7338-42ef-94fb-5e8c62a7467e"
2025-09-13 22:17:21.852 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:17:21.852 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:17:21.852 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:21.852 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:17:21.852 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:21.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:21.852 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:17:21.853 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:17:21.853 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:21.853 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:21.853 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:17:21.853 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:21.853 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:21.853 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-13 22:17:21.853 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:21.853 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:17:21.853 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:21.853 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:21.853 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/230c4aaf-7338-42ef-94fb-5e8c62a7467e - 200 null application/json; charset=utf-8 2.0088ms
2025-09-13 22:17:22.361 +03:00 [DBG] Connection id "0HNFIUR70PM5M" accepted.
2025-09-13 22:17:22.361 +03:00 [DBG] Connection id "0HNFIUR70PM5M" started.
2025-09-13 22:17:22.361 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:17:22.361 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:17:22.361 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:17:22.361 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:17:22.361 +03:00 [INF] Api health check sent.
2025-09-13 22:17:22.361 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:17:22.361 +03:00 [DBG] Connection id "0HNFIUR70PM5M" completed keep alive response.
2025-09-13 22:17:22.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.1583ms
2025-09-13 22:17:23.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:17:23.367 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:17:23.367 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:17:23.367 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:23.367 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:23.367 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:17:23.367 +03:00 [INF] Api health check sent.
2025-09-13 22:17:23.367 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:17:23.367 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:23.367 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2268ms
2025-09-13 22:17:23.370 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 22:17:23.370 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 22:17:23.370 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:17:23.370 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:23.370 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:23.370 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:17:23.374 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 22:17:23.375 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 22:17:23.385 +03:00 [INF] Received HTTP response headers after 8.459ms - 200
2025-09-13 22:17:23.385 +03:00 [INF] End processing HTTP request after 11.5155ms - 200
2025-09-13 22:17:23.387 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:17:23.387 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:23.387 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 16.7723ms
2025-09-13 22:17:23.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 22:17:23.389 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 22:17:23.390 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 22:17:23.390 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 22:17:23.390 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:17:23.390 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:23.390 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:23.390 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:17:23.391 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:17:23.391 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:23.391 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.251ms
2025-09-13 22:17:26.362 +03:00 [DBG] Connection id "0HNFIUR70PM5M" received FIN.
2025-09-13 22:17:26.363 +03:00 [DBG] Connection id "0HNFIUR70PM5M" disconnecting.
2025-09-13 22:17:26.363 +03:00 [DBG] Connection id "0HNFIUR70PM5M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 22:17:26.364 +03:00 [DBG] Connection id "0HNFIUR70PM5M" stopped.
2025-09-13 22:17:39.332 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - null null
2025-09-13 22:17:39.332 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:17:39.332 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-13 22:17:39.332 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:39.332 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:39.332 +03:00 [DBG] The request is a preflight request.
2025-09-13 22:17:39.332 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:17:39.332 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 204 null null 0.2697ms
2025-09-13 22:17:39.333 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - application/json 172
2025-09-13 22:17:39.333 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:17:39.333 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert'
2025-09-13 22:17:39.334 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:17:39.334 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:39.334 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:39.334 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:17:39.335 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:17:39.335 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000050": started reading request body.
2025-09-13 22:17:39.335 +03:00 [DBG] Connection id "0HNFIUR70PM5J", Request id "0HNFIUR70PM5J:00000050": done reading request body.
2025-09-13 22:17:39.335 +03:00 [INF] Converting NL to SQL for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:17:39.335 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:17:39.335 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:17:39.335 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:39.335 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.335 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:17:39.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:39.335 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:39.335 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:17:39.335 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-13 22:17:39.336 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:39.337 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:39.337 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.337 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-13 22:17:39.337 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.337 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:39.337 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:39.337 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.337 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:17:39.337 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:39.337 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:39.337 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:17:39.337 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:17:39.337 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:17:39.337 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.337 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:17:39.337 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.337 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:39.338 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:17:39.338 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:17:39.338 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.338 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:17:39.338 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:39.338 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:17:39.338 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:17:39.338 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:17:39.338 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.338 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:17:39.338 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:17:39.338 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:17:39.339 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:17:39.339 +03:00 [DBG] Fetching schema for Profile "8d663bff-7266-446a-a134-4c1714338b7a", ForceRefresh=false
2025-09-13 22:17:39.339 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-13 22:17:39.340 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-13 22:17:39.340 +03:00 [INF] Local LLM is configured
2025-09-13 22:17:39.340 +03:00 [INF] Converting natural language to SQL. User query: show all products in the databas
2025-09-13 22:17:39.340 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-13 22:17:39.340 +03:00 [DBG] Generated prompt with 6 messages
2025-09-13 22:17:39.340 +03:00 [DBG] Request payload prepared for LLM API
2025-09-13 22:17:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5N" accepted.
2025-09-13 22:17:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5N" started.
2025-09-13 22:17:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:17:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:17:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:17:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:17:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:17:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:17:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:17:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:17:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5N" completed keep alive response.
2025-09-13 22:17:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3147ms
2025-09-13 22:18:06.920 +03:00 [INF] LLM API responded with status: "OK"
2025-09-13 22:18:06.925 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-13 22:18:06.925 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-13 22:18:06.925 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:18:06.925 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:18:06.925 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:18:06.925 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:18:06.925 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/8d663bff-7266-446a-a134-4c1714338b7a/convert - 200 null application/json; charset=utf-8 27591.7912ms
2025-09-13 22:18:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:18:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:18:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:18:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:18:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:18:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:18:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:18:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:18:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:18:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2431ms
2025-09-13 22:18:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:18:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:18:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:18:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:18:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:18:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:18:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:18:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:18:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:18:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2856ms
2025-09-13 22:19:20.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:19:20.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:19:20.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:19:20.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:19:20.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:19:20.528 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:19:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:19:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:19:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:19:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2582ms
2025-09-13 22:19:23.375 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 22:19:33.376 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:19:33.378 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 1 items
2025-09-13 22:19:43.378 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:19:43.378 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-09-13 22:19:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:19:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:19:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:19:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:19:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:19:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:19:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:19:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:19:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:19:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2632ms
2025-09-13 22:19:53.378 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:19:53.378 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 1 items
2025-09-13 22:20:01.860 +03:00 [DBG] Connection id "0HNFIUR70PM5N" disconnecting.
2025-09-13 22:20:01.860 +03:00 [DBG] Connection id "0HNFIUR70PM5N" stopped.
2025-09-13 22:20:01.860 +03:00 [DBG] Connection id "0HNFIUR70PM5N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 22:20:03.379 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:20:03.379 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 22:20:13.380 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:20:13.380 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 22:20:20.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:20:20.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:20:20.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:20:20.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:20:20.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:20:20.528 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:20:20.528 +03:00 [INF] Api health check sent.
2025-09-13 22:20:20.528 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:20:20.528 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:20:20.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3705ms
2025-09-13 22:20:23.381 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:20:23.381 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 22:20:33.381 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:20:33.381 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-13 22:20:43.381 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:20:43.381 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 22:20:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:20:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:20:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:20:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:20:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:20:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:20:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:20:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:20:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:20:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.321ms
2025-09-13 22:20:53.383 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:20:53.383 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
2025-09-13 22:21:03.382 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:21:03.383 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
2025-09-13 22:21:13.383 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:21:13.383 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:21:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:21:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:21:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:21:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:21:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:21:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:21:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:21:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:21:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:21:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2369ms
2025-09-13 22:21:23.383 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:21:23.384 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 22:21:33.384 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:21:33.384 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 1 items
2025-09-13 22:21:43.384 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:21:43.385 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-09-13 22:21:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:21:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:21:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:21:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:21:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:21:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:21:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:21:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:21:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:21:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5461ms
2025-09-13 22:21:53.385 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:21:53.385 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-09-13 22:22:03.386 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:22:03.386 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-09-13 22:22:13.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:22:13.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-09-13 22:22:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:22:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:22:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:22:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:22:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:22:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:22:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:22:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:22:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:22:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.196ms
2025-09-13 22:22:23.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:22:23.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
2025-09-13 22:22:33.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:22:33.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-09-13 22:22:43.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:22:43.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-13 22:22:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:22:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:22:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:22:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:22:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:22:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:22:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:22:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:22:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:22:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2819ms
2025-09-13 22:22:53.386 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:22:53.386 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
2025-09-13 22:23:03.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:23:03.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-09-13 22:23:13.387 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:23:13.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-13 22:23:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:23:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:23:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:23:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:23:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:23:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:23:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:23:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:23:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:23:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4664ms
2025-09-13 22:23:23.388 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:23:23.388 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-09-13 22:23:33.389 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:23:33.389 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-13 22:23:43.389 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:23:43.389 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-13 22:23:50.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:23:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:23:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:23:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:23:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:23:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:23:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:23:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:23:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:23:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2875ms
2025-09-13 22:23:53.390 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:23:53.390 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 22:24:03.390 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:24:03.391 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-09-13 22:24:13.390 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:24:13.390 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-09-13 22:24:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:24:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:24:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:24:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:24:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:24:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:24:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:24:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:24:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:24:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2481ms
2025-09-13 22:24:23.391 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:24:23.391 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0656ms - processed: 0 items - remaining: 1 items
2025-09-13 22:24:33.391 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:24:33.391 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-09-13 22:24:43.391 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:24:43.391 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:24:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:24:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:24:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:24:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:24:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:24:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:24:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:24:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:24:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:24:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2855ms
2025-09-13 22:24:53.392 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:24:53.392 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:25:03.393 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:25:03.393 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-13 22:25:13.394 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:25:13.394 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-09-13 22:25:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:25:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:25:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:25:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:25:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:25:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:25:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:25:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:25:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:25:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3699ms
2025-09-13 22:25:23.394 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:25:23.394 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-09-13 22:25:33.394 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:25:33.394 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:25:43.394 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:25:43.395 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-09-13 22:25:50.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:25:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:25:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:25:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:25:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:25:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:25:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:25:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:25:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:25:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2635ms
2025-09-13 22:25:53.396 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:25:53.396 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:26:03.396 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:26:03.396 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:26:13.396 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:26:13.396 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:26:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:26:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:26:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:26:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:26:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:26:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:26:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:26:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:26:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:26:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2548ms
2025-09-13 22:26:23.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:26:23.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-13 22:26:33.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:26:33.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:26:43.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:26:43.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-09-13 22:26:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:26:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:26:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:26:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:26:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:26:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:26:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:26:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:26:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:26:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2616ms
2025-09-13 22:26:53.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:26:53.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-13 22:27:03.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:27:03.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:27:13.397 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:27:13.397 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:27:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:27:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:27:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:27:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:27:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:27:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:27:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:27:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:27:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:27:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2124ms
2025-09-13 22:27:23.398 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:27:23.398 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:27:33.398 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:27:33.398 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-09-13 22:27:43.399 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:27:43.399 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-13 22:27:50.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:27:50.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:27:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:27:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:27:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:27:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:27:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:27:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:27:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:27:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2095ms
2025-09-13 22:27:53.399 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:27:53.399 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-13 22:28:03.399 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:28:03.399 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:28:13.400 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:28:13.400 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:28:20.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:28:20.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:28:20.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:28:20.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:28:20.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:28:20.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:28:20.530 +03:00 [INF] Api health check sent.
2025-09-13 22:28:20.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:28:20.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:28:20.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2359ms
2025-09-13 22:28:23.400 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:28:23.400 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 1 items
2025-09-13 22:28:33.400 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:28:33.400 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:28:43.401 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:28:43.401 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 1 items
2025-09-13 22:28:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:28:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:28:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:28:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:28:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:28:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:28:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:28:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:28:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:28:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.215ms
2025-09-13 22:28:53.401 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:28:53.401 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:29:03.401 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:29:03.401 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:29:13.402 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:29:13.402 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:29:20.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:29:20.531 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:29:20.531 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:29:20.531 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:29:20.531 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:29:20.531 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:29:20.531 +03:00 [INF] Api health check sent.
2025-09-13 22:29:20.531 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:29:20.531 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:29:20.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2348ms
2025-09-13 22:29:23.401 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:29:23.402 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0645ms - processed: 0 items - remaining: 1 items
2025-09-13 22:29:33.402 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:29:33.402 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
2025-09-13 22:29:43.402 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:29:43.402 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:29:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:29:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:29:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:29:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:29:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:29:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:29:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:29:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:29:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:29:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4648ms
2025-09-13 22:29:53.403 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:29:53.403 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 1 items
2025-09-13 22:30:03.404 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:30:03.404 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 1 items
2025-09-13 22:30:13.404 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:30:13.404 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:30:20.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:30:20.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:30:20.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:30:20.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:30:20.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:30:20.528 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:30:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:30:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:30:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:30:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3243ms
2025-09-13 22:30:23.405 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:30:23.405 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0004ms - processed: 0 items - remaining: 1 items
2025-09-13 22:30:33.406 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:30:33.406 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:30:43.406 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:30:43.406 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:30:50.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:30:50.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:30:50.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:30:50.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:30:50.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:30:50.528 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:30:50.528 +03:00 [INF] Api health check sent.
2025-09-13 22:30:50.528 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:30:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:30:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3777ms
2025-09-13 22:30:53.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:30:53.407 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:31:03.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:31:03.407 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:31:13.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:31:13.407 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:31:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:31:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:31:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:31:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:31:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:31:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:31:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:31:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:31:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:31:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2324ms
2025-09-13 22:31:23.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:31:23.407 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:31:33.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:31:33.407 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:31:43.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:31:43.408 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:31:50.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:31:50.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:31:50.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:31:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:31:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:31:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:31:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:31:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:31:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:31:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2424ms
2025-09-13 22:31:53.409 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:31:53.409 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:32:03.410 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:32:03.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:32:13.410 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:32:13.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:32:20.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:32:20.528 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:32:20.528 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:32:20.528 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:32:20.528 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:32:20.528 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:32:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:32:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:32:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:32:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2045ms
2025-09-13 22:32:23.410 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:32:23.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:32:33.410 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:32:33.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:32:43.411 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:32:43.411 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:32:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:32:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:32:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:32:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:32:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:32:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:32:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:32:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:32:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:32:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2503ms
2025-09-13 22:32:53.411 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:32:53.412 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:33:03.412 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:33:03.412 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:33:13.412 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:33:13.412 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:33:21.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:33:21.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:33:21.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:33:21.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:33:21.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:33:21.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:33:21.192 +03:00 [INF] Api health check sent.
2025-09-13 22:33:21.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:33:21.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:33:21.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3478ms
2025-09-13 22:33:23.413 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:33:23.413 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:33:33.413 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:33:33.413 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:33:43.414 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:33:43.414 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:33:51.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:33:51.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:33:51.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:33:51.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:33:51.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:33:51.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:33:51.193 +03:00 [INF] Api health check sent.
2025-09-13 22:33:51.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:33:51.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:33:51.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2375ms
2025-09-13 22:33:53.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:33:53.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:34:03.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:34:03.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:34:13.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:34:13.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:34:23.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:34:23.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:34:33.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:34:33.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:34:43.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:34:43.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:34:53.415 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:34:53.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:35:02.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:35:02.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:35:02.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:35:02.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:35:02.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:35:02.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:35:02.192 +03:00 [INF] Api health check sent.
2025-09-13 22:35:02.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:35:02.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:35:02.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2303ms
2025-09-13 22:35:03.416 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:35:03.416 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:35:13.417 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:35:13.417 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:35:23.417 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:35:23.417 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:35:33.417 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:35:33.418 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:35:43.418 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:35:43.418 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:35:53.420 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:35:53.420 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:36:03.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:36:03.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:36:03.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:36:03.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:36:03.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:36:03.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:36:03.192 +03:00 [INF] Api health check sent.
2025-09-13 22:36:03.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:36:03.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:36:03.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2516ms
2025-09-13 22:36:03.420 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:36:03.420 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:36:13.421 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:36:13.421 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:36:23.422 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:36:23.422 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:36:33.422 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:36:33.422 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:36:43.423 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:36:43.423 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:36:53.423 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:36:53.423 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:37:03.423 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:37:03.423 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:37:04.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:37:04.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:37:04.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:37:04.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:37:04.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:37:04.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:37:04.192 +03:00 [INF] Api health check sent.
2025-09-13 22:37:04.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:37:04.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:37:04.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2649ms
2025-09-13 22:37:13.424 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:37:13.424 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:37:23.424 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:37:23.424 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-13 22:37:33.425 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:37:33.425 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:37:43.426 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:37:43.426 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:37:53.426 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:37:53.426 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 1 items
2025-09-13 22:38:03.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:38:03.427 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:38:05.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:38:05.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:38:05.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:38:05.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:38:05.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:38:05.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:38:05.193 +03:00 [INF] Api health check sent.
2025-09-13 22:38:05.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:38:05.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:38:05.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2279ms
2025-09-13 22:38:13.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:38:13.427 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:38:23.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:38:23.427 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:38:33.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:38:33.427 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:38:43.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:38:43.427 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:38:53.426 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:38:53.426 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:39:03.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:39:03.428 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:39:06.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:39:06.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:39:06.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:39:06.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:39:06.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:39:06.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:39:06.192 +03:00 [INF] Api health check sent.
2025-09-13 22:39:06.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:39:06.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:39:06.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2248ms
2025-09-13 22:39:13.428 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:39:13.428 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:39:23.429 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:39:23.430 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:39:33.430 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:39:33.430 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:39:43.431 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:39:43.431 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:39:53.432 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:39:53.432 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:40:03.432 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:40:03.433 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:40:07.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:40:07.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:40:07.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:40:07.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:40:07.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:40:07.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:40:07.193 +03:00 [INF] Api health check sent.
2025-09-13 22:40:07.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:40:07.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:40:07.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2316ms
2025-09-13 22:40:13.433 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:40:13.433 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:40:23.433 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:40:23.433 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:40:33.433 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:40:33.433 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:40:43.434 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:40:43.434 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:40:53.434 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:40:53.434 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:41:03.435 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:41:03.435 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:41:08.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:41:08.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:41:08.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:41:08.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:41:08.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:41:08.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:41:08.192 +03:00 [INF] Api health check sent.
2025-09-13 22:41:08.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:41:08.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:41:08.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3315ms
2025-09-13 22:41:13.436 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:41:13.436 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:41:23.437 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:41:23.437 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:41:33.438 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:41:33.438 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:41:43.438 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:41:43.438 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:41:53.439 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:41:53.439 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:42:03.439 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:42:03.439 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:42:09.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:42:09.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:42:09.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:42:09.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:42:09.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:42:09.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:42:09.193 +03:00 [INF] Api health check sent.
2025-09-13 22:42:09.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:42:09.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:42:09.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2568ms
2025-09-13 22:42:13.440 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:42:13.440 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:42:23.440 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:42:23.441 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:42:33.441 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:42:33.441 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:42:43.442 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:42:43.442 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-13 22:42:53.442 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:42:53.442 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:43:03.443 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:43:03.443 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:43:10.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:43:10.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:43:10.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:43:10.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:43:10.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:43:10.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:43:10.193 +03:00 [INF] Api health check sent.
2025-09-13 22:43:10.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:43:10.193 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:43:10.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3028ms
2025-09-13 22:43:13.444 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:43:13.444 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:43:23.445 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:43:23.445 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:43:33.446 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:43:33.446 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:43:43.447 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:43:43.447 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:43:53.447 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:43:53.447 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-09-13 22:44:03.447 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:44:03.447 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:44:11.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:44:11.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:44:11.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:44:11.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:44:11.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:44:11.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:44:11.192 +03:00 [INF] Api health check sent.
2025-09-13 22:44:11.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:44:11.192 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:44:11.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3171ms
2025-09-13 22:44:13.448 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:44:13.448 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:44:23.448 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:44:23.448 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:44:26.929 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:44:26.929 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:44:26.929 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:44:26.929 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:44:26.929 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:44:26.929 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:44:26.930 +03:00 [INF] Api health check sent.
2025-09-13 22:44:26.930 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:44:26.930 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:44:26.930 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.2642ms
2025-09-13 22:44:33.448 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:44:33.448 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:44:43.448 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:44:43.448 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:44:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:44:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:44:50.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:44:50.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:44:50.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:44:50.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:44:50.529 +03:00 [INF] Api health check sent.
2025-09-13 22:44:50.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:44:50.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:44:50.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2133ms
2025-09-13 22:44:53.449 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:44:53.449 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:45:03.449 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:45:03.449 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:45:13.450 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:45:13.450 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 1 items
2025-09-13 22:45:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:45:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:45:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:45:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:45:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:45:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:45:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:45:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:45:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:45:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3767ms
2025-09-13 22:45:23.450 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:45:23.450 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:45:33.450 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:45:33.450 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 1 items
2025-09-13 22:45:43.450 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:45:43.451 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:45:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:45:50.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:45:50.530 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:45:50.530 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:45:50.530 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:45:50.530 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:45:50.530 +03:00 [INF] Api health check sent.
2025-09-13 22:45:50.530 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:45:50.530 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:45:50.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3838ms
2025-09-13 22:45:53.451 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:45:53.451 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:46:03.451 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:46:03.451 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0004ms - processed: 0 items - remaining: 1 items
2025-09-13 22:46:13.452 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:46:13.452 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:46:15.881 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:46:15.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:46:15.881 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:46:15.881 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:15.881 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:15.881 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:46:15.881 +03:00 [INF] Api health check sent.
2025-09-13 22:46:15.881 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:46:15.881 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:46:15.881 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3754ms
2025-09-13 22:46:15.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:46:15.882 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:46:15.882 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:46:15.883 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:15.883 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:15.883 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:46:15.883 +03:00 [INF] Api health check sent.
2025-09-13 22:46:15.883 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:46:15.883 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:46:15.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3849ms
2025-09-13 22:46:15.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 22:46:15.884 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 22:46:15.884 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:46:15.884 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:15.884 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:15.884 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:46:15.886 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 22:46:15.886 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 22:46:15.889 +03:00 [INF] Received HTTP response headers after 2.8218ms - 200
2025-09-13 22:46:15.889 +03:00 [INF] End processing HTTP request after 3.2593ms - 200
2025-09-13 22:46:15.889 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:46:15.889 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:46:15.889 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 5.4743ms
2025-09-13 22:46:15.890 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health/localllm - null null
2025-09-13 22:46:15.890 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health/localllm'
2025-09-13 22:46:15.890 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:46:15.890 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:15.890 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:15.890 +03:00 [INF] Executing endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:46:15.890 +03:00 [INF] Start processing HTTP request GET http://localhost:11434/
2025-09-13 22:46:15.890 +03:00 [INF] Sending HTTP request GET http://localhost:11434/
2025-09-13 22:46:15.891 +03:00 [INF] Received HTTP response headers after 0.6625ms - 200
2025-09-13 22:46:15.891 +03:00 [INF] End processing HTTP request after 0.8496ms - 200
2025-09-13 22:46:15.891 +03:00 [INF] Executed endpoint 'HTTP: GET api/health/localllm'
2025-09-13 22:46:15.891 +03:00 [DBG] Connection id "0HNFIUR70PM5J" completed keep alive response.
2025-09-13 22:46:15.892 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health/localllm - 200 null application/json; charset=utf-8 1.305ms
2025-09-13 22:46:15.892 +03:00 [DBG] Connection id "0HNFIUR70PM5O" accepted.
2025-09-13 22:46:15.892 +03:00 [DBG] Connection id "0HNFIUR70PM5O" started.
2025-09-13 22:46:15.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 22:46:15.892 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 22:46:15.893 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 22:46:15.893 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 22:46:15.893 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:46:15.893 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:15.893 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:15.893 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:46:15.893 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:46:15.893 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:46:15.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3489ms
2025-09-13 22:46:15.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-13 22:46:15.895 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-13 22:46:15.895 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-13 22:46:15.895 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-13 22:46:15.895 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:46:15.895 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:15.895 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:15.895 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:46:15.895 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-13 22:46:15.895 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:46:15.895 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3339ms
2025-09-13 22:46:20.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:46:20.532 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:46:20.532 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:46:20.532 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:20.532 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:20.532 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:46:20.532 +03:00 [INF] Api health check sent.
2025-09-13 22:46:20.532 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:46:20.532 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:46:20.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2288ms
2025-09-13 22:46:23.453 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:46:23.453 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:46:33.453 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:46:33.453 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:46:35.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - null null
2025-09-13 22:46:35.234 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:46:35.234 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a'
2025-09-13 22:46:35.234 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:46:35.234 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:35.234 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:35.234 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:46:35.235 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-13 22:46:35.235 +03:00 [DBG] Creating DbConnection.
2025-09-13 22:46:35.235 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-13 22:46:35.235 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:46:35.236 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:46:35.236 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:46:35.236 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:46:35.236 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:46:35.236 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:46:35.239 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:46:35.239 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:46:35.239 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-13 22:46:35.239 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:46:35.239 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:46:35.239 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:46:35.239 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:46:35.239 +03:00 [INF] Fetching connection string for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:46:35.240 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:46:35.240 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:46:35.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-13 22:46:35.240 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:46:35.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-13 22:46:35.240 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:46:35.240 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-13 22:46:35.240 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:46:35.240 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-13 22:46:35.240 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-13 22:46:35.240 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:46:35.241 +03:00 [DBG] Fetched secret for profile "8d663bff-7266-446a-a134-4c1714338b7a"
2025-09-13 22:46:35.241 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-13 22:46:35.241 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:46:35.241 +03:00 [DBG] 'ContextDB' disposed.
2025-09-13 22:46:35.241 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-13 22:46:35.241 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-13 22:46:35.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/8d663bff-7266-446a-a134-4c1714338b7a - 200 null application/json; charset=utf-8 6.8286ms
2025-09-13 22:46:43.454 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:46:43.454 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 1 items
2025-09-13 22:46:51.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:46:51.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:46:51.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:46:51.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:46:51.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:46:51.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:46:51.193 +03:00 [INF] Api health check sent.
2025-09-13 22:46:51.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:46:51.193 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:46:51.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3538ms
2025-09-13 22:46:53.454 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:46:53.454 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-13 22:47:03.454 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:47:03.454 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-09-13 22:47:13.455 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:47:13.455 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:47:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:47:20.529 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:47:20.529 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:47:20.529 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:47:20.529 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:47:20.529 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:47:20.529 +03:00 [INF] Api health check sent.
2025-09-13 22:47:20.529 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:47:20.529 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:47:20.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2516ms
2025-09-13 22:47:23.454 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:47:23.454 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-13 22:47:33.455 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:47:33.455 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:47:43.456 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:47:43.456 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-13 22:47:51.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:47:51.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:47:51.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:47:51.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:47:51.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:47:51.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:47:51.192 +03:00 [INF] Api health check sent.
2025-09-13 22:47:51.192 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:47:51.192 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:47:51.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3574ms
2025-09-13 22:47:53.456 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:47:53.456 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 1 items
2025-09-13 22:48:03.456 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:48:03.456 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 1 items
2025-09-13 22:48:13.456 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-13 22:48:13.456 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-13 22:48:15.884 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-13 22:48:21.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:48:21.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:48:21.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:48:21.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:48:21.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:48:21.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:48:21.193 +03:00 [INF] Api health check sent.
2025-09-13 22:48:21.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:48:21.193 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:48:21.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.269ms
2025-09-13 22:48:23.458 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:48:23.458 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 22:48:26.738 +03:00 [DBG] Connection id "0HNFIUR70PM5J" disconnecting.
2025-09-13 22:48:26.738 +03:00 [DBG] Connection id "0HNFIUR70PM5J" stopped.
2025-09-13 22:48:26.738 +03:00 [DBG] Connection id "0HNFIUR70PM5J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 22:48:33.459 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:48:33.459 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 22:48:43.459 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:48:43.459 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 22:48:53.459 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:48:53.459 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:49:03.459 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:49:03.460 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 22:49:13.460 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:49:13.460 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 22:49:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:49:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:49:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:49:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:49:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:49:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:49:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:49:17.194 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:49:17.194 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:49:17.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3729ms
2025-09-13 22:49:23.461 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:49:23.461 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 22:49:33.461 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:49:33.461 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:49:43.462 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:49:43.462 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 22:49:53.462 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:49:53.463 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 22:50:03.463 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:50:03.463 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 22:50:13.463 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:50:13.463 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:50:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:50:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:50:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:50:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:50:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:50:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:50:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:50:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:50:17.193 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:50:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2519ms
2025-09-13 22:50:23.464 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:50:23.464 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 22:50:33.464 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:50:33.464 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:50:43.465 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:50:43.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 22:50:53.465 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:50:53.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:51:03.465 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:51:03.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 22:51:13.465 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:51:13.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 22:51:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:51:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:51:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:51:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:51:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:51:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:51:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:51:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:51:17.193 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:51:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2383ms
2025-09-13 22:51:23.465 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:51:23.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 22:51:33.466 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:51:33.466 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:51:43.466 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:51:43.466 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 22:51:53.468 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:51:53.468 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 22:52:03.469 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:52:03.469 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 22:52:13.469 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:52:13.469 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 22:52:17.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:52:17.192 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:52:17.192 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:52:17.192 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:52:17.192 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:52:17.192 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:52:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:52:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:52:17.193 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:52:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4368ms
2025-09-13 22:52:23.470 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:52:23.470 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:52:33.470 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:52:33.470 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 22:52:43.470 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:52:43.470 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 22:52:53.472 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:52:53.472 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 22:53:03.472 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:53:03.472 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 22:53:13.472 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:53:13.473 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 22:53:17.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 22:53:17.193 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 22:53:17.193 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 22:53:17.193 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 22:53:17.193 +03:00 [INF] CORS policy execution successful.
2025-09-13 22:53:17.193 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 22:53:17.193 +03:00 [INF] Api health check sent.
2025-09-13 22:53:17.193 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 22:53:17.193 +03:00 [DBG] Connection id "0HNFIUR70PM5O" completed keep alive response.
2025-09-13 22:53:17.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2582ms
2025-09-13 22:53:23.473 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:53:23.473 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 22:53:33.473 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:53:33.473 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 22:53:42.295 +03:00 [DBG] Connection id "0HNFIUR70PM5O" received FIN.
2025-09-13 22:53:42.297 +03:00 [DBG] Connection id "0HNFIUR70PM5O" disconnecting.
2025-09-13 22:53:42.297 +03:00 [DBG] Connection id "0HNFIUR70PM5O" stopped.
2025-09-13 22:53:42.297 +03:00 [DBG] Connection id "0HNFIUR70PM5O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 22:53:43.476 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 22:53:43.476 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:04:07.852 +03:00 [DBG] Connection id "0HNFIUR70PM5P" accepted.
2025-09-13 23:04:07.852 +03:00 [DBG] Connection id "0HNFIUR70PM5P" started.
2025-09-13 23:04:07.852 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:04:07.852 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:04:07.852 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:04:07.852 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:04:07.852 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:04:07.852 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:04:07.852 +03:00 [INF] Api health check sent.
2025-09-13 23:04:07.852 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:04:07.852 +03:00 [DBG] Connection id "0HNFIUR70PM5P" completed keep alive response.
2025-09-13 23:04:07.852 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3047ms
2025-09-13 23:04:13.244 +03:00 [DBG] Connection id "0HNFIUR70PM5P" received FIN.
2025-09-13 23:04:13.244 +03:00 [DBG] Connection id "0HNFIUR70PM5P" disconnecting.
2025-09-13 23:04:13.244 +03:00 [DBG] Connection id "0HNFIUR70PM5P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-13 23:04:13.246 +03:00 [DBG] Connection id "0HNFIUR70PM5P" stopped.
2025-09-13 23:04:15.081 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:04:15.081 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2025-09-13 23:04:25.082 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:04:25.082 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:04:35.082 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:04:35.082 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:04:45.083 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:04:45.083 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:04:55.083 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:04:55.083 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:05:05.083 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:05:05.083 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:05:08.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" accepted.
2025-09-13 23:05:08.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" started.
2025-09-13 23:05:08.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:05:08.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:05:08.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:05:08.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:05:08.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:05:08.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:05:08.178 +03:00 [INF] Api health check sent.
2025-09-13 23:05:08.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:05:08.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:05:08.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5435ms
2025-09-13 23:05:15.084 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:05:15.084 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:05:25.085 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:05:25.085 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:05:35.085 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:05:35.085 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-09-13 23:05:45.086 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:05:45.086 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-13 23:05:55.086 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:05:55.086 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:06:05.086 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:06:05.086 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:06:09.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:06:09.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:06:09.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:06:09.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:06:09.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:06:09.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:06:09.177 +03:00 [INF] Api health check sent.
2025-09-13 23:06:09.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:06:09.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:06:09.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.252ms
2025-09-13 23:06:15.087 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:06:15.087 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:06:25.089 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:06:25.089 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:06:35.089 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:06:35.090 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:06:45.090 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:06:45.090 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-09-13 23:06:55.090 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:06:55.090 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:07:05.091 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:07:05.091 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:07:10.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:07:10.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:07:10.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:07:10.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:07:10.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:07:10.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:07:10.178 +03:00 [INF] Api health check sent.
2025-09-13 23:07:10.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:07:10.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:07:10.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2369ms
2025-09-13 23:07:15.091 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:07:15.091 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:07:25.091 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:07:25.091 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:07:35.092 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:07:35.092 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:07:45.093 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:07:45.093 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:07:55.093 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:07:55.094 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:08:05.094 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:08:05.094 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 23:08:11.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:08:11.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:08:11.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:08:11.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:08:11.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:08:11.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:08:11.179 +03:00 [INF] Api health check sent.
2025-09-13 23:08:11.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:08:11.179 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:08:11.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2733ms
2025-09-13 23:08:15.094 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:08:15.094 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:08:25.094 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:08:25.094 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 23:08:35.095 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:08:35.095 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-13 23:08:45.095 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:08:45.095 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 23:08:55.096 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:08:55.096 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 23:09:05.096 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:09:05.096 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-09-13 23:09:12.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:09:12.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:09:12.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:09:12.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:09:12.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:09:12.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:09:12.177 +03:00 [INF] Api health check sent.
2025-09-13 23:09:12.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:09:12.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:09:12.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2859ms
2025-09-13 23:09:15.097 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:09:15.097 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:09:25.097 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:09:25.097 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:09:35.098 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:09:35.098 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
2025-09-13 23:09:45.098 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:09:45.098 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-09-13 23:09:55.099 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:09:55.099 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 23:10:05.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:10:05.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 23:10:13.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:10:13.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:10:13.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:10:13.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:10:13.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:10:13.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:10:13.178 +03:00 [INF] Api health check sent.
2025-09-13 23:10:13.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:10:13.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:10:13.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2693ms
2025-09-13 23:10:15.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:10:15.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-09-13 23:10:25.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:10:25.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:10:35.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:10:35.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:10:45.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:10:45.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:10:55.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:10:55.101 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:11:05.101 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:11:05.101 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:11:14.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:11:14.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:11:14.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:11:14.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:11:14.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:11:14.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:11:14.178 +03:00 [INF] Api health check sent.
2025-09-13 23:11:14.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:11:14.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:11:14.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.289ms
2025-09-13 23:11:15.101 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:11:15.101 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:11:25.101 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:11:25.101 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:11:35.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:11:35.102 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:11:45.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:11:45.102 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:11:55.103 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:11:55.103 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:12:05.104 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:12:05.104 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:12:15.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:12:15.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:12:15.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:12:15.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:12:15.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:12:15.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:12:15.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:12:15.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:12:15.177 +03:00 [INF] Api health check sent.
2025-09-13 23:12:15.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:12:15.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:12:15.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.0085ms
2025-09-13 23:12:25.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:12:25.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:12:35.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:12:35.105 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:12:45.107 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:12:45.107 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:12:55.108 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:12:55.108 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:13:05.108 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:13:05.108 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:13:15.109 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:13:15.109 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:13:16.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:13:16.176 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:13:16.176 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:13:16.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:13:16.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:13:16.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:13:16.177 +03:00 [INF] Api health check sent.
2025-09-13 23:13:16.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:13:16.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:13:16.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2276ms
2025-09-13 23:13:25.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:13:25.110 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 23:13:35.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:13:35.110 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:13:45.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:13:45.110 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:13:55.110 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:13:55.110 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:14:05.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:14:05.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2025-09-13 23:14:15.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:14:15.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2025-09-13 23:14:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:14:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:14:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:14:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:14:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:14:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:14:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:14:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:14:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:14:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4774ms
2025-09-13 23:14:25.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:14:25.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:14:35.112 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:14:35.112 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:14:45.113 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:14:45.113 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:14:55.113 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:14:55.113 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-09-13 23:15:05.113 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:15:05.114 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:15:15.114 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:15:15.114 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:15:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:15:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:15:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:15:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:15:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:15:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:15:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:15:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:15:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:15:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2692ms
2025-09-13 23:15:25.114 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:15:25.114 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:15:35.114 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:15:35.114 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 2 items
2025-09-13 23:15:45.115 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:15:45.115 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-13 23:15:55.116 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:15:55.116 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:16:05.116 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:16:05.116 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:16:15.116 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:16:15.117 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:16:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:16:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:16:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:16:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:16:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:16:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:16:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:16:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:16:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:16:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.274ms
2025-09-13 23:16:25.117 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:16:25.117 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:16:35.118 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:16:35.118 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:16:45.118 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:16:45.118 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:16:55.119 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:16:55.119 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:17:05.119 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:17:05.119 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-13 23:17:15.119 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:17:15.120 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 23:17:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:17:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:17:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:17:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:17:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:17:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:17:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:17:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:17:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:17:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2458ms
2025-09-13 23:17:25.120 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:17:25.120 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-09-13 23:17:35.120 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:17:35.120 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:17:45.120 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:17:45.120 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:17:55.121 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:17:55.121 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-13 23:18:05.122 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:18:05.122 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:18:15.122 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:18:15.122 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2025-09-13 23:18:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:18:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:18:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:18:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:18:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:18:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:18:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:18:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:18:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:18:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2988ms
2025-09-13 23:18:25.123 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:18:25.123 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2025-09-13 23:18:35.123 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:18:35.123 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-09-13 23:18:45.123 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:18:45.123 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2025-09-13 23:18:55.124 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:18:55.124 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:19:05.124 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:19:05.124 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2025-09-13 23:19:15.126 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:19:15.126 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 23:19:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:19:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:19:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:19:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:19:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:19:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:19:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:19:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:19:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:19:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2726ms
2025-09-13 23:19:25.127 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:19:25.127 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:19:35.127 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:19:35.127 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2025-09-13 23:19:45.127 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:19:45.127 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2025-09-13 23:19:55.128 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:19:55.128 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-13 23:20:05.129 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:20:05.129 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-13 23:20:15.129 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-13 23:20:15.129 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2433ms - processed: 2 items - remaining: 0 items
2025-09-13 23:20:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:20:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:20:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:20:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:20:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:20:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:20:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:20:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:20:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:20:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3239ms
2025-09-13 23:21:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:21:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:21:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:21:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:21:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:21:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:21:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:21:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:21:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:21:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3983ms
2025-09-13 23:22:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:22:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:22:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:22:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:22:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:22:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:22:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:22:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:22:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:22:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3403ms
2025-09-13 23:23:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:23:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:23:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:23:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:23:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:23:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:23:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:23:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:23:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:23:17.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5454ms
2025-09-13 23:24:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:24:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:24:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:24:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:24:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:24:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:24:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:24:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:24:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:24:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3108ms
2025-09-13 23:25:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:25:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:25:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:25:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:25:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:25:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:25:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:25:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:25:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:25:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2949ms
2025-09-13 23:26:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:26:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:26:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:26:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:26:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:26:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:26:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:26:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:26:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:26:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.243ms
2025-09-13 23:27:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:27:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:27:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:27:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:27:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:27:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:27:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:27:17.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:27:17.179 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:27:17.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4302ms
2025-09-13 23:28:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:28:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:28:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:28:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:28:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:28:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:28:17.179 +03:00 [INF] Api health check sent.
2025-09-13 23:28:17.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:28:17.179 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:28:17.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3188ms
2025-09-13 23:29:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:29:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:29:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:29:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:29:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:29:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:29:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:29:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:29:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:29:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3027ms
2025-09-13 23:30:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:30:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:30:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:30:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:30:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:30:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:30:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:30:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:30:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:30:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2673ms
2025-09-13 23:31:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:31:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:31:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:31:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:31:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:31:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:31:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:31:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:31:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:31:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4524ms
2025-09-13 23:32:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:32:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:32:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:32:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:32:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:32:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:32:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:32:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:32:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:32:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3325ms
2025-09-13 23:33:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:33:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:33:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:33:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:33:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:33:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:33:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:33:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:33:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:33:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3891ms
2025-09-13 23:34:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:34:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:34:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:34:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:34:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:34:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:34:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:34:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:34:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:34:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3095ms
2025-09-13 23:35:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:35:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:35:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:35:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:35:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:35:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:35:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:35:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:35:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:35:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2575ms
2025-09-13 23:36:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:36:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:36:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:36:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:36:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:36:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:36:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:36:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:36:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:36:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2722ms
2025-09-13 23:37:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:37:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:37:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:37:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:37:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:37:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:37:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:37:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:37:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:37:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3234ms
2025-09-13 23:38:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:38:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:38:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:38:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:38:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:38:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:38:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:38:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:38:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:38:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2637ms
2025-09-13 23:39:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:39:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:39:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:39:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:39:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:39:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:39:17.179 +03:00 [INF] Api health check sent.
2025-09-13 23:39:17.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:39:17.179 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:39:17.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4026ms
2025-09-13 23:40:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:40:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:40:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:40:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:40:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:40:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:40:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:40:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:40:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:40:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2458ms
2025-09-13 23:41:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:41:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:41:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:41:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:41:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:41:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:41:17.179 +03:00 [INF] Api health check sent.
2025-09-13 23:41:17.179 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:41:17.179 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:41:17.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5977ms
2025-09-13 23:42:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:42:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:42:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:42:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:42:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:42:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:42:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:42:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:42:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:42:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4216ms
2025-09-13 23:43:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:43:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:43:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:43:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:43:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:43:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:43:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:43:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:43:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:43:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3357ms
2025-09-13 23:44:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:44:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:44:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:44:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:44:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:44:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:44:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:44:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:44:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:44:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2844ms
2025-09-13 23:45:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:45:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:45:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:45:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:45:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:45:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:45:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:45:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:45:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:45:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3043ms
2025-09-13 23:46:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:46:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:46:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:46:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:46:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:46:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:46:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:46:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:46:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:46:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3351ms
2025-09-13 23:47:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:47:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:47:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:47:17.177 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:47:17.177 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:47:17.177 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:47:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:47:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:47:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:47:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4402ms
2025-09-13 23:48:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:48:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:48:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:48:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:48:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:48:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:48:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:48:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:48:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:48:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2763ms
2025-09-13 23:49:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:49:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:49:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:49:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:49:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:49:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:49:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:49:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:49:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:49:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4166ms
2025-09-13 23:50:17.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:50:17.176 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:50:17.176 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:50:17.176 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:50:17.176 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:50:17.176 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:50:17.177 +03:00 [INF] Api health check sent.
2025-09-13 23:50:17.177 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:50:17.177 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:50:17.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2597ms
2025-09-13 23:51:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:51:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:51:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:51:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:51:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:51:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:51:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:51:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:51:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:51:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2473ms
2025-09-13 23:52:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:52:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:52:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:52:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:52:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:52:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:52:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:52:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:52:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:52:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2789ms
2025-09-13 23:53:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:53:17.177 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:53:17.177 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:53:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:53:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:53:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:53:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:53:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:53:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:53:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4299ms
2025-09-13 23:54:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:54:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:54:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:54:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:54:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:54:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:54:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:54:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:54:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:54:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3959ms
2025-09-13 23:55:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:55:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:55:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:55:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:55:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:55:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:55:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:55:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:55:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:55:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4948ms
2025-09-13 23:56:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:56:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:56:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:56:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:56:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:56:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:56:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:56:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:56:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:56:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3551ms
2025-09-13 23:57:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:57:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:57:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:57:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:57:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:57:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:57:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:57:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:57:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:57:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.2972ms
2025-09-13 23:58:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:58:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:58:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:58:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:58:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:58:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:58:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:58:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:58:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:58:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3424ms
2025-09-13 23:59:17.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-13 23:59:17.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-13 23:59:17.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-13 23:59:17.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-13 23:59:17.178 +03:00 [INF] CORS policy execution successful.
2025-09-13 23:59:17.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-13 23:59:17.178 +03:00 [INF] Api health check sent.
2025-09-13 23:59:17.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-13 23:59:17.178 +03:00 [DBG] Connection id "0HNFIUR70PM5Q" completed keep alive response.
2025-09-13 23:59:17.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4169ms
