2025-09-18 00:31:58.364 +03:00 [INF] This is a test log to file!
2025-09-18 00:31:58.486 +03:00 [INF] Shared Kernal configured successfully.
2025-09-18 00:31:58.488 +03:00 [INF] API configured successfully.
2025-09-18 00:31:58.558 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-18 00:31:58.607 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-18 00:31:58.965 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-18 00:31:59.018 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:31:59.036 +03:00 [INF] Registered 23 endpoints in 607 milliseconds.
2025-09-18 00:31:59.040 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:31:59.075 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:31:59.142 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:31:59.150 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-18 00:31:59.152 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.154 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:31:59.155 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-18 00:31:59.156 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.163 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:31:59.166 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.168 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:31:59.169 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.170 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:31:59.172 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-18 00:31:59.175 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:31:59.178 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 00:31:59.179 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-18 00:31:59.183 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 00:31:59.201 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 00:31:59.202 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:31:59.202 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:31:59.202 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:31:59.202 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 21:31:59.2022371+00:00');
SELECT changes();
2025-09-18 00:31:59.207 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 21:31:59.2022371+00:00');
SELECT changes();
2025-09-18 00:31:59.249 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 00:31:59.252 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 00:31:59.253 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 00:31:59.253 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 00:31:59.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 00:31:59.253 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 00:31:59.254 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 00:31:59.255 +03:00 [DBG] Committing transaction.
2025-09-18 00:31:59.256 +03:00 [DBG] Committed transaction.
2025-09-18 00:31:59.258 +03:00 [DBG] Disposing transaction.
2025-09-18 00:31:59.259 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 00:31:59.259 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 00:31:59.261 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:31:59.261 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:31:59.261 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.261 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:31:59.262 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.262 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:31:59.262 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:31:59.262 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:31:59.262 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:31:59.262 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 00:31:59.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 00:31:59.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:31:59.264 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:31:59.264 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:31:59.265 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 00:31:59.265 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 00:31:59.268 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:31:59.269 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 00:31:59.272 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-18 00:31:59.272 +03:00 [DBG] Committing transaction.
2025-09-18 00:31:59.272 +03:00 [DBG] Committed transaction.
2025-09-18 00:31:59.273 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:31:59.273 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:31:59.273 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:31:59.273 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 00:31:59.275 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 00:31:59.276 +03:00 [DBG] Disposing transaction.
2025-09-18 00:31:59.276 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:31:59.279 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-18 00:31:59.279 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:31:59.279 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:31:59.279 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:31:59.279 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 00:31:59.280 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 00:31:59.295 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-18 00:31:59.306 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-18 00:31:59.307 +03:00 [DBG] Hosting starting
2025-09-18 00:31:59.356 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-18 00:31:59.357 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-18 00:31:59.366 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-18 00:31:59.366 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-18 00:31:59.366 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 00:31:59.366 +03:00 [INF] Hosting environment: Development
2025-09-18 00:31:59.366 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-18 00:31:59.367 +03:00 [DBG] Hosting started
2025-09-18 00:31:59.987 +03:00 [DBG] Connection id "0HNFM66HB3MUE" accepted.
2025-09-18 00:31:59.988 +03:00 [DBG] Connection id "0HNFM66HB3MUE" started.
2025-09-18 00:32:00.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-18 00:32:00.057 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 00:32:00.058 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.074 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:00.074 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:00.076 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-18 00:32:00.077 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.089 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:00.107 +03:00 [INF] Getting all users
2025-09-18 00:32:00.135 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-18 00:32:00.173 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-18 00:32:00.321 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-18 00:32:00.338 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:00.338 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:00.339 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:00.341 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.341 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:00.341 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:00.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:00.341 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 00:32:00.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 00:32:00.345 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.346 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 00:32:00.348 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.349 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:00.371 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.372 +03:00 [DBG] Connection id "0HNFM66HB3MUE" completed keep alive response.
2025-09-18 00:32:00.372 +03:00 [DBG] Connection id "0HNFM66HB3MUF" accepted.
2025-09-18 00:32:00.373 +03:00 [DBG] Connection id "0HNFM66HB3MUF" started.
2025-09-18 00:32:00.373 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:00.373 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-18 00:32:00.375 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 00:32:00.375 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.375 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:00.376 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:00.377 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:00.377 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:00.378 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.379 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:00.379 +03:00 [INF] Getting all users
2025-09-18 00:32:00.377 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 361.3436ms
2025-09-18 00:32:00.382 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:00.382 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:00.383 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:00.383 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.384 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:00.384 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:00.384 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:00.384 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 00:32:00.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 00:32:00.384 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.384 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:00.384 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.384 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:00.385 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.385 +03:00 [DBG] Connection id "0HNFM66HB3MUF" completed keep alive response.
2025-09-18 00:32:00.385 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:00.386 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:00.386 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:00.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 12.4574ms
2025-09-18 00:32:00.387 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-18 00:32:00.387 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 00:32:00.387 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.389 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:00.390 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:00.391 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.392 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:00.392 +03:00 [INF] Getting all users
2025-09-18 00:32:00.393 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:00.394 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:00.394 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:00.394 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.394 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:00.394 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:00.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:00.394 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 00:32:00.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 00:32:00.395 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.395 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:00.395 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:00.395 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:00.395 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-18 00:32:00.396 +03:00 [DBG] Connection id "0HNFM66HB3MUF" completed keep alive response.
2025-09-18 00:32:00.396 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:00.396 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:00.396 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:00.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 8.9928ms
2025-09-18 00:32:05.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/f03cbf45-2fa6-49d3-9536-2e54e7415ff3 - null null
2025-09-18 00:32:05.086 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/f03cbf45-2fa6-49d3-9536-2e54e7415ff3'
2025-09-18 00:32:05.086 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/f03cbf45-2fa6-49d3-9536-2e54e7415ff3'
2025-09-18 00:32:05.087 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:05.087 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:05.087 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:05.087 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:05.096 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:05.113 +03:00 [INF] Getting user by ID: "f03cbf45-2fa6-49d3-9536-2e54e7415ff3"
2025-09-18 00:32:05.118 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-18 00:32:05.120 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-18 00:32:05.145 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 00:32:05.151 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:05.151 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:05.151 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.151 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.151 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:05.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.152 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.153 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:05.156 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:05.156 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.156 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:05.156 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.156 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.157 +03:00 [WRN] User with ID "f03cbf45-2fa6-49d3-9536-2e54e7415ff3" not found
2025-09-18 00:32:05.158 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:05.159 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID f03cbf45-2fa6-49d3-9536-2e54e7415ff3 not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-18 00:32:05.172 +03:00 [ERR] Unhandled exception occurred.
2025-09-18 00:32:05.175 +03:00 [DBG] Connection id "0HNFM66HB3MUF" completed keep alive response.
2025-09-18 00:32:05.176 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:05.176 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.176 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.176 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/f03cbf45-2fa6-49d3-9536-2e54e7415ff3 - 500 null application/json; charset=utf-8 90.1729ms
2025-09-18 00:32:05.178 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-18 00:32:05.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 00:32:05.178 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 00:32:05.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:05.178 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:05.179 +03:00 [DBG] The request is a preflight request.
2025-09-18 00:32:05.179 +03:00 [DBG] Connection id "0HNFM66HB3MUF" completed keep alive response.
2025-09-18 00:32:05.179 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.0521ms
2025-09-18 00:32:05.180 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-18 00:32:05.181 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 00:32:05.181 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-18 00:32:05.181 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:05.181 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:05.181 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-18 00:32:05.182 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:05.187 +03:00 [DBG] Connection id "0HNFM66HB3MUF", Request id "0HNFM66HB3MUF:00000005": started reading request body.
2025-09-18 00:32:05.187 +03:00 [DBG] Connection id "0HNFM66HB3MUF", Request id "0HNFM66HB3MUF:00000005": done reading request body.
2025-09-18 00:32:05.195 +03:00 [INF] Creating new user with API key: 
2025-09-18 00:32:05.196 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-18 00:32:05.201 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-18 00:32:05.202 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:05.203 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:05.203 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.203 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:05.203 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.203 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.203 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-18 00:32:05.204 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-18 00:32:05.204 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.204 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:05.204 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.204 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.225 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:05.256 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:05.258 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:05.269 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:05.271 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 00:32:05.271 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:05.272 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:05.301 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.302 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:05.303 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.304 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 00:32:05.304 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-18 00:32:05.313 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-18 00:32:05.315 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.315 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-18 00:32:05.316 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.316 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.320 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:05.321 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 00:32:05.321 +03:00 [INF] User created successfully with ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:32:05.323 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-18 00:32:05.324 +03:00 [DBG] Connection id "0HNFM66HB3MUF" completed keep alive response.
2025-09-18 00:32:05.324 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:05.324 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.324 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.324 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 143.3734ms
2025-09-18 00:32:05.325 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 00:32:05.325 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:05.326 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:05.326 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:05.326 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:05.326 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:05.326 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:05.326 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:05.327 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:32:05.327 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:05.328 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:05.328 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.328 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:05.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:05.328 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:05.328 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:05.332 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:05.336 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.336 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 7ms reading results.
2025-09-18 00:32:05.336 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:05.337 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.339 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:05.339 +03:00 [DBG] Connection id "0HNFM66HB3MUF" completed keep alive response.
2025-09-18 00:32:05.339 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:05.339 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:05.339 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:05.339 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 200 null application/json; charset=utf-8 13.8303ms
2025-09-18 00:32:08.512 +03:00 [INF] This is a test log to file!
2025-09-18 00:32:08.624 +03:00 [INF] Shared Kernal configured successfully.
2025-09-18 00:32:08.626 +03:00 [INF] API configured successfully.
2025-09-18 00:32:08.670 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-18 00:32:08.705 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-18 00:32:08.998 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-18 00:32:09.055 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:09.072 +03:00 [INF] Registered 23 endpoints in 503 milliseconds.
2025-09-18 00:32:09.077 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:09.115 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:09.183 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:09.191 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-18 00:32:09.193 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.196 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:09.198 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-18 00:32:09.198 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.204 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:09.206 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.209 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:09.209 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:09.211 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-18 00:32:09.214 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:32:09.218 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 00:32:09.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-18 00:32:09.224 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 00:32:09.243 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 00:32:09.244 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:32:09.245 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:32:09.245 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:32:09.245 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 21:32:09.2446814+00:00');
SELECT changes();
2025-09-18 00:32:09.252 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 21:32:09.2446814+00:00');
SELECT changes();
2025-09-18 00:32:09.289 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 00:32:09.291 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 00:32:09.292 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 00:32:09.292 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 00:32:09.292 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 00:32:09.292 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 00:32:09.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 00:32:09.293 +03:00 [DBG] Committing transaction.
2025-09-18 00:32:09.294 +03:00 [DBG] Committed transaction.
2025-09-18 00:32:09.294 +03:00 [DBG] Disposing transaction.
2025-09-18 00:32:09.295 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 00:32:09.295 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 00:32:09.296 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:09.296 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:09.296 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.297 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:09.297 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.297 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:09.297 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:32:09.298 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:32:09.298 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:32:09.298 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 00:32:09.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 00:32:09.299 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:09.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:09.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:09.299 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 00:32:09.300 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 00:32:09.301 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:09.302 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-18 00:32:09.305 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-18 00:32:09.305 +03:00 [DBG] Committing transaction.
2025-09-18 00:32:09.305 +03:00 [DBG] Committed transaction.
2025-09-18 00:32:09.305 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:32:09.305 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:32:09.305 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:32:09.305 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 00:32:09.308 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 00:32:09.308 +03:00 [DBG] Disposing transaction.
2025-09-18 00:32:09.309 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:09.311 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-18 00:32:09.311 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:09.311 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:09.311 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:09.311 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 00:32:09.311 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 00:32:09.324 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-18 00:32:09.335 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-18 00:32:09.335 +03:00 [DBG] Hosting starting
2025-09-18 00:32:09.369 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-18 00:32:09.370 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-18 00:32:09.378 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-18 00:32:09.378 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-18 00:32:09.378 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 00:32:09.379 +03:00 [INF] Hosting environment: Development
2025-09-18 00:32:09.379 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-18 00:32:09.379 +03:00 [DBG] Hosting started
2025-09-18 00:32:12.422 +03:00 [DBG] Connection id "0HNFM66L1MD0C" accepted.
2025-09-18 00:32:12.422 +03:00 [DBG] Connection id "0HNFM66L1MD0C" started.
2025-09-18 00:32:12.437 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:12.466 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:12.467 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:12.479 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-18 00:32:12.481 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:12.501 +03:00 [INF] Api health check sent.
2025-09-18 00:32:12.502 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:12.503 +03:00 [DBG] Connection id "0HNFM66L1MD0C" completed keep alive response.
2025-09-18 00:32:12.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 67.9801ms
2025-09-18 00:32:12.511 +03:00 [DBG] Connection id "0HNFM66L1MD0D" accepted.
2025-09-18 00:32:12.511 +03:00 [DBG] Connection id "0HNFM66L1MD0D" started.
2025-09-18 00:32:12.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 00:32:12.513 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:12.513 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:12.514 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:12.515 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:12.516 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:12.517 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:12.529 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:12.548 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:32:12.592 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-18 00:32:12.624 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-18 00:32:12.767 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 00:32:12.786 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:12.786 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:12.788 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:12.788 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:12.789 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:12.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:12.790 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 00:32:12.791 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:12.795 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:12.816 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:12.832 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:12.833 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 37ms reading results.
2025-09-18 00:32:12.834 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:12.834 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:12.850 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:12.850 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:12.850 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:12.852 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:12.852 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:12.852 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 200 null application/json; charset=utf-8 340.432ms
2025-09-18 00:32:12.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-18 00:32:12.868 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-18 00:32:12.868 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-18 00:32:12.869 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:12.869 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:12.870 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-18 00:32:12.871 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:12.876 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-18 00:32:12.876 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:12.876 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:12.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 8.2458ms
2025-09-18 00:32:13.538 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:13.538 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:13.538 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:13.538 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:13.538 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:13.539 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:13.539 +03:00 [INF] Api health check sent.
2025-09-18 00:32:13.539 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:13.539 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:13.540 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.4126ms
2025-09-18 00:32:15.241 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-18 00:32:15.242 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-18 00:32:15.242 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-18 00:32:15.242 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 00:32:15.243 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:15.243 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:15.243 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 00:32:15.252 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:15.261 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-18 00:32:15.262 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-18 00:32:15.268 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:15.579 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:15.582 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:15.699 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-18 00:32:15.751 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-18 00:32:15.751 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-18 00:32:15.756 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 00:32:15.757 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:15.757 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:15.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 515.8795ms
2025-09-18 00:32:15.861 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-18 00:32:15.861 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-18 00:32:15.861 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-18 00:32:15.861 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 00:32:15.861 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:15.861 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:15.861 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 00:32:15.862 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:15.862 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-18 00:32:15.862 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-18 00:32:15.863 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:15.863 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:15.863 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:15.865 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-18 00:32:15.867 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-18 00:32:15.868 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-18 00:32:15.868 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 00:32:15.868 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:15.868 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:15.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 7.7978ms
2025-09-18 00:32:16.465 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-18 00:32:16.465 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-18 00:32:16.465 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-18 00:32:16.465 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-18 00:32:16.465 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:16.465 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:16.465 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-18 00:32:16.466 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:16.469 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 00:32:16.472 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 00:32:16.472 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 00:32:16.510 +03:00 [DBG] Connection id "0HNFM66L1MD0C" received FIN.
2025-09-18 00:32:16.510 +03:00 [DBG] Connection id "0HNFM66L1MD0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 00:32:16.511 +03:00 [DBG] Connection id "0HNFM66L1MD0C" disconnecting.
2025-09-18 00:32:16.511 +03:00 [DBG] Connection id "0HNFM66L1MD0C" stopped.
2025-09-18 00:32:16.991 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 00:32:16.995 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-18 00:32:16.995 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:16.995 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:16.995 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 529.8823ms
2025-09-18 00:32:18.855 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-18 00:32:18.855 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-18 00:32:18.855 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 00:32:18.855 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:18.855 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:18.855 +03:00 [DBG] The request is a preflight request.
2025-09-18 00:32:18.856 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:18.856 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 0.9849ms
2025-09-18 00:32:18.857 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-18 00:32:18.857 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-18 00:32:18.857 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-18 00:32:18.857 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:18.857 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:18.857 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-18 00:32:18.858 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:18.871 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:00000008": started reading request body.
2025-09-18 00:32:18.871 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:00000008": done reading request body.
2025-09-18 00:32:18.882 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-18 00:32:18.882 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-18 00:32:18.915 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-18 00:32:18.920 +03:00 [DBG] Saved secret profile-66658311-8fae-484f-b03d-2a14f68ed537 for provider "SqlServer"
2025-09-18 00:32:18.920 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-18 00:32:18.923 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-18 00:32:18.928 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 00:32:18.931 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:18.932 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:18.932 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:18.932 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:18.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:18.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:18.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:18.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-18 00:32:18.932 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-18 00:32:18.932 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:18.933 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:18.933 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:18.933 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:18.951 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:18.972 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:18.974 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:18.984 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:18.986 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 00:32:18.986 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:18.986 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:19.020 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.020 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.021 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.021 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.022 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 00:32:19.022 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-18 00:32:19.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-18 00:32:19.028 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.028 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 00:32:19.029 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.029 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.034 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:19.035 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 00:32:19.035 +03:00 [INF] Profile created successfully with Id "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.037 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-18 00:32:19.037 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:19.037 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:19.037 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.037 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.037 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 179.7481ms
2025-09-18 00:32:19.039 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 00:32:19.039 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:19.039 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:19.039 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:19.039 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:19.039 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:19.039 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:19.040 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:19.040 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:32:19.043 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:19.043 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:19.043 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.043 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.043 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.043 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.043 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.043 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:19.044 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:19.044 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:19.047 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:19.048 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.048 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 4ms reading results.
2025-09-18 00:32:19.048 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.048 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.050 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:19.050 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:19.050 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:19.050 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.050 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.050 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 200 null application/json; charset=utf-8 10.9648ms
2025-09-18 00:32:19.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - null null
2025-09-18 00:32:19.070 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:32:19.070 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:32:19.071 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:32:19.071 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:19.071 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:19.071 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:32:19.072 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:19.073 +03:00 [DBG] Connection id "0HNFM66L1MD0E" accepted.
2025-09-18 00:32:19.073 +03:00 [DBG] Connection id "0HNFM66L1MD0E" started.
2025-09-18 00:32:19.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - null null
2025-09-18 00:32:19.075 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:32:19.075 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:32:19.075 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:32:19.075 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:19.075 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:19.075 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:32:19.076 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:19.078 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-18 00:32:19.079 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-18 00:32:19.092 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 00:32:19.096 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:19.096 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:19.096 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:19.096 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:19.096 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.096 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.096 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.097 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.097 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.097 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:19.097 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.098 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.098 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:19.098 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.098 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-18 00:32:19.098 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.098 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.098 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:19.098 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.098 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.098 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.099 +03:00 [INF] Fetching connection string for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.100 +03:00 [INF] Fetching connection string for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.100 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.100 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.100 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.100 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.100 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.101 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.100 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.101 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.101 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:19.101 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.101 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.101 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.101 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.101 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.101 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.102 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.102 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:19.102 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.102 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.104 +03:00 [DBG] Fetched secret for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.104 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:32:19.104 +03:00 [DBG] Connection id "0HNFM66L1MD0E" completed keep alive response.
2025-09-18 00:32:19.105 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:19.105 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.105 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.105 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - 200 null application/json; charset=utf-8 30.4872ms
2025-09-18 00:32:19.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - null null
2025-09-18 00:32:19.107 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:32:19.107 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:32:19.107 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:32:19.107 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:19.107 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:19.107 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:32:19.108 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:19.109 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:19.109 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:19.109 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.109 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.109 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.109 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.109 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.109 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.110 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:19.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.110 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:19.110 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.110 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.110 +03:00 [INF] Fetching connection string for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.111 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.111 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.111 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:19.111 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.111 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:19.111 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:32:19.112 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:19.112 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:19.112 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.112 +03:00 [DBG] Fetched secret for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.113 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:32:19.113 +03:00 [DBG] Connection id "0HNFM66L1MD0E" completed keep alive response.
2025-09-18 00:32:19.113 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:19.113 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.113 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.113 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - 200 null application/json; charset=utf-8 6.9968ms
2025-09-18 00:32:19.137 +03:00 [DBG] Fetched secret for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:32:19.139 +03:00 [DBG] Fetching schema for Profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01", ForceRefresh=false
2025-09-18 00:32:19.140 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-18 00:32:19.166 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-18 00:32:19.169 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:32:19.169 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:19.170 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:19.170 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:19.170 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:19.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - 200 null application/json; charset=utf-8 99.354ms
2025-09-18 00:32:19.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - null null
2025-09-18 00:32:19.171 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:32:19.171 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:32:19.171 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:32:19.171 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:19.171 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:19.171 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:32:19.172 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:19.172 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:32:19.172 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:19.172 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:19.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - 200 null application/json; charset=utf-8 1.6734ms
2025-09-18 00:32:20.053 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:20.053 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:20.053 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:20.053 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:20.053 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:20.053 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:20.054 +03:00 [INF] Api health check sent.
2025-09-18 00:32:20.054 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:20.054 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:20.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.7356ms
2025-09-18 00:32:36.170 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - null null
2025-09-18 00:32:36.170 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:32:36.170 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 00:32:36.170 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:36.170 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:36.171 +03:00 [DBG] The request is a preflight request.
2025-09-18 00:32:36.171 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:36.171 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - 204 null null 0.582ms
2025-09-18 00:32:36.172 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - application/json 136
2025-09-18 00:32:36.172 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:32:36.172 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:32:36.172 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:32:36.172 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:36.172 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:36.172 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:32:36.173 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:36.174 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:0000000E": started reading request body.
2025-09-18 00:32:36.175 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:0000000E": done reading request body.
2025-09-18 00:32:36.177 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:36.177 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:36.178 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:36.178 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.178 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:36.178 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:36.178 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:36.178 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:36.178 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:36.178 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:36.179 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:36.179 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.179 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:36.179 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.179 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:36.180 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:36.181 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:36.183 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:36.184 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 00:32:36.184 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:36.184 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:36.190 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:36.191 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.191 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:36.191 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:36.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:36.191 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 00:32:36.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 00:32:36.200 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 8ms reading results.
2025-09-18 00:32:36.200 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.201 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:36.201 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:36.201 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 00:32:36.204 +03:00 [INF] AI mode changed to "Groq" for user "9e68991b-5755-4a1e-9ed6-705b34c92149" at "2025-09-17T21:32:36.1797104Z"
2025-09-18 00:32:36.204 +03:00 [INF] API key changed for user "9e68991b-5755-4a1e-9ed6-705b34c92149" at "2025-09-17T21:32:36.1798304Z"
2025-09-18 00:32:36.205 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:32:36.205 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:36.205 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:36.205 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:36.205 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:36.205 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - 200 null application/json; charset=utf-8 33.3937ms
2025-09-18 00:32:36.210 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 00:32:36.211 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:36.211 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:36.211 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:36.211 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:36.211 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:36.211 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:36.212 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:36.212 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:32:36.213 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:36.213 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:36.213 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:36.213 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:36.213 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:36.213 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:36.213 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:36.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:36.213 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:36.214 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:36.214 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.214 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:36.214 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:36.214 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:36.214 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:36.214 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:36.214 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:36.214 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:36.214 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:36.214 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 200 null application/json; charset=utf-8 3.9817ms
2025-09-18 00:32:36.719 +03:00 [DBG] Connection id "0HNFM66L1MD0F" accepted.
2025-09-18 00:32:36.719 +03:00 [DBG] Connection id "0HNFM66L1MD0F" started.
2025-09-18 00:32:36.719 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:36.719 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:36.719 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:36.719 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:36.719 +03:00 [INF] Api health check sent.
2025-09-18 00:32:36.719 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:36.719 +03:00 [DBG] Connection id "0HNFM66L1MD0F" completed keep alive response.
2025-09-18 00:32:36.719 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3053ms
2025-09-18 00:32:40.721 +03:00 [DBG] Connection id "0HNFM66L1MD0F" received FIN.
2025-09-18 00:32:40.721 +03:00 [DBG] Connection id "0HNFM66L1MD0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 00:32:40.721 +03:00 [DBG] Connection id "0HNFM66L1MD0F" disconnecting.
2025-09-18 00:32:40.722 +03:00 [DBG] Connection id "0HNFM66L1MD0F" stopped.
2025-09-18 00:32:43.543 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:43.543 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:43.543 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:43.543 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:43.543 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:43.543 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:43.543 +03:00 [INF] Api health check sent.
2025-09-18 00:32:43.543 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:43.543 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:43.544 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4263ms
2025-09-18 00:32:56.035 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - null null
2025-09-18 00:32:56.035 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:32:56.035 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 00:32:56.035 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:56.035 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:56.035 +03:00 [DBG] The request is a preflight request.
2025-09-18 00:32:56.035 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:56.035 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - 204 null null 0.7064ms
2025-09-18 00:32:56.036 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - application/json 81
2025-09-18 00:32:56.037 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:32:56.037 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:32:56.037 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:32:56.037 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:56.037 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:56.037 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:32:56.037 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:56.037 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:00000012": started reading request body.
2025-09-18 00:32:56.037 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:00000012": done reading request body.
2025-09-18 00:32:56.038 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:56.038 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:56.038 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:56.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.038 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:56.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:56.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:56.038 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:56.038 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:56.039 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:56.039 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:56.039 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.039 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:56.039 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.039 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:56.039 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:56.039 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:56.039 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:56.039 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 00:32:56.039 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:32:56.039 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:32:56.039 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:56.039 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:56.039 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:56.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:56.039 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 00:32:56.040 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 00:32:56.043 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.043 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-18 00:32:56.043 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.043 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:56.043 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:56.043 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 00:32:56.043 +03:00 [INF] AI mode changed to "Local" for user "9e68991b-5755-4a1e-9ed6-705b34c92149" at "2025-09-17T21:32:56.0393630Z"
2025-09-18 00:32:56.044 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:32:56.044 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:56.044 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:56.044 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:56.044 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:56.044 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - 200 null application/json; charset=utf-8 7.6634ms
2025-09-18 00:32:56.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 00:32:56.063 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:56.063 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:32:56.063 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:56.064 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:56.064 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:56.064 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:56.064 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:32:56.064 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:32:56.065 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:32:56.065 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:32:56.065 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:56.065 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.065 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:32:56.065 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:56.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:32:56.065 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:56.065 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:32:56.065 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:56.065 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:32:56.066 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.066 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:32:56.066 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:32:56.066 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:56.066 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:32:56.066 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:56.066 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:32:56.066 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:32:56.066 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:32:56.066 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 200 null application/json; charset=utf-8 2.7606ms
2025-09-18 00:32:56.324 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 00:32:56.324 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 00:32:56.324 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 00:32:56.324 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 00:32:56.324 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:32:56.324 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:56.324 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:56.324 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:32:56.325 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:32:56.325 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:56.325 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 1.4884ms
2025-09-18 00:32:56.572 +03:00 [DBG] Connection id "0HNFM66L1MD0G" accepted.
2025-09-18 00:32:56.572 +03:00 [DBG] Connection id "0HNFM66L1MD0G" started.
2025-09-18 00:32:56.572 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:56.572 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:56.572 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:56.572 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:56.572 +03:00 [INF] Api health check sent.
2025-09-18 00:32:56.572 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:56.572 +03:00 [DBG] Connection id "0HNFM66L1MD0G" completed keep alive response.
2025-09-18 00:32:56.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3188ms
2025-09-18 00:32:57.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:32:57.579 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:32:57.579 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:32:57.579 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:57.579 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:57.579 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:32:57.579 +03:00 [INF] Api health check sent.
2025-09-18 00:32:57.579 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:32:57.579 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:57.579 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4538ms
2025-09-18 00:32:57.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 00:32:57.820 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 00:32:57.820 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 00:32:57.820 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 00:32:57.821 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:32:57.821 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:32:57.821 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:32:57.821 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:32:57.821 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:32:57.821 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:32:57.821 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.488ms
2025-09-18 00:33:00.574 +03:00 [DBG] Connection id "0HNFM66L1MD0G" received FIN.
2025-09-18 00:33:00.574 +03:00 [DBG] Connection id "0HNFM66L1MD0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 00:33:00.574 +03:00 [DBG] Connection id "0HNFM66L1MD0G" disconnecting.
2025-09-18 00:33:00.574 +03:00 [DBG] Connection id "0HNFM66L1MD0G" stopped.
2025-09-18 00:33:07.274 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - null null
2025-09-18 00:33:07.274 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:33:07.274 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:33:07.274 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:33:07.274 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:07.274 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:07.275 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:33:07.275 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:33:07.275 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:33:07.275 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:07.275 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:33:07.276 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - 200 null application/json; charset=utf-8 1.467ms
2025-09-18 00:33:07.276 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - null null
2025-09-18 00:33:07.277 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:33:07.277 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema'
2025-09-18 00:33:07.277 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:33:07.277 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:07.277 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:07.277 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:33:07.277 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:33:07.277 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 00:33:07.277 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:07.277 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:33:07.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/6f134aa3-5a7e-4943-b6a4-a720036a3e01/schema - 200 null application/json; charset=utf-8 0.937ms
2025-09-18 00:33:08.171 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - null null
2025-09-18 00:33:08.171 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:33:08.171 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:33:08.171 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:33:08.171 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:08.171 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:08.172 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:33:08.172 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:33:08.172 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:33:08.172 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:33:08.172 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:33:08.172 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.172 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:33:08.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.173 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.173 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:33:08.173 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.173 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:33:08.173 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.173 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:33:08.173 +03:00 [INF] Fetching connection string for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:33:08.173 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:33:08.173 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.173 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:33:08.173 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.173 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.174 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.174 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:33:08.174 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.174 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:33:08.174 +03:00 [DBG] Fetched secret for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:33:08.174 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:33:08.174 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:08.174 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:33:08.174 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:33:08.174 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:33:08.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - 200 null application/json; charset=utf-8 2.9481ms
2025-09-18 00:33:08.175 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - null null
2025-09-18 00:33:08.175 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:33:08.175 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01'
2025-09-18 00:33:08.175 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:33:08.175 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:08.175 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:08.175 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:33:08.176 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:33:08.176 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:33:08.176 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:33:08.176 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:33:08.176 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.176 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:33:08.176 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.176 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.176 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.176 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:33:08.176 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.176 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:33:08.176 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.177 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:33:08.177 +03:00 [INF] Fetching connection string for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:33:08.177 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:33:08.177 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.177 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:33:08.177 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:33:08.177 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.177 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 00:33:08.177 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.177 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:33:08.177 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:33:08.177 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:33:08.178 +03:00 [DBG] Fetched secret for profile "6f134aa3-5a7e-4943-b6a4-a720036a3e01"
2025-09-18 00:33:08.178 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 00:33:08.178 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:08.178 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:33:08.178 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:33:08.178 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:33:08.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/6f134aa3-5a7e-4943-b6a4-a720036a3e01 - 200 null application/json; charset=utf-8 3.066ms
2025-09-18 00:33:13.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:33:13.546 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:33:13.546 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:33:13.546 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:13.546 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:13.547 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:33:13.547 +03:00 [INF] Api health check sent.
2025-09-18 00:33:13.547 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:33:13.547 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:13.547 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3884ms
2025-09-18 00:33:13.769 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 00:33:13.769 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 00:33:13.769 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 00:33:13.769 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 00:33:13.769 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:33:13.769 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:13.769 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:13.769 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:33:13.769 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 00:33:13.769 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:13.769 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3993ms
2025-09-18 00:33:44.299 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:33:44.299 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:33:44.299 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:33:44.299 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:33:44.299 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:33:44.299 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:33:44.300 +03:00 [INF] Api health check sent.
2025-09-18 00:33:44.300 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:33:44.300 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:33:44.300 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4858ms
2025-09-18 00:34:06.346 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - null null
2025-09-18 00:34:06.346 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:34:06.346 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 00:34:06.346 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:34:06.346 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:34:06.346 +03:00 [DBG] The request is a preflight request.
2025-09-18 00:34:06.346 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:34:06.346 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - 204 null null 0.4146ms
2025-09-18 00:34:06.347 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - application/json 136
2025-09-18 00:34:06.347 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:34:06.348 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode'
2025-09-18 00:34:06.348 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:34:06.348 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:34:06.348 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:34:06.348 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:34:06.349 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:34:06.349 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:0000001F": started reading request body.
2025-09-18 00:34:06.349 +03:00 [DBG] Connection id "0HNFM66L1MD0D", Request id "0HNFM66L1MD0D:0000001F": done reading request body.
2025-09-18 00:34:06.349 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:34:06.350 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:34:06.350 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:34:06.350 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:34:06.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:34:06.350 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:34:06.350 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:34:06.350 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:34:06.350 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:34:06.350 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:34:06.350 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.350 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:34:06.350 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.350 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:34:06.350 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:34:06.350 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:34:06.350 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:34:06.350 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 00:34:06.350 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 00:34:06.350 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 00:34:06.351 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:34:06.351 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.351 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:34:06.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:34:06.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:34:06.351 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 00:34:06.351 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 00:34:06.354 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.354 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 00:34:06.354 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.354 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:34:06.354 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:34:06.354 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 00:34:06.355 +03:00 [INF] AI mode changed to "Groq" for user "9e68991b-5755-4a1e-9ed6-705b34c92149" at "2025-09-17T21:34:06.3507768Z"
2025-09-18 00:34:06.355 +03:00 [INF] API key changed for user "9e68991b-5755-4a1e-9ed6-705b34c92149" at "2025-09-17T21:34:06.3507777Z"
2025-09-18 00:34:06.355 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 00:34:06.355 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:34:06.355 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:34:06.355 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:34:06.355 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:34:06.355 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149/aimode - 200 null application/json; charset=utf-8 7.9692ms
2025-09-18 00:34:06.376 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 00:34:06.376 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:34:06.376 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 00:34:06.376 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:34:06.376 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 00:34:06.376 +03:00 [INF] CORS policy execution successful.
2025-09-18 00:34:06.376 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:34:06.376 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:34:06.376 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 00:34:06.377 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:34:06.377 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:34:06.377 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:34:06.377 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:34:06.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:34:06.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:34:06.377 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:34:06.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 00:34:06.377 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:34:06.377 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 00:34:06.377 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.377 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 00:34:06.377 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:34:06.378 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:34:06.378 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 00:34:06.378 +03:00 [DBG] Connection id "0HNFM66L1MD0D" completed keep alive response.
2025-09-18 00:34:06.378 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:34:06.378 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:34:06.378 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:34:06.378 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 200 null application/json; charset=utf-8 2.1096ms
2025-09-18 00:34:06.884 +03:00 [DBG] Connection id "0HNFM66L1MD0H" accepted.
2025-09-18 00:34:06.884 +03:00 [DBG] Connection id "0HNFM66L1MD0H" started.
2025-09-18 00:34:06.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 00:34:06.884 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 00:34:06.884 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 00:34:06.884 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 00:34:06.884 +03:00 [INF] Api health check sent.
2025-09-18 00:34:06.884 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 00:34:06.884 +03:00 [DBG] Connection id "0HNFM66L1MD0H" completed keep alive response.
2025-09-18 00:34:06.884 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3164ms
2025-09-18 00:34:10.886 +03:00 [DBG] Connection id "0HNFM66L1MD0H" received FIN.
2025-09-18 00:34:10.886 +03:00 [DBG] Connection id "0HNFM66L1MD0H" disconnecting.
2025-09-18 00:34:10.886 +03:00 [DBG] Connection id "0HNFM66L1MD0H" stopped.
2025-09-18 00:34:10.886 +03:00 [DBG] Connection id "0HNFM66L1MD0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 00:48:49.940 +03:00 [INF] This is a test log to file!
2025-09-18 00:48:50.044 +03:00 [INF] Shared Kernal configured successfully.
2025-09-18 00:48:50.048 +03:00 [INF] API configured successfully.
2025-09-18 00:48:50.099 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-18 00:48:50.133 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-18 00:48:50.423 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-18 00:48:50.473 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:48:50.496 +03:00 [INF] Registered 23 endpoints in 495 milliseconds.
2025-09-18 00:48:50.503 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:48:50.536 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 00:48:50.599 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:48:50.609 +03:00 [DBG] Created DbConnection. (7ms).
2025-09-18 00:48:50.612 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.616 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:48:50.619 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-18 00:48:50.620 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.626 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:48:50.630 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.633 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-09-18 00:48:50.634 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.636 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:48:50.638 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-18 00:48:50.641 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:48:50.645 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 00:48:50.647 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-09-18 00:48:50.651 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 00:48:50.668 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 00:48:50.671 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:48:50.672 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:48:50.673 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 00:48:50.673 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 21:48:50.6714476+00:00');
SELECT changes();
2025-09-18 00:48:50.678 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 21:48:50.6714476+00:00');
SELECT changes();
2025-09-18 00:48:50.711 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 00:48:50.715 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 00:48:50.716 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 00:48:50.717 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 00:48:50.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-18 00:48:50.720 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 00:48:50.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 00:48:50.723 +03:00 [DBG] Committing transaction.
2025-09-18 00:48:50.725 +03:00 [DBG] Committed transaction.
2025-09-18 00:48:50.726 +03:00 [DBG] Disposing transaction.
2025-09-18 00:48:50.727 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 00:48:50.728 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 00:48:50.730 +03:00 [DBG] Creating DbConnection.
2025-09-18 00:48:50.731 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 00:48:50.731 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.733 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:48:50.734 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.734 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:48:50.736 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:48:50.737 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:48:50.737 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 00:48:50.738 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 00:48:50.739 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 00:48:50.741 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 00:48:50.742 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 00:48:50.743 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 00:48:50.744 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 00:48:50.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 00:48:50.748 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:48:50.750 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-18 00:48:50.753 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-18 00:48:50.754 +03:00 [DBG] Committing transaction.
2025-09-18 00:48:50.755 +03:00 [DBG] Committed transaction.
2025-09-18 00:48:50.756 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 00:48:50.756 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 00:48:50.757 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 00:48:50.758 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 00:48:50.762 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 00:48:50.764 +03:00 [DBG] Disposing transaction.
2025-09-18 00:48:50.765 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 00:48:50.768 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-09-18 00:48:50.770 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 00:48:50.771 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 00:48:50.772 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 00:48:50.773 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 00:48:50.773 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 00:48:50.787 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-18 00:48:50.801 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-18 00:48:50.802 +03:00 [DBG] Hosting starting
2025-09-18 00:48:50.824 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-18 00:48:50.826 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-18 00:48:50.835 +03:00 [DBG] No listening endpoints were configured. Binding to http://localhost:5000 by default.
2025-09-18 00:48:50.836 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-18 00:48:50.837 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-18 00:48:50.838 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 00:48:50.839 +03:00 [INF] Hosting environment: Production
2025-09-18 00:48:50.839 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-18 00:48:50.840 +03:00 [DBG] Hosting started
2025-09-18 01:04:49.944 +03:00 [INF] This is a test log to file!
2025-09-18 01:04:50.137 +03:00 [INF] Shared Kernal configured successfully.
2025-09-18 01:04:50.141 +03:00 [INF] API configured successfully.
2025-09-18 01:04:50.209 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-18 01:04:50.257 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-18 01:04:50.698 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-18 01:04:50.779 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:04:50.810 +03:00 [INF] Registered 23 endpoints in 783 milliseconds.
2025-09-18 01:04:50.815 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:04:50.864 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:04:50.943 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:04:50.951 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-18 01:04:50.953 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:50.956 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:04:50.957 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-18 01:04:50.959 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:50.964 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:50.966 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:50.969 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:50.969 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:50.977 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:50.980 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:50.986 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-18 01:04:50.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-09-18 01:04:50.993 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-18 01:04:51.033 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-09-18 01:04:51.035 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.037 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-18 01:04:51.038 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.039 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-18 01:04:51.041 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:04:51.041 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.041 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.041 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 01:04:51.047 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 01:04:51.047 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.047 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.047 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.047 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-18 01:04:51.054 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-09-18 01:04:51.056 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:04:51.056 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.056 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 22:04:51.0555836+00:00');
SELECT changes();
2025-09-18 01:04:51.058 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 22:04:51.0555836+00:00');
SELECT changes();
2025-09-18 01:04:51.105 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:04:51.107 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:04:51.108 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.108 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.108 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 01:04:51.108 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 01:04:51.110 +03:00 [DBG] Committing transaction.
2025-09-18 01:04:51.114 +03:00 [DBG] Committed transaction.
2025-09-18 01:04:51.115 +03:00 [DBG] Disposing transaction.
2025-09-18 01:04:51.117 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:04:51.117 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:04:51.119 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:04:51.119 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:04:51.119 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.120 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.121 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.121 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.122 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:04:51.122 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.122 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 01:04:51.122 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 01:04:51.124 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:04:51.124 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.124 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 01:04:51.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 01:04:51.126 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.128 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-18 01:04:51.136 +03:00 [INF] Applying migration '20250825154106_init'.
2025-09-18 01:04:51.146 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.146 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.146 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-18 01:04:51.146 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-09-18 01:04:51.146 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.146 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.147 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-18 01:04:51.147 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-09-18 01:04:51.147 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.147 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.147 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-18 01:04:51.148 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-09-18 01:04:51.148 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.148 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.148 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.148 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-18 01:04:51.148 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-09-18 01:04:51.148 +03:00 [INF] Applying migration '20250826210914_updatedsqlite'.
2025-09-18 01:04:51.155 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.155 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.155 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.155 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-18 01:04:51.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL
);
2025-09-18 01:04:51.155 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.155 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.155 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.155 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-18 01:04:51.156 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
SELECT "Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef"
FROM "Profiles";
2025-09-18 01:04:51.156 +03:00 [DBG] Committing transaction.
2025-09-18 01:04:51.164 +03:00 [DBG] Committed transaction.
2025-09-18 01:04:51.164 +03:00 [DBG] Disposing transaction.
2025-09-18 01:04:51.164 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.164 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-18 01:04:51.164 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-18 01:04:51.164 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:04:51.165 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:04:51.165 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.165 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.165 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.165 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-18 01:04:51.165 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-18 01:04:51.165 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.165 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.165 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.165 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-18 01:04:51.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-18 01:04:51.166 +03:00 [DBG] Committing transaction.
2025-09-18 01:04:51.178 +03:00 [DBG] Committed transaction.
2025-09-18 01:04:51.178 +03:00 [DBG] Disposing transaction.
2025-09-18 01:04:51.178 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.178 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.178 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.178 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-18 01:04:51.178 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-18 01:04:51.178 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.178 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.178 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.178 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-18 01:04:51.182 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250826210914_updatedsqlite', '9.0.8');
2025-09-18 01:04:51.182 +03:00 [INF] Applying migration '20250831091732_setdatabasenameinprofile'.
2025-09-18 01:04:51.191 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:04:51.191 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:04:51.191 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.191 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.191 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-18 01:04:51.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "DatabaseName" TEXT NOT NULL DEFAULT '';
2025-09-18 01:04:51.192 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.192 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.192 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.192 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-18 01:04:51.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250831091732_setdatabasenameinprofile', '9.0.8');
2025-09-18 01:04:51.193 +03:00 [INF] Applying migration '20250904150142_addeduser'.
2025-09-18 01:04:51.212 +03:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'addeduser' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-09-18 01:04:51.212 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.212 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.212 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.212 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-18 01:04:51.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId" TEXT NULL;
2025-09-18 01:04:51.213 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.213 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.213 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.213 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-18 01:04:51.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Profiles" ADD "UserInfoId1" TEXT NULL;
2025-09-18 01:04:51.214 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.214 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.214 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-18 01:04:51.214 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserInfos" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_UserInfos" PRIMARY KEY,
    "ApiKey" TEXT NOT NULL,
    "Mode" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "LastUpdatedUtc" TEXT NOT NULL
);
2025-09-18 01:04:51.214 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.214 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.214 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-18 01:04:51.214 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-18 01:04:51.215 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.215 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.215 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.215 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-18 01:04:51.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-18 01:04:51.215 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.215 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.215 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.215 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-18 01:04:51.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "CacheFile" TEXT NULL,
    "CreatedUtc" TEXT NOT NULL,
    "DatabaseName" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "UserInfoId" TEXT NULL,
    "UserInfoId1" TEXT NULL,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId" FOREIGN KEY ("UserInfoId") REFERENCES "UserInfos" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Profiles_UserInfos_UserInfoId1" FOREIGN KEY ("UserInfoId1") REFERENCES "UserInfos" ("Id")
);
2025-09-18 01:04:51.215 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.215 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.215 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.215 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-18 01:04:51.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
SELECT "Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1"
FROM "Profiles";
2025-09-18 01:04:51.215 +03:00 [DBG] Committing transaction.
2025-09-18 01:04:51.221 +03:00 [DBG] Committed transaction.
2025-09-18 01:04:51.221 +03:00 [DBG] Disposing transaction.
2025-09-18 01:04:51.221 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.221 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.221 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.221 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-18 01:04:51.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-09-18 01:04:51.221 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:04:51.221 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:04:51.221 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-18 01:04:51.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Profiles";
2025-09-18 01:04:51.222 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-18 01:04:51.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Profiles" RENAME TO "Profiles";
2025-09-18 01:04:51.223 +03:00 [DBG] Committing transaction.
2025-09-18 01:04:51.236 +03:00 [DBG] Committed transaction.
2025-09-18 01:04:51.237 +03:00 [DBG] Disposing transaction.
2025-09-18 01:04:51.237 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.237 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.238 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.238 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-18 01:04:51.238 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-09-18 01:04:51.238 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:04:51.239 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:04:51.239 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.239 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.239 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-18 01:04:51.240 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId" ON "Profiles" ("UserInfoId");
2025-09-18 01:04:51.240 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.240 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.240 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-18 01:04:51.240 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Profiles_UserInfoId1" ON "Profiles" ("UserInfoId1");
2025-09-18 01:04:51.240 +03:00 [DBG] Committing transaction.
2025-09-18 01:04:51.259 +03:00 [DBG] Committed transaction.
2025-09-18 01:04:51.260 +03:00 [DBG] Disposing transaction.
2025-09-18 01:04:51.260 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:04:51.260 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:04:51.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-18 01:04:51.264 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250904150142_addeduser', '9.0.8');
2025-09-18 01:04:51.265 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:04:51.265 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.265 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:04:51.265 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 01:04:51.274 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 01:04:51.274 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.275 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.275 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:04:51.275 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.275 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.275 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 01:04:51.275 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 01:04:51.296 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-18 01:04:51.313 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-18 01:04:51.314 +03:00 [DBG] Hosting starting
2025-09-18 01:04:51.378 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-18 01:04:51.379 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-18 01:04:51.392 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-18 01:04:51.392 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-18 01:04:51.392 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 01:04:51.393 +03:00 [INF] Hosting environment: Development
2025-09-18 01:04:51.393 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-18 01:04:51.393 +03:00 [DBG] Hosting started
2025-09-18 01:04:51.439 +03:00 [DBG] Connection id "0HNFM6OSSB3JG" accepted.
2025-09-18 01:04:51.440 +03:00 [DBG] Connection id "0HNFM6OSSB3JG" started.
2025-09-18 01:04:51.460 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-18 01:04:51.484 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 01:04:51.484 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.499 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:04:51.499 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:04:51.500 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-18 01:04:51.502 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.513 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:04:51.529 +03:00 [INF] Getting all users
2025-09-18 01:04:51.552 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .AsNoTracking()'
2025-09-18 01:04:51.594 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-18 01:04:51.685 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" accepted.
2025-09-18 01:04:51.686 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" started.
2025-09-18 01:04:51.817 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
            3 -> 5
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
        FROM UserInfos AS u
        LEFT JOIN Profiles AS p ON u.Id == p.UserInfoId
        ORDER BY u.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            UserInfo entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UserInfo instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UserInfo);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                            {
                                return 
                                {
                                    UserInfo instance;
                                    instance = new UserInfo();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UserInfo)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (UserInfo)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Profile instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Profile);
                    dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                        instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                        instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-18 01:04:51.838 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:04:51.839 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:04:51.840 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.840 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.841 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:04:51.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.841 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.841 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 01:04:51.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 01:04:51.846 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.846 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-18 01:04:51.847 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.847 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.877 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.878 +03:00 [DBG] Connection id "0HNFM6OSSB3JG" completed keep alive response.
2025-09-18 01:04:51.879 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:04:51.880 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-18 01:04:51.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 01:04:51.882 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.882 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.882 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.883 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:04:51.883 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:04:51.885 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.886 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:04:51.887 +03:00 [INF] Getting all users
2025-09-18 01:04:51.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 424.0847ms
2025-09-18 01:04:51.890 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:04:51.890 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:04:51.890 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.890 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.890 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:04:51.890 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.890 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 01:04:51.891 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 01:04:51.891 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.891 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:04:51.891 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.891 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.892 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.892 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" completed keep alive response.
2025-09-18 01:04:51.892 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:04:51.893 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.893 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 12.9726ms
2025-09-18 01:04:51.896 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo - null null
2025-09-18 01:04:51.897 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 01:04:51.897 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.899 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:04:51.899 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:04:51.900 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.900 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:04:51.901 +03:00 [INF] Getting all users
2025-09-18 01:04:51.902 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:04:51.902 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:04:51.902 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.903 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.903 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:04:51.903 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:04:51.903 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 01:04:51.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM "UserInfos" AS "u"
LEFT JOIN "Profiles" AS "p" ON "u"."Id" = "p"."UserInfoId"
ORDER BY "u"."Id"
2025-09-18 01:04:51.903 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.903 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:04:51.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:04:51.904 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.904 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo'
2025-09-18 01:04:51.904 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" completed keep alive response.
2025-09-18 01:04:51.904 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:04:51.904 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:04:51.904 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:04:51.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 8.2248ms
2025-09-18 01:05:30.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - null null
2025-09-18 01:05:30.091 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 01:05:30.092 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149'
2025-09-18 01:05:30.092 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:30.092 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:30.092 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:30.093 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:30.093 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:30.112 +03:00 [INF] Getting user by ID: "9e68991b-5755-4a1e-9ed6-705b34c92149"
2025-09-18 01:05:30.121 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-18 01:05:30.125 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-18 01:05:30.153 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 01:05:30.160 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:30.160 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:30.161 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.161 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.161 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:30.161 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.163 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:30.167 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:30.167 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.167 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:30.167 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.167 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.167 +03:00 [WRN] User with ID "9e68991b-5755-4a1e-9ed6-705b34c92149" not found
2025-09-18 01:05:30.169 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:30.170 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: User with ID 9e68991b-5755-4a1e-9ed6-705b34c92149 not found
   at NaturalToQuery.Application.Services.UserInfoService.GetByIdAsync(Guid id, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\UserInfoService.cs:line 121
   at NaturalToQuery.Api.Controllers.UserInfo.GetUserById.HandleAsync(GetUserByIdRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\UserInfo\GetUserById.cs:line 25
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-18 01:05:30.192 +03:00 [ERR] Unhandled exception occurred.
2025-09-18 01:05:30.197 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" completed keep alive response.
2025-09-18 01:05:30.197 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:30.198 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.198 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.198 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/9e68991b-5755-4a1e-9ed6-705b34c92149 - 500 null application/json; charset=utf-8 107.4551ms
2025-09-18 01:05:30.201 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - null null
2025-09-18 01:05:30.201 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 01:05:30.201 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 01:05:30.202 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:30.202 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:30.202 +03:00 [DBG] The request is a preflight request.
2025-09-18 01:05:30.203 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" completed keep alive response.
2025-09-18 01:05:30.203 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo - 204 null null 1.8382ms
2025-09-18 01:05:30.204 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/userinfo - application/json 28
2025-09-18 01:05:30.205 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo'
2025-09-18 01:05:30.206 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/userinfo'
2025-09-18 01:05:30.206 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:30.206 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:30.206 +03:00 [INF] Executing endpoint 'HTTP: POST api/userinfo'
2025-09-18 01:05:30.208 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:30.215 +03:00 [DBG] Connection id "0HNFM6OSSB3JH", Request id "0HNFM6OSSB3JH:00000005": started reading request body.
2025-09-18 01:05:30.215 +03:00 [DBG] Connection id "0HNFM6OSSB3JH", Request id "0HNFM6OSSB3JH:00000005": done reading request body.
2025-09-18 01:05:30.228 +03:00 [INF] Creating new user with API key: 
2025-09-18 01:05:30.230 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()'
2025-09-18 01:05:30.235 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UserInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
        SELECT u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
        FROM UserInfos AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UserInfo entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UserInfo instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UserInfo);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UserInfo)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                        {
                            return 
                            {
                                UserInfo instance;
                                instance = new UserInfo();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UserInfo)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-18 01:05:30.237 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:30.238 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:30.238 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.238 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:30.238 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.238 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.238 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-18 01:05:30.238 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
FROM "UserInfos" AS "u"
2025-09-18 01:05:30.238 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.238 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:30.238 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.239 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.263 +03:00 [DBG] 'ContextDB' generated a value for the property 'UserInfo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:30.303 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:30.306 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:05:30.316 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:05:30.319 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 01:05:30.320 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:05:30.320 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:05:30.362 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.362 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.364 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:30.364 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.365 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 01:05:30.365 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-18 01:05:30.369 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserInfos" ("Id", "ApiKey", "CreatedUtc", "LastUpdatedUtc", "Mode")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-18 01:05:30.372 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.372 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 01:05:30.372 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.373 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.380 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:30.380 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 01:05:30.381 +03:00 [INF] User created successfully with ID: "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068"
2025-09-18 01:05:30.383 +03:00 [INF] Executed endpoint 'HTTP: POST api/userinfo'
2025-09-18 01:05:30.383 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" completed keep alive response.
2025-09-18 01:05:30.383 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:30.383 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.384 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.384 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/userinfo - 200 null application/json; charset=utf-8 179.2083ms
2025-09-18 01:05:30.386 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - null null
2025-09-18 01:05:30.386 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:05:30.386 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:05:30.386 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:30.386 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:30.386 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:30.386 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:30.387 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:30.388 +03:00 [INF] Getting user by ID: "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068"
2025-09-18 01:05:30.389 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:30.389 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:30.389 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.389 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:30.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.390 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:30.390 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:30.390 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:30.396 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:30.400 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.400 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 10ms reading results.
2025-09-18 01:05:30.400 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:30.400 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.403 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:30.404 +03:00 [DBG] Connection id "0HNFM6OSSB3JH" completed keep alive response.
2025-09-18 01:05:30.404 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:30.404 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:30.404 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:30.404 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - 200 null application/json; charset=utf-8 18.3799ms
2025-09-18 01:05:33.610 +03:00 [INF] This is a test log to file!
2025-09-18 01:05:33.747 +03:00 [INF] Shared Kernal configured successfully.
2025-09-18 01:05:33.749 +03:00 [INF] API configured successfully.
2025-09-18 01:05:33.799 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-18 01:05:33.836 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-18 01:05:34.184 +03:00 [WRN] The foreign key property 'Profile.UserInfoId1' was created in shadow state because a conflicting property with the simple name 'UserInfoId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-18 01:05:34.269 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:34.307 +03:00 [INF] Registered 23 endpoints in 628 milliseconds.
2025-09-18 01:05:34.313 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:34.363 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:34.446 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:34.454 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-18 01:05:34.457 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.460 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:34.462 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-18 01:05:34.463 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.470 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:34.472 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.477 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:34.477 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.480 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:34.482 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-18 01:05:34.485 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:05:34.489 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-09-18 01:05:34.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-09-18 01:05:34.494 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 01:05:34.519 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-09-18 01:05:34.522 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:05:34.522 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:05:34.522 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:05:34.522 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 22:05:34.521653+00:00');
SELECT changes();
2025-09-18 01:05:34.527 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-09-17 22:05:34.521653+00:00');
SELECT changes();
2025-09-18 01:05:34.568 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:05:34.571 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:05:34.572 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 01:05:34.572 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:05:34.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 01:05:34.573 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 01:05:34.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-09-18 01:05:34.574 +03:00 [DBG] Committing transaction.
2025-09-18 01:05:34.576 +03:00 [DBG] Committed transaction.
2025-09-18 01:05:34.577 +03:00 [DBG] Disposing transaction.
2025-09-18 01:05:34.579 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 01:05:34.579 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-09-18 01:05:34.581 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:34.581 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:34.581 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.581 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:34.581 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.582 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:34.582 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:05:34.582 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:05:34.582 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:05:34.582 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 01:05:34.582 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-09-18 01:05:34.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:34.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:34.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:34.585 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 01:05:34.586 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-18 01:05:34.589 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:34.590 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-18 01:05:34.594 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-18 01:05:34.594 +03:00 [DBG] Committing transaction.
2025-09-18 01:05:34.594 +03:00 [DBG] Committed transaction.
2025-09-18 01:05:34.595 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-18 01:05:34.595 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:05:34.595 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-18 01:05:34.595 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 01:05:34.597 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-09-18 01:05:34.598 +03:00 [DBG] Disposing transaction.
2025-09-18 01:05:34.598 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:34.601 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-09-18 01:05:34.602 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:34.602 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:34.602 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:34.602 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 01:05:34.602 +03:00 [INF] Infrastructure configured successfully.
2025-09-18 01:05:34.619 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-18 01:05:34.630 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-18 01:05:34.631 +03:00 [DBG] Hosting starting
2025-09-18 01:05:34.669 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-18 01:05:34.670 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-18 01:05:34.678 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-18 01:05:34.678 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-09-18 01:05:34.678 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 01:05:34.679 +03:00 [INF] Hosting environment: Development
2025-09-18 01:05:34.679 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish
2025-09-18 01:05:34.679 +03:00 [DBG] Hosting started
2025-09-18 01:05:37.497 +03:00 [DBG] Connection id "0HNFM6PAJINKD" accepted.
2025-09-18 01:05:37.497 +03:00 [DBG] Connection id "0HNFM6PAJINKD" started.
2025-09-18 01:05:37.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:05:37.547 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:05:37.547 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:05:37.564 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-18 01:05:37.566 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:05:37.594 +03:00 [INF] Api health check sent.
2025-09-18 01:05:37.595 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:05:37.595 +03:00 [DBG] Connection id "0HNFM6PAJINKD" completed keep alive response.
2025-09-18 01:05:37.596 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 83.6772ms
2025-09-18 01:05:37.604 +03:00 [DBG] Connection id "0HNFM6PAJINKE" accepted.
2025-09-18 01:05:37.604 +03:00 [DBG] Connection id "0HNFM6PAJINKE" started.
2025-09-18 01:05:37.605 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - null null
2025-09-18 01:05:37.607 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:05:37.608 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:05:37.608 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:37.610 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:37.610 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:37.611 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:37.623 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:37.649 +03:00 [INF] Getting user by ID: "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068"
2025-09-18 01:05:37.691 +03:00 [DBG] Compiling query expression: 
'DbSet<UserInfo>()
    .Include(p => p.Profiles)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-18 01:05:37.721 +03:00 [DBG] Including navigation: 'UserInfo.Profiles'.
2025-09-18 01:05:37.903 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserInfo>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UserInfo>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UserInfo.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserInfo.ApiKey (string) Required MaxLength(200), 1], [Property: UserInfo.CreatedUtc (DateTime) Required, 2], [Property: UserInfo.LastUpdatedUtc (DateTime) Required, 3], [Property: UserInfo.Mode (AIMode) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Profile.CacheFile (string) MaxLength(500), 6], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 7], [Property: Profile.DatabaseName (string) Required, 8], [Property: Profile.Name (string) Required MaxLength(200), 9], [Property: Profile.Provider (ProviderType) Required, 10], [Property: Profile.SecretRef (string) Required, 11], [Property: Profile.UserInfoId (Guid?) FK Index, 12], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 13] }
                3 -> 5
            SELECT u0.Id, u0.ApiKey, u0.CreatedUtc, u0.LastUpdatedUtc, u0.Mode, p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
            FROM 
            (
                SELECT TOP(1) u.Id, u.ApiKey, u.CreatedUtc, u.LastUpdatedUtc, u.Mode
                FROM UserInfos AS u
                WHERE u.Id == @__id_0
            ) AS u0
            LEFT JOIN Profiles AS p ON u0.Id == p.UserInfoId
            ORDER BY u0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                UserInfo entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    UserInfo instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(UserInfo);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: UserInfo.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (UserInfo)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]: 
                                {
                                    return 
                                    {
                                        UserInfo instance;
                                        instance = new UserInfo();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApiKey>k__BackingField = dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<LastUpdatedUtc>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<Mode>k__BackingField = Invoke(((EnumToNumberConverter<AIMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: UserInfo.Mode (AIMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindProperty("Mode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: UserInfo | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(UserInfo)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<UserInfo, UserInfo>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (UserInfo)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: UserInfo.Profiles (List<Profile>) Collection ToDependent Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<UserInfo, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(Guid?) : (Guid?)dataReader.GetGuid(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Profile entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Profile instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Profile);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetGuid(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Profile)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13));
                                        return 
                                        {
                                            Profile instance;
                                            instance = new Profile();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(5) ? default(Guid) : dataReader.GetGuid(5);
                                            instance.<CacheFile>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                            instance.<CreatedUtc>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset) : dataReader.GetFieldValue<DateTimeOffset>(7);
                                            instance.<DatabaseName>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Provider>k__BackingField = dataReader.IsDBNull(10) ? default(ProviderType) : Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(10));
                                            instance.<SecretRef>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(12) ? default(Guid?) : (Guid?)dataReader.GetGuid(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Profile)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: default(INavigationBase), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return [LIFTABLE Constant: ClrICollectionAccessor<UserInfo, List<Profile>, Profile> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.UserInfos.UserInfo").FindNavigation("Profiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (UserInfo)(resultContext.Values[0]) : default(UserInfo);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 01:05:37.925 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:37.925 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:37.926 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:37.927 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:37.927 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:37.928 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:37.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 01:05:37.930 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:37.934 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:37.961 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:37.983 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:37.983 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 48ms reading results.
2025-09-18 01:05:37.984 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:37.985 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:37.999 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:38.000 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:38.001 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:38.002 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:38.003 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:38.003 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - 200 null application/json; charset=utf-8 397.9952ms
2025-09-18 01:05:38.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/providers - null null
2025-09-18 01:05:38.022 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/providers'
2025-09-18 01:05:38.022 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/providers'
2025-09-18 01:05:38.022 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:38.023 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:38.024 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/providers'
2025-09-18 01:05:38.026 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:38.033 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/providers'
2025-09-18 01:05:38.034 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:38.034 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:38.034 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/providers - 200 null application/json; charset=utf-8 12.2504ms
2025-09-18 01:05:38.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:05:38.642 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:05:38.642 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:05:38.643 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:38.643 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:38.643 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:05:38.643 +03:00 [INF] Api health check sent.
2025-09-18 01:05:38.644 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:05:38.644 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:38.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 2.2576ms
2025-09-18 01:05:41.604 +03:00 [DBG] Connection id "0HNFM6PAJINKD" received FIN.
2025-09-18 01:05:41.605 +03:00 [DBG] Connection id "0HNFM6PAJINKD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 01:05:41.606 +03:00 [DBG] Connection id "0HNFM6PAJINKD" disconnecting.
2025-09-18 01:05:41.607 +03:00 [DBG] Connection id "0HNFM6PAJINKD" stopped.
2025-09-18 01:05:41.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - null null
2025-09-18 01:05:41.705 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/SqlServer'
2025-09-18 01:05:41.705 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/SqlServer'
2025-09-18 01:05:41.706 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 01:05:41.706 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:41.706 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:41.706 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 01:05:41.716 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:41.726 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-09-18 01:05:41.727 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-09-18 01:05:41.734 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 01:05:41.872 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 01:05:41.877 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 01:05:41.998 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-09-18 01:05:42.062 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-18 01:05:42.062 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-09-18 01:05:42.069 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-09-18 01:05:42.071 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:42.071 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:42.071 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/servers/SqlServer - 200 null application/json; charset=utf-8 367.1277ms
2025-09-18 01:05:43.108 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-09-18 01:05:43.108 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-18 01:05:43.108 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-09-18 01:05:43.108 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-18 01:05:43.108 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:43.108 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:43.109 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-18 01:05:43.109 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:43.113 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 01:05:43.115 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-09-18 01:05:43.116 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 01:05:43.636 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 01:05:43.639 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-09-18 01:05:43.639 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:43.639 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:43.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/databases/SqlServer/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 531.3815ms
2025-09-18 01:05:48.488 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - null null
2025-09-18 01:05:48.488 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-18 01:05:48.488 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 01:05:48.488 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.488 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.488 +03:00 [DBG] The request is a preflight request.
2025-09-18 01:05:48.489 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:48.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/setup/profile - 204 null null 0.9326ms
2025-09-18 01:05:48.490 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 206
2025-09-18 01:05:48.491 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-09-18 01:05:48.491 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-09-18 01:05:48.491 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.491 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.491 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-09-18 01:05:48.491 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:48.505 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000007": started reading request body.
2025-09-18 01:05:48.505 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000007": done reading request body.
2025-09-18 01:05:48.516 +03:00 [INF] Creating profile for provider "SqlServer"
2025-09-18 01:05:48.516 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-18 01:05:48.554 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-18 01:05:48.559 +03:00 [DBG] Saved secret profile-7ca69535-a363-42aa-aaf6-e6c850b4f211 for provider "SqlServer"
2025-09-18 01:05:48.559 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-09-18 01:05:48.562 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => p.DatabaseName.Equals(__profile_DatabaseName_0))'
2025-09-18 01:05:48.569 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.DatabaseName == @__profile_DatabaseName_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 01:05:48.575 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:48.575 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:48.575 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.575 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.575 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.576 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-18 01:05:48.576 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__profile_DatabaseName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."DatabaseName" = @__profile_DatabaseName_0)
2025-09-18 01:05:48.577 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.577 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:48.577 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.577 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.599 +03:00 [DBG] 'ContextDB' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.624 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.627 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:05:48.639 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:05:48.644 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 01:05:48.645 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:05:48.645 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:05:48.692 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 01:05:48.694 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-18 01:05:48.698 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 16), @p4='?' (Size = 28), @p5='?' (DbType = Int32), @p6='?' (Size = 44), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "DatabaseName", "Name", "Provider", "SecretRef", "UserInfoId", "UserInfoId1")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-18 01:05:48.700 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.701 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 01:05:48.701 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.701 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.708 +03:00 [DBG] An entity of type 'Profile' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.709 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 01:05:48.709 +03:00 [INF] Profile created successfully with Id "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.711 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-09-18 01:05:48.712 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:48.712 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:48.712 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.712 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.712 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 200 null application/json; charset=utf-8 221.3936ms
2025-09-18 01:05:48.714 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - null null
2025-09-18 01:05:48.715 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:05:48.715 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:05:48.715 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:48.715 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.715 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.715 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:48.716 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:48.716 +03:00 [INF] Getting user by ID: "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068"
2025-09-18 01:05:48.719 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:48.719 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:48.719 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.719 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.719 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.719 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:48.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:05:48.720 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.725 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.725 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.725 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 5ms reading results.
2025-09-18 01:05:48.725 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.725 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.728 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:05:48.728 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:48.728 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:48.728 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.728 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.728 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - 200 null application/json; charset=utf-8 13.7773ms
2025-09-18 01:05:48.756 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - null null
2025-09-18 01:05:48.756 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:48.756 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:48.757 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:48.757 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.757 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.757 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:48.759 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:48.760 +03:00 [DBG] Connection id "0HNFM6PAJINKF" accepted.
2025-09-18 01:05:48.760 +03:00 [DBG] Connection id "0HNFM6PAJINKF" started.
2025-09-18 01:05:48.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:05:48.761 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:05:48.761 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:05:48.761 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:05:48.761 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.761 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.761 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:05:48.762 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:48.766 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-09-18 01:05:48.766 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-18 01:05:48.787 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
                3 -> 9
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.DatabaseName, p0.Name, p0.Provider, p0.SecretRef, p0.UserInfoId, p0.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    shadowSnapshot1 = (ISnapshot)new Snapshot<Guid?>(dataReader.IsDBNull(8) ? default(Guid?) : (Guid?)dataReader.GetGuid(8));
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                        instance.<Name>k__BackingField = dataReader.GetString(4);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                        instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-18 01:05:48.792 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:48.792 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:48.792 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:48.792 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:48.792 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.792 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.792 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.792 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.792 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.792 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.792 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.792 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.792 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.793 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.793 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.793 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.794 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.795 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.795 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.795 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 01:05:48.795 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.795 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:48.795 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.795 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.795 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.795 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.796 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.796 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.796 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.796 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.796 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.796 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.797 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.797 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.797 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.797 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.797 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.797 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.797 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:48.797 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:48.797 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.797 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.798 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.798 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.800 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.801 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:05:48.801 +03:00 [DBG] Connection id "0HNFM6PAJINKF" completed keep alive response.
2025-09-18 01:05:48.801 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:48.801 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.801 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 40.8564ms
2025-09-18 01:05:48.803 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:05:48.804 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:05:48.804 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:05:48.804 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:05:48.804 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.804 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.805 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:05:48.805 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:48.808 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:05:48.808 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:05:48.808 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.809 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.809 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.809 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.809 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.809 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.810 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.810 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:05:48.810 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.810 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:48.810 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.811 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.811 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.811 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.812 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.812 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:05:48.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.812 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:05:48.812 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:05:48.813 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.813 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:05:48.813 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:05:48.813 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.814 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.814 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:05:48.814 +03:00 [DBG] Connection id "0HNFM6PAJINKF" completed keep alive response.
2025-09-18 01:05:48.814 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:48.814 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.814 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.815 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 11.6278ms
2025-09-18 01:05:48.818 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:05:48.821 +03:00 [DBG] Fetching schema for Profile "d3884545-fe29-4eb6-a509-592db9ed595b", ForceRefresh=false
2025-09-18 01:05:48.824 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-18 01:05:48.865 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-18 01:05:48.869 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:48.870 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:48.870 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:48.870 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:05:48.870 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:05:48.870 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - 200 null application/json; charset=utf-8 113.4812ms
2025-09-18 01:05:48.871 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - null null
2025-09-18 01:05:48.871 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:48.872 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:48.872 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:48.872 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:48.872 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:48.873 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:48.874 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:48.875 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:48.875 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:48.875 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:48.875 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - 200 null application/json; charset=utf-8 4.284ms
2025-09-18 01:05:49.732 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:05:49.732 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:05:49.732 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:05:49.732 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:49.732 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:49.733 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:05:49.733 +03:00 [INF] Api health check sent.
2025-09-18 01:05:49.733 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:05:49.733 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:49.733 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.6814ms
2025-09-18 01:05:54.988 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - null null
2025-09-18 01:05:54.988 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:54.988 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:54.988 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:54.989 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:54.989 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:54.989 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:54.990 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:54.990 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:54.990 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:54.990 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:54.990 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - 200 null application/json; charset=utf-8 1.7049ms
2025-09-18 01:05:54.991 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - null null
2025-09-18 01:05:54.991 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:54.991 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:05:54.991 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:54.991 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:05:54.991 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:05:54.991 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:54.992 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:05:54.992 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:05:54.992 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:05:54.992 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:05:54.992 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - 200 null application/json; charset=utf-8 1.3931ms
2025-09-18 01:06:00.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:06:00.762 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:00.762 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:00.762 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:00.763 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:00.763 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:00.763 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:00.763 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:00.764 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:00.764 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:00.764 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:00.764 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.764 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:00.764 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.764 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.764 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.765 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.765 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:00.765 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.765 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:00.765 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.765 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:00.765 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:00.765 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:00.765 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:00.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.766 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.766 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.766 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.766 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:00.766 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.766 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:00.767 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:00.767 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:00.767 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:00.767 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:00.767 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:00.767 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:00.767 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 4.7671ms
2025-09-18 01:06:00.768 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:06:00.768 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:00.768 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:00.768 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:00.769 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:00.769 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:00.769 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:00.769 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:00.770 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:00.770 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:00.770 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:00.770 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.770 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:00.770 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.770 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.770 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.770 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.770 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:00.770 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.770 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:00.770 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.770 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:00.770 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:00.771 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:00.771 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.771 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:00.771 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.771 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:00.771 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.771 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:00.771 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.771 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:00.771 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:00.771 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:00.772 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:00.772 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:00.772 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:00.772 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:00.772 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:00.772 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:00.772 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.809ms
2025-09-18 01:06:02.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:06:02.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:02.323 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:02.323 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:02.323 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:02.323 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:02.323 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:02.323 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:02.324 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:02.324 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:02.324 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:02.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:02.324 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.324 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.324 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.324 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:02.324 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.324 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:02.324 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.324 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:02.324 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:02.324 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:02.325 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.325 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:02.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.325 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.325 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.325 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.325 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.325 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:02.325 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.325 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:02.325 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:02.326 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:02.326 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:02.326 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:02.326 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:02.326 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:02.326 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.4749ms
2025-09-18 01:06:02.327 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:06:02.327 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:02.327 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:02.327 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:02.327 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:02.327 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:02.327 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:02.328 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:02.328 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:02.328 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:02.328 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:02.328 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:02.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.329 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.329 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.329 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:02.329 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.329 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:02.329 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.329 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:02.329 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:02.329 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:02.329 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.329 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:02.329 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:02.330 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.330 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:02.330 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.330 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:02.330 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:02.330 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:02.330 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:02.330 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:02.330 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:02.330 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:02.330 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:02.330 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:02.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.3851ms
2025-09-18 01:06:09.299 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:06:09.299 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:06:09.299 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:06:09.299 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:09.299 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:09.299 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:06:09.299 +03:00 [INF] Api health check sent.
2025-09-18 01:06:09.299 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:06:09.299 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:09.299 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4944ms
2025-09-18 01:06:16.714 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - null null
2025-09-18 01:06:16.714 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode'
2025-09-18 01:06:16.714 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 01:06:16.714 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:16.714 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:16.714 +03:00 [DBG] The request is a preflight request.
2025-09-18 01:06:16.714 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:16.714 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - 204 null null 0.3838ms
2025-09-18 01:06:16.715 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - application/json 136
2025-09-18 01:06:16.716 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode'
2025-09-18 01:06:16.716 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode'
2025-09-18 01:06:16.716 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 01:06:16.716 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:16.716 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:16.716 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 01:06:16.716 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:16.718 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000014": started reading request body.
2025-09-18 01:06:16.718 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000014": done reading request body.
2025-09-18 01:06:16.722 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:16.722 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:16.722 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:16.722 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.722 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:16.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:16.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:16.722 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:16.722 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:16.722 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:16.722 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:16.723 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.723 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:16.723 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.723 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:16.724 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:16.724 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:06:16.728 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:06:16.728 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 01:06:16.729 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:06:16.729 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:06:16.737 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:16.737 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.737 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:16.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:16.738 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-18 01:06:16.738 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 01:06:16.738 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 01:06:16.743 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.743 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 5ms reading results.
2025-09-18 01:06:16.744 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.744 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:16.744 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:16.744 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 01:06:16.749 +03:00 [INF] AI mode changed to "Groq" for user "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068" at "2025-09-17T22:06:16.7233701Z"
2025-09-18 01:06:16.750 +03:00 [INF] API key changed for user "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068" at "2025-09-17T22:06:16.7234911Z"
2025-09-18 01:06:16.751 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 01:06:16.751 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:16.751 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:16.751 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:16.751 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:16.751 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - 200 null application/json; charset=utf-8 35.572ms
2025-09-18 01:06:16.757 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - null null
2025-09-18 01:06:16.757 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:06:16.758 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:06:16.758 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:06:16.758 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:16.758 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:16.758 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:06:16.759 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:16.759 +03:00 [INF] Getting user by ID: "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068"
2025-09-18 01:06:16.759 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:16.759 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:16.759 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:16.759 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.759 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:16.759 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:16.759 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:16.759 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:16.760 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:16.760 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:16.760 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:16.760 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.760 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:16.760 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:16.760 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:16.760 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:06:16.760 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:16.760 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:16.760 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:16.760 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:16.760 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - 200 null application/json; charset=utf-8 3.4544ms
2025-09-18 01:06:17.264 +03:00 [DBG] Connection id "0HNFM6PAJINKG" accepted.
2025-09-18 01:06:17.264 +03:00 [DBG] Connection id "0HNFM6PAJINKG" started.
2025-09-18 01:06:17.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:06:17.266 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:06:17.266 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:06:17.266 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:06:17.267 +03:00 [INF] Api health check sent.
2025-09-18 01:06:17.267 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:06:17.267 +03:00 [DBG] Connection id "0HNFM6PAJINKG" completed keep alive response.
2025-09-18 01:06:17.267 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.1186ms
2025-09-18 01:06:21.269 +03:00 [DBG] Connection id "0HNFM6PAJINKG" received FIN.
2025-09-18 01:06:21.269 +03:00 [DBG] Connection id "0HNFM6PAJINKG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 01:06:21.269 +03:00 [DBG] Connection id "0HNFM6PAJINKG" disconnecting.
2025-09-18 01:06:21.269 +03:00 [DBG] Connection id "0HNFM6PAJINKG" stopped.
2025-09-18 01:06:28.255 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert - null null
2025-09-18 01:06:28.255 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert'
2025-09-18 01:06:28.255 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 01:06:28.255 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:28.255 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:28.255 +03:00 [DBG] The request is a preflight request.
2025-09-18 01:06:28.255 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:28.255 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert - 204 null null 0.3692ms
2025-09-18 01:06:28.256 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert - application/json 171
2025-09-18 01:06:28.256 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert'
2025-09-18 01:06:28.256 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert'
2025-09-18 01:06:28.256 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-18 01:06:28.256 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:28.256 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:28.256 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-18 01:06:28.258 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:28.262 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000017": started reading request body.
2025-09-18 01:06:28.262 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000017": done reading request body.
2025-09-18 01:06:28.270 +03:00 [INF] Converting NL to SQL for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:28.271 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:28.271 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:28.272 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:28.272 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.272 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:28.272 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:28.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:28.272 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:28.272 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:28.273 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:28.273 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:28.274 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.274 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 1ms reading results.
2025-09-18 01:06:28.274 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.274 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:28.274 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:28.274 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:28.274 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:28.274 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:28.274 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:28.275 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:28.275 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.275 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:28.275 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.275 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:28.275 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:28.275 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:28.275 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.275 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:28.275 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:28.275 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:28.275 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:28.276 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:28.276 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.276 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:28.276 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:28.276 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:28.276 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:28.276 +03:00 [DBG] Fetching schema for Profile "d3884545-fe29-4eb6-a509-592db9ed595b", ForceRefresh=false
2025-09-18 01:06:28.276 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-09-18 01:06:28.280 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-09-18 01:06:28.295 +03:00 [INF] Groq API key configured for HttpClient
2025-09-18 01:06:28.297 +03:00 [INF] Converting natural language to SQL. User query: Show all tables in the database
2025-09-18 01:06:28.298 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-09-18 01:06:28.298 +03:00 [DBG] Generated prompt with 6 messages
2025-09-18 01:06:28.303 +03:00 [DBG] Request payload prepared for LLM API
2025-09-18 01:06:28.997 +03:00 [INF] LLM API responded with status: "OK"
2025-09-18 01:06:29.002 +03:00 [INF] Successfully converted natural language to SQL query
2025-09-18 01:06:29.003 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-09-18 01:06:29.003 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:29.003 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:29.003 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:29.003 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:29.003 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/convert - 200 null application/json; charset=utf-8 747.4177ms
2025-09-18 01:06:31.914 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute - null null
2025-09-18 01:06:31.914 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute'
2025-09-18 01:06:31.914 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 01:06:31.914 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:31.914 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:31.915 +03:00 [DBG] The request is a preflight request.
2025-09-18 01:06:31.915 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:31.915 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute - 204 null null 0.6555ms
2025-09-18 01:06:31.916 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute - application/json 272
2025-09-18 01:06:31.916 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute'
2025-09-18 01:06:31.916 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute'
2025-09-18 01:06:31.916 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-18 01:06:31.916 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:31.916 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:31.916 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-18 01:06:31.916 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:31.928 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000019": started reading request body.
2025-09-18 01:06:31.928 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:00000019": done reading request body.
2025-09-18 01:06:31.934 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:31.934 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:31.934 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:31.934 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:31.934 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:31.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:31.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:31.934 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:31.934 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:31.935 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:31.935 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:31.935 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:31.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:31.935 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:31.935 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:31.935 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:31.935 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:31.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:31.935 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:31.935 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:31.935 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:31.936 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:31.936 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:31.936 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:31.936 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:31.936 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:31.936 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:31.936 +03:00 [INF] Executing SQL for Profile "d3884545-fe29-4eb6-a509-592db9ed595b", Mode="ReadOnly"
2025-09-18 01:06:31.948 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-09-18 01:06:31.948 +03:00 [DBG] SQL: SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE';
2025-09-18 01:06:31.949 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-09-18 01:06:31.949 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-09-18 01:06:32.017 +03:00 [INF] Query execution finished in 67 ms, returned 3 rows
2025-09-18 01:06:32.019 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:32.019 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:32.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:32.019 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:32.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:32.019 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:32.019 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:32.019 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:32.019 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:32.019 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:32.019 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:32.038 +03:00 [DBG] The navigation 'Query.Profile' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:32.040 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:32.040 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:06:32.049 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Profile.Queries'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:32.051 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:06:32.051 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 01:06:32.051 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:06:32.051 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:06:32.053 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:32.053 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:32.053 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:32.053 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:32.053 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:32.053 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 176), @p3='?' (Size = 81), @p4='?' (DbType = DateTime), @p5='?' (Size = 31)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Queries" ("Id", "ProfileId", "ResultJson", "SqlQuery", "TimestampUtc", "UserQuery")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-18 01:06:32.060 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 176), @p3='?' (Size = 81), @p4='?' (DbType = DateTime), @p5='?' (Size = 31)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Queries" ("Id", "ProfileId", "ResultJson", "SqlQuery", "TimestampUtc", "UserQuery")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-18 01:06:32.061 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:32.061 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:32.061 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:32.061 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:32.061 +03:00 [DBG] An entity of type 'Query' tracked by 'ContextDB' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:32.061 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 01:06:32.063 +03:00 [INF] ProfileSettingsChangedEvent triggered: {"DateOccurred":"2025-09-17T22:06:32.0275399Z","$type":"QueryAddedEvent"}
2025-09-18 01:06:32.064 +03:00 [INF] Saved query to DB for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:32.066 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-09-18 01:06:32.067 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:32.067 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:32.067 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:32.067 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:32.067 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/execute - 200 null application/json; charset=utf-8 150.959ms
2025-09-18 01:06:33.069 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:06:33.069 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:33.069 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:06:33.069 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:33.070 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:33.070 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:33.070 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:33.070 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:33.071 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:33.071 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:33.071 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:33.071 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:33.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:33.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:33.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:33.071 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:33.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:33.072 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:33.073 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:33.074 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:33.074 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 01:06:33.074 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:33.074 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:33.074 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:33.074 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:33.074 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:33.074 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:33.074 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:33.074 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:33.074 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:33.074 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:06:33.075 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:33.093 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 18ms reading results.
2025-09-18 01:06:33.093 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:33.093 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:33.094 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:06:33.095 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:06:33.095 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:33.095 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:33.095 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:33.095 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:33.095 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 25.7462ms
2025-09-18 01:06:38.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:06:38.649 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:06:38.649 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:06:38.649 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:38.649 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:38.649 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:06:38.649 +03:00 [INF] Api health check sent.
2025-09-18 01:06:38.649 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:06:38.649 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:38.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5959ms
2025-09-18 01:06:55.088 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - null null
2025-09-18 01:06:55.088 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode'
2025-09-18 01:06:55.088 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-18 01:06:55.088 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:55.088 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:55.088 +03:00 [DBG] The request is a preflight request.
2025-09-18 01:06:55.089 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:55.089 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - 204 null null 0.7819ms
2025-09-18 01:06:55.090 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - application/json 81
2025-09-18 01:06:55.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode'
2025-09-18 01:06:55.090 +03:00 [DBG] Endpoint 'HTTP: PUT api/userinfo/{userId}/aimode' with route pattern 'api/userinfo/{userId}/aimode' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode'
2025-09-18 01:06:55.090 +03:00 [DBG] Request matched endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 01:06:55.090 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:55.090 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:55.090 +03:00 [INF] Executing endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 01:06:55.091 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:55.091 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:0000001D": started reading request body.
2025-09-18 01:06:55.091 +03:00 [DBG] Connection id "0HNFM6PAJINKE", Request id "0HNFM6PAJINKE:0000001D": done reading request body.
2025-09-18 01:06:55.092 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:55.092 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:55.092 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:55.092 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:55.092 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:55.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:55.092 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:55.092 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:55.092 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:55.093 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:55.093 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.093 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:55.093 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.093 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:55.093 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:55.093 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:06:55.093 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:06:55.093 +03:00 [DBG] SaveChanges starting for 'ContextDB'.
2025-09-18 01:06:55.093 +03:00 [DBG] DetectChanges starting for 'ContextDB'.
2025-09-18 01:06:55.094 +03:00 [DBG] DetectChanges completed for 'ContextDB'.
2025-09-18 01:06:55.094 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:55.094 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.094 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:55.094 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:55.094 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:55.094 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 01:06:55.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 56), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserInfos" SET "ApiKey" = @p0, "CreatedUtc" = @p1, "LastUpdatedUtc" = @p2, "Mode" = @p3
WHERE "Id" = @p4
RETURNING 1;
2025-09-18 01:06:55.098 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.098 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 3ms reading results.
2025-09-18 01:06:55.098 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.098 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:55.098 +03:00 [DBG] An entity of type 'UserInfo' tracked by 'ContextDB' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:55.099 +03:00 [DBG] SaveChanges completed for 'ContextDB' with 1 entities written to the database.
2025-09-18 01:06:55.099 +03:00 [INF] AI mode changed to "Local" for user "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068" at "2025-09-17T22:06:55.0932955Z"
2025-09-18 01:06:55.099 +03:00 [INF] Executed endpoint 'HTTP: PUT api/userinfo/{userId}/aimode'
2025-09-18 01:06:55.099 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:55.099 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:55.099 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:55.099 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:55.100 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068/aimode - 200 null application/json; charset=utf-8 9.4855ms
2025-09-18 01:06:55.125 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - null null
2025-09-18 01:06:55.126 +03:00 [DBG] 1 candidate(s) found for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:06:55.126 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068'
2025-09-18 01:06:55.126 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:06:55.126 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:55.126 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:55.126 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:06:55.127 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:06:55.127 +03:00 [INF] Getting user by ID: "dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068"
2025-09-18 01:06:55.127 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:06:55.127 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:06:55.127 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:55.127 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.127 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:06:55.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:55.127 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:06:55.128 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:55.128 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."ApiKey", "u0"."CreatedUtc", "u0"."LastUpdatedUtc", "u0"."Mode", "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
FROM (
    SELECT "u"."Id", "u"."ApiKey", "u"."CreatedUtc", "u"."LastUpdatedUtc", "u"."Mode"
    FROM "UserInfos" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Profiles" AS "p" ON "u0"."Id" = "p"."UserInfoId"
ORDER BY "u0"."Id"
2025-09-18 01:06:55.128 +03:00 [DBG] Context 'ContextDB' started tracking 'UserInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:55.128 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:06:55.128 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.128 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:06:55.128 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:06:55.128 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:55.128 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/{id}'
2025-09-18 01:06:55.129 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:55.129 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:06:55.129 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:06:55.129 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:06:55.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/dc7a3c76-3ffb-4d9a-b0ba-9af2ec630068 - 200 null application/json; charset=utf-8 3.1416ms
2025-09-18 01:06:55.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 01:06:55.490 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 01:06:55.490 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:06:55.490 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:06:55.490 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:06:55.491 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:55.491 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:55.491 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:06:55.492 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:06:55.492 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:55.492 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 2.1154ms
2025-09-18 01:06:55.632 +03:00 [DBG] Connection id "0HNFM6PAJINKH" accepted.
2025-09-18 01:06:55.632 +03:00 [DBG] Connection id "0HNFM6PAJINKH" started.
2025-09-18 01:06:55.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:06:55.632 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:06:55.632 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:06:55.632 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:06:55.632 +03:00 [INF] Api health check sent.
2025-09-18 01:06:55.632 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:06:55.632 +03:00 [DBG] Connection id "0HNFM6PAJINKH" completed keep alive response.
2025-09-18 01:06:55.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4848ms
2025-09-18 01:06:56.644 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:06:56.644 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:06:56.644 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:06:56.644 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:56.644 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:56.644 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:06:56.644 +03:00 [INF] Api health check sent.
2025-09-18 01:06:56.644 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:06:56.644 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:56.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4406ms
2025-09-18 01:06:56.929 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 01:06:56.929 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 01:06:56.929 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:06:56.929 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:06:56.929 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:06:56.929 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:06:56.929 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:06:56.929 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:06:56.929 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:06:56.929 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:06:56.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.5402ms
2025-09-18 01:06:59.635 +03:00 [DBG] Connection id "0HNFM6PAJINKH" received FIN.
2025-09-18 01:06:59.635 +03:00 [DBG] Connection id "0HNFM6PAJINKH" disconnecting.
2025-09-18 01:06:59.635 +03:00 [DBG] Connection id "0HNFM6PAJINKH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 01:06:59.637 +03:00 [DBG] Connection id "0HNFM6PAJINKH" stopped.
2025-09-18 01:07:08.648 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:07:08.648 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:07:08.648 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:07:08.648 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:08.648 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:08.648 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:07:08.648 +03:00 [INF] Api health check sent.
2025-09-18 01:07:08.648 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:07:08.648 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:08.648 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.5544ms
2025-09-18 01:07:23.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:07:23.405 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:07:23.405 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:07:23.405 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:23.405 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:23.405 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:07:23.405 +03:00 [INF] Api health check sent.
2025-09-18 01:07:23.405 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:07:23.405 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:23.405 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.1113ms
2025-09-18 01:07:23.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:07:23.408 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:07:23.408 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:07:23.409 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:23.409 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:23.409 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:07:23.409 +03:00 [INF] Api health check sent.
2025-09-18 01:07:23.409 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:07:23.409 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:23.410 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 1.2777ms
2025-09-18 01:07:23.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 01:07:23.729 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 01:07:23.729 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:07:23.729 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:07:23.729 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:23.729 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:23.729 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:23.729 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:23.729 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:23.729 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:23.729 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.3424ms
2025-09-18 01:07:23.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 01:07:23.735 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 01:07:23.735 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:07:23.735 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:07:23.735 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:23.735 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:23.735 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:23.736 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:23.736 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:23.736 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:23.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.5629ms
2025-09-18 01:07:38.652 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:07:38.652 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:07:38.652 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:07:38.652 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:38.653 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:38.653 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:07:38.653 +03:00 [INF] Api health check sent.
2025-09-18 01:07:38.653 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:07:38.653 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:38.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.4824ms
2025-09-18 01:07:38.893 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - null null
2025-09-18 01:07:38.893 +03:00 [DBG] 2 candidate(s) found for the request path '/api/userinfo/localllm'
2025-09-18 01:07:38.893 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/localllm' with route pattern 'api/userinfo/localllm' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:07:38.893 +03:00 [DBG] Endpoint 'HTTP: GET api/userinfo/{id}' with route pattern 'api/userinfo/{id}' is valid for the request path '/api/userinfo/localllm'
2025-09-18 01:07:38.893 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:38.894 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:07:38.894 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:07:38.894 +03:00 [INF] Executing endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:38.894 +03:00 [INF] Executed endpoint 'HTTP: GET api/userinfo/localllm'
2025-09-18 01:07:38.894 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:07:38.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/userinfo/localllm - 200 null application/json; charset=utf-8 0.5578ms
2025-09-18 01:08:00.748 +03:00 [DBG] Connection id "0HNFM6PAJINKF" disconnecting.
2025-09-18 01:08:00.748 +03:00 [DBG] Connection id "0HNFM6PAJINKF" stopped.
2025-09-18 01:08:00.748 +03:00 [DBG] Connection id "0HNFM6PAJINKF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 01:08:05.616 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - null null
2025-09-18 01:08:05.617 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:08:05.617 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:08:05.617 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:08:05.617 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:05.617 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:05.617 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:08:05.617 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:05.618 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:08:05.618 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:05.618 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:05.618 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - 200 null application/json; charset=utf-8 1.2493ms
2025-09-18 01:08:05.618 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - null null
2025-09-18 01:08:05.619 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:08:05.619 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema'
2025-09-18 01:08:05.619 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:08:05.619 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:05.619 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:05.619 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:08:05.619 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:05.619 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-09-18 01:08:05.619 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:05.619 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:05.619 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/d3884545-fe29-4eb6-a509-592db9ed595b/schema - 200 null application/json; charset=utf-8 0.724ms
2025-09-18 01:08:06.573 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:08:06.573 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:06.573 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:06.573 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:06.573 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:06.573 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:06.573 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:06.574 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:06.574 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:06.574 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:06.574 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:06.574 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:06.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.574 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.575 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.575 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:06.575 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:06.575 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.575 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:06.575 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.575 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:06.575 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:06.575 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:06.576 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.576 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:06.576 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.576 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.576 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.576 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.576 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.576 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:06.576 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.576 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:06.576 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:06.576 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:06.576 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:06.577 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:06.577 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:06.577 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:06.577 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.3813ms
2025-09-18 01:08:06.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:08:06.578 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:06.578 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:06.578 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:06.578 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:06.578 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:06.578 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:06.578 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:06.579 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:06.579 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:06.579 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:06.579 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:06.579 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.579 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.580 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.580 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:06.580 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:06.581 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.581 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:06.581 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.581 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:06.581 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:06.581 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:06.581 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.581 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:06.581 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.581 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:06.581 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.581 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:06.582 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.582 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:06.582 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:06.582 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:06.582 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:06.582 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:06.582 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:06.582 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:06.582 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:06.582 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:06.582 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 4.724ms
2025-09-18 01:08:07.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:08:07.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:07.178 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:07.178 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:07.178 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:07.178 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:07.178 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:07.179 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:07.180 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:07.180 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:07.180 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:07.180 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.180 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:07.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.180 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.180 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.180 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.180 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:07.181 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:07.181 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.181 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:07.181 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.181 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:07.181 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:07.181 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:07.181 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.181 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:07.181 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.181 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.181 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.181 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.181 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:07.181 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.181 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:07.182 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:07.182 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:07.182 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:07.182 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:07.182 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:07.182 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:07.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 4.0509ms
2025-09-18 01:08:07.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:08:07.183 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:07.183 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:07.183 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:07.183 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:07.183 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:07.183 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:07.183 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:07.184 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:07.184 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:07.184 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:07.184 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:07.184 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.184 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.184 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.184 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.184 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:07.184 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:07.185 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.185 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:07.185 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.185 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:07.185 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:07.185 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:07.185 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.185 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:07.185 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.185 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:07.185 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:07.186 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.186 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:07.186 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:07.186 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:07.186 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:07.186 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:07.186 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:07.186 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:07.186 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:07.186 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:07.186 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.5721ms
2025-09-18 01:08:08.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/health - null null
2025-09-18 01:08:08.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2025-09-18 01:08:08.647 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/health'
2025-09-18 01:08:08.647 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:08.647 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:08.647 +03:00 [INF] Executing endpoint 'HTTP: GET api/health'
2025-09-18 01:08:08.647 +03:00 [INF] Api health check sent.
2025-09-18 01:08:08.647 +03:00 [INF] Executed endpoint 'HTTP: GET api/health'
2025-09-18 01:08:08.647 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:08.647 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/health - 200 null application/json; charset=utf-8 0.3302ms
2025-09-18 01:08:10.051 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:08:10.051 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:10.051 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:10.051 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:10.051 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:10.051 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:10.051 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:10.052 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:10.052 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:10.052 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:10.052 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:10.052 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.052 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:10.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.053 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.053 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.053 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:10.053 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:10.053 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.053 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:10.053 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.053 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:10.053 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:10.054 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:10.054 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:10.054 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.054 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.054 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.054 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.054 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:10.054 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.054 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:10.054 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:10.054 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:10.054 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:10.054 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:10.054 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:10.054 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:10.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.6398ms
2025-09-18 01:08:10.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - null null
2025-09-18 01:08:10.055 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:10.055 +03:00 [DBG] Endpoint 'HTTP: GET api/query/profile/{Id}' with route pattern 'api/query/profile/{Id}' is valid for the request path '/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b'
2025-09-18 01:08:10.055 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:10.055 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:10.055 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:10.055 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:10.056 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:10.056 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:10.056 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:10.056 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:10.056 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.056 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:10.056 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.057 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.057 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.057 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:10.057 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:10.057 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.057 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:10.057 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.057 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:10.057 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:10.058 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:10.058 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.058 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:10.058 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:10.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.058 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:10.058 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.058 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:10.058 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:10.058 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:10.059 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:10.059 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/profile/{Id}'
2025-09-18 01:08:10.059 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:10.059 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:10.059 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:10.059 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:10.059 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/profile/d3884545-fe29-4eb6-a509-592db9ed595b - 200 null application/json; charset=utf-8 3.8172ms
2025-09-18 01:08:16.545 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/profiles - null null
2025-09-18 01:08:16.545 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profiles'
2025-09-18 01:08:16.545 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/profiles'
2025-09-18 01:08:16.545 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:16.545 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:16.545 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/profiles'
2025-09-18 01:08:16.546 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:16.547 +03:00 [INF] Listing all profiles
2025-09-18 01:08:16.551 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .AsNoTracking()'
2025-09-18 01:08:16.551 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-09-18 01:08:16.567 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Profile>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
            3 -> 9
        SELECT p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
        FROM Profiles AS p
        LEFT JOIN Queries AS q ON p.Id == q.ProfileId
        ORDER BY p.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.DatabaseName (string) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6], [Property: Profile.UserInfoId (Guid?) FK Index, 7], [Property: Profile.UserInfoId1 (no field, Guid?) Shadow FK Index, 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Query.ProfileId (Guid) Required FK Index, 10], [Property: Query.ResultJson (string) Required, 11], [Property: Query.SqlQuery (string) Required, 12], [Property: Query.TimestampUtc (DateTime) Required, 13], [Property: Query.UserQuery (string) Required, 14] }
            3 -> 9
        SELECT p.Id, p.CacheFile, p.CreatedUtc, p.DatabaseName, p.Name, p.Provider, p.SecretRef, p.UserInfoId, p.UserInfoId1, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
        FROM Profiles AS p
        LEFT JOIN Queries AS q ON p.Id == q.ProfileId
        ORDER BY p.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Profile entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Profile instance1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Profile);
                (object)dataReader.GetGuid(0) != null ? 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                            {
                                return 
                                {
                                    Profile instance;
                                    instance = new Profile();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                    instance.<DatabaseName>k__BackingField = dataReader.GetString(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                    instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                    instance.<UserInfoId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid?) : (Guid?)dataReader.GetGuid(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: NoTracking, 
                                        structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Profile)
                    }
                    ;
                    return instance1;
                } : 
                {
                    object[] keyValues1;
                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                        entityType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")], 
                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey().Properties], 
                        keyValues: keyValues1);
                };
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Profile)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                trackingQuery: False, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(Guid?) : (Guid?)dataReader.GetGuid(9) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Query entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Query instance2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Query);
                    dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetGuid(9) != null ? 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                {
                                    return 
                                    {
                                        Query instance;
                                        instance = new Query();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(Guid) : dataReader.GetGuid(9);
                                        instance.<ProfileId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid) : dataReader.GetGuid(10);
                                        instance.<ResultJson>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                        instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime) : dataReader.GetDateTime(13);
                                        instance.<UserQuery>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: NoTracking, 
                                            structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Query)
                        }
                        ;
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{12}, 
                    forMaterialization: True);
                return namelessParameter{12}.<Profile>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: False);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Profile)(resultContext.Values[0]) : default(Profile);
    }, 
    contextType: NaturalToQuery.Infrastructure.Persistence.ContextDB, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-18 01:08:16.570 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:16.570 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:16.570 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:16.571 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:16.571 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.571 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.571 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-18 01:08:16.571 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-18 01:08:16.573 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.573 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 2ms reading results.
2025-09-18 01:08:16.574 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.574 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:16.574 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:16.574 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:16.574 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:16.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.574 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:16.574 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:16.574 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:16.575 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:16.575 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.575 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:16.575 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.575 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:16.575 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:16.576 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/profiles'
2025-09-18 01:08:16.576 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:16.576 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:16.576 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:16.576 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:16.576 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/profiles - 200 null application/json; charset=utf-8 31.5536ms
2025-09-18 01:08:16.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/setup/profiles - null null
2025-09-18 01:08:16.578 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profiles'
2025-09-18 01:08:16.578 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/profiles'
2025-09-18 01:08:16.578 +03:00 [DBG] The request has an origin header: 'http://127.0.0.1:5174'.
2025-09-18 01:08:16.578 +03:00 [INF] CORS policy execution successful.
2025-09-18 01:08:16.578 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/profiles'
2025-09-18 01:08:16.579 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ContextDB' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-09-18 01:08:16.579 +03:00 [INF] Listing all profiles
2025-09-18 01:08:16.579 +03:00 [DBG] Creating DbConnection.
2025-09-18 01:08:16.579 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-18 01:08:16.579 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:16.580 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.580 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:16.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.580 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-18 01:08:16.580 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM "Profiles" AS "p"
LEFT JOIN "Queries" AS "q" ON "p"."Id" = "q"."ProfileId"
ORDER BY "p"."Id"
2025-09-18 01:08:16.580 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.580 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:16.580 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.580 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:16.580 +03:00 [INF] Fetching connection string for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:16.581 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:16.581 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.581 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-18 01:08:16.581 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.581 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-18 01:08:16.581 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:16.581 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."DatabaseName", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "p0"."UserInfoId", "p0"."UserInfoId1", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."DatabaseName", "p"."Name", "p"."Provider", "p"."SecretRef", "p"."UserInfoId", "p"."UserInfoId1"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-09-18 01:08:16.581 +03:00 [DBG] Context 'ContextDB' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:16.581 +03:00 [DBG] Context 'ContextDB' started tracking 'Query' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-18 01:08:16.581 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.581 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db' is being disposed after spending 0ms reading results.
2025-09-18 01:08:16.581 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\NaturalToSql.UI\db-ql-ui\api_publish\schema_cache.db'.
2025-09-18 01:08:16.581 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:16.582 +03:00 [DBG] Fetched secret for profile "d3884545-fe29-4eb6-a509-592db9ed595b"
2025-09-18 01:08:16.582 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/profiles'
2025-09-18 01:08:16.582 +03:00 [DBG] Connection id "0HNFM6PAJINKE" completed keep alive response.
2025-09-18 01:08:16.582 +03:00 [DBG] 'ContextDB' disposed.
2025-09-18 01:08:16.582 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-09-18 01:08:16.582 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-09-18 01:08:16.582 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/setup/profiles - 200 null application/json; charset=utf-8 4.3554ms
