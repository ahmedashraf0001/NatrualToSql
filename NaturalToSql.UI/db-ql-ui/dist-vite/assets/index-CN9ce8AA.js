(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=s(l);fetch(l.href,d)}})();function mx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bu={exports:{}},hi={},Hu={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function eb(){if(np)return tt;np=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function j(T,Q,fe){this.props=T,this.context=Q,this.refs=N,this.updater=fe||C}j.prototype.isReactComponent={},j.prototype.setState=function(T,Q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,Q,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function O(){}O.prototype=j.prototype;function D(T,Q,fe){this.props=T,this.context=Q,this.refs=N,this.updater=fe||C}var L=D.prototype=new O;L.constructor=D,S(L,j.prototype),L.isPureReactComponent=!0;var _=Array.isArray,F=Object.prototype.hasOwnProperty,A={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function z(T,Q,fe){var ve,G={},ee=null,we=null;if(Q!=null)for(ve in Q.ref!==void 0&&(we=Q.ref),Q.key!==void 0&&(ee=""+Q.key),Q)F.call(Q,ve)&&!ne.hasOwnProperty(ve)&&(G[ve]=Q[ve]);var Y=arguments.length-2;if(Y===1)G.children=fe;else if(1<Y){for(var ke=Array(Y),H=0;H<Y;H++)ke[H]=arguments[H+2];G.children=ke}if(T&&T.defaultProps)for(ve in Y=T.defaultProps,Y)G[ve]===void 0&&(G[ve]=Y[ve]);return{$$typeof:t,type:T,key:ee,ref:we,props:G,_owner:A.current}}function X(T,Q){return{$$typeof:t,type:T.type,key:Q,ref:T.ref,props:T.props,_owner:T._owner}}function U(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function re(T){var Q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(fe){return Q[fe]})}var Z=/\/+/g;function me(T,Q){return typeof T=="object"&&T!==null&&T.key!=null?re(""+T.key):Q.toString(36)}function xe(T,Q,fe,ve,G){var ee=typeof T;(ee==="undefined"||ee==="boolean")&&(T=null);var we=!1;if(T===null)we=!0;else switch(ee){case"string":case"number":we=!0;break;case"object":switch(T.$$typeof){case t:case n:we=!0}}if(we)return we=T,G=G(we),T=ve===""?"."+me(we,0):ve,_(G)?(fe="",T!=null&&(fe=T.replace(Z,"$&/")+"/"),xe(G,Q,fe,"",function(H){return H})):G!=null&&(U(G)&&(G=X(G,fe+(!G.key||we&&we.key===G.key?"":(""+G.key).replace(Z,"$&/")+"/")+T)),Q.push(G)),1;if(we=0,ve=ve===""?".":ve+":",_(T))for(var Y=0;Y<T.length;Y++){ee=T[Y];var ke=ve+me(ee,Y);we+=xe(ee,Q,fe,ke,G)}else if(ke=b(T),typeof ke=="function")for(T=ke.call(T),Y=0;!(ee=T.next()).done;)ee=ee.value,ke=ve+me(ee,Y++),we+=xe(ee,Q,fe,ke,G);else if(ee==="object")throw Q=String(T),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return we}function se(T,Q,fe){if(T==null)return T;var ve=[],G=0;return xe(T,ve,"","",function(ee){return Q.call(fe,ee,G++)}),ve}function pe(T){if(T._status===-1){var Q=T._result;Q=Q(),Q.then(function(fe){(T._status===0||T._status===-1)&&(T._status=1,T._result=fe)},function(fe){(T._status===0||T._status===-1)&&(T._status=2,T._result=fe)}),T._status===-1&&(T._status=0,T._result=Q)}if(T._status===1)return T._result.default;throw T._result}var ue={current:null},$={transition:null},ce={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:$,ReactCurrentOwner:A};function ae(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:se,forEach:function(T,Q,fe){se(T,function(){Q.apply(this,arguments)},fe)},count:function(T){var Q=0;return se(T,function(){Q++}),Q},toArray:function(T){return se(T,function(Q){return Q})||[]},only:function(T){if(!U(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},tt.Component=j,tt.Fragment=s,tt.Profiler=l,tt.PureComponent=D,tt.StrictMode=i,tt.Suspense=h,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,tt.act=ae,tt.cloneElement=function(T,Q,fe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ve=S({},T.props),G=T.key,ee=T.ref,we=T._owner;if(Q!=null){if(Q.ref!==void 0&&(ee=Q.ref,we=A.current),Q.key!==void 0&&(G=""+Q.key),T.type&&T.type.defaultProps)var Y=T.type.defaultProps;for(ke in Q)F.call(Q,ke)&&!ne.hasOwnProperty(ke)&&(ve[ke]=Q[ke]===void 0&&Y!==void 0?Y[ke]:Q[ke])}var ke=arguments.length-2;if(ke===1)ve.children=fe;else if(1<ke){Y=Array(ke);for(var H=0;H<ke;H++)Y[H]=arguments[H+2];ve.children=Y}return{$$typeof:t,type:T.type,key:G,ref:ee,props:ve,_owner:we}},tt.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:d,_context:T},T.Consumer=T},tt.createElement=z,tt.createFactory=function(T){var Q=z.bind(null,T);return Q.type=T,Q},tt.createRef=function(){return{current:null}},tt.forwardRef=function(T){return{$$typeof:m,render:T}},tt.isValidElement=U,tt.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:pe}},tt.memo=function(T,Q){return{$$typeof:g,type:T,compare:Q===void 0?null:Q}},tt.startTransition=function(T){var Q=$.transition;$.transition={};try{T()}finally{$.transition=Q}},tt.unstable_act=ae,tt.useCallback=function(T,Q){return ue.current.useCallback(T,Q)},tt.useContext=function(T){return ue.current.useContext(T)},tt.useDebugValue=function(){},tt.useDeferredValue=function(T){return ue.current.useDeferredValue(T)},tt.useEffect=function(T,Q){return ue.current.useEffect(T,Q)},tt.useId=function(){return ue.current.useId()},tt.useImperativeHandle=function(T,Q,fe){return ue.current.useImperativeHandle(T,Q,fe)},tt.useInsertionEffect=function(T,Q){return ue.current.useInsertionEffect(T,Q)},tt.useLayoutEffect=function(T,Q){return ue.current.useLayoutEffect(T,Q)},tt.useMemo=function(T,Q){return ue.current.useMemo(T,Q)},tt.useReducer=function(T,Q,fe){return ue.current.useReducer(T,Q,fe)},tt.useRef=function(T){return ue.current.useRef(T)},tt.useState=function(T){return ue.current.useState(T)},tt.useSyncExternalStore=function(T,Q,fe){return ue.current.useSyncExternalStore(T,Q,fe)},tt.useTransition=function(){return ue.current.useTransition()},tt.version="18.3.1",tt}var rp;function Bd(){return rp||(rp=1,Hu.exports=eb()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function tb(){if(sp)return hi;sp=1;var t=Bd(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(m,h,g){var x,y={},b=null,C=null;g!==void 0&&(b=""+g),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(C=h.ref);for(x in h)i.call(h,x)&&!d.hasOwnProperty(x)&&(y[x]=h[x]);if(m&&m.defaultProps)for(x in h=m.defaultProps,h)y[x]===void 0&&(y[x]=h[x]);return{$$typeof:n,type:m,key:b,ref:C,props:y,_owner:l.current}}return hi.Fragment=s,hi.jsx=u,hi.jsxs=u,hi}var op;function nb(){return op||(op=1,Bu.exports=tb()),Bu.exports}var o=nb(),v=Bd();const Jt=mx(v);var cl={},Wu={exports:{}},un={},Gu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function rb(){return ip||(ip=1,(function(t){function n($,ce){var ae=$.length;$.push(ce);e:for(;0<ae;){var T=ae-1>>>1,Q=$[T];if(0<l(Q,ce))$[T]=ce,$[ae]=Q,ae=T;else break e}}function s($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ce=$[0],ae=$.pop();if(ae!==ce){$[0]=ae;e:for(var T=0,Q=$.length,fe=Q>>>1;T<fe;){var ve=2*(T+1)-1,G=$[ve],ee=ve+1,we=$[ee];if(0>l(G,ae))ee<Q&&0>l(we,G)?($[T]=we,$[ee]=ae,T=ee):($[T]=G,$[ve]=ae,T=ve);else if(ee<Q&&0>l(we,ae))$[T]=we,$[ee]=ae,T=ee;else break e}}return ce}function l($,ce){var ae=$.sortIndex-ce.sortIndex;return ae!==0?ae:$.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var h=[],g=[],x=1,y=null,b=3,C=!1,S=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L($){for(var ce=s(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=$)i(g),ce.sortIndex=ce.expirationTime,n(h,ce);else break;ce=s(g)}}function _($){if(N=!1,L($),!S)if(s(h)!==null)S=!0,pe(F);else{var ce=s(g);ce!==null&&ue(_,ce.startTime-$)}}function F($,ce){S=!1,N&&(N=!1,O(z),z=-1),C=!0;var ae=b;try{for(L(ce),y=s(h);y!==null&&(!(y.expirationTime>ce)||$&&!re());){var T=y.callback;if(typeof T=="function"){y.callback=null,b=y.priorityLevel;var Q=T(y.expirationTime<=ce);ce=t.unstable_now(),typeof Q=="function"?y.callback=Q:y===s(h)&&i(h),L(ce)}else i(h);y=s(h)}if(y!==null)var fe=!0;else{var ve=s(g);ve!==null&&ue(_,ve.startTime-ce),fe=!1}return fe}finally{y=null,b=ae,C=!1}}var A=!1,ne=null,z=-1,X=5,U=-1;function re(){return!(t.unstable_now()-U<X)}function Z(){if(ne!==null){var $=t.unstable_now();U=$;var ce=!0;try{ce=ne(!0,$)}finally{ce?me():(A=!1,ne=null)}}else A=!1}var me;if(typeof D=="function")me=function(){D(Z)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,se=xe.port2;xe.port1.onmessage=Z,me=function(){se.postMessage(null)}}else me=function(){j(Z,0)};function pe($){ne=$,A||(A=!0,me())}function ue($,ce){z=j(function(){$(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||C||(S=!0,pe(F))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return s(h)},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ae=b;b=ce;try{return $()}finally{b=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=b;b=$;try{return ce()}finally{b=ae}},t.unstable_scheduleCallback=function($,ce,ae){var T=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?T+ae:T):ae=T,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,$={id:x++,callback:ce,priorityLevel:$,startTime:ae,expirationTime:Q,sortIndex:-1},ae>T?($.sortIndex=ae,n(g,$),s(h)===null&&$===s(g)&&(N?(O(z),z=-1):N=!0,ue(_,ae-T))):($.sortIndex=Q,n(h,$),S||C||(S=!0,pe(F))),$},t.unstable_shouldYield=re,t.unstable_wrapCallback=function($){var ce=b;return function(){var ae=b;b=ce;try{return $.apply(this,arguments)}finally{b=ae}}}})(Qu)),Qu}var ap;function sb(){return ap||(ap=1,Gu.exports=rb()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function ob(){if(lp)return un;lp=1;var t=Bd(),n=sb();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function d(e,r){u(e,r),u(e+"Capture",r)}function u(e,r){for(l[e]=r,e=0;e<r.length;e++)i.add(r[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function b(e){return h.call(y,e)?!0:h.call(x,e)?!1:g.test(e)?y[e]=!0:(x[e]=!0,!1)}function C(e,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,r,a,c){if(r===null||typeof r>"u"||C(e,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function N(e,r,a,c,f,p,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];j[r]=new N(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(O,D);j[r]=new N(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(O,D);j[r]=new N(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(O,D);j[r]=new N(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,r,a,c){var f=j.hasOwnProperty(r)?j[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,a,f,c)&&(a=null),c||f===null?b(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):f.mustUseProperty?e[f.propertyName]=a===null?f.type===3?!1:"":a:(r=f.attributeName,c=f.attributeNamespace,a===null?e.removeAttribute(r):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?e.setAttributeNS(c,r,a):e.setAttribute(r,a))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),A=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),re=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),$=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,T;function Q(e){if(T===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);T=r&&r[1]||""}return`
`+T+e}var fe=!1;function ve(e,r){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var c=B}Reflect.construct(e,[],r)}else{try{r.call()}catch(B){c=B}e.call(r.prototype)}else{try{throw Error()}catch(B){c=B}e()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),p=c.stack.split(`
`),w=f.length-1,k=p.length-1;1<=w&&0<=k&&f[w]!==p[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==p[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==p[k]){var E=`
`+f[w].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=w&&0<=k);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Q(e):""}function G(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case A:return"Portal";case X:return"Profiler";case z:return"StrictMode";case me:return"Suspense";case xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case re:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case Z:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return r=e.displayName||null,r!==null?r:ee(e.type)||"Memo";case pe:r=e._payload,e=e._init;try{return ee(e(r))}catch{}}return null}function we(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(r);case 8:return r===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function H(e){var r=ke(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),c=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Oe(e){e._valueTracker||(e._valueTracker=H(e))}function Ke(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return e&&(c=ke(e)?e.checked?"true":"false":e.value),e=c,e!==a?(r.setValue(e),!0):!1}function Ye(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _e(e,r){var a=r.checked;return ae({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function wt(e,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Y(r.value!=null?r.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ht(e,r){r=r.checked,r!=null&&L(e,"checked",r,!1)}function Rt(e,r){ht(e,r);var a=Y(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Ee(e,r.type,a):r.hasOwnProperty("defaultValue")&&Ee(e,r.type,Y(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function jt(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Ee(e,r,a){(r!=="number"||Ye(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Re=Array.isArray;function Ze(e,r,a,c){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Y(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function rt(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return ae({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function M(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(Re(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:Y(a)}}function de(e,r){var a=Y(r.value),c=Y(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function K(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function ye(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?ye(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qe,qe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,f){MSApp.execUnsafeLocalFunction(function(){return e(r,a,c,f)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function We(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(e){st.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),pt[r]=pt[e]})});function Je(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||pt.hasOwnProperty(e)&&pt[e]?(""+r).trim():r+"px"}function ut(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Je(a,r[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,f):e[a]=f}}var pn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(e,r){if(r){if(pn[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function zn(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,Sr=null,kr=null;function Zi(e){if(e=Zo(e)){if(typeof is!="function")throw Error(s(280));var r=e.stateNode;r&&(r=Sa(r),is(e.stateNode,e.type,r))}}function ea(e){Sr?kr?kr.push(e):kr=[e]:Sr=e}function as(){if(Sr){var e=Sr,r=kr;if(kr=Sr=null,Zi(e),r)for(e=0;e<r.length;e++)Zi(r[e])}}function ls(e,r){return e(r)}function ta(){}var Cr=!1;function cs(e,r,a){if(Cr)return e(r,a);Cr=!0;try{return ls(e,r,a)}finally{Cr=!1,(Sr!==null||kr!==null)&&(ta(),as())}}function Pr(e,r){var a=e.stateNode;if(a===null)return null;var c=Sa(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qs=!1;if(m)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{qs=!1}function us(e,r,a,c,f,p,w,k,E){var B=Array.prototype.slice.call(arguments,3);try{r.apply(a,B)}catch(ie){this.onError(ie)}}var Fn=!1,sr=null,Sn=!1,Kn=null,kn={onError:function(e){Fn=!0,sr=e}};function cc(e,r,a,c,f,p,w,k,E){Fn=!1,sr=null,us.apply(kn,arguments)}function Ct(e,r,a,c,f,p,w,k,E){if(cc.apply(this,arguments),Fn){if(Fn){var B=sr;Fn=!1,sr=null}else throw Error(s(198));Sn||(Sn=!0,Kn=B)}}function Cn(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function na(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Tr(e){if(Cn(e)!==e)throw Error(s(188))}function Mo(e){var r=e.alternate;if(!r){if(r=Cn(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,c=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return Tr(f),e;if(p===c)return Tr(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==c.return)a=f,c=p;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,c=p;break}if(k===c){w=!0,c=f,a=p;break}k=k.sibling}if(!w){for(k=p.child;k;){if(k===a){w=!0,a=p,c=f;break}if(k===c){w=!0,c=p,a=f;break}k=k.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function Ro(e){return e=Mo(e),e!==null?ra(e):null}function ra(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=ra(e);if(r!==null)return r;e=e.sibling}return null}var sa=n.unstable_scheduleCallback,oa=n.unstable_cancelCallback,uc=n.unstable_shouldYield,ds=n.unstable_requestPaint,P=n.unstable_now,J=n.unstable_getCurrentPriorityLevel,te=n.unstable_ImmediatePriority,ge=n.unstable_UserBlockingPriority,Ie=n.unstable_NormalPriority,be=n.unstable_LowPriority,Ue=n.unstable_IdlePriority,Ge=null,dt=null;function en(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ge,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:yv,gv=Math.log,xv=Math.LN2;function yv(e){return e>>>=0,e===0?32:31-(gv(e)/xv|0)|0}var ia=64,aa=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function la(e,r){var a=e.pendingLanes;if(a===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes,w=a&268435455;if(w!==0){var k=w&~f;k!==0?c=Do(k):(p&=w,p!==0&&(c=Do(p)))}else w=a&~f,w!==0?c=Do(w):p!==0&&(c=Do(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=c;0<r;)a=31-Bt(r),f=1<<a,c|=e[a],r&=~f;return c}function vv(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wv(e,r){for(var a=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Bt(p),k=1<<w,E=f[w];E===-1?((k&a)===0||(k&c)!==0)&&(f[w]=vv(k,r)):E<=r&&(e.expiredLanes|=k),p&=~k}}function dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Im(){var e=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),e}function mc(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Oo(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Bt(r),e[r]=a}function bv(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var f=31-Bt(a),p=1<<f;r[f]=0,c[f]=-1,e[f]=-1,a&=~p}}function fc(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var c=31-Bt(a),f=1<<c;f&r|e[c]&r&&(e[c]|=r),a&=~f}}var mt=0;function Mm(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Rm,hc,Dm,Om,_m,pc=!1,ca=[],Ar=null,Er=null,Lr=null,_o=new Map,zo=new Map,Ir=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zm(e,r){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":_o.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(r.pointerId)}}function Fo(e,r,a,c,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Zo(r),r!==null&&hc(r)),e):(e.eventSystemFlags|=c,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function Nv(e,r,a,c,f){switch(r){case"focusin":return Ar=Fo(Ar,e,r,a,c,f),!0;case"dragenter":return Er=Fo(Er,e,r,a,c,f),!0;case"mouseover":return Lr=Fo(Lr,e,r,a,c,f),!0;case"pointerover":var p=f.pointerId;return _o.set(p,Fo(_o.get(p)||null,e,r,a,c,f)),!0;case"gotpointercapture":return p=f.pointerId,zo.set(p,Fo(zo.get(p)||null,e,r,a,c,f)),!0}return!1}function Fm(e){var r=ms(e.target);if(r!==null){var a=Cn(r);if(a!==null){if(r=a.tag,r===13){if(r=na(a),r!==null){e.blockedOn=r,_m(e.priority,function(){Dm(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=xc(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);$s=c,a.target.dispatchEvent(c),$s=null}else return r=Zo(a),r!==null&&hc(r),e.blockedOn=a,!1;r.shift()}return!0}function Vm(e,r,a){ua(e)&&a.delete(r)}function Sv(){pc=!1,Ar!==null&&ua(Ar)&&(Ar=null),Er!==null&&ua(Er)&&(Er=null),Lr!==null&&ua(Lr)&&(Lr=null),_o.forEach(Vm),zo.forEach(Vm)}function Vo(e,r){e.blockedOn===r&&(e.blockedOn=null,pc||(pc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sv)))}function Uo(e){function r(f){return Vo(f,e)}if(0<ca.length){Vo(ca[0],e);for(var a=1;a<ca.length;a++){var c=ca[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Ar!==null&&Vo(Ar,e),Er!==null&&Vo(Er,e),Lr!==null&&Vo(Lr,e),_o.forEach(r),zo.forEach(r),a=0;a<Ir.length;a++)c=Ir[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)Fm(a),a.blockedOn===null&&Ir.shift()}var Bs=_.ReactCurrentBatchConfig,da=!0;function kv(e,r,a,c){var f=mt,p=Bs.transition;Bs.transition=null;try{mt=1,gc(e,r,a,c)}finally{mt=f,Bs.transition=p}}function Cv(e,r,a,c){var f=mt,p=Bs.transition;Bs.transition=null;try{mt=4,gc(e,r,a,c)}finally{mt=f,Bs.transition=p}}function gc(e,r,a,c){if(da){var f=xc(e,r,a,c);if(f===null)Rc(e,r,c,ma,a),zm(e,c);else if(Nv(f,e,r,a,c))c.stopPropagation();else if(zm(e,c),r&4&&-1<jv.indexOf(e)){for(;f!==null;){var p=Zo(f);if(p!==null&&Rm(p),p=xc(e,r,a,c),p===null&&Rc(e,r,c,ma,a),p===f)break;f=p}f!==null&&c.stopPropagation()}else Rc(e,r,c,null,a)}}var ma=null;function xc(e,r,a,c){if(ma=null,e=os(c),e=ms(e),e!==null)if(r=Cn(e),r===null)e=null;else if(a=r.tag,a===13){if(e=na(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return ma=e,null}function Um(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J()){case te:return 1;case ge:return 4;case Ie:case be:return 16;case Ue:return 536870912;default:return 16}default:return 16}}var Mr=null,yc=null,fa=null;function $m(){if(fa)return fa;var e,r=yc,a=r.length,c,f="value"in Mr?Mr.value:Mr.textContent,p=f.length;for(e=0;e<a&&r[e]===f[e];e++);var w=a-e;for(c=1;c<=w&&r[a-c]===f[p-c];c++);return fa=f.slice(e,1<c?1-c:void 0)}function ha(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function pa(){return!0}function qm(){return!1}function xn(e){function r(a,c,f,p,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(a=e[k],this[k]=a?a(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pa:qm,this.isPropagationStopped=qm,this}return ae(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),r}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=xn(Hs),$o=ae({},Hs,{view:0,detail:0}),Pv=xn($o),wc,bc,qo,ga=ae({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(wc=e.screenX-qo.screenX,bc=e.screenY-qo.screenY):bc=wc=0,qo=e),wc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),Bm=xn(ga),Tv=ae({},ga,{dataTransfer:0}),Av=xn(Tv),Ev=ae({},$o,{relatedTarget:0}),jc=xn(Ev),Lv=ae({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=xn(Lv),Mv=ae({},Hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rv=xn(Mv),Dv=ae({},Hs,{data:0}),Hm=xn(Dv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=zv[e])?!!r[e]:!1}function Nc(){return Fv}var Vv=ae({},$o,{key:function(e){if(e.key){var r=Ov[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uv=xn(Vv),$v=ae({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=xn($v),qv=ae({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),Bv=xn(qv),Hv=ae({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wv=xn(Hv),Gv=ae({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qv=xn(Gv),Kv=[9,13,27,32],Sc=m&&"CompositionEvent"in window,Bo=null;m&&"documentMode"in document&&(Bo=document.documentMode);var Yv=m&&"TextEvent"in window&&!Bo,Gm=m&&(!Sc||Bo&&8<Bo&&11>=Bo),Qm=" ",Km=!1;function Ym(e,r){switch(e){case"keyup":return Kv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ws=!1;function Xv(e,r){switch(e){case"compositionend":return Xm(r);case"keypress":return r.which!==32?null:(Km=!0,Qm);case"textInput":return e=r.data,e===Qm&&Km?null:e;default:return null}}function Jv(e,r){if(Ws)return e==="compositionend"||!Sc&&Ym(e,r)?(e=$m(),fa=yc=Mr=null,Ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gm&&r.locale!=="ko"?null:r.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Zv[e.type]:r==="textarea"}function Zm(e,r,a,c){ea(c),r=ba(r,"onChange"),0<r.length&&(a=new vc("onChange","change",null,a,c),e.push({event:a,listeners:r}))}var Ho=null,Wo=null;function ew(e){yf(e,0)}function xa(e){var r=Xs(e);if(Ke(r))return e}function tw(e,r){if(e==="change")return r}var ef=!1;if(m){var kc;if(m){var Cc="oninput"in document;if(!Cc){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Cc=typeof tf.oninput=="function"}kc=Cc}else kc=!1;ef=kc&&(!document.documentMode||9<document.documentMode)}function nf(){Ho&&(Ho.detachEvent("onpropertychange",rf),Wo=Ho=null)}function rf(e){if(e.propertyName==="value"&&xa(Wo)){var r=[];Zm(r,Wo,e,os(e)),cs(ew,r)}}function nw(e,r,a){e==="focusin"?(nf(),Ho=r,Wo=a,Ho.attachEvent("onpropertychange",rf)):e==="focusout"&&nf()}function rw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(Wo)}function sw(e,r){if(e==="click")return xa(r)}function ow(e,r){if(e==="input"||e==="change")return xa(r)}function iw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Vn=typeof Object.is=="function"?Object.is:iw;function Go(e,r){if(Vn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(r,f)||!Vn(e[f],r[f]))return!1}return!0}function sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function of(e,r){var a=sf(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=r&&c>=r)return{node:a,offset:r-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sf(a)}}function af(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?af(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function lf(){for(var e=window,r=Ye();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ye(e.document)}return r}function Pc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function aw(e){var r=lf(),a=e.focusedElem,c=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&af(a.ownerDocument.documentElement,a)){if(c!==null&&Pc(a)){if(r=c.start,e=c.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var f=a.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!e.extend&&p>c&&(f=c,c=p,p=f),f=of(a,p);var w=of(a,c);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),e.removeAllRanges(),p>c?(e.addRange(r),e.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lw=m&&"documentMode"in document&&11>=document.documentMode,Gs=null,Tc=null,Qo=null,Ac=!1;function cf(e,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ac||Gs==null||Gs!==Ye(c)||(c=Gs,"selectionStart"in c&&Pc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qo&&Go(Qo,c)||(Qo=c,c=ba(Tc,"onSelect"),0<c.length&&(r=new vc("onSelect","select",null,r,a),e.push({event:r,listeners:c}),r.target=Gs)))}function ya(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Qs={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Ec={},uf={};m&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function va(e){if(Ec[e])return Ec[e];if(!Qs[e])return e;var r=Qs[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in uf)return Ec[e]=r[a];return e}var df=va("animationend"),mf=va("animationiteration"),ff=va("animationstart"),hf=va("transitionend"),pf=new Map,gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,r){pf.set(e,r),d(r,[e])}for(var Lc=0;Lc<gf.length;Lc++){var Ic=gf[Lc],cw=Ic.toLowerCase(),uw=Ic[0].toUpperCase()+Ic.slice(1);Rr(cw,"on"+uw)}Rr(df,"onAnimationEnd"),Rr(mf,"onAnimationIteration"),Rr(ff,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(hf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function xf(e,r,a){var c=e.type||"unknown-event";e.currentTarget=a,Ct(c,r,void 0,e),e.currentTarget=null}function yf(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var w=c.length-1;0<=w;w--){var k=c[w],E=k.instance,B=k.currentTarget;if(k=k.listener,E!==p&&f.isPropagationStopped())break e;xf(f,k,B),p=E}else for(w=0;w<c.length;w++){if(k=c[w],E=k.instance,B=k.currentTarget,k=k.listener,E!==p&&f.isPropagationStopped())break e;xf(f,k,B),p=E}}}if(Sn)throw e=Kn,Sn=!1,Kn=null,e}function xt(e,r){var a=r[Vc];a===void 0&&(a=r[Vc]=new Set);var c=e+"__bubble";a.has(c)||(vf(r,e,2,!1),a.add(c))}function Mc(e,r,a){var c=0;r&&(c|=4),vf(a,e,c,r)}var wa="_reactListening"+Math.random().toString(36).slice(2);function Yo(e){if(!e[wa]){e[wa]=!0,i.forEach(function(a){a!=="selectionchange"&&(dw.has(a)||Mc(a,!1,e),Mc(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[wa]||(r[wa]=!0,Mc("selectionchange",!1,r))}}function vf(e,r,a,c){switch(Um(r)){case 1:var f=kv;break;case 4:f=Cv;break;default:f=gc}a=f.bind(null,r,a,e),f=void 0,!qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function Rc(e,r,a,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===f||E.nodeType===8&&E.parentNode===f))return;w=w.return}for(;k!==null;){if(w=ms(k),w===null)return;if(E=w.tag,E===5||E===6){c=p=w;continue e}k=k.parentNode}}c=c.return}cs(function(){var B=p,ie=os(a),le=[];e:{var oe=pf.get(e);if(oe!==void 0){var Ne=vc,Ce=e;switch(e){case"keypress":if(ha(a)===0)break e;case"keydown":case"keyup":Ne=Uv;break;case"focusin":Ce="focus",Ne=jc;break;case"focusout":Ce="blur",Ne=jc;break;case"beforeblur":case"afterblur":Ne=jc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Bv;break;case df:case mf:case ff:Ne=Iv;break;case hf:Ne=Wv;break;case"scroll":Ne=Pv;break;case"wheel":Ne=Qv;break;case"copy":case"cut":case"paste":Ne=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Wm}var Le=(r&4)!==0,Tt=!Le&&e==="scroll",V=Le?oe!==null?oe+"Capture":null:oe;Le=[];for(var I=B,q;I!==null;){q=I;var he=q.stateNode;if(q.tag===5&&he!==null&&(q=he,V!==null&&(he=Pr(I,V),he!=null&&Le.push(Xo(I,he,q)))),Tt)break;I=I.return}0<Le.length&&(oe=new Ne(oe,Ce,null,a,ie),le.push({event:oe,listeners:Le}))}}if((r&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",Ne=e==="mouseout"||e==="pointerout",oe&&a!==$s&&(Ce=a.relatedTarget||a.fromElement)&&(ms(Ce)||Ce[or]))break e;if((Ne||oe)&&(oe=ie.window===ie?ie:(oe=ie.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ne?(Ce=a.relatedTarget||a.toElement,Ne=B,Ce=Ce?ms(Ce):null,Ce!==null&&(Tt=Cn(Ce),Ce!==Tt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Ne=null,Ce=B),Ne!==Ce)){if(Le=Bm,he="onMouseLeave",V="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Le=Wm,he="onPointerLeave",V="onPointerEnter",I="pointer"),Tt=Ne==null?oe:Xs(Ne),q=Ce==null?oe:Xs(Ce),oe=new Le(he,I+"leave",Ne,a,ie),oe.target=Tt,oe.relatedTarget=q,he=null,ms(ie)===B&&(Le=new Le(V,I+"enter",Ce,a,ie),Le.target=q,Le.relatedTarget=Tt,he=Le),Tt=he,Ne&&Ce)t:{for(Le=Ne,V=Ce,I=0,q=Le;q;q=Ks(q))I++;for(q=0,he=V;he;he=Ks(he))q++;for(;0<I-q;)Le=Ks(Le),I--;for(;0<q-I;)V=Ks(V),q--;for(;I--;){if(Le===V||V!==null&&Le===V.alternate)break t;Le=Ks(Le),V=Ks(V)}Le=null}else Le=null;Ne!==null&&wf(le,oe,Ne,Le,!1),Ce!==null&&Tt!==null&&wf(le,Tt,Ce,Le,!0)}}e:{if(oe=B?Xs(B):window,Ne=oe.nodeName&&oe.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&oe.type==="file")var Me=tw;else if(Jm(oe))if(ef)Me=ow;else{Me=rw;var ze=nw}else(Ne=oe.nodeName)&&Ne.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Me=sw);if(Me&&(Me=Me(e,B))){Zm(le,Me,a,ie);break e}ze&&ze(e,oe,B),e==="focusout"&&(ze=oe._wrapperState)&&ze.controlled&&oe.type==="number"&&Ee(oe,"number",oe.value)}switch(ze=B?Xs(B):window,e){case"focusin":(Jm(ze)||ze.contentEditable==="true")&&(Gs=ze,Tc=B,Qo=null);break;case"focusout":Qo=Tc=Gs=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,cf(le,a,ie);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":cf(le,a,ie)}var Fe;if(Sc)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ws?Ym(e,a)&&(Be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Gm&&a.locale!=="ko"&&(Ws||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ws&&(Fe=$m()):(Mr=ie,yc="value"in Mr?Mr.value:Mr.textContent,Ws=!0)),ze=ba(B,Be),0<ze.length&&(Be=new Hm(Be,e,null,a,ie),le.push({event:Be,listeners:ze}),Fe?Be.data=Fe:(Fe=Xm(a),Fe!==null&&(Be.data=Fe)))),(Fe=Yv?Xv(e,a):Jv(e,a))&&(B=ba(B,"onBeforeInput"),0<B.length&&(ie=new Hm("onBeforeInput","beforeinput",null,a,ie),le.push({event:ie,listeners:B}),ie.data=Fe))}yf(le,r)})}function Xo(e,r,a){return{instance:e,listener:r,currentTarget:a}}function ba(e,r){for(var a=r+"Capture",c=[];e!==null;){var f=e,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=Pr(e,a),p!=null&&c.unshift(Xo(e,p,f)),p=Pr(e,r),p!=null&&c.push(Xo(e,p,f))),e=e.return}return c}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,r,a,c,f){for(var p=r._reactName,w=[];a!==null&&a!==c;){var k=a,E=k.alternate,B=k.stateNode;if(E!==null&&E===c)break;k.tag===5&&B!==null&&(k=B,f?(E=Pr(a,p),E!=null&&w.unshift(Xo(a,E,k))):f||(E=Pr(a,p),E!=null&&w.push(Xo(a,E,k)))),a=a.return}w.length!==0&&e.push({event:r,listeners:w})}var mw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(mw,`
`).replace(fw,"")}function ja(e,r,a){if(r=bf(r),bf(e)!==r&&a)throw Error(s(425))}function Na(){}var Dc=null,Oc=null;function _c(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zc=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(e){return jf.resolve(null).then(e).catch(gw)}:zc;function gw(e){setTimeout(function(){throw e})}function Fc(e,r){var a=r,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){e.removeChild(f),Uo(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Uo(r)}function Dr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Nf(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ys,Jo="__reactProps$"+Ys,or="__reactContainer$"+Ys,Vc="__reactEvents$"+Ys,xw="__reactListeners$"+Ys,yw="__reactHandles$"+Ys;function ms(e){var r=e[Yn];if(r)return r;for(var a=e.parentNode;a;){if(r=a[or]||a[Yn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Nf(e);e!==null;){if(a=e[Yn])return a;e=Nf(e)}return r}e=a,a=e.parentNode}return null}function Zo(e){return e=e[Yn]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Sa(e){return e[Jo]||null}var Uc=[],Js=-1;function Or(e){return{current:e}}function yt(e){0>Js||(e.current=Uc[Js],Uc[Js]=null,Js--)}function gt(e,r){Js++,Uc[Js]=e.current,e.current=r}var _r={},Ht=Or(_r),sn=Or(!1),fs=_r;function Zs(e,r){var a=e.type.contextTypes;if(!a)return _r;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in a)f[p]=r[p];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=f),f}function on(e){return e=e.childContextTypes,e!=null}function ka(){yt(sn),yt(Ht)}function Sf(e,r,a){if(Ht.current!==_r)throw Error(s(168));gt(Ht,r),gt(sn,a)}function kf(e,r,a){var c=e.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(s(108,we(e)||"Unknown",f));return ae({},a,c)}function Ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,fs=Ht.current,gt(Ht,e),gt(sn,sn.current),!0}function Cf(e,r,a){var c=e.stateNode;if(!c)throw Error(s(169));a?(e=kf(e,r,fs),c.__reactInternalMemoizedMergedChildContext=e,yt(sn),yt(Ht),gt(Ht,e)):yt(sn),gt(sn,a)}var ir=null,Pa=!1,$c=!1;function Pf(e){ir===null?ir=[e]:ir.push(e)}function vw(e){Pa=!0,Pf(e)}function zr(){if(!$c&&ir!==null){$c=!0;var e=0,r=mt;try{var a=ir;for(mt=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}ir=null,Pa=!1}catch(f){throw ir!==null&&(ir=ir.slice(e+1)),sa(te,zr),f}finally{mt=r,$c=!1}}return null}var eo=[],to=0,Ta=null,Aa=0,Pn=[],Tn=0,hs=null,ar=1,lr="";function ps(e,r){eo[to++]=Aa,eo[to++]=Ta,Ta=e,Aa=r}function Tf(e,r,a){Pn[Tn++]=ar,Pn[Tn++]=lr,Pn[Tn++]=hs,hs=e;var c=ar;e=lr;var f=32-Bt(c)-1;c&=~(1<<f),a+=1;var p=32-Bt(r)+f;if(30<p){var w=f-f%5;p=(c&(1<<w)-1).toString(32),c>>=w,f-=w,ar=1<<32-Bt(r)+f|a<<f|c,lr=p+e}else ar=1<<p|a<<f|c,lr=e}function qc(e){e.return!==null&&(ps(e,1),Tf(e,1,0))}function Bc(e){for(;e===Ta;)Ta=eo[--to],eo[to]=null,Aa=eo[--to],eo[to]=null;for(;e===hs;)hs=Pn[--Tn],Pn[Tn]=null,lr=Pn[--Tn],Pn[Tn]=null,ar=Pn[--Tn],Pn[Tn]=null}var yn=null,vn=null,bt=!1,Un=null;function Af(e,r){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function Ef(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,yn=e,vn=Dr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,yn=e,vn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=hs!==null?{id:ar,overflow:lr}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,yn=e,vn=null,!0):!1;default:return!1}}function Hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wc(e){if(bt){var r=vn;if(r){var a=r;if(!Ef(e,r)){if(Hc(e))throw Error(s(418));r=Dr(a.nextSibling);var c=yn;r&&Ef(e,r)?Af(c,a):(e.flags=e.flags&-4097|2,bt=!1,yn=e)}}else{if(Hc(e))throw Error(s(418));e.flags=e.flags&-4097|2,bt=!1,yn=e}}}function Lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function Ea(e){if(e!==yn)return!1;if(!bt)return Lf(e),bt=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!_c(e.type,e.memoizedProps)),r&&(r=vn)){if(Hc(e))throw If(),Error(s(418));for(;r;)Af(e,r),r=Dr(r.nextSibling)}if(Lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){vn=Dr(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}vn=null}}else vn=yn?Dr(e.stateNode.nextSibling):null;return!0}function If(){for(var e=vn;e;)e=Dr(e.nextSibling)}function no(){vn=yn=null,bt=!1}function Gc(e){Un===null?Un=[e]:Un.push(e)}var ww=_.ReactCurrentBatchConfig;function ei(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var c=a.stateNode}if(!c)throw Error(s(147,e));var f=c,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(w){var k=f.refs;w===null?delete k[p]:k[p]=w},r._stringRef=p,r)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function La(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Mf(e){var r=e._init;return r(e._payload)}function Rf(e){function r(V,I){if(e){var q=V.deletions;q===null?(V.deletions=[I],V.flags|=16):q.push(I)}}function a(V,I){if(!e)return null;for(;I!==null;)r(V,I),I=I.sibling;return null}function c(V,I){for(V=new Map;I!==null;)I.key!==null?V.set(I.key,I):V.set(I.index,I),I=I.sibling;return V}function f(V,I){return V=Wr(V,I),V.index=0,V.sibling=null,V}function p(V,I,q){return V.index=q,e?(q=V.alternate,q!==null?(q=q.index,q<I?(V.flags|=2,I):q):(V.flags|=2,I)):(V.flags|=1048576,I)}function w(V){return e&&V.alternate===null&&(V.flags|=2),V}function k(V,I,q,he){return I===null||I.tag!==6?(I=zu(q,V.mode,he),I.return=V,I):(I=f(I,q),I.return=V,I)}function E(V,I,q,he){var Me=q.type;return Me===ne?ie(V,I,q.props.children,he,q.key):I!==null&&(I.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===pe&&Mf(Me)===I.type)?(he=f(I,q.props),he.ref=ei(V,I,q),he.return=V,he):(he=tl(q.type,q.key,q.props,null,V.mode,he),he.ref=ei(V,I,q),he.return=V,he)}function B(V,I,q,he){return I===null||I.tag!==4||I.stateNode.containerInfo!==q.containerInfo||I.stateNode.implementation!==q.implementation?(I=Fu(q,V.mode,he),I.return=V,I):(I=f(I,q.children||[]),I.return=V,I)}function ie(V,I,q,he,Me){return I===null||I.tag!==7?(I=Ns(q,V.mode,he,Me),I.return=V,I):(I=f(I,q),I.return=V,I)}function le(V,I,q){if(typeof I=="string"&&I!==""||typeof I=="number")return I=zu(""+I,V.mode,q),I.return=V,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case F:return q=tl(I.type,I.key,I.props,null,V.mode,q),q.ref=ei(V,null,I),q.return=V,q;case A:return I=Fu(I,V.mode,q),I.return=V,I;case pe:var he=I._init;return le(V,he(I._payload),q)}if(Re(I)||ce(I))return I=Ns(I,V.mode,q,null),I.return=V,I;La(V,I)}return null}function oe(V,I,q,he){var Me=I!==null?I.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Me!==null?null:k(V,I,""+q,he);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===Me?E(V,I,q,he):null;case A:return q.key===Me?B(V,I,q,he):null;case pe:return Me=q._init,oe(V,I,Me(q._payload),he)}if(Re(q)||ce(q))return Me!==null?null:ie(V,I,q,he,null);La(V,q)}return null}function Ne(V,I,q,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number")return V=V.get(q)||null,k(I,V,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case F:return V=V.get(he.key===null?q:he.key)||null,E(I,V,he,Me);case A:return V=V.get(he.key===null?q:he.key)||null,B(I,V,he,Me);case pe:var ze=he._init;return Ne(V,I,q,ze(he._payload),Me)}if(Re(he)||ce(he))return V=V.get(q)||null,ie(I,V,he,Me,null);La(I,he)}return null}function Ce(V,I,q,he){for(var Me=null,ze=null,Fe=I,Be=I=0,Vt=null;Fe!==null&&Be<q.length;Be++){Fe.index>Be?(Vt=Fe,Fe=null):Vt=Fe.sibling;var ct=oe(V,Fe,q[Be],he);if(ct===null){Fe===null&&(Fe=Vt);break}e&&Fe&&ct.alternate===null&&r(V,Fe),I=p(ct,I,Be),ze===null?Me=ct:ze.sibling=ct,ze=ct,Fe=Vt}if(Be===q.length)return a(V,Fe),bt&&ps(V,Be),Me;if(Fe===null){for(;Be<q.length;Be++)Fe=le(V,q[Be],he),Fe!==null&&(I=p(Fe,I,Be),ze===null?Me=Fe:ze.sibling=Fe,ze=Fe);return bt&&ps(V,Be),Me}for(Fe=c(V,Fe);Be<q.length;Be++)Vt=Ne(Fe,V,Be,q[Be],he),Vt!==null&&(e&&Vt.alternate!==null&&Fe.delete(Vt.key===null?Be:Vt.key),I=p(Vt,I,Be),ze===null?Me=Vt:ze.sibling=Vt,ze=Vt);return e&&Fe.forEach(function(Gr){return r(V,Gr)}),bt&&ps(V,Be),Me}function Le(V,I,q,he){var Me=ce(q);if(typeof Me!="function")throw Error(s(150));if(q=Me.call(q),q==null)throw Error(s(151));for(var ze=Me=null,Fe=I,Be=I=0,Vt=null,ct=q.next();Fe!==null&&!ct.done;Be++,ct=q.next()){Fe.index>Be?(Vt=Fe,Fe=null):Vt=Fe.sibling;var Gr=oe(V,Fe,ct.value,he);if(Gr===null){Fe===null&&(Fe=Vt);break}e&&Fe&&Gr.alternate===null&&r(V,Fe),I=p(Gr,I,Be),ze===null?Me=Gr:ze.sibling=Gr,ze=Gr,Fe=Vt}if(ct.done)return a(V,Fe),bt&&ps(V,Be),Me;if(Fe===null){for(;!ct.done;Be++,ct=q.next())ct=le(V,ct.value,he),ct!==null&&(I=p(ct,I,Be),ze===null?Me=ct:ze.sibling=ct,ze=ct);return bt&&ps(V,Be),Me}for(Fe=c(V,Fe);!ct.done;Be++,ct=q.next())ct=Ne(Fe,V,Be,ct.value,he),ct!==null&&(e&&ct.alternate!==null&&Fe.delete(ct.key===null?Be:ct.key),I=p(ct,I,Be),ze===null?Me=ct:ze.sibling=ct,ze=ct);return e&&Fe.forEach(function(Zw){return r(V,Zw)}),bt&&ps(V,Be),Me}function Tt(V,I,q,he){if(typeof q=="object"&&q!==null&&q.type===ne&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var Me=q.key,ze=I;ze!==null;){if(ze.key===Me){if(Me=q.type,Me===ne){if(ze.tag===7){a(V,ze.sibling),I=f(ze,q.props.children),I.return=V,V=I;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===pe&&Mf(Me)===ze.type){a(V,ze.sibling),I=f(ze,q.props),I.ref=ei(V,ze,q),I.return=V,V=I;break e}a(V,ze);break}else r(V,ze);ze=ze.sibling}q.type===ne?(I=Ns(q.props.children,V.mode,he,q.key),I.return=V,V=I):(he=tl(q.type,q.key,q.props,null,V.mode,he),he.ref=ei(V,I,q),he.return=V,V=he)}return w(V);case A:e:{for(ze=q.key;I!==null;){if(I.key===ze)if(I.tag===4&&I.stateNode.containerInfo===q.containerInfo&&I.stateNode.implementation===q.implementation){a(V,I.sibling),I=f(I,q.children||[]),I.return=V,V=I;break e}else{a(V,I);break}else r(V,I);I=I.sibling}I=Fu(q,V.mode,he),I.return=V,V=I}return w(V);case pe:return ze=q._init,Tt(V,I,ze(q._payload),he)}if(Re(q))return Ce(V,I,q,he);if(ce(q))return Le(V,I,q,he);La(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,I!==null&&I.tag===6?(a(V,I.sibling),I=f(I,q),I.return=V,V=I):(a(V,I),I=zu(q,V.mode,he),I.return=V,V=I),w(V)):a(V,I)}return Tt}var ro=Rf(!0),Df=Rf(!1),Ia=Or(null),Ma=null,so=null,Qc=null;function Kc(){Qc=so=Ma=null}function Yc(e){var r=Ia.current;yt(Ia),e._currentValue=r}function Xc(e,r,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),e===a)break;e=e.return}}function oo(e,r){Ma=e,Qc=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(an=!0),e.firstContext=null)}function An(e){var r=e._currentValue;if(Qc!==e)if(e={context:e,memoizedValue:r,next:null},so===null){if(Ma===null)throw Error(s(308));so=e,Ma.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return r}var gs=null;function Jc(e){gs===null?gs=[e]:gs.push(e)}function Of(e,r,a,c){var f=r.interleaved;return f===null?(a.next=a,Jc(r)):(a.next=f.next,f.next=a),r.interleaved=a,cr(e,c)}function cr(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Fr=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ur(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Vr(e,r,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,cr(e,a)}return f=c.interleaved,f===null?(r.next=r,Jc(c)):(r.next=f.next,f.next=r),c.interleaved=r,cr(e,a)}function Ra(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,fc(e,a)}}function zf(e,r){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?f=p=w:p=p.next=w,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function Da(e,r,a,c){var f=e.updateQueue;Fr=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var E=k,B=E.next;E.next=null,w===null?p=B:w.next=B,w=E;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,k=ie.lastBaseUpdate,k!==w&&(k===null?ie.firstBaseUpdate=B:k.next=B,ie.lastBaseUpdate=E))}if(p!==null){var le=f.baseState;w=0,ie=B=E=null,k=p;do{var oe=k.lane,Ne=k.eventTime;if((c&oe)===oe){ie!==null&&(ie=ie.next={eventTime:Ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Ce=e,Le=k;switch(oe=r,Ne=a,Le.tag){case 1:if(Ce=Le.payload,typeof Ce=="function"){le=Ce.call(Ne,le,oe);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Le.payload,oe=typeof Ce=="function"?Ce.call(Ne,le,oe):Ce,oe==null)break e;le=ae({},le,oe);break e;case 2:Fr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,oe=f.effects,oe===null?f.effects=[k]:oe.push(k))}else Ne={eventTime:Ne,lane:oe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ie===null?(B=ie=Ne,E=le):ie=ie.next=Ne,w|=oe;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,f.lastBaseUpdate=oe,f.shared.pending=null}}while(!0);if(ie===null&&(E=le),f.baseState=E,f.firstBaseUpdate=B,f.lastBaseUpdate=ie,r=f.shared.interleaved,r!==null){f=r;do w|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);vs|=w,e.lanes=w,e.memoizedState=le}}function Ff(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var c=e[r],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(s(191,f));f.call(c)}}}var ti={},Xn=Or(ti),ni=Or(ti),ri=Or(ti);function xs(e){if(e===ti)throw Error(s(174));return e}function eu(e,r){switch(gt(ri,r),gt(ni,e),gt(Xn,ti),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:De(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=De(r,e)}yt(Xn),gt(Xn,r)}function io(){yt(Xn),yt(ni),yt(ri)}function Vf(e){xs(ri.current);var r=xs(Xn.current),a=De(r,e.type);r!==a&&(gt(ni,e),gt(Xn,a))}function tu(e){ni.current===e&&(yt(Xn),yt(ni))}var Nt=Or(0);function Oa(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nu=[];function ru(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var _a=_.ReactCurrentDispatcher,su=_.ReactCurrentBatchConfig,ys=0,St=null,Dt=null,zt=null,za=!1,si=!1,oi=0,bw=0;function Wt(){throw Error(s(321))}function ou(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Vn(e[a],r[a]))return!1;return!0}function iu(e,r,a,c,f,p){if(ys=p,St=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_a.current=e===null||e.memoizedState===null?kw:Cw,e=a(c,f),si){p=0;do{if(si=!1,oi=0,25<=p)throw Error(s(301));p+=1,zt=Dt=null,r.updateQueue=null,_a.current=Pw,e=a(c,f)}while(si)}if(_a.current=Ua,r=Dt!==null&&Dt.next!==null,ys=0,zt=Dt=St=null,za=!1,r)throw Error(s(300));return e}function au(){var e=oi!==0;return oi=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?St.memoizedState=zt=e:zt=zt.next=e,zt}function En(){if(Dt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var r=zt===null?St.memoizedState:zt.next;if(r!==null)zt=r,Dt=e;else{if(e===null)throw Error(s(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},zt===null?St.memoizedState=zt=e:zt=zt.next=e}return zt}function ii(e,r){return typeof r=="function"?r(e):r}function lu(e){var r=En(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=Dt,f=c.baseQueue,p=a.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}c.baseQueue=f=p,a.pending=null}if(f!==null){p=f.next,c=c.baseState;var k=w=null,E=null,B=p;do{var ie=B.lane;if((ys&ie)===ie)E!==null&&(E=E.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:e(c,B.action);else{var le={lane:ie,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};E===null?(k=E=le,w=c):E=E.next=le,St.lanes|=ie,vs|=ie}B=B.next}while(B!==null&&B!==p);E===null?w=c:E.next=k,Vn(c,r.memoizedState)||(an=!0),r.memoizedState=c,r.baseState=w,r.baseQueue=E,a.lastRenderedState=c}if(e=a.interleaved,e!==null){f=e;do p=f.lane,St.lanes|=p,vs|=p,f=f.next;while(f!==e)}else f===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function cu(e){var r=En(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do p=e(p,w.action),w=w.next;while(w!==f);Vn(p,r.memoizedState)||(an=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function Uf(){}function $f(e,r){var a=St,c=En(),f=r(),p=!Vn(c.memoizedState,f);if(p&&(c.memoizedState=f,an=!0),c=c.queue,uu(Hf.bind(null,a,c,e),[e]),c.getSnapshot!==r||p||zt!==null&&zt.memoizedState.tag&1){if(a.flags|=2048,ai(9,Bf.bind(null,a,c,f,r),void 0,null),Ft===null)throw Error(s(349));(ys&30)!==0||qf(a,r,f)}return f}function qf(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=St.updateQueue,r===null?(r={lastEffect:null,stores:null},St.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Bf(e,r,a,c){r.value=a,r.getSnapshot=c,Wf(r)&&Gf(e)}function Hf(e,r,a){return a(function(){Wf(r)&&Gf(e)})}function Wf(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Vn(e,a)}catch{return!0}}function Gf(e){var r=cr(e,1);r!==null&&Hn(r,e,1,-1)}function Qf(e){var r=Jn();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},r.queue=e,e=e.dispatch=Sw.bind(null,St,e),[r.memoizedState,e]}function ai(e,r,a,c){return e={tag:e,create:r,destroy:a,deps:c,next:null},r=St.updateQueue,r===null?(r={lastEffect:null,stores:null},St.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,r.lastEffect=e)),e}function Kf(){return En().memoizedState}function Fa(e,r,a,c){var f=Jn();St.flags|=e,f.memoizedState=ai(1|r,a,void 0,c===void 0?null:c)}function Va(e,r,a,c){var f=En();c=c===void 0?null:c;var p=void 0;if(Dt!==null){var w=Dt.memoizedState;if(p=w.destroy,c!==null&&ou(c,w.deps)){f.memoizedState=ai(r,a,p,c);return}}St.flags|=e,f.memoizedState=ai(1|r,a,p,c)}function Yf(e,r){return Fa(8390656,8,e,r)}function uu(e,r){return Va(2048,8,e,r)}function Xf(e,r){return Va(4,2,e,r)}function Jf(e,r){return Va(4,4,e,r)}function Zf(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function eh(e,r,a){return a=a!=null?a.concat([e]):null,Va(4,4,Zf.bind(null,r,e),a)}function du(){}function th(e,r){var a=En();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&ou(r,c[1])?c[0]:(a.memoizedState=[e,r],e)}function nh(e,r){var a=En();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&ou(r,c[1])?c[0]:(e=e(),a.memoizedState=[e,r],e)}function rh(e,r,a){return(ys&21)===0?(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=a):(Vn(a,r)||(a=Im(),St.lanes|=a,vs|=a,e.baseState=!0),r)}function jw(e,r){var a=mt;mt=a!==0&&4>a?a:4,e(!0);var c=su.transition;su.transition={};try{e(!1),r()}finally{mt=a,su.transition=c}}function sh(){return En().memoizedState}function Nw(e,r,a){var c=Br(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},oh(e))ih(r,a);else if(a=Of(e,r,a,c),a!==null){var f=nn();Hn(a,e,c,f),ah(a,r,c)}}function Sw(e,r,a){var c=Br(e),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(oh(e))ih(r,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var w=r.lastRenderedState,k=p(w,a);if(f.hasEagerState=!0,f.eagerState=k,Vn(k,w)){var E=r.interleaved;E===null?(f.next=f,Jc(r)):(f.next=E.next,E.next=f),r.interleaved=f;return}}catch{}finally{}a=Of(e,r,f,c),a!==null&&(f=nn(),Hn(a,e,c,f),ah(a,r,c))}}function oh(e){var r=e.alternate;return e===St||r!==null&&r===St}function ih(e,r){si=za=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ah(e,r,a){if((a&4194240)!==0){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,fc(e,a)}}var Ua={readContext:An,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},kw={readContext:An,useCallback:function(e,r){return Jn().memoizedState=[e,r===void 0?null:r],e},useContext:An,useEffect:Yf,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,Fa(4194308,4,Zf.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Fa(4194308,4,e,r)},useInsertionEffect:function(e,r){return Fa(4,2,e,r)},useMemo:function(e,r){var a=Jn();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var c=Jn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},c.queue=e,e=e.dispatch=Nw.bind(null,St,e),[c.memoizedState,e]},useRef:function(e){var r=Jn();return e={current:e},r.memoizedState=e},useState:Qf,useDebugValue:du,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=Qf(!1),r=e[0];return e=jw.bind(null,e[1]),Jn().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var c=St,f=Jn();if(bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ft===null)throw Error(s(349));(ys&30)!==0||qf(c,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,Yf(Hf.bind(null,c,p,e),[e]),c.flags|=2048,ai(9,Bf.bind(null,c,p,a,r),void 0,null),a},useId:function(){var e=Jn(),r=Ft.identifierPrefix;if(bt){var a=lr,c=ar;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=oi++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=bw++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Cw={readContext:An,useCallback:th,useContext:An,useEffect:uu,useImperativeHandle:eh,useInsertionEffect:Xf,useLayoutEffect:Jf,useMemo:nh,useReducer:lu,useRef:Kf,useState:function(){return lu(ii)},useDebugValue:du,useDeferredValue:function(e){var r=En();return rh(r,Dt.memoizedState,e)},useTransition:function(){var e=lu(ii)[0],r=En().memoizedState;return[e,r]},useMutableSource:Uf,useSyncExternalStore:$f,useId:sh,unstable_isNewReconciler:!1},Pw={readContext:An,useCallback:th,useContext:An,useEffect:uu,useImperativeHandle:eh,useInsertionEffect:Xf,useLayoutEffect:Jf,useMemo:nh,useReducer:cu,useRef:Kf,useState:function(){return cu(ii)},useDebugValue:du,useDeferredValue:function(e){var r=En();return Dt===null?r.memoizedState=e:rh(r,Dt.memoizedState,e)},useTransition:function(){var e=cu(ii)[0],r=En().memoizedState;return[e,r]},useMutableSource:Uf,useSyncExternalStore:$f,useId:sh,unstable_isNewReconciler:!1};function $n(e,r){if(e&&e.defaultProps){r=ae({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}function mu(e,r,a,c){r=e.memoizedState,a=a(c,r),a=a==null?r:ae({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $a={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var c=nn(),f=Br(e),p=ur(c,f);p.payload=r,a!=null&&(p.callback=a),r=Vr(e,p,f),r!==null&&(Hn(r,e,f,c),Ra(r,e,f))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var c=nn(),f=Br(e),p=ur(c,f);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Vr(e,p,f),r!==null&&(Hn(r,e,f,c),Ra(r,e,f))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=nn(),c=Br(e),f=ur(a,c);f.tag=2,r!=null&&(f.callback=r),r=Vr(e,f,c),r!==null&&(Hn(r,e,c,a),Ra(r,e,c))}};function lh(e,r,a,c,f,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,w):r.prototype&&r.prototype.isPureReactComponent?!Go(a,c)||!Go(f,p):!0}function ch(e,r,a){var c=!1,f=_r,p=r.contextType;return typeof p=="object"&&p!==null?p=An(p):(f=on(r)?fs:Ht.current,c=r.contextTypes,p=(c=c!=null)?Zs(e,f):_r),r=new r(a,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=$a,e.stateNode=r,r._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=p),r}function uh(e,r,a,c){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==e&&$a.enqueueReplaceState(r,r.state,null)}function fu(e,r,a,c){var f=e.stateNode;f.props=a,f.state=e.memoizedState,f.refs={},Zc(e);var p=r.contextType;typeof p=="object"&&p!==null?f.context=An(p):(p=on(r)?fs:Ht.current,f.context=Zs(e,p)),f.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(mu(e,r,p,a),f.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&$a.enqueueReplaceState(f,f.state,null),Da(e,a,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,r){try{var a="",c=r;do a+=G(c),c=c.return;while(c);var f=a}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:f,digest:null}}function hu(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function pu(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Tw=typeof WeakMap=="function"?WeakMap:Map;function dh(e,r,a){a=ur(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Ka||(Ka=!0,Eu=c),pu(e,r)},a}function mh(e,r,a){a=ur(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;a.payload=function(){return c(f)},a.callback=function(){pu(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){pu(e,r),typeof c!="function"&&($r===null?$r=new Set([this]):$r.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),a}function fh(e,r,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Tw;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(f.add(a),e=$w.bind(null,e,r,a),r.then(e,e))}function hh(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function ph(e,r,a,c,f){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=ur(-1,1),r.tag=2,Vr(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var Aw=_.ReactCurrentOwner,an=!1;function tn(e,r,a,c){r.child=e===null?Df(r,null,a,c):ro(r,e.child,a,c)}function gh(e,r,a,c,f){a=a.render;var p=r.ref;return oo(r,f),c=iu(e,r,a,c,p,f),a=au(),e!==null&&!an?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,dr(e,r,f)):(bt&&a&&qc(r),r.flags|=1,tn(e,r,c,f),r.child)}function xh(e,r,a,c,f){if(e===null){var p=a.type;return typeof p=="function"&&!_u(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,yh(e,r,p,c,f)):(e=tl(a.type,null,c,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&f)===0){var w=p.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(w,c)&&e.ref===r.ref)return dr(e,r,f)}return r.flags|=1,e=Wr(p,c),e.ref=r.ref,e.return=r,r.child=e}function yh(e,r,a,c,f){if(e!==null){var p=e.memoizedProps;if(Go(p,c)&&e.ref===r.ref)if(an=!1,r.pendingProps=c=p,(e.lanes&f)!==0)(e.flags&131072)!==0&&(an=!0);else return r.lanes=e.lanes,dr(e,r,f)}return gu(e,r,a,c,f)}function vh(e,r,a){var c=r.pendingProps,f=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(co,wn),wn|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,gt(co,wn),wn|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,gt(co,wn),wn|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,gt(co,wn),wn|=c;return tn(e,r,f,a),r.child}function wh(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function gu(e,r,a,c,f){var p=on(a)?fs:Ht.current;return p=Zs(r,p),oo(r,f),a=iu(e,r,a,c,p,f),c=au(),e!==null&&!an?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,dr(e,r,f)):(bt&&c&&qc(r),r.flags|=1,tn(e,r,a,f),r.child)}function bh(e,r,a,c,f){if(on(a)){var p=!0;Ca(r)}else p=!1;if(oo(r,f),r.stateNode===null)Ba(e,r),ch(r,a,c),fu(r,a,c,f),c=!0;else if(e===null){var w=r.stateNode,k=r.memoizedProps;w.props=k;var E=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=An(B):(B=on(a)?fs:Ht.current,B=Zs(r,B));var ie=a.getDerivedStateFromProps,le=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function";le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==c||E!==B)&&uh(r,w,c,B),Fr=!1;var oe=r.memoizedState;w.state=oe,Da(r,c,w,f),E=r.memoizedState,k!==c||oe!==E||sn.current||Fr?(typeof ie=="function"&&(mu(r,a,ie,c),E=r.memoizedState),(k=Fr||lh(r,a,k,c,oe,E,B))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=E),w.props=c,w.state=E,w.context=B,c=k):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{w=r.stateNode,_f(e,r),k=r.memoizedProps,B=r.type===r.elementType?k:$n(r.type,k),w.props=B,le=r.pendingProps,oe=w.context,E=a.contextType,typeof E=="object"&&E!==null?E=An(E):(E=on(a)?fs:Ht.current,E=Zs(r,E));var Ne=a.getDerivedStateFromProps;(ie=typeof Ne=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==le||oe!==E)&&uh(r,w,c,E),Fr=!1,oe=r.memoizedState,w.state=oe,Da(r,c,w,f);var Ce=r.memoizedState;k!==le||oe!==Ce||sn.current||Fr?(typeof Ne=="function"&&(mu(r,a,Ne,c),Ce=r.memoizedState),(B=Fr||lh(r,a,B,c,oe,Ce,E)||!1)?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,Ce,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,Ce,E)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&oe===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&oe===e.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Ce),w.props=c,w.state=Ce,w.context=E,c=B):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&oe===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&oe===e.memoizedState||(r.flags|=1024),c=!1)}return xu(e,r,a,c,p,f)}function xu(e,r,a,c,f,p){wh(e,r);var w=(r.flags&128)!==0;if(!c&&!w)return f&&Cf(r,a,!1),dr(e,r,p);c=r.stateNode,Aw.current=r;var k=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,e!==null&&w?(r.child=ro(r,e.child,null,p),r.child=ro(r,null,k,p)):tn(e,r,k,p),r.memoizedState=c.state,f&&Cf(r,a,!0),r.child}function jh(e){var r=e.stateNode;r.pendingContext?Sf(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Sf(e,r.context,!1),eu(e,r.containerInfo)}function Nh(e,r,a,c,f){return no(),Gc(f),r.flags|=256,tn(e,r,a,c),r.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sh(e,r,a){var c=r.pendingProps,f=Nt.current,p=!1,w=(r.flags&128)!==0,k;if((k=w)||(k=e!==null&&e.memoizedState===null?!1:(f&2)!==0),k?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),gt(Nt,f&1),e===null)return Wc(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=c.children,e=c.fallback,p?(c=r.mode,p=r.child,w={mode:"hidden",children:w},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=nl(w,c,0,null),e=Ns(e,c,a,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=vu(a),r.memoizedState=yu,e):wu(r,w));if(f=e.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Ew(e,r,w,c,k,f,a);if(p){p=c.fallback,w=r.mode,f=e.child,k=f.sibling;var E={mode:"hidden",children:c.children};return(w&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=E,r.deletions=null):(c=Wr(f,E),c.subtreeFlags=f.subtreeFlags&14680064),k!==null?p=Wr(k,p):(p=Ns(p,w,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,w=e.child.memoizedState,w=w===null?vu(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~a,r.memoizedState=yu,c}return p=e.child,e=p.sibling,c=Wr(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=c,r.memoizedState=null,c}function wu(e,r){return r=nl({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function qa(e,r,a,c){return c!==null&&Gc(c),ro(r,e.child,null,a),e=wu(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ew(e,r,a,c,f,p,w){if(a)return r.flags&256?(r.flags&=-257,c=hu(Error(s(422))),qa(e,r,w,c)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=c.fallback,f=r.mode,c=nl({mode:"visible",children:c.children},f,0,null),p=Ns(p,f,w,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&ro(r,e.child,null,w),r.child.memoizedState=vu(w),r.memoizedState=yu,p);if((r.mode&1)===0)return qa(e,r,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var k=c.dgst;return c=k,p=Error(s(419)),c=hu(p,c,void 0),qa(e,r,w,c)}if(k=(w&e.childLanes)!==0,an||k){if(c=Ft,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,cr(e,f),Hn(c,e,f,-1))}return Ou(),c=hu(Error(s(421))),qa(e,r,w,c)}return f.data==="$?"?(r.flags|=128,r.child=e.child,r=qw.bind(null,e),f._reactRetry=r,null):(e=p.treeContext,vn=Dr(f.nextSibling),yn=r,bt=!0,Un=null,e!==null&&(Pn[Tn++]=ar,Pn[Tn++]=lr,Pn[Tn++]=hs,ar=e.id,lr=e.overflow,hs=r),r=wu(r,c.children),r.flags|=4096,r)}function kh(e,r,a){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r),Xc(e.return,r,a)}function bu(e,r,a,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=f)}function Ch(e,r,a){var c=r.pendingProps,f=c.revealOrder,p=c.tail;if(tn(e,r,c.children,a),c=Nt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kh(e,a,r);else if(e.tag===19)kh(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(gt(Nt,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&Oa(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),bu(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&Oa(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}bu(r,!0,a,null,p);break;case"together":bu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ba(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function dr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),vs|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Wr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Wr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Lw(e,r,a){switch(r.tag){case 3:jh(r),no();break;case 5:Vf(r);break;case 1:on(r.type)&&Ca(r);break;case 4:eu(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;gt(Ia,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(gt(Nt,Nt.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Sh(e,r,a):(gt(Nt,Nt.current&1),e=dr(e,r,a),e!==null?e.sibling:null);gt(Nt,Nt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(e.flags&128)!==0){if(c)return Ch(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),gt(Nt,Nt.current),c)break;return null;case 22:case 23:return r.lanes=0,vh(e,r,a)}return dr(e,r,a)}var Ph,ju,Th,Ah;Ph=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ju=function(){},Th=function(e,r,a,c){var f=e.memoizedProps;if(f!==c){e=r.stateNode,xs(Xn.current);var p=null;switch(a){case"input":f=_e(e,f),c=_e(e,c),p=[];break;case"select":f=ae({},f,{value:void 0}),c=ae({},c,{value:void 0}),p=[];break;case"textarea":f=rt(e,f),c=rt(e,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Na)}ss(a,c);var w;a=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var k=f[B];for(w in k)k.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(l.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in c){var E=c[B];if(k=f?.[B],c.hasOwnProperty(B)&&E!==k&&(E!=null||k!=null))if(B==="style")if(k){for(w in k)!k.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in E)E.hasOwnProperty(w)&&k[w]!==E[w]&&(a||(a={}),a[w]=E[w])}else a||(p||(p=[]),p.push(B,a)),a=E;else B==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,k=k?k.__html:void 0,E!=null&&k!==E&&(p=p||[]).push(B,E)):B==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(B,""+E):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(l.hasOwnProperty(B)?(E!=null&&B==="onScroll"&&xt("scroll",e),p||k===E||(p=[])):(p=p||[]).push(B,E))}a&&(p=p||[]).push("style",a);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},Ah=function(e,r,a,c){a!==c&&(r.flags|=4)};function li(e,r){if(!bt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Gt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=a,r}function Iw(e,r,a){var c=r.pendingProps;switch(Bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return on(r.type)&&ka(),Gt(r),null;case 3:return c=r.stateNode,io(),yt(sn),yt(Ht),ru(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ea(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Un!==null&&(Mu(Un),Un=null))),ju(e,r),Gt(r),null;case 5:tu(r);var f=xs(ri.current);if(a=r.type,e!==null&&r.stateNode!=null)Th(e,r,a,c,f),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Gt(r),null}if(e=xs(Xn.current),Ea(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[Yn]=r,c[Jo]=p,e=(r.mode&1)!==0,a){case"dialog":xt("cancel",c),xt("close",c);break;case"iframe":case"object":case"embed":xt("load",c);break;case"video":case"audio":for(f=0;f<Ko.length;f++)xt(Ko[f],c);break;case"source":xt("error",c);break;case"img":case"image":case"link":xt("error",c),xt("load",c);break;case"details":xt("toggle",c);break;case"input":wt(c,p),xt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},xt("invalid",c);break;case"textarea":M(c,p),xt("invalid",c)}ss(a,p),f=null;for(var w in p)if(p.hasOwnProperty(w)){var k=p[w];w==="children"?typeof k=="string"?c.textContent!==k&&(p.suppressHydrationWarning!==!0&&ja(c.textContent,k,e),f=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(p.suppressHydrationWarning!==!0&&ja(c.textContent,k,e),f=["children",""+k]):l.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&xt("scroll",c)}switch(a){case"input":Oe(c),jt(c,p,!0);break;case"textarea":Oe(c),K(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Na)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ye(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(a,{is:c.is}):(e=w.createElement(a),a==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,a),e[Yn]=r,e[Jo]=c,Ph(e,r,!1,!1),r.stateNode=e;e:{switch(w=zn(a,c),a){case"dialog":xt("cancel",e),xt("close",e),f=c;break;case"iframe":case"object":case"embed":xt("load",e),f=c;break;case"video":case"audio":for(f=0;f<Ko.length;f++)xt(Ko[f],e);f=c;break;case"source":xt("error",e),f=c;break;case"img":case"image":case"link":xt("error",e),xt("load",e),f=c;break;case"details":xt("toggle",e),f=c;break;case"input":wt(e,c),f=_e(e,c),xt("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=ae({},c,{value:void 0}),xt("invalid",e);break;case"textarea":M(e,c),f=rt(e,c),xt("invalid",e);break;default:f=c}ss(a,f),k=f;for(p in k)if(k.hasOwnProperty(p)){var E=k[p];p==="style"?ut(e,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&qe(e,E)):p==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&We(e,E):typeof E=="number"&&We(e,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?E!=null&&p==="onScroll"&&xt("scroll",e):E!=null&&L(e,p,E,w))}switch(a){case"input":Oe(e),jt(e,c,!1);break;case"textarea":Oe(e),K(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Y(c.value));break;case"select":e.multiple=!!c.multiple,p=c.value,p!=null?Ze(e,!!c.multiple,p,!1):c.defaultValue!=null&&Ze(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Na)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Gt(r),null;case 6:if(e&&r.stateNode!=null)Ah(e,r,e.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(a=xs(ri.current),xs(Xn.current),Ea(r)){if(c=r.stateNode,a=r.memoizedProps,c[Yn]=r,(p=c.nodeValue!==a)&&(e=yn,e!==null))switch(e.tag){case 3:ja(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ja(c.nodeValue,a,(e.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Yn]=r,r.stateNode=c}return Gt(r),null;case 13:if(yt(Nt),c=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&vn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)If(),no(),r.flags|=98560,p=!1;else if(p=Ea(r),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Yn]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),p=!1}else Un!==null&&(Mu(Un),Un=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Nt.current&1)!==0?Ot===0&&(Ot=3):Ou())),r.updateQueue!==null&&(r.flags|=4),Gt(r),null);case 4:return io(),ju(e,r),e===null&&Yo(r.stateNode.containerInfo),Gt(r),null;case 10:return Yc(r.type._context),Gt(r),null;case 17:return on(r.type)&&ka(),Gt(r),null;case 19:if(yt(Nt),p=r.memoizedState,p===null)return Gt(r),null;if(c=(r.flags&128)!==0,w=p.rendering,w===null)if(c)li(p,!1);else{if(Ot!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(w=Oa(e),w!==null){for(r.flags|=128,li(p,!1),c=w.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,e=c,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return gt(Nt,Nt.current&1|2),r.child}e=e.sibling}p.tail!==null&&P()>uo&&(r.flags|=128,c=!0,li(p,!1),r.lanes=4194304)}else{if(!c)if(e=Oa(w),e!==null){if(r.flags|=128,c=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),li(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!bt)return Gt(r),null}else 2*P()-p.renderingStartTime>uo&&a!==1073741824&&(r.flags|=128,c=!0,li(p,!1),r.lanes=4194304);p.isBackwards?(w.sibling=r.child,r.child=w):(a=p.last,a!==null?a.sibling=w:r.child=w,p.last=w)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=P(),r.sibling=null,a=Nt.current,gt(Nt,c?a&1|2:a&1),r):(Gt(r),null);case 22:case 23:return Du(),c=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(wn&1073741824)!==0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Mw(e,r){switch(Bc(r),r.tag){case 1:return on(r.type)&&ka(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return io(),yt(sn),yt(Ht),ru(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return tu(r),null;case 13:if(yt(Nt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));no()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return yt(Nt),null;case 4:return io(),null;case 10:return Yc(r.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Ha=!1,Qt=!1,Rw=typeof WeakSet=="function"?WeakSet:Set,Se=null;function lo(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Pt(e,r,c)}else a.current=null}function Nu(e,r,a){try{a()}catch(c){Pt(e,r,c)}}var Eh=!1;function Dw(e,r){if(Dc=da,e=lf(),Pc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var w=0,k=-1,E=-1,B=0,ie=0,le=e,oe=null;t:for(;;){for(var Ne;le!==a||f!==0&&le.nodeType!==3||(k=w+f),le!==p||c!==0&&le.nodeType!==3||(E=w+c),le.nodeType===3&&(w+=le.nodeValue.length),(Ne=le.firstChild)!==null;)oe=le,le=Ne;for(;;){if(le===e)break t;if(oe===a&&++B===f&&(k=w),oe===p&&++ie===c&&(E=w),(Ne=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=Ne}a=k===-1||E===-1?null:{start:k,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Oc={focusedElem:e,selectionRange:a},da=!1,Se=r;Se!==null;)if(r=Se,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Se=e;else for(;Se!==null;){r=Se;try{var Ce=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Le=Ce.memoizedProps,Tt=Ce.memoizedState,V=r.stateNode,I=V.getSnapshotBeforeUpdate(r.elementType===r.type?Le:$n(r.type,Le),Tt);V.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var q=r.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(he){Pt(r,r.return,he)}if(e=r.sibling,e!==null){e.return=r.return,Se=e;break}Se=r.return}return Ce=Eh,Eh=!1,Ce}function ci(e,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var p=f.destroy;f.destroy=void 0,p!==void 0&&Nu(r,a,p)}f=f.next}while(f!==c)}}function Wa(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function Su(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function Lh(e){var r=e.alternate;r!==null&&(e.alternate=null,Lh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Yn],delete r[Jo],delete r[Vc],delete r[xw],delete r[yw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ih(e){return e.tag===5||e.tag===3||e.tag===4}function Mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Na));else if(c!==4&&(e=e.child,e!==null))for(ku(e,r,a),e=e.sibling;e!==null;)ku(e,r,a),e=e.sibling}function Cu(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Cu(e,r,a),e=e.sibling;e!==null;)Cu(e,r,a),e=e.sibling}var Ut=null,qn=!1;function Ur(e,r,a){for(a=a.child;a!==null;)Rh(e,r,a),a=a.sibling}function Rh(e,r,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ge,a)}catch{}switch(a.tag){case 5:Qt||lo(a,r);case 6:var c=Ut,f=qn;Ut=null,Ur(e,r,a),Ut=c,qn=f,Ut!==null&&(qn?(e=Ut,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Ut.removeChild(a.stateNode));break;case 18:Ut!==null&&(qn?(e=Ut,a=a.stateNode,e.nodeType===8?Fc(e.parentNode,a):e.nodeType===1&&Fc(e,a),Uo(e)):Fc(Ut,a.stateNode));break;case 4:c=Ut,f=qn,Ut=a.stateNode.containerInfo,qn=!0,Ur(e,r,a),Ut=c,qn=f;break;case 0:case 11:case 14:case 15:if(!Qt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&Nu(a,r,w),f=f.next}while(f!==c)}Ur(e,r,a);break;case 1:if(!Qt&&(lo(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(k){Pt(a,r,k)}Ur(e,r,a);break;case 21:Ur(e,r,a);break;case 22:a.mode&1?(Qt=(c=Qt)||a.memoizedState!==null,Ur(e,r,a),Qt=c):Ur(e,r,a);break;default:Ur(e,r,a)}}function Dh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Rw),r.forEach(function(c){var f=Bw.bind(null,e,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Bn(e,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var p=e,w=r,k=w;e:for(;k!==null;){switch(k.tag){case 5:Ut=k.stateNode,qn=!1;break e;case 3:Ut=k.stateNode.containerInfo,qn=!0;break e;case 4:Ut=k.stateNode.containerInfo,qn=!0;break e}k=k.return}if(Ut===null)throw Error(s(160));Rh(p,w,f),Ut=null,qn=!1;var E=f.alternate;E!==null&&(E.return=null),f.return=null}catch(B){Pt(f,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Oh(r,e),r=r.sibling}function Oh(e,r){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(r,e),Zn(e),c&4){try{ci(3,e,e.return),Wa(3,e)}catch(Le){Pt(e,e.return,Le)}try{ci(5,e,e.return)}catch(Le){Pt(e,e.return,Le)}}break;case 1:Bn(r,e),Zn(e),c&512&&a!==null&&lo(a,a.return);break;case 5:if(Bn(r,e),Zn(e),c&512&&a!==null&&lo(a,a.return),e.flags&32){var f=e.stateNode;try{We(f,"")}catch(Le){Pt(e,e.return,Le)}}if(c&4&&(f=e.stateNode,f!=null)){var p=e.memoizedProps,w=a!==null?a.memoizedProps:p,k=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{k==="input"&&p.type==="radio"&&p.name!=null&&ht(f,p),zn(k,w);var B=zn(k,p);for(w=0;w<E.length;w+=2){var ie=E[w],le=E[w+1];ie==="style"?ut(f,le):ie==="dangerouslySetInnerHTML"?qe(f,le):ie==="children"?We(f,le):L(f,ie,le,B)}switch(k){case"input":Rt(f,p);break;case"textarea":de(f,p);break;case"select":var oe=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var Ne=p.value;Ne!=null?Ze(f,!!p.multiple,Ne,!1):oe!==!!p.multiple&&(p.defaultValue!=null?Ze(f,!!p.multiple,p.defaultValue,!0):Ze(f,!!p.multiple,p.multiple?[]:"",!1))}f[Jo]=p}catch(Le){Pt(e,e.return,Le)}}break;case 6:if(Bn(r,e),Zn(e),c&4){if(e.stateNode===null)throw Error(s(162));f=e.stateNode,p=e.memoizedProps;try{f.nodeValue=p}catch(Le){Pt(e,e.return,Le)}}break;case 3:if(Bn(r,e),Zn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Uo(r.containerInfo)}catch(Le){Pt(e,e.return,Le)}break;case 4:Bn(r,e),Zn(e);break;case 13:Bn(r,e),Zn(e),f=e.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Au=P())),c&4&&Dh(e);break;case 22:if(ie=a!==null&&a.memoizedState!==null,e.mode&1?(Qt=(B=Qt)||ie,Bn(r,e),Qt=B):Bn(r,e),Zn(e),c&8192){if(B=e.memoizedState!==null,(e.stateNode.isHidden=B)&&!ie&&(e.mode&1)!==0)for(Se=e,ie=e.child;ie!==null;){for(le=Se=ie;Se!==null;){switch(oe=Se,Ne=oe.child,oe.tag){case 0:case 11:case 14:case 15:ci(4,oe,oe.return);break;case 1:lo(oe,oe.return);var Ce=oe.stateNode;if(typeof Ce.componentWillUnmount=="function"){c=oe,a=oe.return;try{r=c,Ce.props=r.memoizedProps,Ce.state=r.memoizedState,Ce.componentWillUnmount()}catch(Le){Pt(c,a,Le)}}break;case 5:lo(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Fh(le);continue}}Ne!==null?(Ne.return=oe,Se=Ne):Fh(le)}ie=ie.sibling}e:for(ie=null,le=e;;){if(le.tag===5){if(ie===null){ie=le;try{f=le.stateNode,B?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(k=le.stateNode,E=le.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,k.style.display=Je("display",w))}catch(Le){Pt(e,e.return,Le)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=B?"":le.memoizedProps}catch(Le){Pt(e,e.return,Le)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Bn(r,e),Zn(e),c&4&&Dh(e);break;case 21:break;default:Bn(r,e),Zn(e)}}function Zn(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if(Ih(a)){var c=a;break e}a=a.return}throw Error(s(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(We(f,""),c.flags&=-33);var p=Mh(e);Cu(e,p,f);break;case 3:case 4:var w=c.stateNode.containerInfo,k=Mh(e);ku(e,k,w);break;default:throw Error(s(161))}}catch(E){Pt(e,e.return,E)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Ow(e,r,a){Se=e,_h(e)}function _h(e,r,a){for(var c=(e.mode&1)!==0;Se!==null;){var f=Se,p=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Ha;if(!w){var k=f.alternate,E=k!==null&&k.memoizedState!==null||Qt;k=Ha;var B=Qt;if(Ha=w,(Qt=E)&&!B)for(Se=f;Se!==null;)w=Se,E=w.child,w.tag===22&&w.memoizedState!==null?Vh(f):E!==null?(E.return=w,Se=E):Vh(f);for(;p!==null;)Se=p,_h(p),p=p.sibling;Se=f,Ha=k,Qt=B}zh(e)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,Se=p):zh(e)}}function zh(e){for(;Se!==null;){var r=Se;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Qt||Wa(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Qt)if(a===null)c.componentDidMount();else{var f=r.elementType===r.type?a.memoizedProps:$n(r.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Ff(r,p,c);break;case 3:var w=r.updateQueue;if(w!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Ff(r,w,a)}break;case 5:var k=r.stateNode;if(a===null&&r.flags&4){a=k;var E=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var ie=B.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&Uo(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Qt||r.flags&512&&Su(r)}catch(oe){Pt(r,r.return,oe)}}if(r===e){Se=null;break}if(a=r.sibling,a!==null){a.return=r.return,Se=a;break}Se=r.return}}function Fh(e){for(;Se!==null;){var r=Se;if(r===e){Se=null;break}var a=r.sibling;if(a!==null){a.return=r.return,Se=a;break}Se=r.return}}function Vh(e){for(;Se!==null;){var r=Se;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Wa(4,r)}catch(E){Pt(r,a,E)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(E){Pt(r,f,E)}}var p=r.return;try{Su(r)}catch(E){Pt(r,p,E)}break;case 5:var w=r.return;try{Su(r)}catch(E){Pt(r,w,E)}}}catch(E){Pt(r,r.return,E)}if(r===e){Se=null;break}var k=r.sibling;if(k!==null){k.return=r.return,Se=k;break}Se=r.return}}var _w=Math.ceil,Ga=_.ReactCurrentDispatcher,Pu=_.ReactCurrentOwner,Ln=_.ReactCurrentBatchConfig,it=0,Ft=null,It=null,$t=0,wn=0,co=Or(0),Ot=0,ui=null,vs=0,Qa=0,Tu=0,di=null,ln=null,Au=0,uo=1/0,mr=null,Ka=!1,Eu=null,$r=null,Ya=!1,qr=null,Xa=0,mi=0,Lu=null,Ja=-1,Za=0;function nn(){return(it&6)!==0?P():Ja!==-1?Ja:Ja=P()}function Br(e){return(e.mode&1)===0?1:(it&2)!==0&&$t!==0?$t&-$t:ww.transition!==null?(Za===0&&(Za=Im()),Za):(e=mt,e!==0||(e=window.event,e=e===void 0?16:Um(e.type)),e)}function Hn(e,r,a,c){if(50<mi)throw mi=0,Lu=null,Error(s(185));Oo(e,a,c),((it&2)===0||e!==Ft)&&(e===Ft&&((it&2)===0&&(Qa|=a),Ot===4&&Hr(e,$t)),cn(e,c),a===1&&it===0&&(r.mode&1)===0&&(uo=P()+500,Pa&&zr()))}function cn(e,r){var a=e.callbackNode;wv(e,r);var c=la(e,e===Ft?$t:0);if(c===0)a!==null&&oa(a),e.callbackNode=null,e.callbackPriority=0;else if(r=c&-c,e.callbackPriority!==r){if(a!=null&&oa(a),r===1)e.tag===0?vw($h.bind(null,e)):Pf($h.bind(null,e)),pw(function(){(it&6)===0&&zr()}),a=null;else{switch(Mm(c)){case 1:a=te;break;case 4:a=ge;break;case 16:a=Ie;break;case 536870912:a=Ue;break;default:a=Ie}a=Yh(a,Uh.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function Uh(e,r){if(Ja=-1,Za=0,(it&6)!==0)throw Error(s(327));var a=e.callbackNode;if(mo()&&e.callbackNode!==a)return null;var c=la(e,e===Ft?$t:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||r)r=el(e,c);else{r=c;var f=it;it|=2;var p=Bh();(Ft!==e||$t!==r)&&(mr=null,uo=P()+500,bs(e,r));do try{Vw();break}catch(k){qh(e,k)}while(!0);Kc(),Ga.current=p,it=f,It!==null?r=0:(Ft=null,$t=0,r=Ot)}if(r!==0){if(r===2&&(f=dc(e),f!==0&&(c=f,r=Iu(e,f))),r===1)throw a=ui,bs(e,0),Hr(e,c),cn(e,P()),a;if(r===6)Hr(e,c);else{if(f=e.current.alternate,(c&30)===0&&!zw(f)&&(r=el(e,c),r===2&&(p=dc(e),p!==0&&(c=p,r=Iu(e,p))),r===1))throw a=ui,bs(e,0),Hr(e,c),cn(e,P()),a;switch(e.finishedWork=f,e.finishedLanes=c,r){case 0:case 1:throw Error(s(345));case 2:js(e,ln,mr);break;case 3:if(Hr(e,c),(c&130023424)===c&&(r=Au+500-P(),10<r)){if(la(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){nn(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=zc(js.bind(null,e,ln,mr),r);break}js(e,ln,mr);break;case 4:if(Hr(e,c),(c&4194240)===c)break;for(r=e.eventTimes,f=-1;0<c;){var w=31-Bt(c);p=1<<w,w=r[w],w>f&&(f=w),c&=~p}if(c=f,c=P()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*_w(c/1960))-c,10<c){e.timeoutHandle=zc(js.bind(null,e,ln,mr),c);break}js(e,ln,mr);break;case 5:js(e,ln,mr);break;default:throw Error(s(329))}}}return cn(e,P()),e.callbackNode===a?Uh.bind(null,e):null}function Iu(e,r){var a=di;return e.current.memoizedState.isDehydrated&&(bs(e,r).flags|=256),e=el(e,r),e!==2&&(r=ln,ln=a,r!==null&&Mu(r)),e}function Mu(e){ln===null?ln=e:ln.push.apply(ln,e)}function zw(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(e,r){for(r&=~Tu,r&=~Qa,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-Bt(r),c=1<<a;e[a]=-1,r&=~c}}function $h(e){if((it&6)!==0)throw Error(s(327));mo();var r=la(e,0);if((r&1)===0)return cn(e,P()),null;var a=el(e,r);if(e.tag!==0&&a===2){var c=dc(e);c!==0&&(r=c,a=Iu(e,c))}if(a===1)throw a=ui,bs(e,0),Hr(e,r),cn(e,P()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,js(e,ln,mr),cn(e,P()),null}function Ru(e,r){var a=it;it|=1;try{return e(r)}finally{it=a,it===0&&(uo=P()+500,Pa&&zr())}}function ws(e){qr!==null&&qr.tag===0&&(it&6)===0&&mo();var r=it;it|=1;var a=Ln.transition,c=mt;try{if(Ln.transition=null,mt=1,e)return e()}finally{mt=c,Ln.transition=a,it=r,(it&6)===0&&zr()}}function Du(){wn=co.current,yt(co)}function bs(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,hw(a)),It!==null)for(a=It.return;a!==null;){var c=a;switch(Bc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ka();break;case 3:io(),yt(sn),yt(Ht),ru();break;case 5:tu(c);break;case 4:io();break;case 13:yt(Nt);break;case 19:yt(Nt);break;case 10:Yc(c.type._context);break;case 22:case 23:Du()}a=a.return}if(Ft=e,It=e=Wr(e.current,null),$t=wn=r,Ot=0,ui=null,Tu=Qa=vs=0,ln=di=null,gs!==null){for(r=0;r<gs.length;r++)if(a=gs[r],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,p=a.pending;if(p!==null){var w=p.next;p.next=f,c.next=w}a.pending=c}gs=null}return e}function qh(e,r){do{var a=It;try{if(Kc(),_a.current=Ua,za){for(var c=St.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}za=!1}if(ys=0,zt=Dt=St=null,si=!1,oi=0,Pu.current=null,a===null||a.return===null){Ot=1,ui=r,It=null;break}e:{var p=e,w=a.return,k=a,E=r;if(r=$t,k.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=E,ie=k,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var oe=ie.alternate;oe?(ie.updateQueue=oe.updateQueue,ie.memoizedState=oe.memoizedState,ie.lanes=oe.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var Ne=hh(w);if(Ne!==null){Ne.flags&=-257,ph(Ne,w,k,p,r),Ne.mode&1&&fh(p,B,r),r=Ne,E=B;var Ce=r.updateQueue;if(Ce===null){var Le=new Set;Le.add(E),r.updateQueue=Le}else Ce.add(E);break e}else{if((r&1)===0){fh(p,B,r),Ou();break e}E=Error(s(426))}}else if(bt&&k.mode&1){var Tt=hh(w);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),ph(Tt,w,k,p,r),Gc(ao(E,k));break e}}p=E=ao(E,k),Ot!==4&&(Ot=2),di===null?di=[p]:di.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var V=dh(p,E,r);zf(p,V);break e;case 1:k=E;var I=p.type,q=p.stateNode;if((p.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&($r===null||!$r.has(q)))){p.flags|=65536,r&=-r,p.lanes|=r;var he=mh(p,k,r);zf(p,he);break e}}p=p.return}while(p!==null)}Wh(a)}catch(Me){r=Me,It===a&&a!==null&&(It=a=a.return);continue}break}while(!0)}function Bh(){var e=Ga.current;return Ga.current=Ua,e===null?Ua:e}function Ou(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ft===null||(vs&268435455)===0&&(Qa&268435455)===0||Hr(Ft,$t)}function el(e,r){var a=it;it|=2;var c=Bh();(Ft!==e||$t!==r)&&(mr=null,bs(e,r));do try{Fw();break}catch(f){qh(e,f)}while(!0);if(Kc(),it=a,Ga.current=c,It!==null)throw Error(s(261));return Ft=null,$t=0,Ot}function Fw(){for(;It!==null;)Hh(It)}function Vw(){for(;It!==null&&!uc();)Hh(It)}function Hh(e){var r=Kh(e.alternate,e,wn);e.memoizedProps=e.pendingProps,r===null?Wh(e):It=r,Pu.current=null}function Wh(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=Iw(a,r,wn),a!==null){It=a;return}}else{if(a=Mw(a,r),a!==null){a.flags&=32767,It=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,It=null;return}}if(r=r.sibling,r!==null){It=r;return}It=r=e}while(r!==null);Ot===0&&(Ot=5)}function js(e,r,a){var c=mt,f=Ln.transition;try{Ln.transition=null,mt=1,Uw(e,r,a,c)}finally{Ln.transition=f,mt=c}return null}function Uw(e,r,a,c){do mo();while(qr!==null);if((it&6)!==0)throw Error(s(327));a=e.finishedWork;var f=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(bv(e,p),e===Ft&&(It=Ft=null,$t=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ya||(Ya=!0,Yh(Ie,function(){return mo(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Ln.transition,Ln.transition=null;var w=mt;mt=1;var k=it;it|=4,Pu.current=null,Dw(e,a),Oh(a,e),aw(Oc),da=!!Dc,Oc=Dc=null,e.current=a,Ow(a),ds(),it=k,mt=w,Ln.transition=p}else e.current=a;if(Ya&&(Ya=!1,qr=e,Xa=f),p=e.pendingLanes,p===0&&($r=null),en(a.stateNode),cn(e,P()),r!==null)for(c=e.onRecoverableError,a=0;a<r.length;a++)f=r[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ka)throw Ka=!1,e=Eu,Eu=null,e;return(Xa&1)!==0&&e.tag!==0&&mo(),p=e.pendingLanes,(p&1)!==0?e===Lu?mi++:(mi=0,Lu=e):mi=0,zr(),null}function mo(){if(qr!==null){var e=Mm(Xa),r=Ln.transition,a=mt;try{if(Ln.transition=null,mt=16>e?16:e,qr===null)var c=!1;else{if(e=qr,qr=null,Xa=0,(it&6)!==0)throw Error(s(331));var f=it;for(it|=4,Se=e.current;Se!==null;){var p=Se,w=p.child;if((Se.flags&16)!==0){var k=p.deletions;if(k!==null){for(var E=0;E<k.length;E++){var B=k[E];for(Se=B;Se!==null;){var ie=Se;switch(ie.tag){case 0:case 11:case 15:ci(8,ie,p)}var le=ie.child;if(le!==null)le.return=ie,Se=le;else for(;Se!==null;){ie=Se;var oe=ie.sibling,Ne=ie.return;if(Lh(ie),ie===B){Se=null;break}if(oe!==null){oe.return=Ne,Se=oe;break}Se=Ne}}}var Ce=p.alternate;if(Ce!==null){var Le=Ce.child;if(Le!==null){Ce.child=null;do{var Tt=Le.sibling;Le.sibling=null,Le=Tt}while(Le!==null)}}Se=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,Se=w;else e:for(;Se!==null;){if(p=Se,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ci(9,p,p.return)}var V=p.sibling;if(V!==null){V.return=p.return,Se=V;break e}Se=p.return}}var I=e.current;for(Se=I;Se!==null;){w=Se;var q=w.child;if((w.subtreeFlags&2064)!==0&&q!==null)q.return=w,Se=q;else e:for(w=I;Se!==null;){if(k=Se,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Wa(9,k)}}catch(Me){Pt(k,k.return,Me)}if(k===w){Se=null;break e}var he=k.sibling;if(he!==null){he.return=k.return,Se=he;break e}Se=k.return}}if(it=f,zr(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ge,e)}catch{}c=!0}return c}finally{mt=a,Ln.transition=r}}return!1}function Gh(e,r,a){r=ao(a,r),r=dh(e,r,1),e=Vr(e,r,1),r=nn(),e!==null&&(Oo(e,1,r),cn(e,r))}function Pt(e,r,a){if(e.tag===3)Gh(e,e,a);else for(;r!==null;){if(r.tag===3){Gh(r,e,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){e=ao(a,e),e=mh(r,e,1),r=Vr(r,e,1),e=nn(),r!==null&&(Oo(r,1,e),cn(r,e));break}}r=r.return}}function $w(e,r,a){var c=e.pingCache;c!==null&&c.delete(r),r=nn(),e.pingedLanes|=e.suspendedLanes&a,Ft===e&&($t&a)===a&&(Ot===4||Ot===3&&($t&130023424)===$t&&500>P()-Au?bs(e,0):Tu|=a),cn(e,r)}function Qh(e,r){r===0&&((e.mode&1)===0?r=1:(r=aa,aa<<=1,(aa&130023424)===0&&(aa=4194304)));var a=nn();e=cr(e,r),e!==null&&(Oo(e,r,a),cn(e,a))}function qw(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Qh(e,a)}function Bw(e,r){var a=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(r),Qh(e,a)}var Kh;Kh=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||sn.current)an=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return an=!1,Lw(e,r,a);an=(e.flags&131072)!==0}else an=!1,bt&&(r.flags&1048576)!==0&&Tf(r,Aa,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ba(e,r),e=r.pendingProps;var f=Zs(r,Ht.current);oo(r,a),f=iu(null,r,c,e,f,a);var p=au();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,on(c)?(p=!0,Ca(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Zc(r),f.updater=$a,r.stateNode=f,f._reactInternals=r,fu(r,c,e,a),r=xu(null,r,c,!0,p,a)):(r.tag=0,bt&&p&&qc(r),tn(null,r,f,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Ba(e,r),e=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=Ww(c),e=$n(c,e),f){case 0:r=gu(null,r,c,e,a);break e;case 1:r=bh(null,r,c,e,a);break e;case 11:r=gh(null,r,c,e,a);break e;case 14:r=xh(null,r,c,$n(c.type,e),a);break e}throw Error(s(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$n(c,f),gu(e,r,c,f,a);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$n(c,f),bh(e,r,c,f,a);case 3:e:{if(jh(r),e===null)throw Error(s(387));c=r.pendingProps,p=r.memoizedState,f=p.element,_f(e,r),Da(r,c,null,a);var w=r.memoizedState;if(c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=ao(Error(s(423)),r),r=Nh(e,r,c,a,f);break e}else if(c!==f){f=ao(Error(s(424)),r),r=Nh(e,r,c,a,f);break e}else for(vn=Dr(r.stateNode.containerInfo.firstChild),yn=r,bt=!0,Un=null,a=Df(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(no(),c===f){r=dr(e,r,a);break e}tn(e,r,c,a)}r=r.child}return r;case 5:return Vf(r),e===null&&Wc(r),c=r.type,f=r.pendingProps,p=e!==null?e.memoizedProps:null,w=f.children,_c(c,f)?w=null:p!==null&&_c(c,p)&&(r.flags|=32),wh(e,r),tn(e,r,w,a),r.child;case 6:return e===null&&Wc(r),null;case 13:return Sh(e,r,a);case 4:return eu(r,r.stateNode.containerInfo),c=r.pendingProps,e===null?r.child=ro(r,null,c,a):tn(e,r,c,a),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$n(c,f),gh(e,r,c,f,a);case 7:return tn(e,r,r.pendingProps,a),r.child;case 8:return tn(e,r,r.pendingProps.children,a),r.child;case 12:return tn(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,p=r.memoizedProps,w=f.value,gt(Ia,c._currentValue),c._currentValue=w,p!==null)if(Vn(p.value,w)){if(p.children===f.children&&!sn.current){r=dr(e,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var k=p.dependencies;if(k!==null){w=p.child;for(var E=k.firstContext;E!==null;){if(E.context===c){if(p.tag===1){E=ur(-1,a&-a),E.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var ie=B.pending;ie===null?E.next=E:(E.next=ie.next,ie.next=E),B.pending=E}}p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),Xc(p.return,a,r),k.lanes|=a;break}E=E.next}}else if(p.tag===10)w=p.type===r.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),Xc(w,a,r),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}tn(e,r,f.children,a),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,oo(r,a),f=An(f),c=c(f),r.flags|=1,tn(e,r,c,a),r.child;case 14:return c=r.type,f=$n(c,r.pendingProps),f=$n(c.type,f),xh(e,r,c,f,a);case 15:return yh(e,r,r.type,r.pendingProps,a);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$n(c,f),Ba(e,r),r.tag=1,on(c)?(e=!0,Ca(r)):e=!1,oo(r,a),ch(r,c,f),fu(r,c,f,a),xu(null,r,c,!0,e,a);case 19:return Ch(e,r,a);case 22:return vh(e,r,a)}throw Error(s(156,r.tag))};function Yh(e,r){return sa(e,r)}function Hw(e,r,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,r,a,c){return new Hw(e,r,a,c)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ww(e){if(typeof e=="function")return _u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z)return 11;if(e===se)return 14}return 2}function Wr(e,r){var a=e.alternate;return a===null?(a=In(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function tl(e,r,a,c,f,p){var w=2;if(c=e,typeof e=="function")_u(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case ne:return Ns(a.children,f,p,r);case z:w=8,f|=8;break;case X:return e=In(12,a,r,f|2),e.elementType=X,e.lanes=p,e;case me:return e=In(13,a,r,f),e.elementType=me,e.lanes=p,e;case xe:return e=In(19,a,r,f),e.elementType=xe,e.lanes=p,e;case ue:return nl(a,f,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:w=10;break e;case re:w=9;break e;case Z:w=11;break e;case se:w=14;break e;case pe:w=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=In(w,a,r,f),r.elementType=e,r.type=c,r.lanes=p,r}function Ns(e,r,a,c){return e=In(7,e,c,r),e.lanes=a,e}function nl(e,r,a,c){return e=In(22,e,c,r),e.elementType=ue,e.lanes=a,e.stateNode={isHidden:!1},e}function zu(e,r,a){return e=In(6,e,null,r),e.lanes=a,e}function Fu(e,r,a){return r=In(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Gw(e,r,a,c,f){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mc(0),this.expirationTimes=mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Vu(e,r,a,c,f,p,w,k,E){return e=new Gw(e,r,a,k,E),r===1?(r=1,p===!0&&(r|=8)):r=0,p=In(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(p),e}function Qw(e,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:c==null?null:""+c,children:e,containerInfo:r,implementation:a}}function Xh(e){if(!e)return _r;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(on(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(on(a))return kf(e,a,r)}return r}function Jh(e,r,a,c,f,p,w,k,E){return e=Vu(a,c,!0,e,f,p,w,k,E),e.context=Xh(null),a=e.current,c=nn(),f=Br(a),p=ur(c,f),p.callback=r??null,Vr(a,p,f),e.current.lanes=f,Oo(e,f,c),cn(e,c),e}function rl(e,r,a,c){var f=r.current,p=nn(),w=Br(f);return a=Xh(a),r.context===null?r.context=a:r.pendingContext=a,r=ur(p,w),r.payload={element:e},c=c===void 0?null:c,c!==null&&(r.callback=c),e=Vr(f,r,w),e!==null&&(Hn(e,f,w,p),Ra(e,f,w)),w}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Uu(e,r){Zh(e,r),(e=e.alternate)&&Zh(e,r)}function Kw(){return null}var ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}ol.prototype.render=$u.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));rl(e,r,null,null)},ol.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ws(function(){rl(null,e,null,null)}),r[or]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var r=Om();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Ir.length&&r!==0&&r<Ir[a].priority;a++);Ir.splice(a,0,e),a===0&&Fm(e)}};function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tp(){}function Yw(e,r,a,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var B=sl(w);p.call(B)}}var w=Jh(r,c,e,0,null,!1,!1,"",tp);return e._reactRootContainer=w,e[or]=w.current,Yo(e.nodeType===8?e.parentNode:e),ws(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var k=c;c=function(){var B=sl(E);k.call(B)}}var E=Vu(e,0,!1,null,null,!1,!1,"",tp);return e._reactRootContainer=E,e[or]=E.current,Yo(e.nodeType===8?e.parentNode:e),ws(function(){rl(r,E,a,c)}),E}function al(e,r,a,c,f){var p=a._reactRootContainer;if(p){var w=p;if(typeof f=="function"){var k=f;f=function(){var E=sl(w);k.call(E)}}rl(r,w,e,f)}else w=Yw(a,r,e,f,c);return sl(w)}Rm=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=Do(r.pendingLanes);a!==0&&(fc(r,a|1),cn(r,P()),(it&6)===0&&(uo=P()+500,zr()))}break;case 13:ws(function(){var c=cr(e,1);if(c!==null){var f=nn();Hn(c,e,1,f)}}),Uu(e,1)}},hc=function(e){if(e.tag===13){var r=cr(e,134217728);if(r!==null){var a=nn();Hn(r,e,134217728,a)}Uu(e,134217728)}},Dm=function(e){if(e.tag===13){var r=Br(e),a=cr(e,r);if(a!==null){var c=nn();Hn(a,e,r,c)}Uu(e,r)}},Om=function(){return mt},_m=function(e,r){var a=mt;try{return mt=e,r()}finally{mt=a}},is=function(e,r,a){switch(r){case"input":if(Rt(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==e&&c.form===e.form){var f=Sa(c);if(!f)throw Error(s(90));Ke(c),Rt(c,f)}}}break;case"textarea":de(e,a);break;case"select":r=a.value,r!=null&&Ze(e,!!a.multiple,r,!1)}},ls=Ru,ta=ws;var Xw={usingClientEntryPoint:!1,Events:[Zo,Xs,Sa,ea,as,Ru]},fi={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jw={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ro(e),e===null?null:e.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||Kw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{Ge=ll.inject(Jw),dt=ll}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xw,un.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(r))throw Error(s(200));return Qw(e,r,null,a)},un.createRoot=function(e,r){if(!qu(e))throw Error(s(299));var a=!1,c="",f=ep;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Vu(e,1,!1,null,null,a,!1,c,f),e[or]=r.current,Yo(e.nodeType===8?e.parentNode:e),new $u(r)},un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ro(r),e=e===null?null:e.stateNode,e},un.flushSync=function(e){return ws(e)},un.hydrate=function(e,r,a){if(!il(r))throw Error(s(200));return al(null,e,r,!0,a)},un.hydrateRoot=function(e,r,a){if(!qu(e))throw Error(s(405));var c=a!=null&&a.hydratedSources||null,f=!1,p="",w=ep;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),r=Jh(r,null,e,1,a??null,f,!1,p,w),e[or]=r.current,Yo(e),c)for(e=0;e<c.length;e++)a=c[e],f=a._getVersion,f=f(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f);return new ol(r)},un.render=function(e,r,a){if(!il(r))throw Error(s(200));return al(null,e,r,!1,a)},un.unmountComponentAtNode=function(e){if(!il(e))throw Error(s(40));return e._reactRootContainer?(ws(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1},un.unstable_batchedUpdates=Ru,un.unstable_renderSubtreeIntoContainer=function(e,r,a,c){if(!il(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return al(e,r,a,!1,c)},un.version="18.3.1-next-f1338f8080-20240426",un}var cp;function fx(){if(cp)return Wu.exports;cp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Wu.exports=ob(),Wu.exports}var up;function ib(){if(up)return cl;up=1;var t=fx();return cl.createRoot=t.createRoot,cl.hydrateRoot=t.hydrateRoot,cl}var ab=ib();const lb=mx(ab);function hx(t,n){return function(){return t.apply(n,arguments)}}const{toString:cb}=Object.prototype,{getPrototypeOf:Hd}=Object,{iterator:Bl,toStringTag:px}=Symbol,Hl=(t=>n=>{const s=cb.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Qn=t=>(t=t.toLowerCase(),n=>Hl(n)===t),Wl=t=>n=>typeof n===t,{isArray:To}=Array,Li=Wl("undefined");function qi(t){return t!==null&&!Li(t)&&t.constructor!==null&&!Li(t.constructor)&&mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gx=Qn("ArrayBuffer");function ub(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&gx(t.buffer),n}const db=Wl("string"),mn=Wl("function"),xx=Wl("number"),Bi=t=>t!==null&&typeof t=="object",mb=t=>t===!0||t===!1,bl=t=>{if(Hl(t)!=="object")return!1;const n=Hd(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(px in t)&&!(Bl in t)},fb=t=>{if(!Bi(t)||qi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},hb=Qn("Date"),pb=Qn("File"),gb=Qn("Blob"),xb=Qn("FileList"),yb=t=>Bi(t)&&mn(t.pipe),vb=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||mn(t.append)&&((n=Hl(t))==="formdata"||n==="object"&&mn(t.toString)&&t.toString()==="[object FormData]"))},wb=Qn("URLSearchParams"),[bb,jb,Nb,Sb]=["ReadableStream","Request","Response","Headers"].map(Qn),kb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hi(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let i,l;if(typeof t!="object"&&(t=[t]),To(t))for(i=0,l=t.length;i<l;i++)n.call(null,t[i],i,t);else{if(qi(t))return;const d=s?Object.getOwnPropertyNames(t):Object.keys(t),u=d.length;let m;for(i=0;i<u;i++)m=d[i],n.call(null,t[m],m,t)}}function yx(t,n){if(qi(t))return null;n=n.toLowerCase();const s=Object.keys(t);let i=s.length,l;for(;i-- >0;)if(l=s[i],n===l.toLowerCase())return l;return null}const Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vx=t=>!Li(t)&&t!==Es;function vd(){const{caseless:t}=vx(this)&&this||{},n={},s=(i,l)=>{const d=t&&yx(n,l)||l;bl(n[d])&&bl(i)?n[d]=vd(n[d],i):bl(i)?n[d]=vd({},i):To(i)?n[d]=i.slice():n[d]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&Hi(arguments[i],s);return n}const Cb=(t,n,s,{allOwnKeys:i}={})=>(Hi(n,(l,d)=>{s&&mn(l)?t[d]=hx(l,s):t[d]=l},{allOwnKeys:i}),t),Pb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Tb=(t,n,s,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},Ab=(t,n,s,i)=>{let l,d,u;const m={};if(n=n||{},t==null)return n;do{for(l=Object.getOwnPropertyNames(t),d=l.length;d-- >0;)u=l[d],(!i||i(u,t,n))&&!m[u]&&(n[u]=t[u],m[u]=!0);t=s!==!1&&Hd(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},Eb=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const i=t.indexOf(n,s);return i!==-1&&i===s},Lb=t=>{if(!t)return null;if(To(t))return t;let n=t.length;if(!xx(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},Ib=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Hd(Uint8Array)),Mb=(t,n)=>{const i=(t&&t[Bl]).call(t);let l;for(;(l=i.next())&&!l.done;){const d=l.value;n.call(t,d[0],d[1])}},Rb=(t,n)=>{let s;const i=[];for(;(s=t.exec(n))!==null;)i.push(s);return i},Db=Qn("HTMLFormElement"),Ob=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,l){return i.toUpperCase()+l}),dp=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),_b=Qn("RegExp"),wx=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),i={};Hi(s,(l,d)=>{let u;(u=n(l,d,t))!==!1&&(i[d]=u||l)}),Object.defineProperties(t,i)},zb=t=>{wx(t,(n,s)=>{if(mn(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=t[s];if(mn(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Fb=(t,n)=>{const s={},i=l=>{l.forEach(d=>{s[d]=!0})};return To(t)?i(t):i(String(t).split(n)),s},Vb=()=>{},Ub=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function $b(t){return!!(t&&mn(t.append)&&t[px]==="FormData"&&t[Bl])}const qb=t=>{const n=new Array(10),s=(i,l)=>{if(Bi(i)){if(n.indexOf(i)>=0)return;if(qi(i))return i;if(!("toJSON"in i)){n[l]=i;const d=To(i)?[]:{};return Hi(i,(u,m)=>{const h=s(u,l+1);!Li(h)&&(d[m]=h)}),n[l]=void 0,d}}return i};return s(t,0)},Bb=Qn("AsyncFunction"),Hb=t=>t&&(Bi(t)||mn(t))&&mn(t.then)&&mn(t.catch),bx=((t,n)=>t?setImmediate:n?((s,i)=>(Es.addEventListener("message",({source:l,data:d})=>{l===Es&&d===s&&i.length&&i.shift()()},!1),l=>{i.push(l),Es.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",mn(Es.postMessage)),Wb=typeof queueMicrotask<"u"?queueMicrotask.bind(Es):typeof process<"u"&&process.nextTick||bx,Gb=t=>t!=null&&mn(t[Bl]),W={isArray:To,isArrayBuffer:gx,isBuffer:qi,isFormData:vb,isArrayBufferView:ub,isString:db,isNumber:xx,isBoolean:mb,isObject:Bi,isPlainObject:bl,isEmptyObject:fb,isReadableStream:bb,isRequest:jb,isResponse:Nb,isHeaders:Sb,isUndefined:Li,isDate:hb,isFile:pb,isBlob:gb,isRegExp:_b,isFunction:mn,isStream:yb,isURLSearchParams:wb,isTypedArray:Ib,isFileList:xb,forEach:Hi,merge:vd,extend:Cb,trim:kb,stripBOM:Pb,inherits:Tb,toFlatObject:Ab,kindOf:Hl,kindOfTest:Qn,endsWith:Eb,toArray:Lb,forEachEntry:Mb,matchAll:Rb,isHTMLForm:Db,hasOwnProperty:dp,hasOwnProp:dp,reduceDescriptors:wx,freezeMethods:zb,toObjectSet:Fb,toCamelCase:Ob,noop:Vb,toFiniteNumber:Ub,findKey:yx,global:Es,isContextDefined:vx,isSpecCompliantForm:$b,toJSONObject:qb,isAsyncFn:Bb,isThenable:Hb,setImmediate:bx,asap:Wb,isIterable:Gb};function Xe(t,n,s,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}W.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const jx=Xe.prototype,Nx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nx[t]={value:t}});Object.defineProperties(Xe,Nx);Object.defineProperty(jx,"isAxiosError",{value:!0});Xe.from=(t,n,s,i,l,d)=>{const u=Object.create(jx);return W.toFlatObject(t,u,function(h){return h!==Error.prototype},m=>m!=="isAxiosError"),Xe.call(u,t.message,n,s,i,l),u.cause=t,u.name=t.name,d&&Object.assign(u,d),u};const Qb=null;function wd(t){return W.isPlainObject(t)||W.isArray(t)}function Sx(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function mp(t,n,s){return t?t.concat(n).map(function(l,d){return l=Sx(l),!s&&d?"["+l+"]":l}).join(s?".":""):n}function Kb(t){return W.isArray(t)&&!t.some(wd)}const Yb=W.toFlatObject(W,{},null,function(n){return/^is[A-Z]/.test(n)});function Gl(t,n,s){if(!W.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=W.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!W.isUndefined(j[N])});const i=s.metaTokens,l=s.visitor||x,d=s.dots,u=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(n);if(!W.isFunction(l))throw new TypeError("visitor must be a function");function g(S){if(S===null)return"";if(W.isDate(S))return S.toISOString();if(W.isBoolean(S))return S.toString();if(!h&&W.isBlob(S))throw new Xe("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(S)||W.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function x(S,N,j){let O=S;if(S&&!j&&typeof S=="object"){if(W.endsWith(N,"{}"))N=i?N:N.slice(0,-2),S=JSON.stringify(S);else if(W.isArray(S)&&Kb(S)||(W.isFileList(S)||W.endsWith(N,"[]"))&&(O=W.toArray(S)))return N=Sx(N),O.forEach(function(L,_){!(W.isUndefined(L)||L===null)&&n.append(u===!0?mp([N],_,d):u===null?N:N+"[]",g(L))}),!1}return wd(S)?!0:(n.append(mp(j,N,d),g(S)),!1)}const y=[],b=Object.assign(Yb,{defaultVisitor:x,convertValue:g,isVisitable:wd});function C(S,N){if(!W.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));y.push(S),W.forEach(S,function(O,D){(!(W.isUndefined(O)||O===null)&&l.call(n,O,W.isString(D)?D.trim():D,N,b))===!0&&C(O,N?N.concat(D):[D])}),y.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return C(t),n}function fp(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function Wd(t,n){this._pairs=[],t&&Gl(t,this,n)}const kx=Wd.prototype;kx.append=function(n,s){this._pairs.push([n,s])};kx.toString=function(n){const s=n?function(i){return n.call(this,i,fp)}:fp;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function Xb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cx(t,n,s){if(!n)return t;const i=s&&s.encode||Xb;W.isFunction(s)&&(s={serialize:s});const l=s&&s.serialize;let d;if(l?d=l(n,s):d=W.isURLSearchParams(n)?n.toString():new Wd(n,s).toString(i),d){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class hp{constructor(){this.handlers=[]}use(n,s,i){return this.handlers.push({fulfilled:n,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){W.forEach(this.handlers,function(i){i!==null&&n(i)})}}const Px={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jb=typeof URLSearchParams<"u"?URLSearchParams:Wd,Zb=typeof FormData<"u"?FormData:null,e1=typeof Blob<"u"?Blob:null,t1={isBrowser:!0,classes:{URLSearchParams:Jb,FormData:Zb,Blob:e1},protocols:["http","https","file","blob","url","data"]},Gd=typeof window<"u"&&typeof document<"u",bd=typeof navigator=="object"&&navigator||void 0,n1=Gd&&(!bd||["ReactNative","NativeScript","NS"].indexOf(bd.product)<0),r1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s1=Gd&&window.location.href||"http://localhost",o1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gd,hasStandardBrowserEnv:n1,hasStandardBrowserWebWorkerEnv:r1,navigator:bd,origin:s1},Symbol.toStringTag,{value:"Module"})),Yt={...o1,...t1};function i1(t,n){return Gl(t,new Yt.classes.URLSearchParams,{visitor:function(s,i,l,d){return Yt.isNode&&W.isBuffer(s)?(this.append(i,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function a1(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function l1(t){const n={},s=Object.keys(t);let i;const l=s.length;let d;for(i=0;i<l;i++)d=s[i],n[d]=t[d];return n}function Tx(t){function n(s,i,l,d){let u=s[d++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),h=d>=s.length;return u=!u&&W.isArray(l)?l.length:u,h?(W.hasOwnProp(l,u)?l[u]=[l[u],i]:l[u]=i,!m):((!l[u]||!W.isObject(l[u]))&&(l[u]=[]),n(s,i,l[u],d)&&W.isArray(l[u])&&(l[u]=l1(l[u])),!m)}if(W.isFormData(t)&&W.isFunction(t.entries)){const s={};return W.forEachEntry(t,(i,l)=>{n(a1(i),l,s,0)}),s}return null}function c1(t,n,s){if(W.isString(t))try{return(n||JSON.parse)(t),W.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(t)}const Wi={transitional:Px,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const i=s.getContentType()||"",l=i.indexOf("application/json")>-1,d=W.isObject(n);if(d&&W.isHTMLForm(n)&&(n=new FormData(n)),W.isFormData(n))return l?JSON.stringify(Tx(n)):n;if(W.isArrayBuffer(n)||W.isBuffer(n)||W.isStream(n)||W.isFile(n)||W.isBlob(n)||W.isReadableStream(n))return n;if(W.isArrayBufferView(n))return n.buffer;if(W.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return i1(n,this.formSerializer).toString();if((m=W.isFileList(n))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Gl(m?{"files[]":n}:n,h&&new h,this.formSerializer)}}return d||l?(s.setContentType("application/json",!1),c1(n)):n}],transformResponse:[function(n){const s=this.transitional||Wi.transitional,i=s&&s.forcedJSONParsing,l=this.responseType==="json";if(W.isResponse(n)||W.isReadableStream(n))return n;if(n&&W.isString(n)&&(i&&!this.responseType||l)){const u=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(n)}catch(m){if(u)throw m.name==="SyntaxError"?Xe.from(m,Xe.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Wi.headers[t]={}});const u1=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d1=t=>{const n={};let s,i,l;return t&&t.split(`
`).forEach(function(u){l=u.indexOf(":"),s=u.substring(0,l).trim().toLowerCase(),i=u.substring(l+1).trim(),!(!s||n[s]&&u1[s])&&(s==="set-cookie"?n[s]?n[s].push(i):n[s]=[i]:n[s]=n[s]?n[s]+", "+i:i)}),n},pp=Symbol("internals");function pi(t){return t&&String(t).trim().toLowerCase()}function jl(t){return t===!1||t==null?t:W.isArray(t)?t.map(jl):String(t)}function m1(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(t);)n[i[1]]=i[2];return n}const f1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ku(t,n,s,i,l){if(W.isFunction(i))return i.call(this,n,s);if(l&&(n=s),!!W.isString(n)){if(W.isString(i))return n.indexOf(i)!==-1;if(W.isRegExp(i))return i.test(n)}}function h1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,i)=>s.toUpperCase()+i)}function p1(t,n){const s=W.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+s,{value:function(l,d,u){return this[i].call(this,n,l,d,u)},configurable:!0})})}let fn=class{constructor(n){n&&this.set(n)}set(n,s,i){const l=this;function d(m,h,g){const x=pi(h);if(!x)throw new Error("header name must be a non-empty string");const y=W.findKey(l,x);(!y||l[y]===void 0||g===!0||g===void 0&&l[y]!==!1)&&(l[y||h]=jl(m))}const u=(m,h)=>W.forEach(m,(g,x)=>d(g,x,h));if(W.isPlainObject(n)||n instanceof this.constructor)u(n,s);else if(W.isString(n)&&(n=n.trim())&&!f1(n))u(d1(n),s);else if(W.isObject(n)&&W.isIterable(n)){let m={},h,g;for(const x of n){if(!W.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[g=x[0]]=(h=m[g])?W.isArray(h)?[...h,x[1]]:[h,x[1]]:x[1]}u(m,s)}else n!=null&&d(s,n,i);return this}get(n,s){if(n=pi(n),n){const i=W.findKey(this,n);if(i){const l=this[i];if(!s)return l;if(s===!0)return m1(l);if(W.isFunction(s))return s.call(this,l,i);if(W.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=pi(n),n){const i=W.findKey(this,n);return!!(i&&this[i]!==void 0&&(!s||Ku(this,this[i],i,s)))}return!1}delete(n,s){const i=this;let l=!1;function d(u){if(u=pi(u),u){const m=W.findKey(i,u);m&&(!s||Ku(i,i[m],m,s))&&(delete i[m],l=!0)}}return W.isArray(n)?n.forEach(d):d(n),l}clear(n){const s=Object.keys(this);let i=s.length,l=!1;for(;i--;){const d=s[i];(!n||Ku(this,this[d],d,n,!0))&&(delete this[d],l=!0)}return l}normalize(n){const s=this,i={};return W.forEach(this,(l,d)=>{const u=W.findKey(i,d);if(u){s[u]=jl(l),delete s[d];return}const m=n?h1(d):String(d).trim();m!==d&&delete s[d],s[m]=jl(l),i[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return W.forEach(this,(i,l)=>{i!=null&&i!==!1&&(s[l]=n&&W.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const i=new this(n);return s.forEach(l=>i.set(l)),i}static accessor(n){const i=(this[pp]=this[pp]={accessors:{}}).accessors,l=this.prototype;function d(u){const m=pi(u);i[m]||(p1(l,u),i[m]=!0)}return W.isArray(n)?n.forEach(d):d(n),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(fn.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(i){this[s]=i}}});W.freezeMethods(fn);function Yu(t,n){const s=this||Wi,i=n||s,l=fn.from(i.headers);let d=i.data;return W.forEach(t,function(m){d=m.call(s,d,l.normalize(),n?n.status:void 0)}),l.normalize(),d}function Ax(t){return!!(t&&t.__CANCEL__)}function Ao(t,n,s){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,n,s),this.name="CanceledError"}W.inherits(Ao,Xe,{__CANCEL__:!0});function Ex(t,n,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):n(new Xe("Request failed with status code "+s.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function g1(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function x1(t,n){t=t||10;const s=new Array(t),i=new Array(t);let l=0,d=0,u;return n=n!==void 0?n:1e3,function(h){const g=Date.now(),x=i[d];u||(u=g),s[l]=h,i[l]=g;let y=d,b=0;for(;y!==l;)b+=s[y++],y=y%t;if(l=(l+1)%t,l===d&&(d=(d+1)%t),g-u<n)return;const C=x&&g-x;return C?Math.round(b*1e3/C):void 0}}function y1(t,n){let s=0,i=1e3/n,l,d;const u=(g,x=Date.now())=>{s=x,l=null,d&&(clearTimeout(d),d=null),t(...g)};return[(...g)=>{const x=Date.now(),y=x-s;y>=i?u(g,x):(l=g,d||(d=setTimeout(()=>{d=null,u(l)},i-y)))},()=>l&&u(l)]}const Al=(t,n,s=3)=>{let i=0;const l=x1(50,250);return y1(d=>{const u=d.loaded,m=d.lengthComputable?d.total:void 0,h=u-i,g=l(h),x=u<=m;i=u;const y={loaded:u,total:m,progress:m?u/m:void 0,bytes:h,rate:g||void 0,estimated:g&&m&&x?(m-u)/g:void 0,event:d,lengthComputable:m!=null,[n?"download":"upload"]:!0};t(y)},s)},gp=(t,n)=>{const s=t!=null;return[i=>n[0]({lengthComputable:s,total:t,loaded:i}),n[1]]},xp=t=>(...n)=>W.asap(()=>t(...n)),v1=Yt.hasStandardBrowserEnv?((t,n)=>s=>(s=new URL(s,Yt.origin),t.protocol===s.protocol&&t.host===s.host&&(n||t.port===s.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,w1=Yt.hasStandardBrowserEnv?{write(t,n,s,i,l,d){const u=[t+"="+encodeURIComponent(n)];W.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),W.isString(i)&&u.push("path="+i),W.isString(l)&&u.push("domain="+l),d===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function b1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function j1(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function Lx(t,n,s){let i=!b1(n);return t&&(i||s==!1)?j1(t,n):n}const yp=t=>t instanceof fn?{...t}:t;function zs(t,n){n=n||{};const s={};function i(g,x,y,b){return W.isPlainObject(g)&&W.isPlainObject(x)?W.merge.call({caseless:b},g,x):W.isPlainObject(x)?W.merge({},x):W.isArray(x)?x.slice():x}function l(g,x,y,b){if(W.isUndefined(x)){if(!W.isUndefined(g))return i(void 0,g,y,b)}else return i(g,x,y,b)}function d(g,x){if(!W.isUndefined(x))return i(void 0,x)}function u(g,x){if(W.isUndefined(x)){if(!W.isUndefined(g))return i(void 0,g)}else return i(void 0,x)}function m(g,x,y){if(y in n)return i(g,x);if(y in t)return i(void 0,g)}const h={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(g,x,y)=>l(yp(g),yp(x),y,!0)};return W.forEach(Object.keys({...t,...n}),function(x){const y=h[x]||l,b=y(t[x],n[x],x);W.isUndefined(b)&&y!==m||(s[x]=b)}),s}const Ix=t=>{const n=zs({},t);let{data:s,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:d,headers:u,auth:m}=n;n.headers=u=fn.from(u),n.url=Cx(Lx(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let h;if(W.isFormData(s)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((h=u.getContentType())!==!1){const[g,...x]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",...x].join("; "))}}if(Yt.hasStandardBrowserEnv&&(i&&W.isFunction(i)&&(i=i(n)),i||i!==!1&&v1(n.url))){const g=l&&d&&w1.read(d);g&&u.set(l,g)}return n},N1=typeof XMLHttpRequest<"u",S1=N1&&function(t){return new Promise(function(s,i){const l=Ix(t);let d=l.data;const u=fn.from(l.headers).normalize();let{responseType:m,onUploadProgress:h,onDownloadProgress:g}=l,x,y,b,C,S;function N(){C&&C(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(x),l.signal&&l.signal.removeEventListener("abort",x)}let j=new XMLHttpRequest;j.open(l.method.toUpperCase(),l.url,!0),j.timeout=l.timeout;function O(){if(!j)return;const L=fn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),F={data:!m||m==="text"||m==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:L,config:t,request:j};Ex(function(ne){s(ne),N()},function(ne){i(ne),N()},F),j=null}"onloadend"in j?j.onloadend=O:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(O)},j.onabort=function(){j&&(i(new Xe("Request aborted",Xe.ECONNABORTED,t,j)),j=null)},j.onerror=function(){i(new Xe("Network Error",Xe.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let _=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const F=l.transitional||Px;l.timeoutErrorMessage&&(_=l.timeoutErrorMessage),i(new Xe(_,F.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,t,j)),j=null},d===void 0&&u.setContentType(null),"setRequestHeader"in j&&W.forEach(u.toJSON(),function(_,F){j.setRequestHeader(F,_)}),W.isUndefined(l.withCredentials)||(j.withCredentials=!!l.withCredentials),m&&m!=="json"&&(j.responseType=l.responseType),g&&([b,S]=Al(g,!0),j.addEventListener("progress",b)),h&&j.upload&&([y,C]=Al(h),j.upload.addEventListener("progress",y),j.upload.addEventListener("loadend",C)),(l.cancelToken||l.signal)&&(x=L=>{j&&(i(!L||L.type?new Ao(null,t,j):L),j.abort(),j=null)},l.cancelToken&&l.cancelToken.subscribe(x),l.signal&&(l.signal.aborted?x():l.signal.addEventListener("abort",x)));const D=g1(l.url);if(D&&Yt.protocols.indexOf(D)===-1){i(new Xe("Unsupported protocol "+D+":",Xe.ERR_BAD_REQUEST,t));return}j.send(d||null)})},k1=(t,n)=>{const{length:s}=t=t?t.filter(Boolean):[];if(n||s){let i=new AbortController,l;const d=function(g){if(!l){l=!0,m();const x=g instanceof Error?g:this.reason;i.abort(x instanceof Xe?x:new Ao(x instanceof Error?x.message:x))}};let u=n&&setTimeout(()=>{u=null,d(new Xe(`timeout ${n} of ms exceeded`,Xe.ETIMEDOUT))},n);const m=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),t=null)};t.forEach(g=>g.addEventListener("abort",d));const{signal:h}=i;return h.unsubscribe=()=>W.asap(m),h}},C1=function*(t,n){let s=t.byteLength;if(s<n){yield t;return}let i=0,l;for(;i<s;)l=i+n,yield t.slice(i,l),i=l},P1=async function*(t,n){for await(const s of T1(t))yield*C1(s,n)},T1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:s,value:i}=await n.read();if(s)break;yield i}}finally{await n.cancel()}},vp=(t,n,s,i)=>{const l=P1(t,n);let d=0,u,m=h=>{u||(u=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:g,value:x}=await l.next();if(g){m(),h.close();return}let y=x.byteLength;if(s){let b=d+=y;s(b)}h.enqueue(new Uint8Array(x))}catch(g){throw m(g),g}},cancel(h){return m(h),l.return()}},{highWaterMark:2})},Ql=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mx=Ql&&typeof ReadableStream=="function",A1=Ql&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Rx=(t,...n)=>{try{return!!t(...n)}catch{return!1}},E1=Mx&&Rx(()=>{let t=!1;const n=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n}),wp=64*1024,jd=Mx&&Rx(()=>W.isReadableStream(new Response("").body)),El={stream:jd&&(t=>t.body)};Ql&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!El[n]&&(El[n]=W.isFunction(t[n])?s=>s[n]():(s,i)=>{throw new Xe(`Response type '${n}' is not supported`,Xe.ERR_NOT_SUPPORT,i)})})})(new Response);const L1=async t=>{if(t==null)return 0;if(W.isBlob(t))return t.size;if(W.isSpecCompliantForm(t))return(await new Request(Yt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(W.isArrayBufferView(t)||W.isArrayBuffer(t))return t.byteLength;if(W.isURLSearchParams(t)&&(t=t+""),W.isString(t))return(await A1(t)).byteLength},I1=async(t,n)=>{const s=W.toFiniteNumber(t.getContentLength());return s??L1(n)},M1=Ql&&(async t=>{let{url:n,method:s,data:i,signal:l,cancelToken:d,timeout:u,onDownloadProgress:m,onUploadProgress:h,responseType:g,headers:x,withCredentials:y="same-origin",fetchOptions:b}=Ix(t);g=g?(g+"").toLowerCase():"text";let C=k1([l,d&&d.toAbortSignal()],u),S;const N=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let j;try{if(h&&E1&&s!=="get"&&s!=="head"&&(j=await I1(x,i))!==0){let F=new Request(n,{method:"POST",body:i,duplex:"half"}),A;if(W.isFormData(i)&&(A=F.headers.get("content-type"))&&x.setContentType(A),F.body){const[ne,z]=gp(j,Al(xp(h)));i=vp(F.body,wp,ne,z)}}W.isString(y)||(y=y?"include":"omit");const O="credentials"in Request.prototype;S=new Request(n,{...b,signal:C,method:s.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:O?y:void 0});let D=await fetch(S,b);const L=jd&&(g==="stream"||g==="response");if(jd&&(m||L&&N)){const F={};["status","statusText","headers"].forEach(X=>{F[X]=D[X]});const A=W.toFiniteNumber(D.headers.get("content-length")),[ne,z]=m&&gp(A,Al(xp(m),!0))||[];D=new Response(vp(D.body,wp,ne,()=>{z&&z(),N&&N()}),F)}g=g||"text";let _=await El[W.findKey(El,g)||"text"](D,t);return!L&&N&&N(),await new Promise((F,A)=>{Ex(F,A,{data:_,headers:fn.from(D.headers),status:D.status,statusText:D.statusText,config:t,request:S})})}catch(O){throw N&&N(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,t,S),{cause:O.cause||O}):Xe.from(O,O&&O.code,t,S)}}),Nd={http:Qb,xhr:S1,fetch:M1};W.forEach(Nd,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const bp=t=>`- ${t}`,R1=t=>W.isFunction(t)||t===null||t===!1,Dx={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:n}=t;let s,i;const l={};for(let d=0;d<n;d++){s=t[d];let u;if(i=s,!R1(s)&&(i=Nd[(u=String(s)).toLowerCase()],i===void 0))throw new Xe(`Unknown adapter '${u}'`);if(i)break;l[u||"#"+d]=i}if(!i){const d=Object.entries(l).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?d.length>1?`since :
`+d.map(bp).join(`
`):" "+bp(d[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Nd};function Xu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ao(null,t)}function jp(t){return Xu(t),t.headers=fn.from(t.headers),t.data=Yu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dx.getAdapter(t.adapter||Wi.adapter)(t).then(function(i){return Xu(t),i.data=Yu.call(t,t.transformResponse,i),i.headers=fn.from(i.headers),i},function(i){return Ax(i)||(Xu(t),i&&i.response&&(i.response.data=Yu.call(t,t.transformResponse,i.response),i.response.headers=fn.from(i.response.headers))),Promise.reject(i)})}const Ox="1.11.0",Kl={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Kl[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});const Np={};Kl.transitional=function(n,s,i){function l(d,u){return"[Axios v"+Ox+"] Transitional option '"+d+"'"+u+(i?". "+i:"")}return(d,u,m)=>{if(n===!1)throw new Xe(l(u," has been removed"+(s?" in "+s:"")),Xe.ERR_DEPRECATED);return s&&!Np[u]&&(Np[u]=!0,console.warn(l(u," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(d,u,m):!0}};Kl.spelling=function(n){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function D1(t,n,s){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let l=i.length;for(;l-- >0;){const d=i[l],u=n[d];if(u){const m=t[d],h=m===void 0||u(m,d,t);if(h!==!0)throw new Xe("option "+d+" must be "+h,Xe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Xe("Unknown option "+d,Xe.ERR_BAD_OPTION)}}const Nl={assertOptions:D1,validators:Kl},er=Nl.validators;let Rs=class{constructor(n){this.defaults=n||{},this.interceptors={request:new hp,response:new hp}}async request(n,s){try{return await this._request(n,s)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const d=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=zs(this.defaults,s);const{transitional:i,paramsSerializer:l,headers:d}=s;i!==void 0&&Nl.assertOptions(i,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),l!=null&&(W.isFunction(l)?s.paramsSerializer={serialize:l}:Nl.assertOptions(l,{encode:er.function,serialize:er.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Nl.assertOptions(s,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let u=d&&W.merge(d.common,d[s.method]);d&&W.forEach(["delete","get","head","post","put","patch","common"],S=>{delete d[S]}),s.headers=fn.concat(u,d);const m=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(h=h&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});const g=[];this.interceptors.response.forEach(function(N){g.push(N.fulfilled,N.rejected)});let x,y=0,b;if(!h){const S=[jp.bind(this),void 0];for(S.unshift(...m),S.push(...g),b=S.length,x=Promise.resolve(s);y<b;)x=x.then(S[y++],S[y++]);return x}b=m.length;let C=s;for(y=0;y<b;){const S=m[y++],N=m[y++];try{C=S(C)}catch(j){N.call(this,j);break}}try{x=jp.call(this,C)}catch(S){return Promise.reject(S)}for(y=0,b=g.length;y<b;)x=x.then(g[y++],g[y++]);return x}getUri(n){n=zs(this.defaults,n);const s=Lx(n.baseURL,n.url,n.allowAbsoluteUrls);return Cx(s,n.params,n.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(n){Rs.prototype[n]=function(s,i){return this.request(zs(i||{},{method:n,url:s,data:(i||{}).data}))}});W.forEach(["post","put","patch"],function(n){function s(i){return function(d,u,m){return this.request(zs(m||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}Rs.prototype[n]=s(),Rs.prototype[n+"Form"]=s(!0)});let O1=class _x{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const i=this;this.promise.then(l=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](l);i._listeners=null}),this.promise.then=l=>{let d;const u=new Promise(m=>{i.subscribe(m),d=m}).then(l);return u.cancel=function(){i.unsubscribe(d)},u},n(function(d,u,m){i.reason||(i.reason=new Ao(d,u,m),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const n=new AbortController,s=i=>{n.abort(i)};return this.subscribe(s),n.signal.unsubscribe=()=>this.unsubscribe(s),n.signal}static source(){let n;return{token:new _x(function(l){n=l}),cancel:n}}};function _1(t){return function(s){return t.apply(null,s)}}function z1(t){return W.isObject(t)&&t.isAxiosError===!0}const Sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sd).forEach(([t,n])=>{Sd[n]=t});function zx(t){const n=new Rs(t),s=hx(Rs.prototype.request,n);return W.extend(s,Rs.prototype,n,{allOwnKeys:!0}),W.extend(s,n,null,{allOwnKeys:!0}),s.create=function(l){return zx(zs(t,l))},s}const Lt=zx(Wi);Lt.Axios=Rs;Lt.CanceledError=Ao;Lt.CancelToken=O1;Lt.isCancel=Ax;Lt.VERSION=Ox;Lt.toFormData=Gl;Lt.AxiosError=Xe;Lt.Cancel=Lt.CanceledError;Lt.all=function(n){return Promise.all(n)};Lt.spread=_1;Lt.isAxiosError=z1;Lt.mergeConfig=zs;Lt.AxiosHeaders=fn;Lt.formToJSON=t=>Tx(W.isHTMLForm(t)?new FormData(t):t);Lt.getAdapter=Dx.getAdapter;Lt.HttpStatusCode=Sd;Lt.default=Lt;const{Axios:lA,AxiosError:cA,CanceledError:uA,isCancel:dA,CancelToken:mA,VERSION:fA,all:hA,Cancel:pA,isAxiosError:gA,spread:xA,toFormData:yA,AxiosHeaders:vA,HttpStatusCode:wA,formToJSON:bA,getAdapter:jA,mergeConfig:NA}=Lt;class F1{api;requestCache=new Map;constructor(){this.api=Lt.create({baseURL:"http://localhost:5000/api",timeout:6e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.response.use(n=>n,n=>{throw console.error("API Error:",n),this.formatError(n)})}formatError(n){return n.response?.data?n.response.data:{source:"Network Error",errors:{errorMessage:n.message||"An unknown network error occurred",columns:[],rows:[],executionMs:0,success:!1,affectedRows:null},statusCode:n.response?.status||0}}async checkHealth(){return(await this.api.get("/health")).data}async checkLocalLLMHealth(){return(await this.api.get("/health/localllm")).data}async getLocalLLMModel(){return(await this.api.get("/userinfo/localllm")).data}async createUser(n){return(await this.api.post("/userinfo",n)).data}async getUserById(n){return(await this.api.get(`/userinfo/${n}`)).data}async getAllUsers(){return(await this.api.get("/userinfo")).data}async updateUserAIMode(n){return(await this.api.put(`/userinfo/${n.userId}/aimode`,n)).data}async getSupportedProviders(){const n="getSupportedProviders";if(this.requestCache.has(n))return console.log("Returning cached request for getSupportedProviders"),this.requestCache.get(n);const s=this._getSupportedProvidersInternal();this.requestCache.set(n,s);try{return await s}finally{this.requestCache.delete(n)}}async _getSupportedProvidersInternal(){return(await this.api.get("/setup/providers")).data}async getExistingProfiles(){return(await this.api.get("/setup/profiles")).data.map(s=>{const i=this.extractServerNameFromConnectionString(s.connectionString);return{id:s.id,name:s.name,connectionString:s.connectionString||"",queries:s.queries||[],createdUtc:s.createdUtc,databaseName:s.databaseName,serverName:i,providerType:"SqlServer",provider:"SqlServer",secretRef:s.secretRef,cacheFile:s.cacheFile}})}async getUserProfiles(n){return(await this.getUserById(n)).profiles.map(i=>({id:i.id,name:i.name,connectionString:"",queries:[],createdUtc:i.createdUtc,databaseName:i.databaseName,serverName:"Unknown Server",providerType:"SqlServer",provider:i.provider,secretRef:i.secretRef,cacheFile:i.cacheFile}))}extractServerNameFromConnectionString(n){if(!n)return"Unknown Server";const s=[/Data Source=([^;]+)/i,/Server=([^;]+)/i,/DataSource=([^;]+)/i];for(const i of s){const l=n.match(i);if(l)return l[1].trim()}return"Unknown Server"}async getAvailableServers(n){return(await this.api.get(`/setup/servers/${n}`)).data}async getAvailableDatabases(n,s){const i=encodeURIComponent(s);return(await this.api.get(`/setup/databases/${n}/${i}`)).data}async testConnection(n,s){return(await this.api.post(`/setup/test/${n}`,{ConnectionString:s})).data}async createProfile(n){return(await this.api.post("/setup/profile",n)).data}async removeProfile(n){return(await this.api.delete(`/setup/profile/${n}`)).data}async getProfile(n){return(await this.api.get(`/query/profile/${n}`)).data}async convertQuery(n){return(await this.api.post(`/query/${n.profileId}/convert`,n)).data}async convertQueryWithTimeout(n,s){return(await this.api.post(`/query/${n.profileId}/convert`,n,{timeout:s})).data}async executeQuery(n){return(await this.api.post(`/query/${n.profileId}/execute`,n)).data}async getSchema(n){return(await this.api.get(`/query/${n}/schema`)).data}async testGroqApiKey(n){try{if(!n||!n.trim())return{valid:!1,message:"API key is required"};const i=await fetch("https://api.groq.com/openai/v1/models",{method:"GET",headers:{Authorization:`Bearer ${n.trim()}`,"Content-Type":"application/json"}});return i.ok?{valid:!0,message:"API key is valid and working"}:i.status===401?{valid:!1,message:"Invalid API key or unauthorized access"}:i.status===403?{valid:!1,message:"API key does not have required permissions"}:i.status===429?{valid:!1,message:"Rate limit exceeded. Please try again later"}:{valid:!1,message:`API request failed with status ${i.status}`}}catch(s){return console.error("Error testing Groq API key:",s),s.name==="TypeError"&&s.message.includes("fetch")?/^gsk_[a-zA-Z0-9]{48,}$/.test(n.trim())?{valid:!0,message:"API key format is valid (network test failed - please verify connectivity)"}:{valid:!1,message:'Invalid API key format. Groq keys should start with "gsk_" and be at least 51 characters long'}:{valid:!1,message:"Failed to test API key. Please check your internet connection."}}}async saveGroqApiKey(n){try{return window.electronAPI&&window.electronAPI.saveGroqApiKey?(await window.electronAPI.saveGroqApiKey(n),{success:!0,message:"API key saved to configuration file"}):(localStorage.setItem("naturalToSql.groqApiKey",n),{success:!0,message:"API key saved locally (development mode)"})}catch(s){return console.error("Failed to save API key:",s),{success:!1,message:"Failed to save API key"}}}async getGroqApiKeyStatus(){try{if(window.electronAPI&&window.electronAPI.getGroqApiKeyStatus)return await window.electronAPI.getGroqApiKeyStatus();{const n=localStorage.getItem("naturalToSql.groqApiKey");return n&&n.trim()?{hasApiKey:!0,keyPrefix:n.substring(0,8)+"..."}:{hasApiKey:!1}}}catch(n){return console.error("Failed to check API key status:",n),{hasApiKey:!1}}}}const He=new F1,gi=Object.freeze(Object.defineProperty({__proto__:null,apiService:He,default:He},Symbol.toStringTag,{value:"Module"})),V1="modulepreload",U1=function(t,n){return new URL(t,n).href},Sp={},xi=function(n,s,i){let l=Promise.resolve();if(s&&s.length>0){let g=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const u=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),h=m?.nonce||m?.getAttribute("nonce");l=g(s.map(x=>{if(x=U1(x,i),x in Sp)return;Sp[x]=!0;const y=x.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!i)for(let N=u.length-1;N>=0;N--){const j=u[N];if(j.href===x&&(!y||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${b}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":V1,y||(S.as="script"),S.crossOrigin="",S.href=x,h&&S.setAttribute("nonce",h),document.head.appendChild(S),y)return new Promise((N,j)=>{S.addEventListener("load",N),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${x}`)))})}))}function d(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return l.then(u=>{for(const m of u||[])m.status==="rejected"&&d(m.reason);return n().catch(d)})};var Kr=(t=>(t.Groq="Groq",t.Local="Local",t.Basic="Basic",t))(Kr||{}),kd=(t=>(t.AutoConnect="AutoConnect",t.ConnectionString="ConnectionString",t))(kd||{}),Sl=(t=>(t.SqlServer="SqlServer",t))(Sl||{});let $1=class{userId=null;constructor(){this.userId=localStorage.getItem("naturalToSql.userId")}async createOrGetUser(n,s){const i=n==="groq"?"Groq":n==="local"?"Local":"Basic";if(this.userId)try{const{apiService:h}=await xi(async()=>{const{apiService:x}=await Promise.resolve().then(()=>gi);return{apiService:x}},void 0,import.meta.url),g=await h.getUserById(this.userId);if(g){if(g.mode!==i){const x={userId:this.userId,newAiMode:i,apiKey:s||""};await h.updateUserAIMode(x),g.mode=i}return g}}catch(h){console.warn("Failed to get existing user, will create new one:",h),this.userId=null,localStorage.removeItem("naturalToSql.userId")}const{apiService:l}=await xi(async()=>{const{apiService:h}=await Promise.resolve().then(()=>gi);return{apiService:h}},void 0,import.meta.url),d={apiKey:s||"",mode:i},u=await l.createUser(d);if(!u.success)throw new Error(u.message||"Failed to create user");const m=await l.getUserById(u.id);if(!m)throw new Error("Failed to retrieve created user");return this.userId=m.id,localStorage.setItem("naturalToSql.userId",m.id),localStorage.setItem("naturalToSql.setupType",n),m}async getUserProfiles(){if(!this.userId)throw new Error("No user ID available");const{apiService:n}=await xi(async()=>{const{apiService:i}=await Promise.resolve().then(()=>gi);return{apiService:i}},void 0,import.meta.url);return(await n.getUserById(this.userId))?.profiles||[]}async updateUserMode(n,s){if(!this.userId)throw new Error("No user ID available");const i=n==="groq"?"Groq":n==="local"?"Local":"Basic",{apiService:l}=await xi(async()=>{const{apiService:u}=await Promise.resolve().then(()=>gi);return{apiService:u}},void 0,import.meta.url),d={userId:this.userId,newAiMode:i,apiKey:s};await l.updateUserAIMode(d),localStorage.setItem("naturalToSql.setupType",n)}async createProfile(n){if(!this.userId)throw new Error("No user ID available");const{apiService:s}=await xi(async()=>{const{apiService:l}=await Promise.resolve().then(()=>gi);return{apiService:l}},void 0,import.meta.url),i={...n,userId:this.userId};return await s.createProfile(i)}getCurrentUserId(){return this.userId}clearUser(){this.userId=null,localStorage.removeItem("naturalToSql.userId"),localStorage.removeItem("naturalToSql.setupType")}};new $1;class q1{USER_ID_KEY="naturalToSql.userId";SETUP_TYPE_KEY="naturalToSql.setupType";getUserId(){return localStorage.getItem(this.USER_ID_KEY)}setUserId(n){localStorage.setItem(this.USER_ID_KEY,n)}clearUserId(){localStorage.removeItem(this.USER_ID_KEY)}getAIModeFromSetupType(n){switch(n.toLowerCase()){case"groq":return Kr.Groq;case"local":return Kr.Local;case"basic":return Kr.Basic;default:return Kr.Basic}}getSetupTypeFromAIMode(n){switch(n){case Kr.Groq:return"groq";case Kr.Local:return"local";case Kr.Basic:return"basic";default:return"basic"}}async isFirstInitialization(){try{const n=this.getUserId();if(n)try{return await He.getUserById(n),!1}catch{return console.warn("Stored user ID is invalid, clearing and treating as first initialization"),this.clearUserId(),!0}return(await He.getAllUsers()).length===0}catch(n){return console.error("Error checking first initialization:",n),!0}}async createOrGetUser(n,s){try{const i=await this.getCurrentUser();if(i){if(this.getSetupTypeFromAIMode(i.mode)!==n){await this.updateUserMode(n,s);const m=await this.getCurrentUser();if(m)return m}return i}const l=await this.createUserProfile(n,s);return await He.getUserById(l)}catch(i){throw console.error("Error in createOrGetUser:",i),i}}async createUserProfile(n,s){try{console.log("🔑 createUserProfile called with mode:",n,"apiKey:",s?`"${s}" (length: ${s.length})`:"null/undefined");const i=this.getAIModeFromSetupType(n),l={apiKey:s||"",mode:i};console.log("📤 Sending request to API:",{...l,apiKey:l.apiKey?`"${l.apiKey}" (length: ${l.apiKey.length})`:"empty string"});const d=await He.createUser(l);if(d.success)return this.setUserId(d.id),localStorage.setItem(this.SETUP_TYPE_KEY,n),d.id;throw new Error(d.message||"Failed to create user profile")}catch(i){throw console.error("Error creating user profile:",i),i}}async getCurrentUser(){try{const n=this.getUserId();if(!n)return null;const s=await He.getUserById(n),i=this.getSetupTypeFromAIMode(s.mode);return localStorage.setItem(this.SETUP_TYPE_KEY,i),s}catch(n){return console.error("Error getting current user:",n),this.clearUserId(),null}}async updateUserMode(n,s){try{const i=this.getUserId();if(!i)throw new Error("No user ID found. Please create a user profile first.");const l=this.getAIModeFromSetupType(n),d={userId:i,apiKey:s||"",newAiMode:l};await He.updateUserAIMode(d),localStorage.setItem(this.SETUP_TYPE_KEY,n)}catch(i){throw console.error("Error updating user mode:",i),i}}async getUserProfiles(){try{const n=this.getUserId();return n?await He.getUserProfiles(n):[]}catch(n){return console.error("Error getting user profiles:",n),[]}}async createProfile(n){const s=this.getUserId();if(!s)throw new Error("No user ID available. Please complete initial setup first.");const i={...n,userId:s};return await He.createProfile(i)}async validateGroqApiKey(n){return await He.testGroqApiKey(n)}}const At=new q1;class ho{static instance=null;healthStatus=null;listeners=[];initialized=!1;currentMode=null;currentUserId=null;static getInstance(){return ho.instance||(ho.instance=new ho),ho.instance}setCurrentMode(n){console.log("Health monitoring: Mode changed to",n);const s=this.currentMode;this.currentMode=n,n==="local"&&s!=="local"&&this.initialized&&(console.log("Mode switched to local, checking Local LLM health immediately..."),this.checkLocalLLMHealth())}setCurrentUserId(n){console.log("Health monitoring: User ID changed to",n),this.currentUserId=n}subscribe(n){return console.log("New subscription added. Current status:",this.healthStatus),this.listeners.push(n),this.healthStatus&&(console.log("Immediately calling callback with existing status:",this.healthStatus),n(this.healthStatus)),()=>{this.listeners=this.listeners.filter(s=>s!==n)}}getCurrentStatus(){return this.healthStatus}async initialize(){this.initialized||(console.log("Initializing health monitoring service..."),this.initialized=!0,await new Promise(n=>setTimeout(n,1e3)),await this.checkHealth(),setInterval(()=>{this.checkApiHealth()},3e4),setInterval(()=>{this.currentMode==="local"&&this.checkLocalLLMHealth()},6e4),console.log("Health monitoring service initialized"))}async checkApiHealth(){try{let n=!1;try{window.electronAPI&&window.electronAPI.getApiProcessStatus&&(n=(await window.electronAPI.getApiProcessStatus()).isRunning)}catch(u){console.log("Could not check API process status:",u)}if(!n){const u={...this.healthStatus,api:{status:"not_started",lastChecked:new Date().toISOString()}};this.updateHealthStatus(u);return}const s=Date.now(),i=await He.checkHealth(),l=Date.now()-s,d={...this.healthStatus,api:{status:i?"healthy":"down",responseTime:l,lastChecked:new Date().toISOString()}};this.updateHealthStatus(d)}catch(n){console.error("API health check failed:",n);const s={...this.healthStatus,api:{status:"down",lastChecked:new Date().toISOString()}};this.updateHealthStatus(s)}}async checkLocalLLMHealth(){if(this.healthStatus)try{if(console.log("Checking Local LLM health with comprehensive check..."),window.electronAPI?.checkLocalLLMHealth){const n=await window.electronAPI.checkLocalLLMHealth();let s;try{s=(await He.getLocalLLMModel()).model}catch(l){console.warn("Failed to get Local LLM model info from API:",l),n.checks.modelAvailable&&(s="qwen3:8b")}const i={...this.healthStatus,llm:{status:n.healthy?"healthy":"error",lastError:n.healthy?void 0:n.message,lastChecked:new Date().toISOString(),localModel:s,details:{ollamaInstalled:n.checks.ollamaInstalled,ollamaApiRunning:n.checks.ollamaApiRunning,modelAvailable:n.checks.modelAvailable,modelRunning:n.checks.modelRunning}}};this.updateHealthStatus(i)}else{console.log("Electron API not available, falling back to API health check...");const n=await He.checkLocalLLMHealth();let s;try{s=(await He.getLocalLLMModel()).model}catch(l){console.warn("Failed to get Local LLM model info:",l)}const i={...this.healthStatus,llm:{status:n.status.toLowerCase()==="healthy"?"healthy":n.status.toLowerCase()==="warning"?"warning":"error",lastError:n.status.toLowerCase()!=="healthy"?n.message||"Local LLM is not operational":void 0,lastChecked:new Date().toISOString(),localModel:s,details:n.checks?{ollamaInstalled:n.checks.ollamaInstalled,ollamaApiRunning:n.checks.ollamaApiRunning,modelAvailable:n.checks.modelAvailable,modelRunning:n.checks.modelRunning}:void 0}};this.updateHealthStatus(i)}}catch(n){console.error("Local LLM health check failed:",n);const s={...this.healthStatus,llm:{status:"error",lastError:n.message||"Failed to check Local LLM health",lastChecked:new Date().toISOString()}};this.updateHealthStatus(s)}}async checkHealth(){try{let n=!1;try{window.electronAPI&&window.electronAPI.getApiProcessStatus&&(n=(await window.electronAPI.getApiProcessStatus()).isRunning)}catch(u){console.log("Could not check API process status:",u)}if(!n){const u={api:{status:"not_started",lastChecked:new Date().toISOString()},llm:{status:"not_initialized",lastChecked:new Date().toISOString()}};this.updateHealthStatus(u);return}const s=Date.now(),i=await He.checkHealth(),l=Date.now()-s,d={api:{status:i?"healthy":"down",responseTime:l,lastChecked:new Date().toISOString()},llm:{status:"healthy",lastChecked:new Date().toISOString()}};if(this.currentMode==="basic")d.llm={status:"not_initialized",lastChecked:new Date().toISOString()};else if(this.currentMode==="local")try{if(console.log("Checking Local LLM health with comprehensive check..."),window.electronAPI?.checkLocalLLMHealth){const u=await window.electronAPI.checkLocalLLMHealth();let m;try{m=(await He.getLocalLLMModel()).model}catch(h){console.warn("Failed to get Local LLM model info from API:",h),u.checks.modelAvailable&&(m="qwen3:8b")}d.llm={status:u.healthy?"healthy":"error",lastError:u.healthy?void 0:u.message,lastChecked:new Date().toISOString(),localModel:m,details:{ollamaInstalled:u.checks.ollamaInstalled,ollamaApiRunning:u.checks.ollamaApiRunning,modelAvailable:u.checks.modelAvailable,modelRunning:u.checks.modelRunning}}}else{console.log("Electron API not available, falling back to API health check...");const u=await He.checkLocalLLMHealth();let m;try{m=(await He.getLocalLLMModel()).model}catch(h){console.warn("Failed to get Local LLM model info:",h)}d.llm={status:u.status.toLowerCase()==="healthy"?"healthy":u.status.toLowerCase()==="warning"?"warning":"error",lastError:u.status.toLowerCase()!=="healthy"?u.message||"Local LLM is not operational":void 0,lastChecked:new Date().toISOString(),localModel:m,details:u.checks?{ollamaInstalled:u.checks.ollamaInstalled,ollamaApiRunning:u.checks.ollamaApiRunning,modelAvailable:u.checks.modelAvailable,modelRunning:u.checks.modelRunning}:void 0}}}catch(u){console.error("Local LLM health check failed:",u),d.llm={status:"error",lastError:u.message||"Failed to check Local LLM health",lastChecked:new Date().toISOString()}}else if(this.currentMode==="groq")try{const u=await He.getExistingProfiles(),m=u.length>0?u[0].id:"health-check-profile";await He.convertQuery({UserId:this.currentUserId||"health-check-user",profileId:m,query:"SELECT 1 as health_check",allowWriteOperations:!1}),d.llm={status:"healthy",lastChecked:new Date().toISOString()}}catch(u){if(console.log("Groq LLM health check completed with status:",u?.statusCode||"unknown"),u?.statusCode===429&&u?.errors){const m=u.errors.find(h=>h.includes("Rate limit reached")||h.includes("rate_limit_exceeded"));if(m){const h=m.match(/Limit (\d+)/),g=m.match(/Used (\d+)/),x=m.match(/Requested (\d+)/),y=m.match(/Please try again in ([^.]+)/);d.llm={status:"rate_limited",rateLimitInfo:{limit:h?parseInt(h[1]):0,used:g?parseInt(g[1]):0,requested:x?parseInt(x[1]):0,resetTime:new Date(Date.now()+(y?this.parseTimeToMs(y[1]):0)).toISOString(),timeRemaining:y?y[1]:"0s"},lastError:m,lastChecked:new Date().toISOString()}}else d.llm={status:"error",lastError:u.errors?.join("; ")||u.message||"Unknown error",lastChecked:new Date().toISOString()}}else d.llm={status:"error",lastError:u.message||"Unknown error",lastChecked:new Date().toISOString()}}else{let u=!1;try{window.electronAPI&&window.electronAPI.getGroqApiKeyStatus?u=(await window.electronAPI.getGroqApiKeyStatus()).hasApiKey:u=(await He.getGroqApiKeyStatus()).hasApiKey}catch(m){console.log("Could not check Groq API key status:",m)}if(!u)d.llm={status:"not_initialized",lastChecked:new Date().toISOString()};else try{const m=await He.getExistingProfiles(),h=m.length>0?m[0].id:"health-check-profile";await He.convertQuery({UserId:this.currentUserId||"health-check-user",profileId:h,query:"SELECT 1 as health_check",allowWriteOperations:!1}),d.llm={status:"healthy",lastChecked:new Date().toISOString()}}catch(m){if(console.log("LLM health check completed with status:",m?.statusCode||"unknown"),m?.statusCode===429&&m?.errors){const h=m.errors.find(g=>g.includes("Rate limit reached")||g.includes("rate_limit_exceeded"));if(h){const g=h.match(/Limit (\d+)/),x=h.match(/Used (\d+)/),y=h.match(/Requested (\d+)/),b=h.match(/Please try again in ([^.]+)/);d.llm={status:"rate_limited",rateLimitInfo:{limit:g?parseInt(g[1]):0,used:x?parseInt(x[1]):0,requested:y?parseInt(y[1]):0,resetTime:new Date(Date.now()+(b?this.parseTimeToMs(b[1]):0)).toISOString(),timeRemaining:b?b[1]:"0s"},lastError:h,lastChecked:new Date().toISOString()}}else d.llm={status:"error",lastError:m.errors?.join("; ")||m.message||"Unknown error",lastChecked:new Date().toISOString()}}else d.llm={status:"error",lastError:m.message||"Unknown error",lastChecked:new Date().toISOString()}}}this.updateHealthStatus(d)}catch(n){console.error("Full health check failed:",n);const s={api:{status:"down",lastChecked:new Date().toISOString()},llm:{status:"error",lastError:"Health check failed",lastChecked:new Date().toISOString()}};this.updateHealthStatus(s)}}async refreshHealth(n=!1){console.log("Manual health refresh requested, includeLlm:",n),n||this.currentMode==="local"?this.currentMode==="local"?await Promise.all([this.checkApiHealth(),this.checkLocalLLMHealth()]):await this.checkHealth():await this.checkApiHealth()}updateHealthStatus(n){console.log("Updating health status:",n),console.log("Number of listeners:",this.listeners.length),this.healthStatus=n,this.listeners.forEach(s=>{console.log("Notifying listener with status:",n),s(n)})}parseTimeToMs(n){const s=n.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+(?:\.\d+)?)s)?/);if(!s)return 0;const i=parseInt(s[1]||"0"),l=parseInt(s[2]||"0"),d=parseFloat(s[3]||"0");return(i*3600+l*60+d)*1e3}handleRateLimitError(n){if(!this.healthStatus||n?.statusCode!==429||!n?.errors)return;const s=n.errors.find(i=>i.includes("Rate limit reached")||i.includes("rate_limit_exceeded"));if(s){const i=s.match(/Limit (\d+)/),l=s.match(/Used (\d+)/),d=s.match(/Requested (\d+)/),u=s.match(/Please try again in ([^.]+)/),m={...this.healthStatus,llm:{status:"rate_limited",rateLimitInfo:{limit:i?parseInt(i[1]):0,used:l?parseInt(l[1]):0,requested:d?parseInt(d[1]):0,resetTime:new Date(Date.now()+(u?this.parseTimeToMs(u[1]):0)).toISOString(),timeRemaining:u?u[1]:"0s"},lastError:s,lastChecked:new Date().toISOString()}};this.updateHealthStatus(m)}}}const Wn=ho.getInstance();class B1{downloads=new Map;listeners=new Set;subscribe(n){return this.listeners.add(n),n(Array.from(this.downloads.values())),()=>{this.listeners.delete(n)}}notifyListeners(){const n=Array.from(this.downloads.values());this.listeners.forEach(s=>s(n))}startDownload(n){const s={...n,status:"downloading"};this.downloads.set(n.id,s),this.notifyListeners(),console.log(`📥 Download started: ${n.title} (${n.id})`)}updateProgress(n,s){const i=this.downloads.get(n);if(!i){console.warn(`📥 Attempted to update non-existent download: ${n}`);return}const l={...i,...s};this.downloads.set(n,l),this.notifyListeners()}completeDownload(n){const s=this.downloads.get(n);if(!s){console.warn(`📥 Attempted to complete non-existent download: ${n}`);return}const i={...s,status:"completed",progress:100};this.downloads.set(n,i),this.notifyListeners(),console.log(`✅ Download completed: ${s.title} (${n})`),setTimeout(()=>{this.removeDownload(n)},5e3)}failDownload(n,s){const i=this.downloads.get(n);if(!i){console.warn(`📥 Attempted to fail non-existent download: ${n}`);return}const l={...i,status:"error",error:s};this.downloads.set(n,l),this.notifyListeners(),console.error(`❌ Download failed: ${i.title} (${n}) - ${s}`),setTimeout(()=>{this.removeDownload(n)},1e4)}cancelDownload(n){const s=this.downloads.get(n);if(!s){console.warn(`📥 Attempted to cancel non-existent download: ${n}`);return}const i={...s,status:"cancelled"};this.downloads.set(n,i),this.notifyListeners(),console.log(`🚫 Download cancelled: ${s.title} (${n})`),setTimeout(()=>{this.removeDownload(n)},3e3)}removeDownload(n){if(this.downloads.has(n)){const s=this.downloads.get(n);this.downloads.delete(n),this.notifyListeners(),console.log(`🗑️ Download removed: ${s.title} (${n})`)}}getDownloads(){return Array.from(this.downloads.values())}getDownload(n){return this.downloads.get(n)}hasActiveDownloads(){return Array.from(this.downloads.values()).some(n=>n.status==="downloading")}clearAll(){this.downloads.clear(),this.notifyListeners(),console.log("🧹 All downloads cleared")}}const rn=new B1;function H1(t){if(typeof Proxy>"u")return t;const n=new Map,s=(...i)=>t(...i);return new Proxy(s,{get:(i,l)=>l==="create"?t:(n.has(l)||n.set(l,t(l)),n.get(l))})}function Ii(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Cd=t=>Array.isArray(t);function Fx(t,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==t.length)return!1;for(let i=0;i<s;i++)if(n[i]!==t[i])return!1;return!0}function Mi(t){return typeof t=="string"||Array.isArray(t)}function kp(t){const n=[{},{}];return t?.values.forEach((s,i)=>{n[0][i]=s.get(),n[1][i]=s.getVelocity()}),n}function Qd(t,n,s,i){if(typeof n=="function"){const[l,d]=kp(i);n=n(s!==void 0?s:t.custom,l,d)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[l,d]=kp(i);n=n(s!==void 0?s:t.custom,l,d)}return n}function Yl(t,n,s){const i=t.getProps();return Qd(i,n,s!==void 0?s:i.custom,t)}const Kd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yd=["initial",...Kd],Gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ns=new Set(Gi),xr=t=>t*1e3,yr=t=>t/1e3,W1={type:"spring",stiffness:500,damping:25,restSpeed:10},G1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Q1={type:"keyframes",duration:.8},K1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y1=(t,{keyframes:n})=>n.length>2?Q1:ns.has(t)?t.startsWith("scale")?G1(n[1]):W1:K1;function X1({when:t,delay:n,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:d,repeatType:u,repeatDelay:m,from:h,elapsed:g,...x}){return!!Object.keys(x).length}function Xd(t,n){return t[n]||t.default||t}const J1={useManualTiming:!1},Z1=t=>t!==null;function Xl(t,{repeat:n,repeatType:s="loop"},i){const l=t.filter(Z1),d=n&&s!=="loop"&&n%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const Zt=t=>t;function ej(t){let n=new Set,s=new Set,i=!1,l=!1;const d=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(g){d.has(g)&&(h.schedule(g),t()),g(u)}const h={schedule:(g,x=!1,y=!1)=>{const C=y&&i?n:s;return x&&d.add(g),C.has(g)||C.add(g),g},cancel:g=>{s.delete(g),d.delete(g)},process:g=>{if(u=g,i){l=!0;return}i=!0,[n,s]=[s,n],s.clear(),n.forEach(m),i=!1,l&&(l=!1,h.process(g))}};return h}const ul=["read","resolveKeyframes","update","preRender","render","postRender"],tj=40;function Vx(t,n){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},d=()=>s=!0,u=ul.reduce((O,D)=>(O[D]=ej(d),O),{}),{read:m,resolveKeyframes:h,update:g,preRender:x,render:y,postRender:b}=u,C=()=>{const O=performance.now();s=!1,l.delta=i?1e3/60:Math.max(Math.min(O-l.timestamp,tj),1),l.timestamp=O,l.isProcessing=!0,m.process(l),h.process(l),g.process(l),x.process(l),y.process(l),b.process(l),l.isProcessing=!1,s&&n&&(i=!1,t(C))},S=()=>{s=!0,i=!0,l.isProcessing||t(C)};return{schedule:ul.reduce((O,D)=>{const L=u[D];return O[D]=(_,F=!1,A=!1)=>(s||S(),L.schedule(_,F,A)),O},{}),cancel:O=>{for(let D=0;D<ul.length;D++)u[ul[D]].cancel(O)},state:l,steps:u}}const{schedule:ft,cancel:Nr,state:qt,steps:Ju}=Vx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0),Ux=t=>/^0[^.\s]+$/u.test(t);function nj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ux(t):!0}let $x=Zt;const qx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Bx=t=>n=>typeof n=="string"&&n.startsWith(t),Hx=Bx("--"),rj=Bx("var(--"),Jd=t=>rj(t)?sj.test(t.split("/*")[0].trim()):!1,sj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ij(t){const n=oj.exec(t);if(!n)return[,];const[,s,i,l]=n;return[`--${s??i}`,l]}function Wx(t,n,s=1){const[i,l]=ij(t);if(!i)return;const d=window.getComputedStyle(n).getPropertyValue(i);if(d){const u=d.trim();return qx(u)?parseFloat(u):u}return Jd(l)?Wx(l,n,s+1):l}const es=(t,n,s)=>s>n?n:s<t?t:s,Eo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ki={...Eo,transform:t=>es(0,1,t)},dl={...Eo,default:1},Ci=t=>Math.round(t*1e5)/1e5,Zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,aj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,lj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Qi(t){return typeof t=="string"}function cj(t){return t==null}const Ki=t=>({test:n=>Qi(n)&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),Yr=Ki("deg"),tr=Ki("%"),$e=Ki("px"),uj=Ki("vh"),dj=Ki("vw"),Cp={...tr,parse:t=>tr.parse(t)/100,transform:t=>tr.transform(t*100)},mj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Pp=t=>t===Eo||t===$e,Tp=(t,n)=>parseFloat(t.split(", ")[n]),Ap=(t,n)=>(s,{transform:i})=>{if(i==="none"||!i)return 0;const l=i.match(/^matrix3d\((.+)\)$/u);if(l)return Tp(l[1],n);{const d=i.match(/^matrix\((.+)\)$/u);return d?Tp(d[1],t):0}},fj=new Set(["x","y","z"]),hj=Gi.filter(t=>!fj.has(t));function pj(t){const n=[];return hj.forEach(s=>{const i=t.getValue(s);i!==void 0&&(n.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),n}const jo={width:({x:t},{paddingLeft:n="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),height:({y:t},{paddingTop:n="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:Ap(4,13),y:Ap(5,14)};jo.translateX=jo.x;jo.translateY=jo.y;const Gx=t=>n=>n.test(t),gj={test:t=>t==="auto",parse:t=>t},Qx=[Eo,$e,tr,Yr,dj,uj,gj],Ep=t=>Qx.find(Gx(t)),Ds=new Set;let Pd=!1,Td=!1;function Kx(){if(Td){const t=Array.from(Ds).filter(i=>i.needsMeasurement),n=new Set(t.map(i=>i.element)),s=new Map;n.forEach(i=>{const l=pj(i);l.length&&(s.set(i,l),i.render())}),t.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([d,u])=>{var m;(m=i.getValue(d))===null||m===void 0||m.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Td=!1,Pd=!1,Ds.forEach(t=>t.complete()),Ds.clear()}function Yx(){Ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Td=!0)})}function xj(){Yx(),Kx()}class em{constructor(n,s,i,l,d,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=i,this.motionValue=l,this.element=d,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ds.add(this),Pd||(Pd=!0,ft.read(Yx),ft.resolveKeyframes(Kx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:i,motionValue:l}=this;for(let d=0;d<n.length;d++)if(n[d]===null)if(d===0){const u=l?.get(),m=n[n.length-1];if(u!==void 0)n[0]=u;else if(i&&s){const h=i.readValue(s,m);h!=null&&(n[0]=h)}n[0]===void 0&&(n[0]=m),l&&u===void 0&&l.set(n[0])}else n[d]=n[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ds.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ds.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tm=(t,n)=>s=>!!(Qi(s)&&lj.test(s)&&s.startsWith(t)||n&&!cj(s)&&Object.prototype.hasOwnProperty.call(s,n)),Xx=(t,n,s)=>i=>{if(!Qi(i))return i;const[l,d,u,m]=i.match(Zd);return{[t]:parseFloat(l),[n]:parseFloat(d),[s]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},yj=t=>es(0,255,t),Zu={...Eo,transform:t=>Math.round(yj(t))},Ls={test:tm("rgb","red"),parse:Xx("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:i=1})=>"rgba("+Zu.transform(t)+", "+Zu.transform(n)+", "+Zu.transform(s)+", "+Ci(ki.transform(i))+")"};function vj(t){let n="",s="",i="",l="";return t.length>5?(n=t.substring(1,3),s=t.substring(3,5),i=t.substring(5,7),l=t.substring(7,9)):(n=t.substring(1,2),s=t.substring(2,3),i=t.substring(3,4),l=t.substring(4,5),n+=n,s+=s,i+=i,l+=l),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Ad={test:tm("#"),parse:vj,transform:Ls.transform},po={test:tm("hsl","hue"),parse:Xx("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:i=1})=>"hsla("+Math.round(t)+", "+tr.transform(Ci(n))+", "+tr.transform(Ci(s))+", "+Ci(ki.transform(i))+")"},Kt={test:t=>Ls.test(t)||Ad.test(t)||po.test(t),parse:t=>Ls.test(t)?Ls.parse(t):po.test(t)?po.parse(t):Ad.parse(t),transform:t=>Qi(t)?t:t.hasOwnProperty("red")?Ls.transform(t):po.transform(t)};function wj(t){var n,s;return isNaN(t)&&Qi(t)&&(((n=t.match(Zd))===null||n===void 0?void 0:n.length)||0)+(((s=t.match(aj))===null||s===void 0?void 0:s.length)||0)>0}const Jx="number",Zx="color",bj="var",jj="var(",Lp="${}",Nj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ri(t){const n=t.toString(),s=[],i={color:[],number:[],var:[]},l=[];let d=0;const m=n.replace(Nj,h=>(Kt.test(h)?(i.color.push(d),l.push(Zx),s.push(Kt.parse(h))):h.startsWith(jj)?(i.var.push(d),l.push(bj),s.push(h)):(i.number.push(d),l.push(Jx),s.push(parseFloat(h))),++d,Lp)).split(Lp);return{values:s,split:m,indexes:i,types:l}}function e0(t){return Ri(t).values}function t0(t){const{split:n,types:s}=Ri(t),i=n.length;return l=>{let d="";for(let u=0;u<i;u++)if(d+=n[u],l[u]!==void 0){const m=s[u];m===Jx?d+=Ci(l[u]):m===Zx?d+=Kt.transform(l[u]):d+=l[u]}return d}}const Sj=t=>typeof t=="number"?0:t;function kj(t){const n=e0(t);return t0(t)(n.map(Sj))}const ts={test:wj,parse:e0,createTransformer:t0,getAnimatableNone:kj},Cj=new Set(["brightness","contrast","saturate","opacity"]);function Pj(t){const[n,s]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[i]=s.match(Zd)||[];if(!i)return t;const l=s.replace(i,"");let d=Cj.has(n)?1:0;return i!==s&&(d*=100),n+"("+d+l+")"}const Tj=/\b([a-z-]*)\(.*?\)/gu,Ed={...ts,getAnimatableNone:t=>{const n=t.match(Tj);return n?n.map(Pj).join(" "):t}},Ip={...Eo,transform:Math.round},nm={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,size:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:dl,scaleX:dl,scaleY:dl,scaleZ:dl,skew:Yr,skewX:Yr,skewY:Yr,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:ki,originX:Cp,originY:Cp,originZ:$e,zIndex:Ip,backgroundPositionX:$e,backgroundPositionY:$e,fillOpacity:ki,strokeOpacity:ki,numOctaves:Ip},Aj={...nm,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Ed,WebkitFilter:Ed},rm=t=>Aj[t];function n0(t,n){let s=rm(t);return s!==Ed&&(s=ts),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const Ej=new Set(["auto","none","0"]);function Lj(t,n,s){let i=0,l;for(;i<t.length&&!l;){const d=t[i];typeof d=="string"&&!Ej.has(d)&&Ri(d).values.length&&(l=t[i]),i++}if(l&&s)for(const d of n)t[d]=n0(s,l)}class r0 extends em{constructor(n,s,i,l,d){super(n,s,i,l,d,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<n.length;h++){let g=n[h];if(typeof g=="string"&&(g=g.trim(),Jd(g))){const x=Wx(g,s.current);x!==void 0&&(n[h]=x),h===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!mj.has(i)||n.length!==2)return;const[l,d]=n,u=Ep(l),m=Ep(d);if(u!==m)if(Pp(u)&&Pp(m))for(let h=0;h<n.length;h++){const g=n[h];typeof g=="string"&&(n[h]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,i=[];for(let l=0;l<n.length;l++)nj(n[l])&&i.push(l);i.length&&Lj(n,i,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&n.getValue(i,l).jump(l,!1)}measureEndState(){var n;const{element:s,name:i,unresolvedKeyframes:l}=this;if(!s||!s.current)return;const d=s.getValue(i);d&&d.jump(this.measuredOrigin,!1);const u=l.length-1,m=l[u];l[u]=jo[i](s.measureViewportBox(),window.getComputedStyle(s.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([h,g])=>{s.getValue(h).set(g)}),this.resolveNoneKeyframes()}}function s0(t){let n;return()=>(n===void 0&&(n=t()),n)}let kl;function Ij(){kl=void 0}const vr={now:()=>(kl===void 0&&vr.set(qt.isProcessing||J1.useManualTiming?qt.timestamp:performance.now()),kl),set:t=>{kl=t,queueMicrotask(Ij)}},Mp=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ts.test(t)||t==="0")&&!t.startsWith("url("));function Mj(t){const n=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}function Rj(t,n,s,i){const l=t[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const d=t[t.length-1],u=Mp(l,n),m=Mp(d,n);return!u||!m?!1:Mj(t)||s==="spring"&&i}const Dj=40;class o0{constructor({autoplay:n=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:u="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vr.now(),this.options={autoplay:n,delay:s,type:i,repeat:l,repeatDelay:d,repeatType:u,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Dj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xj(),this._resolved}onKeyframesResolved(n,s){this.resolvedAt=vr.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:d,delay:u,onComplete:m,onUpdate:h,isGenerator:g}=this.options;if(!g&&!Rj(n,i,l,d))if(u)this.options.duration=0;else{h?.(Xl(n,this.options,s)),m?.(),this.resolveFinishedPromise();return}const x=this.initPlayback(n,s);x!==!1&&(this._resolved={keyframes:n,finalKeyframe:s,...x},this.onPostResolved())}onPostResolved(){}then(n,s){return this.currentFinishedPromise.then(n,s)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}function i0(t,n){return n?t*(1e3/n):0}const Oj=5;function a0(t,n,s){const i=Math.max(n-Oj,0);return i0(s-t(i),n-i)}const ed=.001,_j=.01,zj=10,Fj=.05,Vj=1;function Uj({duration:t=800,bounce:n=.25,velocity:s=0,mass:i=1}){let l,d,u=1-n;u=es(Fj,Vj,u),t=es(_j,zj,yr(t)),u<1?(l=g=>{const x=g*u,y=x*t,b=x-s,C=Ld(g,u),S=Math.exp(-y);return ed-b/C*S},d=g=>{const y=g*u*t,b=y*s+s,C=Math.pow(u,2)*Math.pow(g,2)*t,S=Math.exp(-y),N=Ld(Math.pow(g,2),u);return(-l(g)+ed>0?-1:1)*((b-C)*S)/N}):(l=g=>{const x=Math.exp(-g*t),y=(g-s)*t+1;return-ed+x*y},d=g=>{const x=Math.exp(-g*t),y=(s-g)*(t*t);return x*y});const m=5/t,h=qj(l,d,m);if(t=xr(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const g=Math.pow(h,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:t}}}const $j=12;function qj(t,n,s){let i=s;for(let l=1;l<$j;l++)i=i-t(i)/n(i);return i}function Ld(t,n){return t*Math.sqrt(1-n*n)}const Bj=["duration","bounce"],Hj=["stiffness","damping","mass"];function Rp(t,n){return n.some(s=>t[s]!==void 0)}function Wj(t){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Rp(t,Hj)&&Rp(t,Bj)){const s=Uj(t);n={...n,...s,mass:1},n.isResolvedFromDuration=!0}return n}function l0({keyframes:t,restDelta:n,restSpeed:s,...i}){const l=t[0],d=t[t.length-1],u={done:!1,value:l},{stiffness:m,damping:h,mass:g,duration:x,velocity:y,isResolvedFromDuration:b}=Wj({...i,velocity:-yr(i.velocity||0)}),C=y||0,S=h/(2*Math.sqrt(m*g)),N=d-l,j=yr(Math.sqrt(m/g)),O=Math.abs(N)<5;s||(s=O?.01:2),n||(n=O?.005:.5);let D;if(S<1){const L=Ld(j,S);D=_=>{const F=Math.exp(-S*j*_);return d-F*((C+S*j*N)/L*Math.sin(L*_)+N*Math.cos(L*_))}}else if(S===1)D=L=>d-Math.exp(-j*L)*(N+(C+j*N)*L);else{const L=j*Math.sqrt(S*S-1);D=_=>{const F=Math.exp(-S*j*_),A=Math.min(L*_,300);return d-F*((C+S*j*N)*Math.sinh(A)+L*N*Math.cosh(A))/L}}return{calculatedDuration:b&&x||null,next:L=>{const _=D(L);if(b)u.done=L>=x;else{let F=0;S<1&&(F=L===0?xr(C):a0(D,L,_));const A=Math.abs(F)<=s,ne=Math.abs(d-_)<=n;u.done=A&&ne}return u.value=u.done?d:_,u}}}function Dp({keyframes:t,velocity:n=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:d=500,modifyTarget:u,min:m,max:h,restDelta:g=.5,restSpeed:x}){const y=t[0],b={done:!1,value:y},C=z=>m!==void 0&&z<m||h!==void 0&&z>h,S=z=>m===void 0?h:h===void 0||Math.abs(m-z)<Math.abs(h-z)?m:h;let N=s*n;const j=y+N,O=u===void 0?j:u(j);O!==j&&(N=O-y);const D=z=>-N*Math.exp(-z/i),L=z=>O+D(z),_=z=>{const X=D(z),U=L(z);b.done=Math.abs(X)<=g,b.value=b.done?O:U};let F,A;const ne=z=>{C(b.value)&&(F=z,A=l0({keyframes:[b.value,S(b.value)],velocity:a0(L,z,b.value),damping:l,stiffness:d,restDelta:g,restSpeed:x}))};return ne(0),{calculatedDuration:null,next:z=>{let X=!1;return!A&&F===void 0&&(X=!0,_(z),ne(z)),F!==void 0&&z>=F?A.next(z-F):(!X&&_(z),b)}}}const c0=(t,n,s)=>(((1-3*s+3*n)*t+(3*s-6*n))*t+3*n)*t,Gj=1e-7,Qj=12;function Kj(t,n,s,i,l){let d,u,m=0;do u=n+(s-n)/2,d=c0(u,i,l)-t,d>0?s=u:n=u;while(Math.abs(d)>Gj&&++m<Qj);return u}function Yi(t,n,s,i){if(t===n&&s===i)return Zt;const l=d=>Kj(d,0,1,t,s);return d=>d===0||d===1?d:c0(l(d),n,i)}const Yj=Yi(.42,0,1,1),Xj=Yi(0,0,.58,1),u0=Yi(.42,0,.58,1),Jj=t=>Array.isArray(t)&&typeof t[0]!="number",d0=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,m0=t=>n=>1-t(1-n),sm=t=>1-Math.sin(Math.acos(t)),f0=m0(sm),Zj=d0(sm),h0=Yi(.33,1.53,.69,.99),om=m0(h0),eN=d0(om),tN=t=>(t*=2)<1?.5*om(t):.5*(2-Math.pow(2,-10*(t-1))),nN={linear:Zt,easeIn:Yj,easeInOut:u0,easeOut:Xj,circIn:sm,circInOut:Zj,circOut:f0,backIn:om,backInOut:eN,backOut:h0,anticipate:tN},Op=t=>{if(Array.isArray(t)){$x(t.length===4);const[n,s,i,l]=t;return Yi(n,s,i,l)}else if(typeof t=="string")return nN[t];return t},rN=(t,n)=>s=>n(t(s)),wr=(...t)=>t.reduce(rN),Di=(t,n,s)=>{const i=n-t;return i===0?1:(s-t)/i},kt=(t,n,s)=>t+(n-t)*s;function td(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(n-t)*6*s:s<1/2?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function sN({hue:t,saturation:n,lightness:s,alpha:i}){t/=360,n/=100,s/=100;let l=0,d=0,u=0;if(!n)l=d=u=s;else{const m=s<.5?s*(1+n):s+n-s*n,h=2*s-m;l=td(h,m,t+1/3),d=td(h,m,t),u=td(h,m,t-1/3)}return{red:Math.round(l*255),green:Math.round(d*255),blue:Math.round(u*255),alpha:i}}function Ll(t,n){return s=>s>0?n:t}const nd=(t,n,s)=>{const i=t*t,l=s*(n*n-i)+i;return l<0?0:Math.sqrt(l)},oN=[Ad,Ls,po],iN=t=>oN.find(n=>n.test(t));function _p(t){const n=iN(t);if(!n)return!1;let s=n.parse(t);return n===po&&(s=sN(s)),s}const zp=(t,n)=>{const s=_p(t),i=_p(n);if(!s||!i)return Ll(t,n);const l={...s};return d=>(l.red=nd(s.red,i.red,d),l.green=nd(s.green,i.green,d),l.blue=nd(s.blue,i.blue,d),l.alpha=kt(s.alpha,i.alpha,d),Ls.transform(l))},Id=new Set(["none","hidden"]);function aN(t,n){return Id.has(t)?s=>s<=0?t:n:s=>s>=1?n:t}function lN(t,n){return s=>kt(t,n,s)}function im(t){return typeof t=="number"?lN:typeof t=="string"?Jd(t)?Ll:Kt.test(t)?zp:dN:Array.isArray(t)?p0:typeof t=="object"?Kt.test(t)?zp:cN:Ll}function p0(t,n){const s=[...t],i=s.length,l=t.map((d,u)=>im(d)(d,n[u]));return d=>{for(let u=0;u<i;u++)s[u]=l[u](d);return s}}function cN(t,n){const s={...t,...n},i={};for(const l in s)t[l]!==void 0&&n[l]!==void 0&&(i[l]=im(t[l])(t[l],n[l]));return l=>{for(const d in i)s[d]=i[d](l);return s}}function uN(t,n){var s;const i=[],l={color:0,var:0,number:0};for(let d=0;d<n.values.length;d++){const u=n.types[d],m=t.indexes[u][l[u]],h=(s=t.values[m])!==null&&s!==void 0?s:0;i[d]=h,l[u]++}return i}const dN=(t,n)=>{const s=ts.createTransformer(n),i=Ri(t),l=Ri(n);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Id.has(t)&&!l.values.length||Id.has(n)&&!i.values.length?aN(t,n):wr(p0(uN(i,l),l.values),s):Ll(t,n)};function g0(t,n,s){return typeof t=="number"&&typeof n=="number"&&typeof s=="number"?kt(t,n,s):im(t)(t,n)}function mN(t,n,s){const i=[],l=s||g0,d=t.length-1;for(let u=0;u<d;u++){let m=l(t[u],t[u+1]);if(n){const h=Array.isArray(n)?n[u]||Zt:n;m=wr(h,m)}i.push(m)}return i}function fN(t,n,{clamp:s=!0,ease:i,mixer:l}={}){const d=t.length;if($x(d===n.length),d===1)return()=>n[0];if(d===2&&t[0]===t[1])return()=>n[1];t[0]>t[d-1]&&(t=[...t].reverse(),n=[...n].reverse());const u=mN(n,i,l),m=u.length,h=g=>{let x=0;if(m>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const y=Di(t[x],t[x+1],g);return u[x](y)};return s?g=>h(es(t[0],t[d-1],g)):h}function hN(t,n){const s=t[t.length-1];for(let i=1;i<=n;i++){const l=Di(0,n,i);t.push(kt(s,1,l))}}function pN(t){const n=[0];return hN(n,t.length-1),n}function gN(t,n){return t.map(s=>s*n)}function xN(t,n){return t.map(()=>n||u0).splice(0,t.length-1)}function Il({duration:t=300,keyframes:n,times:s,ease:i="easeInOut"}){const l=Jj(i)?i.map(Op):Op(i),d={done:!1,value:n[0]},u=gN(s&&s.length===n.length?s:pN(n),t),m=fN(u,n,{ease:Array.isArray(l)?l:xN(n,l)});return{calculatedDuration:t,next:h=>(d.value=m(h),d.done=h>=t,d)}}const Fp=2e4;function yN(t){let n=0;const s=50;let i=t.next(n);for(;!i.done&&n<Fp;)n+=s,i=t.next(n);return n>=Fp?1/0:n}const vN=t=>{const n=({timestamp:s})=>t(s);return{start:()=>ft.update(n,!0),stop:()=>Nr(n),now:()=>qt.isProcessing?qt.timestamp:vr.now()}},wN={decay:Dp,inertia:Dp,tween:Il,keyframes:Il,spring:l0},bN=t=>t/100;class am extends o0{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{const{onStop:h}=this.options;h&&h(),this.resolver.cancel(),this.isStopped=!0,this.state!=="idle"&&this.teardown()};const{name:s,motionValue:i,element:l,keyframes:d}=this.options,u=l?.KeyframeResolver||em,m=(h,g)=>this.onKeyframesResolved(h,g);this.resolver=new u(d,m,s,i,l),this.resolver.scheduleResolve()}initPlayback(n){const{type:s="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:d,velocity:u=0}=this.options,m=wN[s]||Il;let h,g;m!==Il&&typeof n[0]!="number"&&(h=wr(bN,g0(n[0],n[1])),n=[0,100]);const x=m({...this.options,keyframes:n});d==="mirror"&&(g=m({...this.options,keyframes:[...n].reverse(),velocity:-u})),x.calculatedDuration===null&&(x.calculatedDuration=yN(x));const{calculatedDuration:y}=x,b=y+l,C=b*(i+1)-l;return{generator:x,mirroredGenerator:g,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:b,totalDuration:C}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,s=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:l,generator:d,mirroredGenerator:u,mapPercentToKeyframes:m,keyframes:h,calculatedDuration:g,totalDuration:x,resolvedDuration:y}=i;if(this.startTime===null)return d.next(0);const{delay:b,repeat:C,repeatType:S,repeatDelay:N,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-x/this.speed,this.startTime)),s?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const O=this.currentTime-b*(this.speed>=0?1:-1),D=this.speed>=0?O<0:O>x;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let L=this.currentTime,_=d;if(C){const z=Math.min(this.currentTime,x)/y;let X=Math.floor(z),U=z%1;!U&&z>=1&&(U=1),U===1&&X--,X=Math.min(X,C+1),!!(X%2)&&(S==="reverse"?(U=1-U,N&&(U-=N/y)):S==="mirror"&&(_=u)),L=es(0,1,U)*y}const F=D?{done:!1,value:h[0]}:_.next(L);m&&(F.value=m(F.value));let{done:A}=F;!D&&g!==null&&(A=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const ne=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return ne&&l!==void 0&&(F.value=Xl(h,this.options,l)),j&&j(F.value),ne&&this.finish(),F}get duration(){const{resolved:n}=this;return n?yr(n.calculatedDuration):0}get time(){return yr(this.currentTime)}set time(n){n=xr(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=yr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=vN,onPlay:s,startTime:i}=this.options;this.driver||(this.driver=n(d=>this.tick(d))),s&&s();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const x0=new Set(["opacity","clipPath","filter","transform"]),y0=t=>Array.isArray(t)&&typeof t[0]=="number";function v0(t){return!!(!t||typeof t=="string"&&t in lm||y0(t)||Array.isArray(t)&&t.every(v0))}const ji=([t,n,s,i])=>`cubic-bezier(${t}, ${n}, ${s}, ${i})`,lm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ji([0,.65,.55,1]),circOut:ji([.55,0,1,.45]),backIn:ji([.31,.01,.66,-.59]),backOut:ji([.33,1.53,.69,.99])};function jN(t){return w0(t)||lm.easeOut}function w0(t){if(t)return y0(t)?ji(t):Array.isArray(t)?t.map(jN):lm[t]}function NN(t,n,s,{delay:i=0,duration:l=300,repeat:d=0,repeatType:u="loop",ease:m,times:h}={}){const g={[n]:s};h&&(g.offset=h);const x=w0(m);return Array.isArray(x)&&(g.easing=x),t.animate(g,{delay:i,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:d+1,direction:u==="reverse"?"alternate":"normal"})}const SN=s0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ml=10,kN=2e4;function CN(t){return t.type==="spring"||!v0(t.ease)}function PN(t,n){const s=new am({...n,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const l=[];let d=0;for(;!i.done&&d<kN;)i=s.sample(d),l.push(i.value),d+=Ml;return{times:void 0,keyframes:l,duration:d-Ml,ease:"linear"}}class Vp extends o0{constructor(n){super(n);const{name:s,motionValue:i,element:l,keyframes:d}=this.options;this.resolver=new r0(d,(u,m)=>this.onKeyframesResolved(u,m),s,i,l),this.resolver.scheduleResolve()}initPlayback(n,s){var i;let{duration:l=300,times:d,ease:u,type:m,motionValue:h,name:g,startTime:x}=this.options;if(!(!((i=h.owner)===null||i===void 0)&&i.current))return!1;if(CN(this.options)){const{onComplete:b,onUpdate:C,motionValue:S,element:N,...j}=this.options,O=PN(n,j);n=O.keyframes,n.length===1&&(n[1]=n[0]),l=O.duration,d=O.times,u=O.ease,m="keyframes"}const y=NN(h.owner.current,g,n,{...this.options,duration:l,times:d,ease:u});return y.startTime=x??this.calcStartTime(),this.pendingTimeline?(y.timeline=this.pendingTimeline,this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:b}=this.options;h.set(Xl(n,this.options,s)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:l,times:d,type:m,ease:u,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:s}=n;return yr(s)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:s}=n;return yr(s.currentTime||0)}set time(n){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.currentTime=xr(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:s}=n;return s.playbackRate}set speed(n){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:s}=n;return s.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:s}=n;return s.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:s}=this;if(!s)return Zt;const{animation:i}=s;i.timeline=n,i.onfinish=null}return Zt}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:s,keyframes:i,duration:l,type:d,ease:u,times:m}=n;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:x,onComplete:y,element:b,...C}=this.options,S=new am({...C,keyframes:i,duration:l,type:d,ease:u,times:m,isGenerator:!0}),N=xr(this.time);g.setWithVelocity(S.sample(N-Ml).value,S.sample(N).value,Ml)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:s,name:i,repeatDelay:l,repeatType:d,damping:u,type:m}=n;return SN()&&i&&x0.has(i)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!l&&d!=="mirror"&&u!==0&&m!=="inertia"}}function TN(t,n){let s;const i=()=>{const{currentTime:l}=n,u=(l===null?0:l.value)/100;s!==u&&t(u),s=u};return ft.update(i,!0),()=>Nr(i)}const AN=s0(()=>window.ScrollTimeline!==void 0);class EN{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}then(n,s){return Promise.all(this.animations).then(n).catch(s)}getAll(n){return this.animations[0][n]}setAll(n,s){for(let i=0;i<this.animations.length;i++)this.animations[i][n]=s}attachTimeline(n){const s=this.animations.map(i=>{if(AN()&&i.attachTimeline)i.attachTimeline(n);else return i.pause(),TN(l=>{i.time=i.duration*l},n)});return()=>{s.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let s=0;s<this.animations.length;s++)n=Math.max(n,this.animations[s].duration);return n}runAll(n){this.animations.forEach(s=>s[n]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const cm=(t,n,s,i={},l,d,u)=>m=>{const h=Xd(i,t)||{},g=h.delay||i.delay||0;let{elapsed:x=0}=i;x=x-xr(g);let y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...h,delay:-x,onUpdate:C=>{n.set(C),h.onUpdate&&h.onUpdate(C)},onComplete:()=>{m(),h.onComplete&&h.onComplete(),u&&u()},onStop:u,name:t,motionValue:n,element:d?void 0:l};X1(h)||(y={...y,...Y1(t,y)}),y.duration&&(y.duration=xr(y.duration)),y.repeatDelay&&(y.repeatDelay=xr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(b=!0)),b&&!d&&n.get()!==void 0){const C=Xl(y.keyframes,h);if(C!==void 0)return ft.update(()=>{y.onUpdate(C),y.onComplete()}),new EN([])}return!d&&Vp.supports(y)?new Vp(y):new am(y)},LN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),IN=t=>Cd(t)?t[t.length-1]||0:t;function Jl(t,n){t.indexOf(n)===-1&&t.push(n)}function Zl(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class um{constructor(){this.subscriptions=[]}add(n){return Jl(this.subscriptions,n),()=>Zl(this.subscriptions,n)}notify(n,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,s,i);else for(let d=0;d<l;d++){const u=this.subscriptions[d];u&&u(n,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Up=30,MN=t=>!isNaN(parseFloat(t));class b0{constructor(n,s={}){this.version="12.0.0-alpha.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const d=vr.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=vr.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=MN(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new um);const i=this.events[n].add(s);return n==="change"?()=>{i(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n,s=!0){!s||!this.passiveEffect?this.updateAndNotify(n,s):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>Up)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Up);return i0(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oi(t,n){return new b0(t,n)}function RN(t,n,s){t.hasValue(n)?t.getValue(n).set(s):t.addValue(n,Oi(s))}function DN(t,n){const s=Yl(t,n);let{transitionEnd:i={},transition:l={},...d}=s||{};d={...d,...i};for(const u in d){const m=IN(d[u]);RN(t,u,m)}}const ec=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ON="framerAppearId",j0="data-"+ec(ON);function N0(t){return t.props[j0]}function S0(t){if(ns.has(t))return"transform";if(x0.has(t))return ec(t)}class _N extends b0{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(n){const s=S0(n);if(!s)return;const i=this.counts.get(s)||0;this.counts.set(s,i+1),i===0&&(this.output.push(s),this.update());let l=!1;return()=>{if(l)return;l=!0;const d=this.counts.get(s)-1;this.counts.set(s,d),d===0&&(Zl(this.output,s),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Xt=t=>!!(t&&t.getVelocity);function zN(t){return!!(Xt(t)&&t.add)}function Md(t,n){var s;if(!t.applyWillChange)return;let i=t.getValue("willChange");if(!i&&!(!((s=t.props.style)===null||s===void 0)&&s.willChange)&&(i=new _N("auto"),t.addValue("willChange",i)),zN(i))return i.add(n)}function FN({protectedKeys:t,needsAnimating:n},s){const i=t.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,i}function k0(t,n,{delay:s=0,transitionOverride:i,type:l}={}){var d;let{transition:u=t.getDefaultTransition(),transitionEnd:m,...h}=n;i&&(u=i);const g=[],x=l&&t.animationState&&t.animationState.getState()[l];for(const y in h){const b=t.getValue(y,(d=t.latestValues[y])!==null&&d!==void 0?d:null),C=h[y];if(C===void 0||x&&FN(x,y))continue;const S={delay:s,...Xd(u||{},y)};let N=!1;if(window.MotionHandoffAnimation){const O=N0(t);if(O){const D=window.MotionHandoffAnimation(O,y,ft);D!==null&&(S.startTime=D,N=!0)}}b.start(cm(y,b,C,t.shouldReduceMotion&&ns.has(y)?{type:!1}:S,t,N,Md(t,y)));const j=b.animation;j&&g.push(j)}return m&&Promise.all(g).then(()=>{ft.update(()=>{m&&DN(t,m)})}),g}function Rd(t,n,s={}){var i;const l=Yl(t,n,s.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:d=t.getDefaultTransition()||{}}=l||{};s.transitionOverride&&(d=s.transitionOverride);const u=l?()=>Promise.all(k0(t,l,s)):()=>Promise.resolve(),m=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:y,staggerDirection:b}=d;return VN(t,n,x+g,y,b,s)}:()=>Promise.resolve(),{when:h}=d;if(h){const[g,x]=h==="beforeChildren"?[u,m]:[m,u];return g().then(()=>x())}else return Promise.all([u(),m(s.delay)])}function VN(t,n,s=0,i=0,l=1,d){const u=[],m=(t.variantChildren.size-1)*i,h=l===1?(g=0)=>g*i:(g=0)=>m-g*i;return Array.from(t.variantChildren).sort(UN).forEach((g,x)=>{g.notify("AnimationStart",n),u.push(Rd(g,n,{...d,delay:s+h(x)}).then(()=>g.notify("AnimationComplete",n)))}),Promise.all(u)}function UN(t,n){return t.sortNodePosition(n)}function $N(t,n,s={}){t.notify("AnimationStart",n);let i;if(Array.isArray(n)){const l=n.map(d=>Rd(t,d,s));i=Promise.all(l)}else if(typeof n=="string")i=Rd(t,n,s);else{const l=typeof n=="function"?Yl(t,n,s.custom):n;i=Promise.all(k0(t,l,s))}return i.then(()=>{t.notify("AnimationComplete",n)})}const qN=[...Kd].reverse(),BN=Kd.length;function HN(t){return n=>Promise.all(n.map(({animation:s,options:i})=>$N(t,s,i)))}function WN(t){let n=HN(t),s=$p(),i=!0;const l=h=>(g,x)=>{var y;const b=Yl(t,x,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(b){const{transition:C,transitionEnd:S,...N}=b;g={...g,...N,...S}}return g};function d(h){n=h(t)}function u(h){const g=t.getProps(),x=t.getVariantContext(!0)||{},y=[],b=new Set;let C={},S=1/0;for(let j=0;j<BN;j++){const O=qN[j],D=s[O],L=g[O]!==void 0?g[O]:x[O],_=Mi(L),F=O===h?D.isActive:null;F===!1&&(S=j);let A=L===x[O]&&L!==g[O]&&_;if(A&&i&&t.manuallyAnimateOnMount&&(A=!1),D.protectedKeys={...C},!D.isActive&&F===null||!L&&!D.prevProp||Ii(L)||typeof L=="boolean")continue;let z=GN(D.prevProp,L)||O===h&&D.isActive&&!A&&_||j>S&&_,X=!1;const U=Array.isArray(L)?L:[L];let re=U.reduce(l(O),{});F===!1&&(re={});const{prevResolvedValues:Z={}}=D,me={...Z,...re},xe=se=>{z=!0,b.has(se)&&(X=!0,b.delete(se)),D.needsAnimating[se]=!0;const pe=t.getValue(se);pe&&(pe.liveStyle=!1)};for(const se in me){const pe=re[se],ue=Z[se];if(C.hasOwnProperty(se))continue;let $=!1;Cd(pe)&&Cd(ue)?$=!Fx(pe,ue):$=pe!==ue,$?pe!=null?xe(se):b.add(se):pe!==void 0&&b.has(se)?xe(se):D.protectedKeys[se]=!0}D.prevProp=L,D.prevResolvedValues=re,D.isActive&&(C={...C,...re}),i&&t.blockInitialAnimation&&(z=!1),z&&(!A||X)&&y.push(...U.map(se=>({animation:se,options:{type:O}})))}if(b.size){const j={};b.forEach(O=>{const D=t.getBaseTarget(O),L=t.getValue(O);L&&(L.liveStyle=!0),j[O]=D??null}),y.push({animation:j})}let N=!!y.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(N=!1),i=!1,N?n(y):Promise.resolve()}function m(h,g){var x;if(s[h].isActive===g)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(b=>{var C;return(C=b.animationState)===null||C===void 0?void 0:C.setActive(h,g)}),s[h].isActive=g;const y=u(h);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:u,setActive:m,setAnimateFunction:d,getState:()=>s,reset:()=>{s=$p(),i=!0}}}function GN(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!Fx(n,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $p(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}class rs{constructor(n){this.isMounted=!1,this.node=n}update(){}}class QN extends rs{constructor(n){super(n),n.animationState||(n.animationState=WN(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ii(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let KN=0;class YN extends rs{constructor(){super(...arguments),this.id=KN++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const l=this.node.animationState.setActive("exit",!n);s&&!n&&l.then(()=>s(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const XN={animation:{Feature:QN},exit:{Feature:YN}},C0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function tc(t,n="page"){return{point:{x:t[`${n}X`],y:t[`${n}Y`]}}}const JN=t=>n=>C0(n)&&t(n,tc(n));function pr(t,n,s,i={passive:!0}){return t.addEventListener(n,s,i),()=>t.removeEventListener(n,s)}function br(t,n,s,i){return pr(t,n,JN(s),i)}const qp=(t,n)=>Math.abs(t-n);function ZN(t,n){const s=qp(t.x,n.x),i=qp(t.y,n.y);return Math.sqrt(s**2+i**2)}class P0{constructor(n,s,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=sd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,C=ZN(y.offset,{x:0,y:0})>=3;if(!b&&!C)return;const{point:S}=y,{timestamp:N}=qt;this.history.push({...S,timestamp:N});const{onStart:j,onMove:O}=this.handlers;b||(j&&j(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=rd(b,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=sd(y.type==="pointercancel"?this.lastMoveEventInfo:rd(b,this.transformPagePoint),this.history);this.startEvent&&C&&C(y,j),S&&S(y,j)},!C0(n))return;this.dragSnapToOrigin=d,this.handlers=s,this.transformPagePoint=i,this.contextWindow=l||window;const u=tc(n),m=rd(u,this.transformPagePoint),{point:h}=m,{timestamp:g}=qt;this.history=[{...h,timestamp:g}];const{onSessionStart:x}=s;x&&x(n,sd(m,this.history)),this.removeListeners=wr(br(this.contextWindow,"pointermove",this.handlePointerMove),br(this.contextWindow,"pointerup",this.handlePointerUp),br(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function rd(t,n){return n?{point:n(t.point)}:t}function Bp(t,n){return{x:t.x-n.x,y:t.y-n.y}}function sd({point:t},n){return{point:t,delta:Bp(t,T0(n)),offset:Bp(t,eS(n)),velocity:tS(n,.1)}}function eS(t){return t[0]}function T0(t){return t[t.length-1]}function tS(t,n){if(t.length<2)return{x:0,y:0};let s=t.length-1,i=null;const l=T0(t);for(;s>=0&&(i=t[s],!(l.timestamp-i.timestamp>xr(n)));)s--;if(!i)return{x:0,y:0};const d=yr(l.timestamp-i.timestamp);if(d===0)return{x:0,y:0};const u={x:(l.x-i.x)/d,y:(l.y-i.y)/d};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function A0(t){let n=null;return()=>{const s=()=>{n=null};return n===null?(n=t,s):!1}}const Hp=A0("dragHorizontal"),Wp=A0("dragVertical");function E0(t){let n=!1;if(t==="y")n=Wp();else if(t==="x")n=Hp();else{const s=Hp(),i=Wp();s&&i?n=()=>{s(),i()}:(s&&s(),i&&i())}return n}function L0(){const t=E0(!0);return t?(t(),!1):!0}function go(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const I0=1e-4,nS=1-I0,rS=1+I0,M0=.01,sS=0-M0,oS=0+M0;function Nn(t){return t.max-t.min}function iS(t,n,s){return Math.abs(t-n)<=s}function Gp(t,n,s,i=.5){t.origin=i,t.originPoint=kt(n.min,n.max,t.origin),t.scale=Nn(s)/Nn(n),t.translate=kt(s.min,s.max,t.origin)-t.originPoint,(t.scale>=nS&&t.scale<=rS||isNaN(t.scale))&&(t.scale=1),(t.translate>=sS&&t.translate<=oS||isNaN(t.translate))&&(t.translate=0)}function Pi(t,n,s,i){Gp(t.x,n.x,s.x,i?i.originX:void 0),Gp(t.y,n.y,s.y,i?i.originY:void 0)}function Qp(t,n,s){t.min=s.min+n.min,t.max=t.min+Nn(n)}function aS(t,n,s){Qp(t.x,n.x,s.x),Qp(t.y,n.y,s.y)}function Kp(t,n,s){t.min=n.min-s.min,t.max=t.min+Nn(n)}function Ti(t,n,s){Kp(t.x,n.x,s.x),Kp(t.y,n.y,s.y)}function lS(t,{min:n,max:s},i){return n!==void 0&&t<n?t=i?kt(n,t,i.min):Math.max(t,n):s!==void 0&&t>s&&(t=i?kt(s,t,i.max):Math.min(t,s)),t}function Yp(t,n,s){return{min:n!==void 0?t.min+n:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function cS(t,{top:n,left:s,bottom:i,right:l}){return{x:Yp(t.x,s,l),y:Yp(t.y,n,i)}}function Xp(t,n){let s=n.min-t.min,i=n.max-t.max;return n.max-n.min<t.max-t.min&&([s,i]=[i,s]),{min:s,max:i}}function uS(t,n){return{x:Xp(t.x,n.x),y:Xp(t.y,n.y)}}function dS(t,n){let s=.5;const i=Nn(t),l=Nn(n);return l>i?s=Di(n.min,n.max-i,t.min):i>l&&(s=Di(t.min,t.max-l,n.min)),es(0,1,s)}function mS(t,n){const s={};return n.min!==void 0&&(s.min=n.min-t.min),n.max!==void 0&&(s.max=n.max-t.min),s}const Dd=.35;function fS(t=Dd){return t===!1?t=0:t===!0&&(t=Dd),{x:Jp(t,"left","right"),y:Jp(t,"top","bottom")}}function Jp(t,n,s){return{min:Zp(t,n),max:Zp(t,s)}}function Zp(t,n){return typeof t=="number"?t:t[n]||0}const eg=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:eg(),y:eg()}),tg=()=>({min:0,max:0}),Et=()=>({x:tg(),y:tg()});function Rn(t){return[t("x"),t("y")]}function R0({top:t,left:n,right:s,bottom:i}){return{x:{min:n,max:s},y:{min:t,max:i}}}function hS({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function pS(t,n){if(!n)return t;const s=n({x:t.left,y:t.top}),i=n({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function od(t){return t===void 0||t===1}function Od({scale:t,scaleX:n,scaleY:s}){return!od(t)||!od(n)||!od(s)}function Ps(t){return Od(t)||D0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function D0(t){return ng(t.x)||ng(t.y)}function ng(t){return t&&t!=="0%"}function Rl(t,n,s){const i=t-s,l=n*i;return s+l}function rg(t,n,s,i,l){return l!==void 0&&(t=Rl(t,l,i)),Rl(t,s,i)+n}function _d(t,n=0,s=1,i,l){t.min=rg(t.min,n,s,i,l),t.max=rg(t.max,n,s,i,l)}function O0(t,{x:n,y:s}){_d(t.x,n.translate,n.scale,n.originPoint),_d(t.y,s.translate,s.scale,s.originPoint)}const sg=.999999999999,og=1.0000000000001;function gS(t,n,s,i=!1){const l=s.length;if(!l)return;n.x=n.y=1;let d,u;for(let m=0;m<l;m++){d=s[m],u=d.projectionDelta;const{visualElement:h}=d.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vo(t,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,O0(t,u)),i&&Ps(d.latestValues)&&vo(t,d.latestValues))}n.x<og&&n.x>sg&&(n.x=1),n.y<og&&n.y>sg&&(n.y=1)}function yo(t,n){t.min=t.min+n,t.max=t.max+n}function ig(t,n,s,i,l=.5){const d=kt(t.min,t.max,l);_d(t,n,s,d,i)}function vo(t,n){ig(t.x,n.x,n.scaleX,n.scale,n.originX),ig(t.y,n.y,n.scaleY,n.scale,n.originY)}function _0(t,n){return R0(pS(t.getBoundingClientRect(),n))}function xS(t,n,s){const i=_0(t,s),{scroll:l}=n;return l&&(yo(i.x,l.offset.x),yo(i.y,l.offset.y)),i}const z0=({current:t})=>t?t.ownerDocument.defaultView:null,yS=new WeakMap;class vS{constructor(n){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=n}start(n,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(tc(x,"page").point)},d=(x,y)=>{var b;const{drag:C,dragPropagation:S,onDragStart:N}=this.getProps();if(C&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=E0(C),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(O=>{let D=this.getAxisMotionValue(O).get()||0;if(tr.test(D)){const{projection:L}=this.visualElement;if(L&&L.layout){const _=L.layout.layoutBox[O];_&&(D=Nn(_)*(parseFloat(D)/100))}}this.originPoint[O]=D}),N&&ft.postRender(()=>N(x,y)),(b=this.removeWillChange)===null||b===void 0||b.call(this),this.removeWillChange=Md(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(x,y)=>{const{dragPropagation:b,dragDirectionLock:C,onDirectionLock:S,onDrag:N}=this.getProps();if(!b&&!this.openGlobalLock)return;const{offset:j}=y;if(C&&this.currentDirection===null){this.currentDirection=wS(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,j),this.updateAxis("y",y.point,j),this.visualElement.render(),N&&N(x,y)},m=(x,y)=>this.stop(x,y),h=()=>Rn(x=>{var y;return this.getAnimationState(x)==="paused"&&((y=this.getAxisMotionValue(x).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new P0(n,{onSessionStart:l,onStart:d,onMove:u,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:z0(this.visualElement)})}stop(n,s){var i;(i=this.removeWillChange)===null||i===void 0||i.call(this);const l=this.isDragging;if(this.cancel(),!l)return;const{velocity:d}=s;this.startAnimation(d);const{onDragEnd:u}=this.getProps();u&&ft.postRender(()=>u(n,s))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,i){const{drag:l}=this.getProps();if(!i||!ml(n,l,this.currentDirection))return;const d=this.getAxisMotionValue(n);let u=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(u=lS(u,this.constraints[n],this.elastic[n])),d.set(u)}resolveConstraints(){var n;const{dragConstraints:s,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,d=this.constraints;s&&go(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&l?this.constraints=cS(l.layoutBox,s):this.constraints=!1,this.elastic=fS(i),d!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=mS(l.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!go(n))return!1;const i=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const d=xS(i,l.root,this.visualElement.getTransformPagePoint());let u=uS(l.layout.layoutBox,d);if(s){const m=s(hS(u));this.hasMutatedConstraints=!!m,m&&(u=R0(m))}return u}startAnimation(n){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:d,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),h=this.constraints||{},g=Rn(x=>{if(!ml(x,s,this.currentDirection))return;let y=h&&h[x]||{};u&&(y={min:0,max:0});const b=l?200:1e6,C=l?40:1e7,S={type:"inertia",velocity:i?n[x]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...d,...y};return this.startAxisValueAnimation(x,S)});return Promise.all(g).then(m)}startAxisValueAnimation(n,s){const i=this.getAxisMotionValue(n);return i.start(cm(n,i,0,s,this.visualElement,!1,Md(this.visualElement,n)))}stopAnimation(){Rn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Rn(n=>{var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){Rn(s=>{const{drag:i}=this.getProps();if(!ml(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,d=this.getAxisMotionValue(s);if(l&&l.layout){const{min:u,max:m}=l.layout.layoutBox[s];d.set(n[s]-kt(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!go(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Rn(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const h=m.get();l[u]=dS({min:h,max:h},this.constraints[u])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!ml(u,n,null))return;const m=this.getAxisMotionValue(u),{min:h,max:g}=this.constraints[u];m.set(kt(h,g,l[u]))})}addListeners(){if(!this.visualElement.current)return;yS.set(this.visualElement,this);const n=this.visualElement.current,s=br(n,"pointerdown",h=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();go(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,d=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ft.read(i);const u=pr(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:g})=>{this.isDragging&&g&&(Rn(x=>{const y=this.getAxisMotionValue(x);y&&(this.originPoint[x]+=h[x].translate,y.set(y.get()+h[x].translate))}),this.visualElement.render())}));return()=>{u(),s(),d(),m&&m()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:d=!1,dragElastic:u=Dd,dragMomentum:m=!0}=n;return{...n,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:d,dragElastic:u,dragMomentum:m}}}function ml(t,n,s){return(n===!0||n===t)&&(s===null||s===t)}function wS(t,n=10){let s=null;return Math.abs(t.y)>n?s="y":Math.abs(t.x)>n&&(s="x"),s}class bS extends rs{constructor(n){super(n),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new vS(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ag=t=>(n,s)=>{t&&ft.postRender(()=>t(n,s))};class jS extends rs{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(n){this.session=new P0(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z0(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:ag(n),onStart:ag(s),onMove:i,onEnd:(d,u)=>{delete this.session,l&&ft.postRender(()=>l(d,u))}}}mount(){this.removePointerDownListener=br(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nc=v.createContext(null);function NS(){const t=v.useContext(nc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,l=v.useId();v.useEffect(()=>i(l),[]);const d=v.useCallback(()=>s&&s(l),[l,s]);return!n&&s?[!1,d]:[!0]}const dm=v.createContext({}),F0=v.createContext({}),Cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lg(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const yi={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const s=lg(t,n.target.x),i=lg(t,n.target.y);return`${s}% ${i}%`}},SS={correct:(t,{treeScale:n,projectionDelta:s})=>{const i=t,l=ts.parse(t);if(l.length>5)return i;const d=ts.createTransformer(t),u=typeof l[0]!="number"?1:0,m=s.x.scale*n.x,h=s.y.scale*n.y;l[0+u]/=m,l[1+u]/=h;const g=kt(m,h,.5);return typeof l[2+u]=="number"&&(l[2+u]/=g),typeof l[3+u]=="number"&&(l[3+u]/=g),d(l)}},Dl={};function kS(t){Object.assign(Dl,t)}const{schedule:mm}=Vx(queueMicrotask,!1);class CS extends v.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:d}=n;kS(PS),d&&(s.group&&s.group.add(d),i&&i.register&&l&&i.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:i,drag:l,isPresent:d}=this.props,u=i.projection;return u&&(u.isPresent=d,l||n.layoutDependency!==s||s===void 0?u.willUpdate():this.safeToRemove(),n.isPresent!==d&&(d?u.promote():u.relegate()||ft.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),mm.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=n;l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function V0(t){const[n,s]=NS(),i=v.useContext(dm);return o.jsx(CS,{...t,layoutGroup:i,switchLayoutGroup:v.useContext(F0),isPresent:n,safeToRemove:s})}const PS={borderRadius:{...yi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yi,borderTopRightRadius:yi,borderBottomLeftRadius:yi,borderBottomRightRadius:yi,boxShadow:SS},U0=["TopLeft","TopRight","BottomLeft","BottomRight"],TS=U0.length,cg=t=>typeof t=="string"?parseFloat(t):t,ug=t=>typeof t=="number"||$e.test(t);function AS(t,n,s,i,l,d){l?(t.opacity=kt(0,s.opacity!==void 0?s.opacity:1,ES(i)),t.opacityExit=kt(n.opacity!==void 0?n.opacity:1,0,LS(i))):d&&(t.opacity=kt(n.opacity!==void 0?n.opacity:1,s.opacity!==void 0?s.opacity:1,i));for(let u=0;u<TS;u++){const m=`border${U0[u]}Radius`;let h=dg(n,m),g=dg(s,m);if(h===void 0&&g===void 0)continue;h||(h=0),g||(g=0),h===0||g===0||ug(h)===ug(g)?(t[m]=Math.max(kt(cg(h),cg(g),i),0),(tr.test(g)||tr.test(h))&&(t[m]+="%")):t[m]=g}(n.rotate||s.rotate)&&(t.rotate=kt(n.rotate||0,s.rotate||0,i))}function dg(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const ES=$0(0,.5,f0),LS=$0(.5,.95,Zt);function $0(t,n,s){return i=>i<t?0:i>n?1:s(Di(t,n,i))}function mg(t,n){t.min=n.min,t.max=n.max}function Mn(t,n){mg(t.x,n.x),mg(t.y,n.y)}function fg(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function hg(t,n,s,i,l){return t-=n,t=Rl(t,1/s,i),l!==void 0&&(t=Rl(t,1/l,i)),t}function IS(t,n=0,s=1,i=.5,l,d=t,u=t){if(tr.test(n)&&(n=parseFloat(n),n=kt(u.min,u.max,n/100)-u.min),typeof n!="number")return;let m=kt(d.min,d.max,i);t===d&&(m-=n),t.min=hg(t.min,n,s,m,l),t.max=hg(t.max,n,s,m,l)}function pg(t,n,[s,i,l],d,u){IS(t,n[s],n[i],n[l],n.scale,d,u)}const MS=["x","scaleX","originX"],RS=["y","scaleY","originY"];function gg(t,n,s,i){pg(t.x,n,MS,s?s.x:void 0,i?i.x:void 0),pg(t.y,n,RS,s?s.y:void 0,i?i.y:void 0)}function xg(t){return t.translate===0&&t.scale===1}function q0(t){return xg(t.x)&&xg(t.y)}function yg(t,n){return t.min===n.min&&t.max===n.max}function DS(t,n){return yg(t.x,n.x)&&yg(t.y,n.y)}function vg(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function B0(t,n){return vg(t.x,n.x)&&vg(t.y,n.y)}function wg(t){return Nn(t.x)/Nn(t.y)}function bg(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class OS{constructor(){this.members=[]}add(n){Jl(this.members,n),n.scheduleRender()}remove(n){if(Zl(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(l=>n===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const d=this.members[l];if(d.isPresent!==!1){i=d;break}}return i?(this.promote(i),!0):!1}promote(n,s){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,s&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:i}=n;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _S(t,n,s){let i="";const l=t.x.translate/n.x,d=t.y.translate/n.y,u=s?.z||0;if((l||d||u)&&(i=`translate3d(${l}px, ${d}px, ${u}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:g,rotate:x,rotateX:y,rotateY:b,skewX:C,skewY:S}=s;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),y&&(i+=`rotateX(${y}deg) `),b&&(i+=`rotateY(${b}deg) `),C&&(i+=`skewX(${C}deg) `),S&&(i+=`skewY(${S}deg) `)}const m=t.x.scale*n.x,h=t.y.scale*n.y;return(m!==1||h!==1)&&(i+=`scale(${m}, ${h})`),i||"none"}const zS=(t,n)=>t.depth-n.depth;class FS{constructor(){this.children=[],this.isDirty=!1}add(n){Jl(this.children,n),this.isDirty=!0}remove(n){Zl(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(zS),this.isDirty=!1,this.children.forEach(n)}}function Pl(t){const n=Xt(t)?t.get():t;return LN(n)?n.toValue():n}function VS(t,n){const s=vr.now(),i=({timestamp:l})=>{const d=l-s;d>=n&&(Nr(i),t(d-n))};return ft.read(i,!0),()=>Nr(i)}function US(t){return t instanceof SVGElement&&t.tagName!=="svg"}function $S(t,n,s){const i=Xt(t)?t:Oi(t);return i.start(cm("",i,n,s)),i.animation}const Ts={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ni=typeof window<"u"&&window.MotionDebug!==void 0,id=["","X","Y","Z"],qS={visibility:"hidden"},jg=1e3;let BS=0;function ad(t,n,s,i){const{latestValues:l}=n;l[t]&&(s[t]=l[t],n.setStaticValue(t,0),i&&(i[t]=0))}function H0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const s=N0(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:d}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ft,!(l||d))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&H0(i)}function W0({attachResizeListener:t,defaultParent:n,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(u={},m=n?.()){this.id=BS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ni&&(Ts.totalNodes=Ts.resolvedTargetDeltas=Ts.recalculatedProjection=0),this.nodes.forEach(GS),this.nodes.forEach(JS),this.nodes.forEach(ZS),this.nodes.forEach(QS),Ni&&window.MotionDebug.record(Ts)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FS)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new um),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const h=this.eventHandlers.get(u);h&&h.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=US(u),this.instance=u;const{layoutId:h,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(g||h)&&(this.isLayoutDirty=!0),t){let y;const b=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=VS(b,250),Cl.hasAnimatedSinceResize&&(Cl.hasAnimatedSinceResize=!1,this.nodes.forEach(Sg))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&x&&(h||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeTargetChanged:C,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||x.getDefaultTransition()||sk,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=x.getProps(),D=!this.targetLayout||!B0(this.targetLayout,S)||C,L=!b&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||L||b&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const _={...Xd(N,"layout"),onPlay:j,onComplete:O};(x.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else b||Sg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ek),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const y=this.path[x];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:m,layout:h}=this.options;if(m===void 0&&!h)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ng);return}this.isUpdating||this.nodes.forEach(YS),this.isUpdating=!1,this.nodes.forEach(XS),this.nodes.forEach(HS),this.nodes.forEach(WS),this.clearAllSnapshots();const m=vr.now();qt.delta=es(0,1e3/60,m-qt.timestamp),qt.timestamp=m,qt.isProcessing=!0,Ju.update.process(qt),Ju.preRender.process(qt),Ju.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KS),this.sharedNodes.forEach(tk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!q0(this.projectionDelta),h=this.getTransformTemplate(),g=h?h(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;u&&(m||Ps(this.latestValues)||x)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let h=this.removeElementScroll(m);return u&&(h=this.removeTransform(h)),ok(h),{animationId:this.root.animationId,measuredBox:m,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:m}=this.options;if(!m)return Et();const h=m.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(ik))){const{scroll:x}=this.root;x&&(yo(h.x,x.offset.x),yo(h.y,x.offset.y))}return h}removeElementScroll(u){var m;const h=Et();if(Mn(h,u),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return h;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:y,options:b}=x;x!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Mn(h,u),yo(h.x,y.offset.x),yo(h.y,y.offset.y))}return h}applyTransform(u,m=!1){const h=Et();Mn(h,u);for(let g=0;g<this.path.length;g++){const x=this.path[g];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&vo(h,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ps(x.latestValues)&&vo(h,x.latestValues)}return Ps(this.latestValues)&&vo(h,this.latestValues),h}removeTransform(u){const m=Et();Mn(m,u);for(let h=0;h<this.path.length;h++){const g=this.path[h];if(!g.instance||!Ps(g.latestValues))continue;Od(g.latestValues)&&g.updateSnapshot();const x=Et(),y=g.measurePageBox();Mn(x,y),gg(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Ps(this.latestValues)&&gg(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var m;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Ti(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),O0(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Ti(this.relativeTargetOrigin,this.target,C.target),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ni&&Ts.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Od(this.parent.latestValues)||D0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const m=this.getLead(),h=!!this.resumingFrom||this!==m;let g=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(g=!1),g)return;const{layout:x,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||y))return;Mn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,C=this.treeScale.y;gS(this.layoutCorrected,this.treeScale,this.path,h),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Et());const{target:S}=m;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fg(this.prevProjectionDelta.x,this.projectionDelta.x),fg(this.prevProjectionDelta.y,this.projectionDelta.y)),Pi(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==C||!bg(this.projectionDelta.x,this.prevProjectionDelta.x)||!bg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Ni&&Ts.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(u,m=!1){const h=this.snapshot,g=h?h.latestValues:{},x={...this.latestValues},y=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Et(),C=h?h.source:void 0,S=this.layout?this.layout.source:void 0,N=C!==S,j=this.getStack(),O=!j||j.members.length<=1,D=!!(N&&!O&&this.options.crossfade===!0&&!this.path.some(rk));this.animationProgress=0;let L;this.mixTargetDelta=_=>{const F=_/1e3;kg(y.x,u.x,F),kg(y.y,u.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ti(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nk(this.relativeTarget,this.relativeTargetOrigin,b,F),L&&DS(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Et()),Mn(L,this.relativeTarget)),N&&(this.animationValues=x,AS(x,g,this.latestValues,F,D,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Cl.hasAnimatedSinceResize=!0,this.currentAnimation=$S(0,jg,{...u,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:h,layout:g,latestValues:x}=u;if(!(!m||!h||!g)){if(this!==u&&this.layout&&g&&G0(this.options.animationType,this.layout.layoutBox,g.layoutBox)){h=this.target||Et();const y=Nn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const b=Nn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+b}Mn(m,h),vo(m,x),Pi(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new OS),this.sharedNodes.get(u).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:m}=this.options;return m?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:m}=this.options;return m?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:h}={}){const g=this.getStack();g&&g.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(m=!0),!m)return;const g={};h.z&&ad("z",u,g,this.animationValues);for(let x=0;x<id.length;x++)ad(`rotate${id[x]}`,u,g,this.animationValues),ad(`skew${id[x]}`,u,g,this.animationValues);u.render();for(const x in g)u.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);u.scheduleRender()}getProjectionStyles(u){var m,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qS;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Pl(u?.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Pl(u?.pointerEvents)||""),this.hasProjected&&!Ps(this.latestValues)&&(N.transform=x?x({},""):"none",this.hasProjected=!1),N}const b=y.animationValues||y.latestValues;this.applyTransformsToTarget(),g.transform=_S(this.projectionDeltaWithTransform,this.treeScale,b),x&&(g.transform=x(b,g.transform));const{x:C,y:S}=this.projectionDelta;g.transformOrigin=`${C.origin*100}% ${S.origin*100}% 0`,y.animationValues?g.opacity=y===this?(h=(m=b.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:g.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const N in Dl){if(b[N]===void 0)continue;const{correct:j,applyTo:O}=Dl[N],D=g.transform==="none"?b[N]:j(b[N],y);if(O){const L=O.length;for(let _=0;_<L;_++)g[O[_]]=D}else g[N]=D}return this.options.layoutId&&(g.pointerEvents=y===this?Pl(u?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var m;return(m=u.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(Ng),this.root.sharedNodes.clear()}}}function HS(t){t.updateLayout()}function WS(t){var n;const s=((n=t.resumeFrom)===null||n===void 0?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=t.layout,{animationType:d}=t.options,u=s.source!==t.layout.source;d==="size"?Rn(y=>{const b=u?s.measuredBox[y]:s.layoutBox[y],C=Nn(b);b.min=i[y].min,b.max=b.min+C}):G0(d,s.layoutBox,i)&&Rn(y=>{const b=u?s.measuredBox[y]:s.layoutBox[y],C=Nn(i[y]);b.max=b.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+C)});const m=xo();Pi(m,i,s.layoutBox);const h=xo();u?Pi(h,t.applyTransform(l,!0),s.measuredBox):Pi(h,i,s.layoutBox);const g=!q0(m);let x=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:C}=y;if(b&&C){const S=Et();Ti(S,s.layoutBox,b.layoutBox);const N=Et();Ti(N,i,C.layoutBox),B0(S,N)||(x=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:h,layoutDelta:m,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function GS(t){Ni&&Ts.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QS(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function KS(t){t.clearSnapshot()}function Ng(t){t.clearMeasurements()}function YS(t){t.isLayoutDirty=!1}function XS(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JS(t){t.resolveTargetDelta()}function ZS(t){t.calcProjection()}function ek(t){t.resetSkewAndRotation()}function tk(t){t.removeLeadSnapshot()}function kg(t,n,s){t.translate=kt(n.translate,0,s),t.scale=kt(n.scale,1,s),t.origin=n.origin,t.originPoint=n.originPoint}function Cg(t,n,s,i){t.min=kt(n.min,s.min,i),t.max=kt(n.max,s.max,i)}function nk(t,n,s,i){Cg(t.x,n.x,s.x,i),Cg(t.y,n.y,s.y,i)}function rk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sk={duration:.45,ease:[.4,0,.1,1]},Pg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Tg=Pg("applewebkit/")&&!Pg("chrome/")?Math.round:Zt;function Ag(t){t.min=Tg(t.min),t.max=Tg(t.max)}function ok(t){Ag(t.x),Ag(t.y)}function G0(t,n,s){return t==="position"||t==="preserve-aspect"&&!iS(wg(n),wg(s),.2)}function ik(t){var n;return t!==t.root&&((n=t.scroll)===null||n===void 0?void 0:n.wasRoot)}const ak=W0({attachResizeListener:(t,n)=>pr(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ld={current:void 0},Q0=W0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ld.current){const t=new ak({});t.mount(window),t.setOptions({layoutScroll:!0}),ld.current=t}return ld.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lk={pan:{Feature:jS},drag:{Feature:bS,ProjectionNode:Q0,MeasureLayout:V0}};function Eg(t,n){const s=n?"pointerenter":"pointerleave",i=n?"onHoverStart":"onHoverEnd",l=(d,u)=>{if(d.pointerType==="touch"||L0())return;const m=t.getProps();t.animationState&&m.whileHover&&t.animationState.setActive("whileHover",n);const h=m[i];h&&ft.postRender(()=>h(d,u))};return br(t.current,s,l,{passive:!t.getProps()[i]})}class ck extends rs{mount(){this.unmount=wr(Eg(this.node,!0),Eg(this.node,!1))}unmount(){}}class uk extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wr(pr(this.node.current,"focus",()=>this.onFocus()),pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K0=(t,n)=>n?t===n?!0:K0(t,n.parentElement):!1;function cd(t,n){if(!n)return;const s=new PointerEvent("pointer"+t);n(s,tc(s))}class dk extends rs{constructor(){super(...arguments),this.removeStartListeners=Zt,this.removeEndListeners=Zt,this.removeAccessibleListeners=Zt,this.startPointerPress=(n,s)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),d=br(window,"pointerup",(m,h)=>{if(!this.checkPressEnd())return;const{onTap:g,onTapCancel:x,globalTapTarget:y}=this.node.getProps(),b=!y&&!K0(this.node.current,m.target)?x:g;b&&ft.update(()=>b(m,h))},{passive:!(i.onTap||i.onPointerUp)}),u=br(window,"pointercancel",(m,h)=>this.cancelPress(m,h),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=wr(d,u),this.startPress(n,s)},this.startAccessiblePress=()=>{const n=d=>{if(d.key!=="Enter"||this.isPressing)return;const u=m=>{m.key!=="Enter"||!this.checkPressEnd()||cd("up",(h,g)=>{const{onTap:x}=this.node.getProps();x&&ft.postRender(()=>x(h,g))})};this.removeEndListeners(),this.removeEndListeners=pr(this.node.current,"keyup",u),cd("down",(m,h)=>{this.startPress(m,h)})},s=pr(this.node.current,"keydown",n),i=()=>{this.isPressing&&cd("cancel",(d,u)=>this.cancelPress(d,u))},l=pr(this.node.current,"blur",i);this.removeAccessibleListeners=wr(s,l)}}startPress(n,s){this.isPressing=!0;const{onTapStart:i,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&ft.postRender(()=>i(n,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!L0()}cancelPress(n,s){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&ft.postRender(()=>i(n,s))}mount(){const n=this.node.getProps(),s=br(n.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(n.onTapStart||n.onPointerStart)}),i=pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wr(s,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zd=new WeakMap,ud=new WeakMap,mk=t=>{const n=zd.get(t.target);n&&n(t)},fk=t=>{t.forEach(mk)};function hk({root:t,...n}){const s=t||document;ud.has(s)||ud.set(s,{});const i=ud.get(s),l=JSON.stringify(n);return i[l]||(i[l]=new IntersectionObserver(fk,{root:t,...n})),i[l]}function pk(t,n,s){const i=hk(n);return zd.set(t,s),i.observe(t),()=>{zd.delete(t),i.unobserve(t)}}const gk={some:0,all:1};class xk extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:d}=n,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:gk[l]},m=h=>{const{isIntersecting:g}=h;if(this.isInView===g||(this.isInView=g,d&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:y}=this.node.getProps(),b=g?x:y;b&&b(h)};return pk(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(yk(n,s))&&this.startObserver()}unmount(){}}function yk({viewport:t={}},{viewport:n={}}={}){return s=>t[s]!==n[s]}const vk={inView:{Feature:xk},tap:{Feature:dk},focus:{Feature:uk},hover:{Feature:ck}},wk={layout:{ProjectionNode:Q0,MeasureLayout:V0}},fm=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),rc=v.createContext({}),hm=typeof window<"u",Y0=hm?v.useLayoutEffect:v.useEffect,X0=v.createContext({strict:!1});let Lg=!1;function bk(t,n,s,i,l){var d;const{visualElement:u}=v.useContext(rc),m=v.useContext(X0),h=v.useContext(nc),g=v.useContext(fm).reducedMotion,x=v.useRef(void 0);i=i||m.renderer,!x.current&&i&&(x.current=i(t,{visualState:n,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const y=x.current,b=v.useContext(F0);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&Nk(x.current,s,l,b),v.useInsertionEffect(()=>{y&&y.update(s,h)});const C=s[j0],S=v.useRef(!!C&&!window.MotionHandoffIsComplete&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,C)));return Y0(()=>{y&&(y.updateFeatures(),mm.render(y.render),S.current&&y.animationState&&y.animationState.animateChanges())}),v.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current=!1,Lg||(Lg=!0,queueMicrotask(jk)))}),y}function jk(){window.MotionHandoffIsComplete=!0}function Nk(t,n,s,i){const{layoutId:l,layout:d,drag:u,dragConstraints:m,layoutScroll:h,layoutRoot:g}=n;t.projection=new s(t.latestValues,n["data-framer-portal-id"]?void 0:J0(t.parent)),t.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!u||m&&go(m),visualElement:t,animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:g})}function J0(t){if(t)return t.options.allowProjection!==!1?t.projection:J0(t.parent)}function Sk(t,n,s){return v.useCallback(i=>{i&&t.mount&&t.mount(i),n&&(i?n.mount(i):n.unmount()),s&&(typeof s=="function"?s(i):go(s)&&(s.current=i))},[n])}function sc(t){return Ii(t.animate)||Yd.some(n=>Mi(t[n]))}function Z0(t){return!!(sc(t)||t.variants)}function kk(t,n){if(sc(t)){const{initial:s,animate:i}=t;return{initial:s===!1||Mi(s)?s:void 0,animate:Mi(i)?i:void 0}}return t.inherit!==!1?n:{}}function Ck(t){const{initial:n,animate:s}=kk(t,v.useContext(rc));return v.useMemo(()=>({initial:n,animate:s}),[Ig(n),Ig(s)])}function Ig(t){return Array.isArray(t)?t.join(" "):t}const Mg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},No={};for(const t in Mg)No[t]={isEnabled:n=>Mg[t].some(s=>!!n[s])};function Pk(t){for(const n in t)No[n]={...No[n],...t[n]}}const Tk=Symbol.for("motionComponentSymbol");function Ak({preloadedFeatures:t,createVisualElement:n,useRender:s,useVisualState:i,Component:l}){t&&Pk(t);function d(m,h){let g;const x={...v.useContext(fm),...m,layoutId:Ek(m)},{isStatic:y}=x,b=Ck(m),C=i(m,y);if(!y&&hm){Lk();const S=Ik(x);g=S.MeasureLayout,b.visualElement=bk(l,C,x,n,S.ProjectionNode)}return o.jsxs(rc.Provider,{value:b,children:[g&&b.visualElement?o.jsx(g,{visualElement:b.visualElement,...x}):null,s(l,m,Sk(C,b.visualElement,h),C,y,b.visualElement)]})}const u=v.forwardRef(d);return u[Tk]=l,u}function Ek({layoutId:t}){const n=v.useContext(dm).id;return n&&t!==void 0?n+"-"+t:t}function Lk(t,n){v.useContext(X0).strict}function Ik(t){const{drag:n,layout:s}=No;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pm(t){return typeof t!="string"||t.includes("-")?!1:!!(Mk.indexOf(t)>-1||/[A-Z]/u.test(t))}function ey(t,{style:n,vars:s},i,l){Object.assign(t.style,n,l&&l.getProjectionStyles(i));for(const d in s)t.style.setProperty(d,s[d])}const ty=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ny(t,n,s,i){ey(t,n,void 0,i);for(const l in n.attrs)t.setAttribute(ty.has(l)?l:ec(l),n.attrs[l])}function ry(t,{layout:n,layoutId:s}){return ns.has(t)||t.startsWith("origin")||(n||s!==void 0)&&(!!Dl[t]||t==="opacity")}function gm(t,n,s){var i;const{style:l}=t,d={};for(const u in l)(Xt(l[u])||n.style&&Xt(n.style[u])||ry(u,t)||((i=s?.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(d[u]=l[u]);return s&&l&&typeof l.willChange=="string"&&(s.applyWillChange=!1),d}function sy(t,n,s){const i=gm(t,n,s);for(const l in t)if(Xt(t[l])||Xt(n[l])){const d=Gi.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[d]=t[l]}return i}function xm(t){const n=v.useRef(null);return n.current===null&&(n.current=t()),n.current}function Rk({applyWillChange:t=!1,scrapeMotionValuesFromProps:n,createRenderState:s,onMount:i},l,d,u,m){const h={latestValues:Ok(l,d,u,m?!1:t,n),renderState:s()};return i&&(h.mount=g=>i(l,g,h)),h}const oy=t=>(n,s)=>{const i=v.useContext(rc),l=v.useContext(nc),d=()=>Rk(t,n,i,l,s);return s?d():xm(d)};function Dk(t,n){const s=S0(n);s&&Jl(t,s)}function Rg(t,n,s){const i=Array.isArray(n)?n:[n];for(let l=0;l<i.length;l++){const d=Qd(t,i[l]);if(d){const{transitionEnd:u,transition:m,...h}=d;s(h,u)}}}function Ok(t,n,s,i,l){var d;const u={},m=[],h=i&&((d=t.style)===null||d===void 0?void 0:d.willChange)===void 0,g=l(t,{});for(const j in g)u[j]=Pl(g[j]);let{initial:x,animate:y}=t;const b=sc(t),C=Z0(t);n&&C&&!b&&t.inherit!==!1&&(x===void 0&&(x=n.initial),y===void 0&&(y=n.animate));let S=s?s.initial===!1:!1;S=S||x===!1;const N=S?y:x;return N&&typeof N!="boolean"&&!Ii(N)&&Rg(t,N,(j,O)=>{for(const D in j){let L=j[D];if(Array.isArray(L)){const _=S?L.length-1:0;L=L[_]}L!==null&&(u[D]=L)}for(const D in O)u[D]=O[D]}),h&&(y&&x!==!1&&!Ii(y)&&Rg(t,y,j=>{for(const O in j)Dk(m,O)}),m.length&&(u.willChange=m.join(","))),u}const ym=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iy=()=>({...ym(),attrs:{}}),ay=(t,n)=>n&&typeof t=="number"?n.transform(t):t,_k={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zk=Gi.length;function Fk(t,n,s){let i="",l=!0;for(let d=0;d<zk;d++){const u=Gi[d],m=t[u];if(m===void 0)continue;let h=!0;if(typeof m=="number"?h=m===(u.startsWith("scale")?1:0):h=parseFloat(m)===0,!h||s){const g=ay(m,nm[u]);if(!h){l=!1;const x=_k[u]||u;i+=`${x}(${g}) `}s&&(n[u]=g)}}return i=i.trim(),s?i=s(n,l?"":i):l&&(i="none"),i}function vm(t,n,s){const{style:i,vars:l,transformOrigin:d}=t;let u=!1,m=!1;for(const h in n){const g=n[h];if(ns.has(h)){u=!0;continue}else if(Hx(h)){l[h]=g;continue}else{const x=ay(g,nm[h]);h.startsWith("origin")?(m=!0,d[h]=x):i[h]=x}}if(n.transform||(u||s?i.transform=Fk(n,t.transform,s):i.transform&&(i.transform="none")),m){const{originX:h="50%",originY:g="50%",originZ:x=0}=d;i.transformOrigin=`${h} ${g} ${x}`}}function Dg(t,n,s){return typeof t=="string"?t:$e.transform(n+s*t)}function Vk(t,n,s){const i=Dg(n,t.x,t.width),l=Dg(s,t.y,t.height);return`${i} ${l}`}const Uk={offset:"stroke-dashoffset",array:"stroke-dasharray"},$k={offset:"strokeDashoffset",array:"strokeDasharray"};function qk(t,n,s=1,i=0,l=!0){t.pathLength=1;const d=l?Uk:$k;t[d.offset]=$e.transform(-i);const u=$e.transform(n),m=$e.transform(s);t[d.array]=`${u} ${m}`}function wm(t,{attrX:n,attrY:s,attrScale:i,originX:l,originY:d,pathLength:u,pathSpacing:m=1,pathOffset:h=0,...g},x,y){if(vm(t,g,y),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:C,dimensions:S}=t;b.transform&&(S&&(C.transform=b.transform),delete b.transform),S&&(l!==void 0||d!==void 0||C.transform)&&(C.transformOrigin=Vk(S,l!==void 0?l:.5,d!==void 0?d:.5)),n!==void 0&&(b.x=n),s!==void 0&&(b.y=s),i!==void 0&&(b.scale=i),u!==void 0&&qk(b,u,m,h,!1)}const bm=t=>typeof t=="string"&&t.toLowerCase()==="svg",Bk={useVisualState:oy({scrapeMotionValuesFromProps:sy,createRenderState:iy,onMount:(t,n,{renderState:s,latestValues:i})=>{ft.read(()=>{try{s.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ft.render(()=>{wm(s,i,bm(n.tagName),t.transformTemplate),ny(n,s)})}})},Hk={useVisualState:oy({applyWillChange:!0,scrapeMotionValuesFromProps:gm,createRenderState:ym})};function ly(t,n,s){for(const i in n)!Xt(n[i])&&!ry(i,s)&&(t[i]=n[i])}function Wk({transformTemplate:t},n){return v.useMemo(()=>{const s=ym();return vm(s,n,t),Object.assign({},s.vars,s.style)},[n])}function Gk(t,n){const s=t.style||{},i={};return ly(i,s,t),Object.assign(i,Wk(t,n)),i}function Qk(t,n){const s={},i=Gk(t,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=i,s}const Kk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ol(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Kk.has(t)}let cy=t=>!Ol(t);function Yk(t){t&&(cy=n=>n.startsWith("on")?!Ol(n):t(n))}try{Yk(require("@emotion/is-prop-valid").default)}catch{}function Xk(t,n,s){const i={};for(const l in t)l==="values"&&typeof t.values=="object"||(cy(l)||s===!0&&Ol(l)||!n&&!Ol(l)||t.draggable&&l.startsWith("onDrag"))&&(i[l]=t[l]);return i}function Jk(t,n,s,i){const l=v.useMemo(()=>{const d=iy();return wm(d,n,bm(i),t.transformTemplate),{...d.attrs,style:{...d.style}}},[n]);if(t.style){const d={};ly(d,t.style,t),l.style={...d,...l.style}}return l}function Zk(t=!1){return(s,i,l,{latestValues:d},u)=>{const h=(pm(s)?Jk:Qk)(i,d,u,s),g=Xk(i,typeof s=="string",t),x=s!==v.Fragment?{...g,...h,ref:l}:{},{children:y}=i,b=v.useMemo(()=>Xt(y)?y.get():y,[y]);return v.createElement(s,{...x,children:b})}}function e2(t,n){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const u={...pm(i)?Bk:Hk,preloadedFeatures:t,useRender:Zk(l),createVisualElement:n,Component:i};return Ak(u)}}const Fd={current:null},uy={current:!1};function t2(){if(uy.current=!0,!!hm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Fd.current=t.matches;t.addListener(n),n()}else Fd.current=!1}function n2(t,n,s){for(const i in n){const l=n[i],d=s[i];if(Xt(l))t.addValue(i,l);else if(Xt(d))t.addValue(i,Oi(l,{owner:t}));else if(d!==l)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=t.getStaticValue(i);t.addValue(i,Oi(u!==void 0?u:l,{owner:t}))}}for(const i in s)n[i]===void 0&&t.removeValue(i);return n}const Og=new WeakMap,r2=[...Qx,Kt,ts],s2=t=>r2.find(Gx(t)),_g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],o2=Yd.length;class i2{scrapeMotionValuesFromProps(n,s,i){return{}}constructor({parent:n,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:d,visualState:u},m={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=em,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,ft.render(this.render,!1,!0))};const{latestValues:h,renderState:g}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=g,this.parent=n,this.props=s,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=sc(s),this.isVariantNode=Z0(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:x,...y}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in y){const C=y[b];h[b]!==void 0&&Xt(C)&&C.set(h[b],!1)}}mount(n){this.current=n,Og.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),uy.current||t2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Og.delete(this.current),this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=ns.has(n),l=s.on("change",m=>{this.latestValues[n]=m,this.props.onUpdate&&ft.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),d=s.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{l(),d(),u&&u(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in No){const s=No[n];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[n]&&l&&i(this.props)&&(this.features[n]=new l(this)),this.features[n]){const d=this.features[n];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<_g.length;i++){const l=_g[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const d="on"+l,u=n[d];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=n2(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(n=!1){if(n)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const s={};for(let i=0;i<o2;i++){const l=Yd[i],d=this.props[l];(Mi(d)||d===!1)&&(s[l]=d)}return s}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const i=this.values.get(n);s!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&s!==void 0&&(i=Oi(s===null?void 0:s,{owner:this}),this.addValue(n,i)),i}readValue(n,s){var i;let l=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(i=this.getBaseTargetFromProps(this.props,n))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,n,this.options);return l!=null&&(typeof l=="string"&&(qx(l)||Ux(l))?l=parseFloat(l):!s2(l)&&ts.test(s)&&(l=n0(n,s)),this.setBaseTarget(n,Xt(l)?l.get():l)),Xt(l)?l.get():l}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var s;const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const u=Qd(this.props,i,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);u&&(l=u[n])}if(i&&l!==void 0)return l;const d=this.getBaseTargetFromProps(this.props,n);return d!==void 0&&!Xt(d)?d:this.initialValues[n]!==void 0&&l===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new um),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}}class dy extends i2{constructor(){super(...arguments),this.KeyframeResolver=r0}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:i}){delete s[n],delete i[n]}}function a2(t){return window.getComputedStyle(t)}class l2 extends dy{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=ey}readValueFromInstance(n,s){if(ns.has(s)){const i=rm(s);return i&&i.default||0}else{const i=a2(n),l=(Hx(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:s}){return _0(n,s)}build(n,s,i){vm(n,s,i.transformTemplate)}scrapeMotionValuesFromProps(n,s,i){return gm(n,s,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Xt(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class c2 extends dy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(ns.has(s)){const i=rm(s);return i&&i.default||0}return s=ty.has(s)?s:ec(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,i){return sy(n,s,i)}build(n,s,i){wm(n,s,this.isSVGTag,i.transformTemplate)}renderInstance(n,s,i,l){ny(n,s,i,l)}mount(n){this.isSVGTag=bm(n.tagName),super.mount(n)}}const u2=(t,n)=>pm(t)?new c2(n):new l2(n,{allowProjection:t!==v.Fragment}),d2=e2({...XN,...vk,...lk,...wk},u2),R=H1(d2);class m2 extends v.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f2({children:t,isPresent:n}){const s=v.useId(),i=v.useRef(null),l=v.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=v.useContext(fm);return v.useInsertionEffect(()=>{const{width:u,height:m,top:h,left:g}=l.current;if(n||!i.current||!u||!m)return;i.current.dataset.motionPopId=s;const x=document.createElement("style");return d&&(x.nonce=d),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${m}px !important;
            top: ${h}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),o.jsx(m2,{isPresent:n,childRef:i,sizeRef:l,children:v.cloneElement(t,{ref:i})})}const h2=({children:t,initial:n,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:d,mode:u})=>{const m=xm(p2),h=v.useId(),g=v.useMemo(()=>({id:h,initial:n,isPresent:s,custom:l,onExitComplete:x=>{m.set(x,!0);for(const y of m.values())if(!y)return;i&&i()},register:x=>(m.set(x,!1),()=>m.delete(x))}),d?[Math.random()]:[s]);return v.useMemo(()=>{m.forEach((x,y)=>m.set(y,!1))},[s]),v.useEffect(()=>{!s&&!m.size&&i&&i()},[s]),u==="popLayout"&&(t=o.jsx(f2,{isPresent:s,children:t})),o.jsx(nc.Provider,{value:g,children:t})};function p2(){return new Map}const fl=t=>t.key||"";function zg(t){const n=[];return v.Children.forEach(t,s=>{v.isValidElement(s)&&n.push(s)}),n}const hn=({children:t,exitBeforeEnter:n,custom:s,initial:i=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:u="sync"})=>{const m=v.useMemo(()=>zg(t),[t]),h=m.map(fl),g=v.useRef(!0),x=v.useRef(m),y=xm(()=>new Map),[b,C]=v.useState(m),[S,N]=v.useState(m);Y0(()=>{g.current=!1,x.current=m;for(let D=0;D<S.length;D++){const L=fl(S[D]);h.includes(L)?y.delete(L):y.get(L)!==!0&&y.set(L,!1)}},[S,h.length,h.join("-")]);const j=[];if(m!==b){let D=[...m];for(let L=0;L<S.length;L++){const _=S[L],F=fl(_);h.includes(F)||(D.splice(L,0,_),j.push(_))}u==="wait"&&j.length&&(D=j),N(zg(D)),C(m);return}const{forceRender:O}=v.useContext(dm);return o.jsx(o.Fragment,{children:S.map(D=>{const L=fl(D),_=m===S||h.includes(L),F=()=>{if(y.has(L))y.set(L,!0);else return;let A=!0;y.forEach(ne=>{ne||(A=!1)}),A&&(O?.(),N(x.current),l&&l())};return o.jsx(h2,{isPresent:_,initial:!g.current||i?void 0:!1,custom:_?void 0:s,presenceAffectsLayout:d,mode:u,onExitComplete:_?void 0:F,children:D},L)})})};function Fg(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function my(...t){return n=>{let s=!1;const i=t.map(l=>{const d=Fg(l,n);return!s&&typeof d=="function"&&(s=!0),d});if(s)return()=>{for(let l=0;l<i.length;l++){const d=i[l];typeof d=="function"?d():Fg(t[l],null)}}}}function Vs(...t){return v.useCallback(my(...t),t)}function fy(t){const n=x2(t),s=v.forwardRef((i,l)=>{const{children:d,...u}=i,m=v.Children.toArray(d),h=m.find(v2);if(h){const g=h.props.children,x=m.map(y=>y===h?v.Children.count(g)>1?v.Children.only(null):v.isValidElement(g)?g.props.children:null:y);return o.jsx(n,{...u,ref:l,children:v.isValidElement(g)?v.cloneElement(g,void 0,x):null})}return o.jsx(n,{...u,ref:l,children:d})});return s.displayName=`${t}.Slot`,s}var g2=fy("Slot");function x2(t){const n=v.forwardRef((s,i)=>{const{children:l,...d}=s;if(v.isValidElement(l)){const u=b2(l),m=w2(d,l.props);return l.type!==v.Fragment&&(m.ref=i?my(i,u):u),v.cloneElement(l,m)}return v.Children.count(l)>1?v.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var y2=Symbol("radix.slottable");function v2(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y2}function w2(t,n){const s={...n};for(const i in n){const l=t[i],d=n[i];/^on[A-Z]/.test(i)?l&&d?s[i]=(...m)=>{const h=d(...m);return l(...m),h}:l&&(s[i]=l):i==="style"?s[i]={...l,...d}:i==="className"&&(s[i]=[l,d].filter(Boolean).join(" "))}return{...t,...s}}function b2(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function hy(t){var n,s,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(n=0;n<l;n++)t[n]&&(s=hy(t[n]))&&(i&&(i+=" "),i+=s)}else for(s in t)t[s]&&(i&&(i+=" "),i+=s);return i}function py(){for(var t,n,s=0,i="",l=arguments.length;s<l;s++)(t=arguments[s])&&(n=hy(t))&&(i&&(i+=" "),i+=n);return i}const Vg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ug=py,gy=(t,n)=>s=>{var i;if(n?.variants==null)return Ug(t,s?.class,s?.className);const{variants:l,defaultVariants:d}=n,u=Object.keys(l).map(g=>{const x=s?.[g],y=d?.[g];if(x===null)return null;const b=Vg(x)||Vg(y);return l[g][b]}),m=s&&Object.entries(s).reduce((g,x)=>{let[y,b]=x;return b===void 0||(g[y]=b),g},{}),h=n==null||(i=n.compoundVariants)===null||i===void 0?void 0:i.reduce((g,x)=>{let{class:y,className:b,...C}=x;return Object.entries(C).every(S=>{let[N,j]=S;return Array.isArray(j)?j.includes({...d,...m}[N]):{...d,...m}[N]===j})?[...g,y,b]:g},[]);return Ug(t,u,h,s?.class,s?.className)},jm="-",j2=t=>{const n=S2(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const m=u.split(jm);return m[0]===""&&m.length!==1&&m.shift(),xy(m,n)||N2(u)},getConflictingClassGroupIds:(u,m)=>{const h=s[u]||[];return m&&i[u]?[...h,...i[u]]:h}}},xy=(t,n)=>{if(t.length===0)return n.classGroupId;const s=t[0],i=n.nextPart.get(s),l=i?xy(t.slice(1),i):void 0;if(l)return l;if(n.validators.length===0)return;const d=t.join(jm);return n.validators.find(({validator:u})=>u(d))?.classGroupId},$g=/^\[(.+)\]$/,N2=t=>{if($g.test(t)){const n=$g.exec(t)[1],s=n?.substring(0,n.indexOf(":"));if(s)return"arbitrary.."+s}},S2=t=>{const{theme:n,classGroups:s}=t,i={nextPart:new Map,validators:[]};for(const l in s)Vd(s[l],i,l,n);return i},Vd=(t,n,s,i)=>{t.forEach(l=>{if(typeof l=="string"){const d=l===""?n:qg(n,l);d.classGroupId=s;return}if(typeof l=="function"){if(k2(l)){Vd(l(i),n,s,i);return}n.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([d,u])=>{Vd(u,qg(n,d),s,i)})})},qg=(t,n)=>{let s=t;return n.split(jm).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},k2=t=>t.isThemeGetter,C2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,s=new Map,i=new Map;const l=(d,u)=>{s.set(d,u),n++,n>t&&(n=0,i=s,s=new Map)};return{get(d){let u=s.get(d);if(u!==void 0)return u;if((u=i.get(d))!==void 0)return l(d,u),u},set(d,u){s.has(d)?s.set(d,u):l(d,u)}}},Ud="!",$d=":",P2=$d.length,T2=t=>{const{prefix:n,experimentalParseClassName:s}=t;let i=l=>{const d=[];let u=0,m=0,h=0,g;for(let S=0;S<l.length;S++){let N=l[S];if(u===0&&m===0){if(N===$d){d.push(l.slice(h,S)),h=S+P2;continue}if(N==="/"){g=S;continue}}N==="["?u++:N==="]"?u--:N==="("?m++:N===")"&&m--}const x=d.length===0?l:l.substring(h),y=A2(x),b=y!==x,C=g&&g>h?g-h:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:C}};if(n){const l=n+$d,d=i;i=u=>u.startsWith(l)?d(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(s){const l=i;i=d=>s({className:d,parseClassName:l})}return i},A2=t=>t.endsWith(Ud)?t.substring(0,t.length-1):t.startsWith(Ud)?t.substring(1):t,E2=t=>{const n=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const l=[];let d=[];return i.forEach(u=>{u[0]==="["||n[u]?(l.push(...d.sort(),u),d=[]):d.push(u)}),l.push(...d.sort()),l}},L2=t=>({cache:C2(t.cacheSize),parseClassName:T2(t),sortModifiers:E2(t),...j2(t)}),I2=/\s+/,M2=(t,n)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:l,sortModifiers:d}=n,u=[],m=t.trim().split(I2);let h="";for(let g=m.length-1;g>=0;g-=1){const x=m[g],{isExternal:y,modifiers:b,hasImportantModifier:C,baseClassName:S,maybePostfixModifierPosition:N}=s(x);if(y){h=x+(h.length>0?" "+h:h);continue}let j=!!N,O=i(j?S.substring(0,N):S);if(!O){if(!j){h=x+(h.length>0?" "+h:h);continue}if(O=i(S),!O){h=x+(h.length>0?" "+h:h);continue}j=!1}const D=d(b).join(":"),L=C?D+Ud:D,_=L+O;if(u.includes(_))continue;u.push(_);const F=l(O,j);for(let A=0;A<F.length;++A){const ne=F[A];u.push(L+ne)}h=x+(h.length>0?" "+h:h)}return h};function R2(){let t=0,n,s,i="";for(;t<arguments.length;)(n=arguments[t++])&&(s=yy(n))&&(i&&(i+=" "),i+=s);return i}const yy=t=>{if(typeof t=="string")return t;let n,s="";for(let i=0;i<t.length;i++)t[i]&&(n=yy(t[i]))&&(s&&(s+=" "),s+=n);return s};function D2(t,...n){let s,i,l,d=u;function u(h){const g=n.reduce((x,y)=>y(x),t());return s=L2(g),i=s.cache.get,l=s.cache.set,d=m,m(h)}function m(h){const g=i(h);if(g)return g;const x=M2(h,s);return l(h,x),x}return function(){return d(R2.apply(null,arguments))}}const _t=t=>{const n=s=>s[t]||[];return n.isThemeGetter=!0,n},vy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,O2=/^\d+\/\d+$/,_2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fo=t=>O2.test(t),et=t=>!!t&&!Number.isNaN(Number(t)),Qr=t=>!!t&&Number.isInteger(Number(t)),dd=t=>t.endsWith("%")&&et(t.slice(0,-1)),fr=t=>_2.test(t),$2=()=>!0,q2=t=>z2.test(t)&&!F2.test(t),by=()=>!1,B2=t=>V2.test(t),H2=t=>U2.test(t),W2=t=>!Pe(t)&&!Te(t),G2=t=>Lo(t,Sy,by),Pe=t=>vy.test(t),ks=t=>Lo(t,ky,q2),md=t=>Lo(t,J2,et),Bg=t=>Lo(t,jy,by),Q2=t=>Lo(t,Ny,H2),hl=t=>Lo(t,Cy,B2),Te=t=>wy.test(t),vi=t=>Io(t,ky),K2=t=>Io(t,Z2),Hg=t=>Io(t,jy),Y2=t=>Io(t,Sy),X2=t=>Io(t,Ny),pl=t=>Io(t,Cy,!0),Lo=(t,n,s)=>{const i=vy.exec(t);return i?i[1]?n(i[1]):s(i[2]):!1},Io=(t,n,s=!1)=>{const i=wy.exec(t);return i?i[1]?n(i[1]):s:!1},jy=t=>t==="position"||t==="percentage",Ny=t=>t==="image"||t==="url",Sy=t=>t==="length"||t==="size"||t==="bg-size",ky=t=>t==="length",J2=t=>t==="number",Z2=t=>t==="family-name",Cy=t=>t==="shadow",eC=()=>{const t=_t("color"),n=_t("font"),s=_t("text"),i=_t("font-weight"),l=_t("tracking"),d=_t("leading"),u=_t("breakpoint"),m=_t("container"),h=_t("spacing"),g=_t("radius"),x=_t("shadow"),y=_t("inset-shadow"),b=_t("text-shadow"),C=_t("drop-shadow"),S=_t("blur"),N=_t("perspective"),j=_t("aspect"),O=_t("ease"),D=_t("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[..._(),Te,Pe],A=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto","contain","none"],z=()=>[Te,Pe,h],X=()=>[fo,"full","auto",...z()],U=()=>[Qr,"none","subgrid",Te,Pe],re=()=>["auto",{span:["full",Qr,Te,Pe]},Qr,Te,Pe],Z=()=>[Qr,"auto",Te,Pe],me=()=>["auto","min","max","fr",Te,Pe],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...z()],ue=()=>[fo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],$=()=>[t,Te,Pe],ce=()=>[..._(),Hg,Bg,{position:[Te,Pe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",Y2,G2,{size:[Te,Pe]}],Q=()=>[dd,vi,ks],fe=()=>["","none","full",g,Te,Pe],ve=()=>["",et,vi,ks],G=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[et,dd,Hg,Bg],Y=()=>["","none",S,Te,Pe],ke=()=>["none",et,Te,Pe],H=()=>["none",et,Te,Pe],Oe=()=>[et,Te,Pe],Ke=()=>[fo,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fr],breakpoint:[fr],color:[$2],container:[fr],"drop-shadow":[fr],ease:["in","out","in-out"],font:[W2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fr],shadow:[fr],spacing:["px",et],text:[fr],"text-shadow":[fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fo,Pe,Te,j]}],container:["container"],columns:[{columns:[et,Pe,Te,m]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:ne()}],"overscroll-x":[{"overscroll-x":ne()}],"overscroll-y":[{"overscroll-y":ne()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[Qr,"auto",Te,Pe]}],basis:[{basis:[fo,"full","auto",m,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,fo,"auto","initial","none",Pe]}],grow:[{grow:["",et,Te,Pe]}],shrink:[{shrink:["",et,Te,Pe]}],order:[{order:[Qr,"first","last","none",Te,Pe]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[m,"screen",...ue()]}],"min-w":[{"min-w":[m,"screen","none",...ue()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[u]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",s,vi,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Te,md]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dd,Pe]}],"font-family":[{font:[K2,Pe,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Te,Pe]}],"line-clamp":[{"line-clamp":[et,"none",Te,md]}],leading:[{leading:[d,...z()]}],"list-image":[{"list-image":["none",Te,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Te,ks]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[et,"auto",Te,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qr,Te,Pe],radial:["",Te,Pe],conic:[Qr,Te,Pe]},X2,Q2]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Te,Pe]}],"outline-w":[{outline:["",et,vi,ks]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",x,pl,hl]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",y,pl,hl]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[et,ks]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,pl,hl]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[et,Te,Pe]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Te,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Pe]}],filter:[{filter:["","none",Te,Pe]}],blur:[{blur:Y()}],brightness:[{brightness:[et,Te,Pe]}],contrast:[{contrast:[et,Te,Pe]}],"drop-shadow":[{"drop-shadow":["","none",C,pl,hl]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",et,Te,Pe]}],"hue-rotate":[{"hue-rotate":[et,Te,Pe]}],invert:[{invert:["",et,Te,Pe]}],saturate:[{saturate:[et,Te,Pe]}],sepia:[{sepia:["",et,Te,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Pe]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[et,Te,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[et,Te,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Te,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Te,Pe]}],"backdrop-invert":[{"backdrop-invert":["",et,Te,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[et,Te,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[et,Te,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Te,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Te,Pe]}],ease:[{ease:["linear","initial",O,Te,Pe]}],delay:[{delay:[et,Te,Pe]}],animate:[{animate:["none",D,Te,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Te,Pe]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[Te,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Pe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[et,vi,ks,md]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tC=D2(eC);function ot(...t){return tC(py(t))}const nC=gy("inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",shimmer:"relative overflow-hidden bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transform transition-all duration-200 hover:scale-105",rainbow:"bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 text-white hover:from-pink-600 hover:via-red-600 hover:to-yellow-600 transform transition-all duration-200 hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-xl px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=v.forwardRef(({className:t,variant:n,size:s,asChild:i=!1,...l},d)=>{const u=i?g2:"button";return o.jsx(u,{className:ot(nC({variant:n,size:s,className:t})),ref:d,...l})});Ae.displayName="Button";const _i=v.forwardRef(({className:t,type:n,...s},i)=>o.jsx("input",{type:n,className:ot("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...s}));_i.displayName="Input";const nt=v.forwardRef(({className:t,...n},s)=>o.jsx("div",{ref:s,className:ot("rounded-xl border bg-card text-card-foreground shadow-sm",t),...n}));nt.displayName="Card";const jr=v.forwardRef(({className:t,...n},s)=>o.jsx("div",{ref:s,className:ot("flex flex-col space-y-1.5 p-6",t),...n}));jr.displayName="CardHeader";const Jr=v.forwardRef(({className:t,...n},s)=>o.jsx("h3",{ref:s,className:ot("text-2xl font-semibold leading-none tracking-tight",t),...n}));Jr.displayName="CardTitle";const zi=v.forwardRef(({className:t,...n},s)=>o.jsx("p",{ref:s,className:ot("text-sm text-muted-foreground",t),...n}));zi.displayName="CardDescription";const at=v.forwardRef(({className:t,...n},s)=>o.jsx("div",{ref:s,className:ot("p-6 pt-0",t),...n}));at.displayName="CardContent";const rC=v.forwardRef(({className:t,...n},s)=>o.jsx("div",{ref:s,className:ot("flex items-center p-6 pt-0",t),...n}));rC.displayName="CardFooter";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,i)=>i?i.toUpperCase():s.toLowerCase()),Wg=t=>{const n=oC(t);return n.charAt(0).toUpperCase()+n.slice(1)},Py=(...t)=>t.filter((n,s,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===s).join(" ").trim(),iC=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=v.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:u,...m},h)=>v.createElement("svg",{ref:h,...aC,width:n,height:n,stroke:t,strokeWidth:i?Number(s)*24/Number(n):s,className:Py("lucide",l),...!d&&!iC(m)&&{"aria-hidden":"true"},...m},[...u.map(([g,x])=>v.createElement(g,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,n)=>{const s=v.forwardRef(({className:i,...l},d)=>v.createElement(lC,{ref:d,iconNode:n,className:Py(`lucide-${sC(Wg(t))}`,`lucide-${t}`,i),...l}));return s.displayName=Wg(t),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gn=je("activity",cC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_l=je("arrow-left",uC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ty=je("arrow-right",dC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Gg=je("arrow-up-down",mC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hC=je("bell",fC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],dn=je("brain",pC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],Tl=je("cable",gC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yC=je("calendar",xC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wo=je("chevron-down",vC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bC=je("chevron-left",wC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fi=je("chevron-right",jC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qg=je("chevron-up",NC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mt=je("circle-alert",SC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ve=je("circle-check-big",kC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],fd=je("circle-dot",CC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],TC=je("circle-x",PC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jn=je("clock",AC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],hd=je("cloud",EC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Kg=je("code-xml",LC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Nm=je("code",IC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zl=je("copy",MC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],gr=je("cpu",RC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],lt=je("database",DC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fl=je("download",OC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zC=je("external-link",_C);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vi=je("eye-off",FC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],So=je("eye",VC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],$C=je("file-spreadsheet",UC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ai=je("file-text",qC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ay=je("funnel",BC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],WC=je("gauge",HC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],QC=je("globe",GC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],YC=je("history",KC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ui=je("info",XC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Sm=je("key",JC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],eP=je("link",ZC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vt=je("loader-circle",tP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rP=je("mail",nP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Yg=je("maximize-2",sP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],iP=je("menu",oP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Xg=je("minimize-2",aP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M5 12h14",key:"1ays0h"}]],cP=je("minus",lP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dP=je("moon",uP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],pd=je("network",mP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hP=je("pen-line",fP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ey=je("play",pP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Is=je("plus",gP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ko=je("refresh-cw",xP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gl=je("rotate-ccw",yP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wP=je("save",vP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dn=je("search",bP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Co=je("server",jP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ms=je("settings",NP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hr=je("shield",SP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Fs=je("sparkles",kP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],PP=je("square",CP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AP=je("star",TP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],LP=je("sun",EP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Ly=je("table",IP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Jg=je("tag",MP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],DP=je("terminal",RP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Zg=je("timer",OP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Iy=je("trash-2",_P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ex=je("trending-up",zP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],My=je("triangle-alert",FP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],UP=je("type",VP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qP=je("users",$P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tx=je("wifi-off",BP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],WP=je("wifi",HP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nr=je("x",GP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],On=je("zap",QP),KP=({onSetupCompleted:t,onNotification:n})=>{const[s,i]=v.useState("welcome"),[l,d]=v.useState(null),[u,m]=v.useState(""),[h,g]=v.useState(!1),[x,y]=v.useState(!1),[b,C]=v.useState(!1),[S,N]=v.useState(null),j={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},D={hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{duration:.3}},active:{scale:1.1,transition:{duration:.2}}};v.useEffect(()=>{N(null)},[u]);const L=Z=>{d(Z),Z==="groq"?i("groq-setup"):Z==="local"?i("local-setup"):Z==="basic"&&i("confirm")},_=()=>{s==="choose-option"?i("welcome"):(s==="groq-setup"||s==="local-setup"||s==="confirm")&&(i("choose-option"),d(null))},F=()=>{s==="welcome"?i("choose-option"):s==="groq-setup"&&u.trim()&&S===!0||s==="local-setup"?i("confirm"):s==="confirm"&&z()},A=()=>{window.open("https://console.groq.com/keys","_blank","noopener,noreferrer")},ne=async()=>{if(u.trim()){C(!0),N(null);try{const Z=await He.testGroqApiKey(u.trim());Z.valid?(N(!0),n({type:"success",title:"API Key Valid",message:"Your Groq API key is working correctly!",duration:3e3})):(N(!1),n({type:"error",title:"Invalid API Key",message:Z.message||"The provided API key is invalid",duration:5e3}))}catch(Z){N(!1);let me="Could not validate the API key.";Z.errors&&Array.isArray(Z.errors)?me=Z.errors.join("; "):Z.message&&(me=Z.message),n({type:"error",title:"Test Failed",message:me,duration:5e3})}finally{C(!1)}}},z=async()=>{y(!0);try{await t(l||"basic",l==="groq"?u.trim():void 0)}catch(Z){console.error("Setup completion error:",Z),n({type:"error",title:"Setup Failed",message:"Failed to complete setup. Please try again.",duration:5e3})}finally{y(!1)}},X=()=>{switch(s){case"welcome":return!0;case"choose-option":return!!l;case"groq-setup":return u.trim()!==""&&S===!0;case"local-setup":return!0;case"confirm":return!0;default:return!1}},U=()=>{if(x&&s==="confirm")return"Initializing...";switch(s){case"welcome":return"Get Started";case"choose-option":return"Continue";case"groq-setup":return"Continue to Setup";case"local-setup":return"Continue to Setup";case"confirm":return"Complete Setup";default:return"Next"}},re=()=>{switch(s){case"welcome":return"Welcome to NaturalToSQL";case"choose-option":return"Choose Your Setup";case"groq-setup":return"Configure Groq API";case"local-setup":return"Local LLM Setup";case"confirm":return"Confirm Setup";default:return"Setup"}};return o.jsxs(R.div,{className:"bg-background p-4 sm:p-6 md:p-8 w-full max-w-4xl mx-auto relative",initial:"hidden",animate:"visible",variants:j,children:[x&&s==="confirm"&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-2xl",children:o.jsx("div",{className:"bg-card/90 backdrop-blur-sm border border-border/50 rounded-2xl p-8 shadow-2xl",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 mx-auto",children:o.jsx(vt,{className:"w-16 h-16 text-blue-500 animate-spin"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Initializing System"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Setting up your AI-powered SQL environment..."}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"This may take a few moments"})]})]})})}),o.jsxs("div",{className:"w-full",children:[o.jsxs(R.div,{className:"text-center mb-4 sm:mb-6",variants:O,children:[o.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 mb-3",children:o.jsx(dn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text",children:re()}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground px-4",children:"Configure your AI-powered SQL conversion experience"})]}),o.jsx(R.div,{className:"flex items-center justify-center mb-4 sm:mb-6 overflow-x-auto",variants:O,children:o.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2 min-w-max px-4",children:(()=>{const Z=l==="groq"?["welcome","choose-option","groq-setup","confirm"]:l==="local"?["welcome","choose-option","local-setup","confirm"]:["welcome","choose-option","confirm"];return Z.map((me,xe)=>{const se=xe+1,pe=me===s,ue=Z.indexOf(s),$=Z.indexOf(me),ce=ue>$;let ae="";switch(me){case"welcome":ae="Welcome";break;case"choose-option":ae="Choose";break;case"groq-setup":ae="Groq API";break;case"local-setup":ae="Local LLM";break;case"confirm":ae="Confirm";break}return o.jsxs(Jt.Fragment,{children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(R.div,{className:`flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full font-medium text-xs sm:text-sm transition-all duration-300 ${ce?"bg-green-500 text-white":pe?"bg-blue-500 text-white shadow-lg shadow-blue-500/30":"bg-muted text-muted-foreground"}`,variants:D,animate:pe?"active":"visible",children:ce?o.jsx(Ve,{className:"w-3 h-3 sm:w-4 sm:h-4"}):se}),o.jsx("div",{className:`text-xs mt-1 transition-colors hidden sm:block ${pe?"text-blue-600 font-medium":"text-muted-foreground"}`,children:ae})]}),xe<Z.length-1&&o.jsx("div",{className:`w-8 h-1 rounded-full transition-all duration-300 mt-3 ${ce?"bg-green-500":"bg-muted"}`})]},me)})})()})}),o.jsx(hn,{mode:"wait",children:o.jsx(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:o.jsxs(nt,{className:"backdrop-blur-sm bg-card/80 border-border/50 shadow-xl rounded-2xl",children:[o.jsxs(at,{className:"p-6",children:[s==="welcome"&&o.jsx(R.div,{variants:j,initial:"hidden",animate:"visible",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs(R.div,{variants:O,children:[o.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:o.jsx(dn,{className:"w-10 h-10 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Welcome to NaturalToSQL"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Transform your natural language questions into powerful SQL queries with AI assistance."})]}),o.jsxs(R.div,{variants:O,className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center p-4",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 dark:bg-blue-500/20 flex items-center justify-center",children:o.jsx(On,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Instant Conversion"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Convert natural language to SQL in seconds"})]}),o.jsxs("div",{className:"text-center p-4",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-green-100 dark:bg-green-500/20 flex items-center justify-center",children:o.jsx(hr,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Safe & Secure"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Built-in safety checks and validation"})]}),o.jsxs("div",{className:"text-center p-4",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-purple-100 dark:bg-purple-500/20 flex items-center justify-center",children:o.jsx(Fs,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Smart Learning"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Learns from your database schema"})]})]}),o.jsx(R.div,{variants:O,children:o.jsx("p",{className:"text-muted-foreground",children:"To get started, we need to configure your AI conversion preferences."})})]})}),s==="choose-option"&&o.jsxs(R.div,{variants:j,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(R.div,{variants:O,children:[o.jsx(dn,{className:"w-12 h-12 mx-auto mb-4 text-blue-500"}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:"Choose Your AI Setup"}),o.jsx("p",{className:"text-muted-foreground",children:"Select how you'd like to power your natural language to SQL conversion"})]})}),o.jsxs(R.div,{className:"grid gap-6 md:grid-cols-3",variants:j,children:[o.jsx(R.div,{variants:O,children:o.jsx(nt,{className:`cursor-pointer group hover:shadow-lg transition-all duration-300 hover:scale-[1.02] h-full ${l==="groq"?"ring-2 ring-blue-500 bg-blue-50/50 dark:bg-blue-500/10 border-blue-500":"border-border/50 hover:border-blue-500/50"}`,onClick:()=>L("groq"),children:o.jsxs(at,{className:"p-6 text-center h-full flex flex-col",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(hd,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2 group-hover:text-blue-600 transition-colors",children:"Groq Cloud AI"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 flex-1",children:"Use Groq's high-performance cloud AI for lightning-fast SQL generation with excellent accuracy."}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Lightning fast responses"]}),o.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"High accuracy"]}),o.jsxs("div",{className:"flex items-center justify-center text-blue-600",children:[o.jsx(Sm,{className:"w-3 h-3 mr-1"}),"Requires API key"]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-center text-xs text-blue-600",children:[o.jsx(Fs,{className:"w-3 h-3 mr-1"}),"Recommended"]})]})})}),o.jsx(R.div,{variants:O,children:o.jsx(nt,{className:`cursor-pointer group hover:shadow-lg transition-all duration-300 hover:scale-[1.02] h-full ${l==="local"?"ring-2 ring-purple-500 bg-purple-50/50 dark:bg-purple-500/10 border-purple-500":"border-border/50 hover:border-purple-500/50"}`,onClick:()=>L("local"),children:o.jsxs(at,{className:"p-6 text-center h-full flex flex-col",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(gr,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2 group-hover:text-purple-600 transition-colors",children:"Local LLM"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 flex-1",children:"Run AI models locally on your machine for complete privacy and offline capability."}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Complete privacy"]}),o.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Works offline"]}),o.jsxs("div",{className:"flex items-center justify-center text-orange-600",children:[o.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Requires setup"]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-center text-xs text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Ready to Use"]})]})})}),o.jsx(R.div,{variants:O,children:o.jsx(nt,{className:`cursor-pointer group hover:shadow-lg transition-all duration-300 hover:scale-[1.02] h-full ${l==="basic"?"ring-2 ring-gray-500 bg-gray-50/50 dark:bg-gray-500/10 border-gray-500":"border-border/50 hover:border-gray-500/50"}`,onClick:()=>L("basic"),children:o.jsxs(at,{className:"p-6 text-center h-full flex flex-col",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-gray-500 to-gray-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Co,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2 group-hover:text-gray-600 transition-colors",children:"Basic Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 flex-1",children:"Use the app without AI conversion. Perfect for direct SQL querying and database exploration."}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"No setup required"]}),o.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Database browsing"]}),o.jsxs("div",{className:"flex items-center justify-center text-orange-600",children:[o.jsx(Mt,{className:"w-3 h-3 mr-1"}),"No AI conversion"]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-center text-xs text-gray-600",children:[o.jsx(hr,{className:"w-3 h-3 mr-1"}),"Simple & Clean"]})]})})})]})]}),s==="groq-setup"&&o.jsxs(R.div,{variants:j,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs(R.div,{variants:O,children:[o.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 text-blue-500"}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:"Configure Groq API"}),o.jsx("p",{className:"text-muted-foreground",children:"Set up your Groq API key for AI-powered SQL conversion"})]})}),o.jsxs(R.div,{className:"space-y-6 max-w-2xl mx-auto",variants:j,children:[o.jsx(R.div,{variants:O,children:o.jsx("div",{className:"p-6 bg-blue-50/50 dark:bg-blue-500/5 border border-blue-200/50 dark:border-blue-500/20 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-semibold text-sm",children:"1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Get Your Groq API Key"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Visit the Groq console to create a free API key. It only takes a minute!"}),o.jsxs(Ae,{onClick:A,className:"flex items-center space-x-2 bg-blue-500 hover:bg-blue-600",children:[o.jsx(zC,{className:"w-4 h-4"}),o.jsx("span",{children:"Open Groq Console"})]})]})]})})}),o.jsx(R.div,{variants:O,children:o.jsx("div",{className:"p-6 bg-green-50/50 dark:bg-green-500/5 border border-green-200/50 dark:border-green-500/20 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center font-semibold text-sm",children:"2"}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Enter Your API Key"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Paste your Groq API key here. It will be stored securely on your local machine."})]}),o.jsxs("div",{className:"relative",children:[o.jsx(_i,{type:h?"text":"password",value:u,onChange:Z=>m(Z.target.value),placeholder:"gsk_...",className:`pr-20 font-mono text-sm ${S===!0?"border-green-500 focus:ring-green-500":S===!1?"border-red-500 focus:ring-red-500":""}`}),o.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center space-x-1",children:[o.jsx(Ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(!h),className:"h-8 w-8 p-0",children:h?o.jsx(Vi,{className:"w-4 h-4"}):o.jsx(So,{className:"w-4 h-4"})}),u.trim()&&o.jsx(Ae,{type:"button",variant:"ghost",size:"sm",onClick:ne,disabled:b,className:"h-8 px-2 text-xs",children:b?o.jsx(vt,{className:"w-3 h-3 animate-spin"}):"Test"})]})]}),S===!0&&o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(Ve,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"API key is valid and working!"})]}),S===!1&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[o.jsx(Mt,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Invalid API key. Please check and try again."})]}),o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ui,{className:"w-3 h-3"}),o.jsx("span",{children:"Your API key is stored locally and never shared"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(hr,{className:"w-3 h-3"}),o.jsx("span",{children:"All communications are encrypted"})]})]})]})]})})})]})]}),s==="local-setup"&&o.jsxs(R.div,{variants:j,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs(R.div,{variants:O,children:[o.jsx(gr,{className:"w-12 h-12 mx-auto mb-4 text-purple-500"}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:"Local LLM Setup"}),o.jsx("p",{className:"text-muted-foreground",children:"Configure local AI models for complete privacy"})]})}),o.jsx(R.div,{className:"space-y-6 max-w-2xl mx-auto",variants:j,children:o.jsx(R.div,{variants:O,children:o.jsxs("div",{className:"p-8 bg-green-50/50 dark:bg-green-500/5 border border-green-200/50 dark:border-green-500/20 rounded-lg text-center",children:[o.jsx(gr,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:"Local LLM Ready"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Run AI models directly on your machine for complete privacy and offline operation. Local LLM mode is now fully supported and production-ready."}),o.jsxs("div",{className:"space-y-3 text-sm text-left max-w-md mx-auto",children:[o.jsx("h4",{className:"font-medium text-foreground",children:"Features Available:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Ollama integration for easy model management"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Support for Qwen, Llama, Mistral, and other models"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Automatic model downloading and setup"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"GPU acceleration support"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Complete offline operation"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Comprehensive health monitoring"})]})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-blue-50/50 dark:bg-blue-500/5 border border-blue-200/50 dark:border-blue-500/20 rounded-lg",children:o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"The app will guide you through the Ollama installation and model setup process. Local LLM mode provides enterprise-grade privacy and performance."})})]})})})]}),s==="confirm"&&o.jsxs(R.div,{variants:j,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs(R.div,{variants:O,children:[o.jsx(Ve,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:"Setup Complete!"}),o.jsx("p",{className:"text-muted-foreground",children:"Your NaturalToSQL configuration is ready"})]})}),o.jsxs(R.div,{className:"space-y-6 max-w-2xl mx-auto",variants:j,children:[o.jsx(R.div,{variants:O,children:o.jsxs("div",{className:"p-6 bg-green-50/50 dark:bg-green-500/5 border border-green-200/50 dark:border-green-500/20 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Configuration Summary:"}),o.jsxs("div",{className:"space-y-3",children:[l==="groq"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(hd,{className:"w-5 h-5 text-blue-500"}),o.jsx("span",{className:"text-foreground",children:"AI Provider: Groq Cloud AI"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ve,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-foreground",children:"API Key: Configured and validated"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(On,{className:"w-5 h-5 text-yellow-500"}),o.jsx("span",{className:"text-foreground",children:"Lightning-fast SQL conversion enabled"})]})]}),l==="local"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gr,{className:"w-5 h-5 text-purple-500"}),o.jsx("span",{className:"text-foreground",children:"AI Provider: Local LLM"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(hr,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-foreground",children:"Privacy: Maximum (local processing)"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(QC,{className:"w-5 h-5 text-blue-500"}),o.jsx("span",{className:"text-foreground",children:"Internet: Not required for AI features"})]})]}),l==="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Co,{className:"w-5 h-5 text-gray-500"}),o.jsx("span",{className:"text-foreground",children:"Mode: Basic database operations"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ve,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-foreground",children:"Database browsing and direct SQL"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(hr,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-foreground",children:"No external dependencies"})]})]})]})]})}),o.jsx(R.div,{variants:O,children:o.jsxs("div",{className:"p-4 bg-blue-50/50 dark:bg-blue-500/5 border border-blue-200/50 dark:border-blue-500/20 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-foreground mb-2",children:"What's Next?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l==="groq"?"You can now create database connections and start converting natural language to SQL with AI assistance.":l==="local"?"You can now create database connections and start using local AI for secure, on-device natural language to SQL conversion.":"You can create database connections and use direct SQL querying to explore your databases."})]})})]})]})]}),o.jsx("div",{className:"border-t border-border/50 bg-muted/20 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-4",children:[o.jsxs(Ae,{variant:"outline",onClick:_,disabled:s==="welcome",className:"w-full sm:w-auto flex items-center justify-center space-x-2 hover:scale-105 transition-transform",children:[o.jsx(_l,{className:"w-4 h-4"}),o.jsx("span",{children:"Back"})]}),o.jsxs(Ae,{onClick:F,disabled:!X()||x,className:"w-full sm:w-auto flex items-center justify-center space-x-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg",children:[x&&o.jsx(vt,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:x&&s==="confirm"?"Initializing system...":U()}),!x&&o.jsx(Ty,{className:"w-4 h-4"})]})]})})]})},s)})]})]})},YP=({size:t="md",animated:n=!1,showOrbits:s=!1,className:i=""})=>{const d={xs:{container:"w-8 h-8",icon:"w-4 h-4",orbit:"w-2 h-2"},sm:{container:"w-12 h-12",icon:"w-6 h-6",orbit:"w-2 h-2"},md:{container:"w-16 h-16",icon:"w-8 h-8",orbit:"w-3 h-3"},lg:{container:"w-20 h-20",icon:"w-10 h-10",orbit:"w-4 h-4"},xl:{container:"w-24 h-24",icon:"w-12 h-12",orbit:"w-4 h-4"}}[t];return o.jsxs("div",{className:`relative ${d.container} ${i}`,children:[o.jsx(R.div,{className:`${d.container} rounded-xl bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-200/20 dark:border-blue-700/20`,whileHover:n?{scale:1.05}:{},transition:{duration:.2,ease:"easeOut"},children:o.jsxs("div",{className:`${d.container} rounded-lg flex items-center justify-center relative`,children:[n&&o.jsx(R.div,{className:"absolute inset-0 rounded-lg bg-gradient-to-br from-blue-500/5 to-purple-500/5",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2}}),o.jsx(lt,{className:`${d.icon} text-blue-600 dark:text-blue-400 relative z-10`})]})}),s&&o.jsx("div",{className:"absolute inset-0",children:[dn,Nm,On].map((u,m)=>o.jsx("div",{className:"absolute",style:{top:m===0?"10%":m===1?"85%":"50%",left:m===0?"85%":m===1?"15%":"85%",transform:"translate(-50%, -50%)"},children:o.jsx(u,{className:`${d.orbit} text-blue-500/40 dark:text-blue-400/40`})},m))})]})},Os=({type:t="app-init",title:n,subtitle:s,progress:i=0,showProgress:l=!0,animated:d=!0,size:u="fullscreen",className:m="",currentStep:h})=>{const[g,x]=v.useState(0),[y,b]=v.useState(0),[C,S]=v.useState(0),N={"app-init":[{icon:hr,text:"Initializing security protocols...",color:"text-blue-500"},{icon:lt,text:"Connecting to database services...",color:"text-green-500"},{icon:pd,text:"Establishing API connections...",color:"text-purple-500"},{icon:dn,text:"Loading AI models...",color:"text-orange-500"},{icon:gr,text:"Optimizing performance...",color:"text-red-500"},{icon:Ve,text:"Ready to generate SQL!",color:"text-emerald-500"}],"llm-init":[{icon:Dn,text:"Checking Ollama installation...",color:"text-blue-500"},{icon:dn,text:"Verifying qwen3:8b model...",color:"text-purple-500"},{icon:gr,text:"Starting local LLM service...",color:"text-orange-500"},{icon:Gn,text:"Warming up model...",color:"text-yellow-500"},{icon:Ve,text:"Local LLM ready!",color:"text-emerald-500"}],"mode-switching":[{icon:Ms,text:"Stopping current services...",color:"text-yellow-500"},{icon:hr,text:"Updating configuration...",color:"text-blue-500"},{icon:pd,text:"Starting API services...",color:"text-purple-500"},{icon:Gn,text:"Verifying connections...",color:"text-green-500"},{icon:Ve,text:"Mode switch complete!",color:"text-emerald-500"}],generating:[{icon:dn,text:"Understanding your query...",color:"text-blue-500"},{icon:Dn,text:"Analyzing database schema...",color:"text-green-500"},{icon:Nm,text:"Generating SQL code...",color:"text-purple-500"},{icon:Ve,text:"Optimizing query...",color:"text-orange-500"}],connecting:[{icon:lt,text:"Establishing connection...",color:"text-blue-500"},{icon:Ms,text:"Configuring settings...",color:"text-green-500"},{icon:Ve,text:"Verifying credentials...",color:"text-purple-500"}],analyzing:[{icon:Dn,text:"Scanning database structure...",color:"text-blue-500"},{icon:Gn,text:"Mapping relationships...",color:"text-green-500"},{icon:dn,text:"Building context...",color:"text-purple-500"}],executing:[{icon:On,text:"Executing query...",color:"text-blue-500"},{icon:lt,text:"Fetching results...",color:"text-green-500"},{icon:Gn,text:"Processing data...",color:"text-purple-500"}],loading:[{icon:vt,text:"Loading...",color:"text-blue-500"}]},j=N[t]||N.loading,D={sm:{container:"w-48 h-24",icon:"w-4 h-4",title:"text-sm",subtitle:"text-xs",progress:"h-1",logo:"w-8 h-8",wrapper:"p-4"},md:{container:"w-64 h-32",icon:"w-5 h-5",title:"text-base",subtitle:"text-sm",progress:"h-2",logo:"w-12 h-12",wrapper:"p-6"},lg:{container:"w-80 h-40",icon:"w-6 h-6",title:"text-lg",subtitle:"text-base",progress:"h-2",logo:"w-16 h-16",wrapper:"p-8"},xl:{container:"w-96 h-48",icon:"w-8 h-8",title:"text-xl",subtitle:"text-lg",progress:"h-3",logo:"w-20 h-20",wrapper:"p-10"},fullscreen:{container:"min-h-screen w-full",icon:"w-8 h-8",title:"text-3xl",subtitle:"text-lg",progress:"h-3",logo:"w-24 h-24",wrapper:"p-12"}}[u];v.useEffect(()=>{if(!h){if(t==="app-init"){const re=setInterval(()=>{x(Z=>{const me=Z+1;return me>=j.length?(clearInterval(re),Z):me}),S(Z=>Math.min(100,Z+100/j.length))},1500);return()=>clearInterval(re)}else if(t==="mode-switching"){const re=setInterval(()=>{x(Z=>{const me=Z+1;return me>=j.length?(clearInterval(re),Z):me}),S(Z=>Math.min(100,Z+100/j.length))},2e3);return()=>clearInterval(re)}else if(t==="llm-init"){const re=setInterval(()=>{x(Z=>{const me=Z+1;return me>=j.length?(clearInterval(re),Z):me}),S(Z=>Math.min(100,Z+100/j.length))},3e3);return()=>clearInterval(re)}else if(d&&j.length>1){const re=setInterval(()=>{x(Z=>(Z+1)%j.length)},2e3);return()=>clearInterval(re)}}},[d,j.length,t,h]),v.useEffect(()=>{if(!l)return;const re=h?Math.min(100,Math.max(0,i)):t==="app-init"||t==="mode-switching"?C:Math.min(100,Math.max(0,i)),Z=(re-y)/20,me=setInterval(()=>{b(xe=>{const se=xe+Z;return Math.abs(se-re)<1?(clearInterval(me),re):se})},50);return()=>clearInterval(me)},[i,l,C,t,h]);let L=j[g]?.icon||vt,_=j[g]?.color||"text-blue-500";if(h){const re=h.toLowerCase();re.includes("check")||re.includes("verify")?(L=Dn,_="text-blue-500"):re.includes("download")||re.includes("pulling")?(L=pd,_="text-blue-500"):re.includes("starting")||re.includes("start")?(L=gr,_="text-orange-500"):re.includes("success")||re.includes("ready")||re.includes("running")?(L=Ve,_="text-emerald-500"):re.includes("failed")||re.includes("error")?(L=Gn,_="text-red-500"):re.includes("required")||re.includes("setup")?(L=Ms,_="text-yellow-500"):re.includes("install")?(L=Ms,_="text-purple-500"):(L=dn,_="text-purple-500")}const F=h||j[g]?.text||"Loading...",A=h&&h.toLowerCase().includes("%"),ne=h?.match(/(\d+(?:\.\d+)?)%/),z=ne?parseFloat(ne[1]):0,X=h?.match(/\(([^)]+)\)/),U=X?X[1]:"";return u==="fullscreen"?o.jsxs("div",{className:`${D.container} bg-gradient-to-br from-background via-muted/20 to-background flex items-center justify-center ${m}`,children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 opacity-10",children:[...Array(20)].map((re,Z)=>o.jsx(R.div,{className:"absolute w-2 h-2 bg-primary rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{scale:[0,1,0],opacity:[0,.8,0]},transition:{duration:3,repeat:1/0,delay:Z*.2,ease:"easeInOut"}},Z))})}),o.jsxs("div",{className:`relative z-10 text-center space-y-8 ${D.wrapper}`,children:[o.jsx(R.div,{className:"relative mx-auto flex justify-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},children:o.jsx(YP,{size:"xl",animated:!0,showOrbits:!0})}),o.jsxs(R.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[o.jsx("h1",{className:`font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 bg-clip-text text-transparent ${D.title}`,children:"NaturalToSQL"}),o.jsx("p",{className:`text-muted-foreground ${D.subtitle}`,children:"Transform natural language into powerful SQL queries"})]}),o.jsxs(R.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[o.jsx(hn,{mode:"wait",children:o.jsxs(R.div,{className:"flex items-center justify-center space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:[o.jsx(R.div,{animate:{scale:[1,1.2,1],rotate:L===vt?[0,360]:[0,0]},transition:{duration:L===vt?1:2,repeat:1/0,ease:"easeInOut"},children:o.jsx(L,{className:`${D.icon} ${_}`})}),o.jsx("span",{className:"text-foreground font-medium",children:F})]},g)}),l&&o.jsxs("div",{className:"w-80 mx-auto space-y-2",children:[o.jsx("div",{className:`w-full bg-muted rounded-full overflow-hidden ${D.progress}`,children:o.jsx(R.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-full shadow-lg",initial:{width:"0%"},animate:{width:A&&z>0?`${Math.min(100,Math.max(0,z))}%`:`${y}%`},transition:{duration:.8,ease:"easeOut"}})}),o.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[o.jsx("span",{children:A&&U?U:"Loading components..."}),o.jsx("span",{children:A&&z>0?`${z.toFixed(1)}%`:`${Math.round(y)}%`})]})]}),o.jsx("div",{className:"flex justify-center space-x-2",children:j.map((re,Z)=>o.jsx(R.div,{className:`w-2 h-2 rounded-full transition-all duration-300 ${Z===g?"bg-primary scale-125":Z<g?"bg-green-500":"bg-muted"}`,animate:{scale:Z===g?1.5:1}},Z))})]})]})]}):o.jsxs("div",{className:`flex flex-col items-center justify-center ${D.container} ${m}`,children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-green-500/5 animate-pulse"}),o.jsx(R.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center space-y-4",children:[o.jsxs(R.div,{className:"relative",animate:{scale:[1,1.1,1],rotate:L===vt?[0,360]:[0,0]},transition:{duration:L===vt?1:2,repeat:1/0,ease:"easeInOut"},children:[o.jsx(R.div,{className:`absolute inset-0 ${D.icon} ${_} opacity-20 blur-md`,animate:{scale:[1,1.5,1],opacity:[.2,.4,.2]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsx(L,{className:`${D.icon} ${_} relative z-10`})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx(hn,{mode:"wait",children:o.jsx(R.h3,{className:`font-semibold text-foreground ${D.title}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:n||F},n||F)}),s&&o.jsx(R.p,{className:`text-muted-foreground ${D.subtitle}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:s})]}),l&&o.jsxs("div",{className:"w-full max-w-xs",children:[o.jsx("div",{className:`w-full bg-muted rounded-full overflow-hidden ${D.progress}`,children:o.jsx(R.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-full",initial:{width:"0%"},animate:{width:`${y}%`},transition:{duration:.5,ease:"easeOut"}})}),o.jsxs(R.p,{className:"text-xs text-muted-foreground text-center mt-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[Math.round(y),"%"]})]}),d&&j.length>1&&o.jsx("div",{className:"flex space-x-1",children:j.map((re,Z)=>o.jsx(R.div,{className:`w-2 h-2 rounded-full transition-colors duration-300 ${Z===g?"bg-primary":"bg-muted"}`,animate:{scale:Z===g?1.2:1},transition:{duration:.3}},Z))})]})]})},XP=({onProfileCreated:t,onNotification:n,existingProfiles:s,onBackToProfiles:i})=>{console.log("🏗️ SetupWizard initialized with existingProfiles:",s),console.log("🏗️ Profile details:",s.map(H=>({id:H.id,name:H.name,databaseName:H.databaseName,serverName:H.serverName,provider:H.provider,providerType:H.providerType,hasConnectionString:!!H.connectionString,connectionStringPreview:H.connectionString?H.connectionString.substring(0,50)+"...":"none"})));const l=H=>{const Oe=["master","model","msdb","tempdb","information_schema","performance_schema","mysql","sys","postgres","template0","template1","sqlite_master","sqlite_temp_master","INFORMATION_SCHEMA","PERFORMANCE_SCHEMA"];return Oe.includes(H.toLowerCase())||Oe.includes(H)||H.startsWith("sys")||H.startsWith("SYS")||H.includes("system")||H.includes("SYSTEM")},d=()=>re?F:F.filter(H=>!l(H.name)),u=H=>H&&H.errors&&Array.isArray(H.errors)?H.errors.join("; "):H&&H.message?H.message:typeof H=="string"?H:"An unknown error occurred",[m,h]=v.useState("provider"),[g,x]=v.useState([]),[y,b]=v.useState(null),[C,S]=v.useState(null),[N,j]=v.useState(null),[O,D]=v.useState(""),[L,_]=v.useState([]),[F,A]=v.useState([]),[ne]=v.useState(!1),[z]=v.useState(!1),[X,U]=v.useState(""),[re,Z]=v.useState(!1),[me,xe]=v.useState(""),[se,pe]=v.useState(!1),ue={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},$={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},ce={hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{duration:.3}},active:{scale:1.1,transition:{duration:.2}}};v.useEffect(()=>{let H=!0,Oe=!1;return(async()=>{try{pe(!0);const Ye=await He.getSupportedProviders();H&&!Oe&&(Oe=!0,x(Ye),console.log("Providers loaded successfully:",Ye))}catch(Ye){H&&!Oe&&(Oe=!0,console.error("Failed to load providers:",Ye),n({type:"error",title:"Failed to Load Providers",message:u(Ye),duration:5e3}))}finally{H&&pe(!1)}})(),()=>{H=!1}},[]),v.useEffect(()=>{y&&C==="auto"&&(async()=>{try{pe(!0),console.log("Selected Provider:",y);const Oe=await He.getAvailableServers(y.dbType);_(Oe)}catch(Oe){n({type:"error",title:"Failed to Load Servers",message:u(Oe),duration:5e3})}finally{pe(!1)}})()},[y,C,n]),v.useEffect(()=>{y&&N&&(async()=>{try{pe(!0);const Oe=await He.getAvailableDatabases(y.dbType,N.name);A(Oe)}catch(Oe){n({type:"error",title:"Failed to Load Databases",message:u(Oe),duration:5e3})}finally{pe(!1)}})()},[y,N,n]),v.useEffect(()=>{},[me]);const ae=H=>{b(H),h("connection-method")},T=H=>{S(H),h(H==="auto"?"auto-config":"manual-config")},Q=H=>{j(H),h("database-selection")},fe=H=>{if(!y||!N)return;console.log("🔎 User selected database:",{databaseName:H.name,serverName:N.name,providerType:y.dbType,availableProfiles:s.length});const Oe=ve(H.name,N.name,y.dbType);if(console.log("🔎 Search result:",Oe?"FOUND EXISTING PROFILE":"NO EXISTING PROFILE"),Oe){console.log("🚫 Blocking database selection - profile already exists:",Oe.name),n({type:"info",title:"Database Already Connected",message:`The "${H.name}" database is already connected via the "${Oe.name}" profile. Please select a different database or use the existing profile.`,duration:4e3});return}console.log("✅ Database selection allowed - proceeding"),D(H.name),U(`${y?.name} - ${H.name}`)},ve=(H,Oe,Ke)=>{console.log("🔍 PROFILE SEARCH DEBUG:"),console.log("🔍 Looking for:",{databaseName:H,serverName:Oe,providerType:Ke}),console.log("🔍 Total profiles available:",s.length),console.log("🔍 All profiles:",s.map((_e,wt)=>({index:wt,id:_e.id,name:_e.name,databaseName:_e.databaseName,serverName:_e.serverName||"undefined",provider:_e.provider,providerType:_e.providerType||"undefined",hasConnectionString:!!_e.connectionString,connectionStringLength:_e.connectionString?.length||0})));const Ye=s.find(_e=>{console.log(`🔍 Checking profile #${s.indexOf(_e)}:`,{profileName:_e.name,profileDatabaseName:_e.databaseName,profileProvider:_e.provider,targetDatabaseName:H,targetProviderType:Ke});const wt=_e.databaseName&&_e.databaseName.toLowerCase()===H.toLowerCase();if(console.log("🔍 Database name match result:",{profileDbName:_e.databaseName,targetDbName:H,match:wt}),wt){console.log("✅ Database name matches!");const ht=_e.provider||_e.providerType||"SqlServer",Rt=Ke||"SqlServer";if(console.log("🔍 Provider comparison:",{profileProvider:ht,targetProvider:Rt,providersMatch:ht===Rt}),ht===Rt||ht==="SqlServer"&&Rt==="SqlServer")return console.log("✅ Provider type matches - PROFILE FOUND!"),!0;console.log("❌ Provider type mismatch")}else console.log("❌ Database name mismatch");return!1});return console.log("🔍 SEARCH RESULT:",Ye?"FOUND EXISTING PROFILE":"NO MATCHING PROFILE"),Ye&&console.log("🔍 Matched profile details:",{id:Ye.id,name:Ye.name,databaseName:Ye.databaseName,provider:Ye.provider}),Ye},G=()=>{m==="connection-method"?h("provider"):m==="auto-config"?h("connection-method"):m==="database-selection"?h("auto-config"):m==="manual-config"&&h("connection-method")},ee=()=>{if(m==="provider"&&y)h("connection-method");else if(m==="connection-method"&&C)h(C==="auto"?"auto-config":"manual-config");else if(m==="auto-config"&&N)h("database-selection");else if(m==="database-selection"&&O){if(!y||!N)return;const H=ve(O,N.name,y.dbType);if(H){n({type:"info",title:"Database Connection Already Exists",message:`You already have a connection profile "${H.name}" configured for the "${O}" database on "${N.name}". To avoid duplicate connections, please select a different database or use the existing profile from your connections list.`,duration:8e3});return}ke()}else m==="manual-config"&&ke()},we=()=>{switch(m){case"provider":return!!y;case"connection-method":return!!C;case"auto-config":return!!N;case"database-selection":return!O||!y||!N?!1:!ve(O,N.name,y.dbType);case"manual-config":return!!me.trim();default:return!1}},Y=()=>{switch(m){case"provider":return"Continue";case"connection-method":return"Configure";case"auto-config":return"Continue";case"database-selection":return"Create Profile";case"manual-config":return"Create Profile";default:return"Next"}},ke=async()=>{if(y)try{pe(!0);const H=C==="auto"?{connectionType:kd.AutoConnect,providerType:Sl.SqlServer,serverName:N?.name||"",databaseName:O,connectionString:""}:{connectionType:kd.ConnectionString,providerType:Sl.SqlServer,connectionString:me,serverName:"",databaseName:""},Ke={id:(await At.createProfile(H)).profileId,name:C==="auto"?`${O} (${N?.name})`:`${y.name} Connection`,connectionString:C==="auto"?"":me,queries:[],createdUtc:new Date().toISOString(),provider:Sl.SqlServer,databaseName:C==="auto"?O:void 0};t(Ke)}catch(H){n({type:"error",title:"Profile Creation Failed",message:u(H),duration:5e3})}finally{pe(!1)}};return o.jsx(R.div,{className:"bg-background p-2 sm:p-4 md:p-6",initial:"hidden",animate:"visible",variants:ue,children:o.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[o.jsxs(R.div,{className:"text-center mb-4 sm:mb-6",variants:$,children:[o.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 mb-3",children:o.jsx(lt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),s.length===0?o.jsxs(o.Fragment,{children:[o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text",children:"Welcome to NaturalToSQL"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground px-4",children:"Let's set up your first database connection"})]}):o.jsxs(o.Fragment,{children:[o.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-foreground mb-2",children:"Create New Connection"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground px-4",children:"Add a new database connection to your workspace"})]})]}),o.jsx(R.div,{className:"flex items-center justify-center mb-4 sm:mb-6 overflow-x-auto",variants:$,children:o.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2 min-w-max px-4",children:(()=>{const H=C==="manual"?["provider","connection-method","manual-config"]:["provider","connection-method","auto-config","database-selection"];return H.map((Oe,Ke)=>{const Ye=Ke+1,_e=Oe===m,wt=H.indexOf(m),ht=H.indexOf(Oe),Rt=wt>ht;let jt="";switch(Oe){case"provider":jt="Provider";break;case"connection-method":jt="Method";break;case"auto-config":jt="Server";break;case"database-selection":jt="Database";break;case"manual-config":jt="Configure";break}return o.jsxs(Jt.Fragment,{children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(R.div,{className:`flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full font-medium text-xs sm:text-sm transition-all duration-300 ${Rt?"bg-green-500 text-white":_e?"bg-blue-500 text-white shadow-lg shadow-blue-500/30":"bg-muted text-muted-foreground"}`,variants:ce,animate:_e?"active":"visible",children:Rt?o.jsx(Ve,{className:"w-3 h-3 sm:w-4 sm:h-4"}):Ye}),o.jsx("div",{className:`text-xs mt-1 transition-colors hidden sm:block ${_e?"text-blue-600 font-medium":"text-muted-foreground"}`,children:jt})]}),Ke<H.length-1&&o.jsx("div",{className:`w-8 h-1 rounded-full transition-all duration-300 mt-3 ${Rt?"bg-green-500":"bg-muted"}`})]},Oe)})})()})}),s.length>0&&o.jsx(R.div,{className:"flex justify-start mb-4",variants:$,children:o.jsxs(Ae,{variant:"outline",onClick:i||(()=>{}),className:"flex items-center space-x-2 hover:scale-105 transition-transform",children:[o.jsx(_l,{className:"w-4 h-4"}),o.jsxs("span",{children:["Back to Profiles (",s.length,")"]})]})}),o.jsx(hn,{mode:"wait",children:o.jsx(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:o.jsxs(nt,{className:"backdrop-blur-sm bg-card/80 border-border/50 shadow-xl rounded-2xl",children:[o.jsxs(at,{className:"p-6",children:[m==="provider"&&o.jsxs(R.div,{variants:ue,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs(R.div,{variants:$,children:[o.jsx(lt,{className:"w-12 h-12 mx-auto mb-4 text-blue-500"}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:"Choose Your Database"}),o.jsx("p",{className:"text-muted-foreground",children:"Select the database provider you want to connect to"})]})}),se?o.jsx(R.div,{className:"flex items-center justify-center py-8",variants:$,children:o.jsx(Os,{type:"connecting",title:"Discovering Providers",subtitle:"Discovering available database providers...",size:"md",animated:!0,showProgress:!1})}):g.length===0?o.jsxs(R.div,{className:"text-center py-8",variants:$,children:[o.jsx(Mt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"No database providers available"})]}):o.jsx(R.div,{className:"grid gap-4 md:grid-cols-2",variants:ue,children:g.map(H=>{const Ke=s.filter(Ye=>Ye.providerType===H.dbType).length;return o.jsx(R.div,{variants:$,children:o.jsx(nt,{className:"relative overflow-hidden cursor-pointer group hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50 hover:border-blue-500/50",onClick:()=>ae(H),children:o.jsxs(at,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(lt,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground group-hover:text-blue-600 transition-colors",children:H.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:H.describtion})]})]}),o.jsx(Fi,{className:"w-5 h-5 text-muted-foreground group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}),Ke>0&&o.jsx("div",{className:"mt-4 flex items-center space-x-2 text-xs",children:o.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full bg-green-500/10 text-green-600",children:[o.jsx(Ve,{className:"w-3 h-3"}),o.jsxs("span",{children:[Ke," profile",Ke!==1?"s":""]})]})})]})})},H.dbType)})})]}),m==="connection-method"&&o.jsxs(R.div,{variants:ue,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-4",children:o.jsxs(R.div,{variants:$,children:[o.jsx(Tl,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),o.jsx("h2",{className:"text-lg font-bold text-foreground mb-1",children:"Connection Method"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["How would you like to connect to your ",y?.name," database?"]})]})}),o.jsxs(R.div,{className:"grid gap-4 md:grid-cols-2",variants:ue,children:[o.jsx(R.div,{variants:$,children:o.jsx(nt,{className:"cursor-pointer group hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50 hover:border-blue-500/50 h-full",onClick:()=>T("auto"),children:o.jsxs(at,{className:"p-6 text-center h-full flex flex-col",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(On,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1 group-hover:text-blue-600 transition-colors",children:"Auto-Detect"}),o.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:"Automatically discover servers and databases on your network"}),o.jsxs("div",{className:"mt-3 flex items-center justify-center text-xs text-green-600",children:[o.jsx(Fs,{className:"w-3 h-3 mr-1"}),"Recommended"]})]})})}),o.jsx(R.div,{variants:$,children:o.jsx(nt,{className:"cursor-pointer group hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50 hover:border-orange-500/50 h-full",onClick:()=>T("manual"),children:o.jsxs(at,{className:"p-6 text-center h-full flex flex-col",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Tl,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1 group-hover:text-orange-600 transition-colors",children:"Connection String"}),o.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:"Enter your database connection string manually"}),o.jsxs("div",{className:"mt-3 flex items-center justify-center text-xs text-orange-600",children:[o.jsx(hr,{className:"w-3 h-3 mr-1"}),"Advanced"]})]})})})]})]}),m==="auto-config"&&o.jsxs(R.div,{variants:ue,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-4",children:o.jsxs(R.div,{variants:$,children:[o.jsx(Dn,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),o.jsx("h2",{className:"text-lg font-bold text-foreground mb-1",children:"Auto-Detection"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Discovering ",y?.name," servers and databases"]})]})}),ne?o.jsx(R.div,{className:"flex items-center justify-center py-8",variants:$,children:o.jsx(Os,{type:"analyzing",title:"Discovering Servers",subtitle:`Scanning network for ${y?.name} servers...`,size:"md",animated:!0,showProgress:!1})}):o.jsx(R.div,{className:"space-y-8",variants:ue,children:o.jsxs(R.div,{variants:$,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Co,{className:"w-5 h-5 text-blue-500"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Available Servers"})]}),L.length===0?o.jsx(nt,{className:"border-dashed border-2 border-muted-foreground/30",children:o.jsxs(at,{className:"text-center py-12",children:[o.jsx(Co,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No servers found on the network"}),o.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Try manual configuration instead"}),o.jsx(Ae,{variant:"outline",onClick:()=>T("manual"),className:"mt-4",children:"Switch to Manual Configuration"})]})}):o.jsx("div",{className:"grid gap-3",children:L.map(H=>o.jsx(R.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsx(nt,{className:`cursor-pointer transition-all duration-200 ${N?.name===H.name?"ring-2 ring-blue-500 bg-blue-50/50 border-blue-500":"hover:shadow-md hover:border-blue-300"}`,onClick:()=>Q(H),children:o.jsx(at,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${N?.name===H.name?"bg-blue-500":"bg-muted-foreground/30"}`}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-foreground",children:H.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.runningDbs," databases"]})]})]}),N?.name===H.name&&o.jsx(Ve,{className:"w-5 h-5 text-blue-500"})]})})})},H.name))})]})})]}),m==="database-selection"&&o.jsxs(R.div,{variants:ue,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-4",children:o.jsxs(R.div,{variants:$,children:[o.jsx(lt,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),o.jsx("h2",{className:"text-lg font-bold text-foreground mb-1",children:"Select Database"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Choose a database from ",N?.name]}),(s.some(H=>H.serverName===N?.name&&H.providerType===y?.dbType)||F.some(H=>l(H.name)))&&o.jsxs("div",{className:"mt-4 space-y-2",children:[s.some(H=>H.serverName===N?.name&&H.providerType===y?.dbType)&&o.jsx("div",{className:"p-2 bg-blue-50/50 dark:bg-blue-500/5 border border-blue-200/50 dark:border-blue-500/20 rounded-lg max-w-md mx-auto",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-blue-600 dark:text-blue-400",children:[o.jsx(Mt,{className:"w-3 h-3"}),o.jsx("span",{children:"Databases with existing connections are disabled to prevent duplicates"})]})}),F.some(H=>l(H.name))&&o.jsx("div",{className:"p-2 bg-orange-50/50 dark:bg-orange-500/5 border border-orange-200/50 dark:border-orange-500/20 rounded-lg max-w-md mx-auto",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-orange-600 dark:text-orange-400",children:[o.jsx(So,{className:"w-3 h-3"}),o.jsxs("span",{children:["Use the eye icon to ",re?"hide":"show"," system databases"]})]})})]})]})}),o.jsxs(R.div,{className:"space-y-4",variants:ue,children:[o.jsxs(R.div,{variants:$,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Jg,{className:"w-4 h-4 text-purple-500"}),o.jsx("label",{htmlFor:"auto-profile-name",className:"text-base font-semibold text-foreground",children:"Profile Name"})]}),o.jsx(_i,{id:"auto-profile-name",value:X,onChange:H=>U(H.target.value),placeholder:"Enter a name for this connection profile",className:"p-3 focus:border-transparent focus:ring-2 focus:ring-purple-500 transition-all"})]}),o.jsxs(R.div,{variants:$,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lt,{className:"w-5 h-5 text-green-500"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Available Databases"}),o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>Z(!re),className:"ml-2 h-7 w-7 p-0 hover:bg-muted",title:re?"Hide system databases":"Show system databases",children:re?o.jsx(Vi,{className:"w-4 h-4 text-muted-foreground"}):o.jsx(So,{className:"w-4 h-4 text-muted-foreground"})})]}),d().length>0&&o.jsx("div",{className:"flex items-center space-x-3 text-sm",children:(()=>{const H=d(),Oe=H.filter(_e=>y&&N&&ve(_e.name,N.name,y.dbType)).length,Ke=H.length-Oe,Ye=F.filter(_e=>l(_e.name)).length;return o.jsxs(o.Fragment,{children:[Ke>0&&o.jsx("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full bg-green-500/10 text-green-600 border border-green-500/20",children:o.jsxs("span",{className:"text-xs font-medium",children:[Ke," available"]})}),Oe>0&&o.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full bg-muted text-muted-foreground border",children:[o.jsx(Ve,{className:"w-3 h-3"}),o.jsxs("span",{className:"text-xs font-medium",children:[Oe," configured"]})]}),!re&&Ye>0&&o.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full bg-blue-500/10 text-blue-600 border border-blue-500/20",children:[o.jsx(Vi,{className:"w-3 h-3"}),o.jsxs("span",{className:"text-xs font-medium",children:[Ye," system hidden"]})]})]})})()})]}),z?o.jsx(nt,{children:o.jsx(at,{className:"flex items-center justify-center py-8",children:o.jsx(Os,{type:"analyzing",title:"Loading Databases",subtitle:"Fetching database list...",size:"sm",animated:!0,showProgress:!1})})}):d().length===0?o.jsx(nt,{className:"border-dashed border-2 border-muted-foreground/30",children:o.jsxs(at,{className:"text-center py-8",children:[o.jsx(lt,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground/50"}),o.jsx("p",{className:"text-muted-foreground",children:F.length>0&&!re?"No user databases found. Click the eye icon to show system databases.":"No databases found"})]})}):(()=>{const H=d();return H.filter(Ke=>!(y&&N&&ve(Ke.name,N.name,y.dbType))).length===0&&H.length>0?o.jsx(nt,{className:"border-dashed border-2 border-amber-200 dark:border-amber-500/30 bg-amber-50/30 dark:bg-amber-500/5",children:o.jsxs(at,{className:"text-center py-8",children:[o.jsx(Ve,{className:"w-12 h-12 mx-auto mb-4 text-amber-500"}),o.jsx("h3",{className:"text-lg font-semibold text-amber-700 dark:text-amber-400 mb-2",children:"All Databases Already Connected"}),o.jsx("p",{className:"text-amber-600 dark:text-amber-300 text-sm mb-4",children:"All available databases on this server already have connection profiles configured."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{variant:"outline",onClick:()=>h("auto-config"),className:"border-amber-300 text-amber-700 hover:bg-amber-50 dark:border-amber-500/50 dark:text-amber-400 dark:hover:bg-amber-500/10",children:"Choose Different Server"}),o.jsx("div",{className:"text-xs text-amber-600/70 dark:text-amber-400/70",children:"or go back to your existing profiles"})]})]})}):o.jsx("div",{className:"grid gap-3",children:H.map(Ke=>{const Ye=y&&N?ve(Ke.name,N.name,y.dbType):void 0;console.log(`🎨 Rendering database "${Ke.name}":`,{hasExistingProfile:!!Ye,existingProfileName:Ye?.name||"none",serverName:N?.name,providerType:y?.dbType});const _e=!!Ye,wt=O===Ke.name&&!_e;return o.jsx(R.div,{whileHover:_e?{}:{scale:1.02},whileTap:_e?{}:{scale:.98},children:o.jsx(nt,{className:`transition-all duration-200 ${_e?"opacity-60 cursor-not-allowed bg-muted/30 border-muted":wt?"ring-2 ring-green-500 bg-green-50/50 dark:bg-green-500/10 border-green-500 cursor-pointer":"hover:shadow-md hover:border-green-300 cursor-pointer"}`,onClick:()=>!_e&&fe(Ke),children:o.jsxs(at,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${_e?"bg-muted-foreground/20":wt?"bg-green-500":"bg-muted-foreground/30"}`}),o.jsxs("div",{children:[o.jsxs("div",{className:`font-medium flex items-center space-x-2 ${_e?"text-muted-foreground":"text-foreground"}`,children:[o.jsx("span",{children:Ke.name}),l(Ke.name)&&o.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-orange-100 dark:bg-orange-500/20 text-orange-600 dark:text-orange-400 border border-orange-200 dark:border-orange-500/30",children:"System"})]}),o.jsxs("div",{className:`text-sm ${_e?"text-muted-foreground/60":"text-muted-foreground"}`,children:[Ke.tableCount," tables"]}),_e&&o.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[o.jsx(Ve,{className:"w-3 h-3 text-green-500/70"}),o.jsx("span",{className:"text-xs text-green-600/70 font-medium",children:"Already configured"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[_e&&Ye&&o.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full bg-green-500/10 text-green-600 border border-green-500/20",children:[o.jsx(Ve,{className:"w-3 h-3"}),o.jsxs("span",{className:"text-xs font-medium",children:["Profile: ",Ye.name]})]}),wt&&o.jsx(Ve,{className:"w-5 h-5 text-green-500"})]})]}),_e&&Ye&&o.jsx("div",{className:"mt-3 p-3 bg-blue-50/50 dark:bg-blue-500/5 border border-blue-200/50 dark:border-blue-500/20 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Mt,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Connection Already Exists"}),o.jsxs("p",{className:"text-blue-600 dark:text-blue-400 text-xs",children:['This database is already connected via the "',Ye.name,'" profile. To avoid duplicate connections, please select a different database or use the existing profile.']})]})]})})]})})},Ke.name)})})})()]})]})]}),m==="manual-config"&&o.jsxs(R.div,{variants:ue,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs(R.div,{variants:$,children:[o.jsx(DP,{className:"w-10 h-10 mx-auto mb-3 text-orange-500"}),o.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Manual Configuration"}),o.jsxs("p",{className:"text-muted-foreground",children:["Enter your ",y?.name," connection details"]})]})}),o.jsxs(R.div,{className:"space-y-8",variants:ue,children:[o.jsxs(R.div,{variants:$,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Jg,{className:"w-5 h-5 text-purple-500"}),o.jsx("label",{htmlFor:"manual-profile-name",className:"text-lg font-semibold text-foreground",children:"Profile Name"})]}),o.jsx(_i,{id:"manual-profile-name",value:X,onChange:H=>U(H.target.value),placeholder:"Enter a name for this connection profile",className:"p-3 focus:border-transparent focus:ring-2 focus:ring-purple-500 transition-all"})]}),o.jsxs(R.div,{variants:$,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Tl,{className:"w-5 h-5 text-orange-500"}),o.jsx("label",{htmlFor:"connection-string",className:"text-base font-semibold text-foreground",children:"Connection String"})]}),o.jsx("textarea",{id:"connection-string",value:me,onChange:H=>xe(H.target.value),placeholder:"Enter your database connection string",className:"min-h-[120px] font-mono text-sm w-full p-3 rounded-xl border border-input bg-background focus:border-transparent focus:ring-2 focus:ring-orange-500 focus:outline-none transition-all placeholder:text-muted-foreground"}),o.jsxs("div",{className:"mt-3 p-4 bg-muted/50 rounded-xl border",children:[o.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:"Example:"}),o.jsx("code",{className:"text-xs text-muted-foreground break-all",children:"Server=localhost;Database=MyDB;Trusted_Connection=True;"})]})]})]})]})]}),o.jsx("div",{className:"border-t border-border/50 bg-muted/20 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-4",children:[o.jsxs(Ae,{variant:"outline",onClick:G,disabled:m==="provider",className:"w-full sm:w-auto flex items-center justify-center space-x-2 hover:scale-105 transition-transform",children:[o.jsx(_l,{className:"w-4 h-4"}),o.jsx("span",{children:"Back"})]}),o.jsxs(Ae,{onClick:ee,disabled:!we||se,className:"w-full sm:w-auto flex items-center justify-center space-x-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg",children:[se&&o.jsx(vt,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:se&&m==="manual-config"?"Testing Connection...":Y()}),!se&&m!=="manual-config"&&m!=="auto-config"&&o.jsx(Ty,{className:"w-4 h-4"}),!se&&(m==="manual-config"||m==="auto-config")&&o.jsx(Ve,{className:"w-4 h-4"})]})]})})]})},m)})]})})};function JP(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function nx(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,i)}return s}function rx(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?nx(Object(s),!0).forEach(function(i){JP(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):nx(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}function ZP(t,n){if(t==null)return{};var s={},i=Object.keys(t),l,d;for(d=0;d<i.length;d++)l=i[d],!(n.indexOf(l)>=0)&&(s[l]=t[l]);return s}function eT(t,n){if(t==null)return{};var s=ZP(t,n),i,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(l=0;l<d.length;l++)i=d[l],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}function tT(t,n){return nT(t)||rT(t,n)||sT(t,n)||oT()}function nT(t){if(Array.isArray(t))return t}function rT(t,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var s=[],i=!0,l=!1,d=void 0;try{for(var u=t[Symbol.iterator](),m;!(i=(m=u.next()).done)&&(s.push(m.value),!(n&&s.length===n));i=!0);}catch(h){l=!0,d=h}finally{try{!i&&u.return!=null&&u.return()}finally{if(l)throw d}}return s}}function sT(t,n){if(t){if(typeof t=="string")return sx(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return sx(t,n)}}function sx(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,i=new Array(n);s<n;s++)i[s]=t[s];return i}function oT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iT(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function ox(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,i)}return s}function ix(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?ox(Object(s),!0).forEach(function(i){iT(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ox(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}function aT(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return function(i){return n.reduceRight(function(l,d){return d(l)},i)}}function Si(t){return function n(){for(var s=this,i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return l.length>=t.length?t.apply(this,l):function(){for(var u=arguments.length,m=new Array(u),h=0;h<u;h++)m[h]=arguments[h];return n.apply(s,[].concat(l,m))}}}function Vl(t){return{}.toString.call(t).includes("Object")}function lT(t){return!Object.keys(t).length}function $i(t){return typeof t=="function"}function cT(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function uT(t,n){return Vl(n)||Zr("changeType"),Object.keys(n).some(function(s){return!cT(t,s)})&&Zr("changeField"),n}function dT(t){$i(t)||Zr("selectorType")}function mT(t){$i(t)||Vl(t)||Zr("handlerType"),Vl(t)&&Object.values(t).some(function(n){return!$i(n)})&&Zr("handlersType")}function fT(t){t||Zr("initialIsRequired"),Vl(t)||Zr("initialType"),lT(t)&&Zr("initialContent")}function hT(t,n){throw new Error(t[n]||t.default)}var pT={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Zr=Si(hT)(pT),xl={changes:uT,selector:dT,handler:mT,initial:fT};function gT(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xl.initial(t),xl.handler(n);var s={current:t},i=Si(vT)(s,n),l=Si(yT)(s),d=Si(xl.changes)(t),u=Si(xT)(s);function m(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(x){return x};return xl.selector(g),g(s.current)}function h(g){aT(i,l,d,u)(g)}return[m,h]}function xT(t,n){return $i(n)?n(t.current):n}function yT(t,n){return t.current=ix(ix({},t.current),n),n}function vT(t,n,s){return $i(n)?n(t.current):Object.keys(s).forEach(function(i){var l;return(l=n[i])===null||l===void 0?void 0:l.call(n,t.current[i])}),s}var wT={create:gT},bT={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function jT(t){return function n(){for(var s=this,i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return l.length>=t.length?t.apply(this,l):function(){for(var u=arguments.length,m=new Array(u),h=0;h<u;h++)m[h]=arguments[h];return n.apply(s,[].concat(l,m))}}}function NT(t){return{}.toString.call(t).includes("Object")}function ST(t){return t||ax("configIsRequired"),NT(t)||ax("configType"),t.urls?(kT(),{paths:{vs:t.urls.monacoBase}}):t}function kT(){console.warn(Ry.deprecation)}function CT(t,n){throw new Error(t[n]||t.default)}var Ry={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ax=jT(CT)(Ry),PT={config:ST},TT=function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return function(l){return s.reduceRight(function(d,u){return u(d)},l)}};function Dy(t,n){return Object.keys(n).forEach(function(s){n[s]instanceof Object&&t[s]&&Object.assign(n[s],Dy(t[s],n[s]))}),rx(rx({},t),n)}var AT={type:"cancelation",msg:"operation is manually canceled"};function gd(t){var n=!1,s=new Promise(function(i,l){t.then(function(d){return n?l(AT):i(d)}),t.catch(l)});return s.cancel=function(){return n=!0},s}var ET=wT.create({config:bT,isInitialized:!1,resolve:null,reject:null,monaco:null}),Oy=tT(ET,2),Xi=Oy[0],oc=Oy[1];function LT(t){var n=PT.config(t),s=n.monaco,i=eT(n,["monaco"]);oc(function(l){return{config:Dy(l.config,i),monaco:s}})}function IT(){var t=Xi(function(n){var s=n.monaco,i=n.isInitialized,l=n.resolve;return{monaco:s,isInitialized:i,resolve:l}});if(!t.isInitialized){if(oc({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),gd(xd);if(window.monaco&&window.monaco.editor)return _y(window.monaco),t.resolve(window.monaco),gd(xd);TT(MT,DT)(OT)}return gd(xd)}function MT(t){return document.body.appendChild(t)}function RT(t){var n=document.createElement("script");return t&&(n.src=t),n}function DT(t){var n=Xi(function(i){var l=i.config,d=i.reject;return{config:l,reject:d}}),s=RT("".concat(n.config.paths.vs,"/loader.js"));return s.onload=function(){return t()},s.onerror=n.reject,s}function OT(){var t=Xi(function(s){var i=s.config,l=s.resolve,d=s.reject;return{config:i,resolve:l,reject:d}}),n=window.require;n.config(t.config),n(["vs/editor/editor.main"],function(s){_y(s),t.resolve(s)},function(s){t.reject(s)})}function _y(t){Xi().monaco||oc({monaco:t})}function _T(){return Xi(function(t){var n=t.monaco;return n})}var xd=new Promise(function(t,n){return oc({resolve:t,reject:n})}),zy={config:LT,init:IT,__getMonacoInstance:_T},zT={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},yd=zT,FT={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},VT=FT;function UT({children:t}){return Jt.createElement("div",{style:VT.container},t)}var $T=UT,qT=$T;function BT({width:t,height:n,isEditorReady:s,loading:i,_ref:l,className:d,wrapperProps:u}){return Jt.createElement("section",{style:{...yd.wrapper,width:t,height:n},...u},!s&&Jt.createElement(qT,null,i),Jt.createElement("div",{ref:l,style:{...yd.fullWidth,...!s&&yd.hide},className:d}))}var HT=BT,Fy=v.memo(HT);function WT(t){v.useEffect(t,[])}var Vy=WT;function GT(t,n,s=!0){let i=v.useRef(!0);v.useEffect(i.current||!s?()=>{i.current=!1}:t,n)}var bn=GT;function Ei(){}function bo(t,n,s,i){return QT(t,i)||KT(t,n,s,i)}function QT(t,n){return t.editor.getModel(Uy(t,n))}function KT(t,n,s,i){return t.editor.createModel(n,s,i?Uy(t,i):void 0)}function Uy(t,n){return t.Uri.parse(n)}function YT({original:t,modified:n,language:s,originalLanguage:i,modifiedLanguage:l,originalModelPath:d,modifiedModelPath:u,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:h=!1,theme:g="light",loading:x="Loading...",options:y={},height:b="100%",width:C="100%",className:S,wrapperProps:N={},beforeMount:j=Ei,onMount:O=Ei}){let[D,L]=v.useState(!1),[_,F]=v.useState(!0),A=v.useRef(null),ne=v.useRef(null),z=v.useRef(null),X=v.useRef(O),U=v.useRef(j),re=v.useRef(!1);Vy(()=>{let se=zy.init();return se.then(pe=>(ne.current=pe)&&F(!1)).catch(pe=>pe?.type!=="cancelation"&&console.error("Monaco initialization: error:",pe)),()=>A.current?xe():se.cancel()}),bn(()=>{if(A.current&&ne.current){let se=A.current.getOriginalEditor(),pe=bo(ne.current,t||"",i||s||"text",d||"");pe!==se.getModel()&&se.setModel(pe)}},[d],D),bn(()=>{if(A.current&&ne.current){let se=A.current.getModifiedEditor(),pe=bo(ne.current,n||"",l||s||"text",u||"");pe!==se.getModel()&&se.setModel(pe)}},[u],D),bn(()=>{let se=A.current.getModifiedEditor();se.getOption(ne.current.editor.EditorOption.readOnly)?se.setValue(n||""):n!==se.getValue()&&(se.executeEdits("",[{range:se.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),se.pushUndoStop())},[n],D),bn(()=>{A.current?.getModel()?.original.setValue(t||"")},[t],D),bn(()=>{let{original:se,modified:pe}=A.current.getModel();ne.current.editor.setModelLanguage(se,i||s||"text"),ne.current.editor.setModelLanguage(pe,l||s||"text")},[s,i,l],D),bn(()=>{ne.current?.editor.setTheme(g)},[g],D),bn(()=>{A.current?.updateOptions(y)},[y],D);let Z=v.useCallback(()=>{if(!ne.current)return;U.current(ne.current);let se=bo(ne.current,t||"",i||s||"text",d||""),pe=bo(ne.current,n||"",l||s||"text",u||"");A.current?.setModel({original:se,modified:pe})},[s,n,l,t,i,d,u]),me=v.useCallback(()=>{!re.current&&z.current&&(A.current=ne.current.editor.createDiffEditor(z.current,{automaticLayout:!0,...y}),Z(),ne.current?.editor.setTheme(g),L(!0),re.current=!0)},[y,g,Z]);v.useEffect(()=>{D&&X.current(A.current,ne.current)},[D]),v.useEffect(()=>{!_&&!D&&me()},[_,D,me]);function xe(){let se=A.current?.getModel();m||se?.original?.dispose(),h||se?.modified?.dispose(),A.current?.dispose()}return Jt.createElement(Fy,{width:C,height:b,isEditorReady:D,loading:x,_ref:z,className:S,wrapperProps:N})}var XT=YT;v.memo(XT);function JT(t){let n=v.useRef();return v.useEffect(()=>{n.current=t},[t]),n.current}var ZT=JT,yl=new Map;function e5({defaultValue:t,defaultLanguage:n,defaultPath:s,value:i,language:l,path:d,theme:u="light",line:m,loading:h="Loading...",options:g={},overrideServices:x={},saveViewState:y=!0,keepCurrentModel:b=!1,width:C="100%",height:S="100%",className:N,wrapperProps:j={},beforeMount:O=Ei,onMount:D=Ei,onChange:L,onValidate:_=Ei}){let[F,A]=v.useState(!1),[ne,z]=v.useState(!0),X=v.useRef(null),U=v.useRef(null),re=v.useRef(null),Z=v.useRef(D),me=v.useRef(O),xe=v.useRef(),se=v.useRef(i),pe=ZT(d),ue=v.useRef(!1),$=v.useRef(!1);Vy(()=>{let T=zy.init();return T.then(Q=>(X.current=Q)&&z(!1)).catch(Q=>Q?.type!=="cancelation"&&console.error("Monaco initialization: error:",Q)),()=>U.current?ae():T.cancel()}),bn(()=>{let T=bo(X.current,t||i||"",n||l||"",d||s||"");T!==U.current?.getModel()&&(y&&yl.set(pe,U.current?.saveViewState()),U.current?.setModel(T),y&&U.current?.restoreViewState(yl.get(d)))},[d],F),bn(()=>{U.current?.updateOptions(g)},[g],F),bn(()=>{!U.current||i===void 0||(U.current.getOption(X.current.editor.EditorOption.readOnly)?U.current.setValue(i):i!==U.current.getValue()&&($.current=!0,U.current.executeEdits("",[{range:U.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),U.current.pushUndoStop(),$.current=!1))},[i],F),bn(()=>{let T=U.current?.getModel();T&&l&&X.current?.editor.setModelLanguage(T,l)},[l],F),bn(()=>{m!==void 0&&U.current?.revealLine(m)},[m],F),bn(()=>{X.current?.editor.setTheme(u)},[u],F);let ce=v.useCallback(()=>{if(!(!re.current||!X.current)&&!ue.current){me.current(X.current);let T=d||s,Q=bo(X.current,i||t||"",n||l||"",T||"");U.current=X.current?.editor.create(re.current,{model:Q,automaticLayout:!0,...g},x),y&&U.current.restoreViewState(yl.get(T)),X.current.editor.setTheme(u),m!==void 0&&U.current.revealLine(m),A(!0),ue.current=!0}},[t,n,s,i,l,d,g,x,y,u,m]);v.useEffect(()=>{F&&Z.current(U.current,X.current)},[F]),v.useEffect(()=>{!ne&&!F&&ce()},[ne,F,ce]),se.current=i,v.useEffect(()=>{F&&L&&(xe.current?.dispose(),xe.current=U.current?.onDidChangeModelContent(T=>{$.current||L(U.current.getValue(),T)}))},[F,L]),v.useEffect(()=>{if(F){let T=X.current.editor.onDidChangeMarkers(Q=>{let fe=U.current.getModel()?.uri;if(fe&&Q.find(ve=>ve.path===fe.path)){let ve=X.current.editor.getModelMarkers({resource:fe});_?.(ve)}});return()=>{T?.dispose()}}return()=>{}},[F,_]);function ae(){xe.current?.dispose(),b?y&&yl.set(d,U.current.saveViewState()):U.current.getModel()?.dispose(),U.current.dispose()}return Jt.createElement(Fy,{width:C,height:S,isEditorReady:F,loading:h,_ref:re,className:N,wrapperProps:j})}var t5=e5,n5=v.memo(t5),r5=n5;const $y=v.createContext(void 0),qy=()=>{const t=v.useContext($y);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},wi=({children:t})=>{const[n,s]=v.useState([]),i=v.useRef(new Map),l=v.useCallback(u=>{const m=Date.now().toString()+Math.random().toString(36).substr(2,9),h={...u,id:m};s(y=>{const b=[...y,h];return b.length>5?(b.slice(0,b.length-5).forEach(S=>{const N=i.current.get(S.id);N&&(clearTimeout(N),i.current.delete(S.id))}),b.slice(-5)):b});const g=u.duration||5e3,x=setTimeout(()=>{s(y=>y.filter(b=>b.id!==m)),i.current.delete(m)},g);i.current.set(m,x)},[]),d=v.useCallback(u=>{const m=i.current.get(u);m&&(clearTimeout(m),i.current.delete(u)),s(h=>h.filter(g=>g.id!==u))},[]);return Jt.useEffect(()=>()=>{i.current.forEach(u=>{clearTimeout(u)}),i.current.clear()},[]),o.jsxs($y.Provider,{value:{toasts:n,addToast:l,removeToast:d},children:[t,o.jsx(s5,{})]})},s5=()=>{const{toasts:t,removeToast:n}=qy();return o.jsx("div",{className:"fixed top-12 right-4 z-[9998] max-w-md pointer-events-none",children:o.jsx(hn,{mode:"popLayout",children:t.map(s=>o.jsx(R.div,{layout:!0,initial:{opacity:0,x:400,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:400,scale:.8,transition:{duration:.2}},transition:{type:"spring",stiffness:300,damping:30,layout:{duration:.3}},className:"mb-2 pointer-events-auto",children:o.jsx(o5,{toast:s,onRemove:n})},s.id))})})},o5=({toast:t,onRemove:n})=>{const s=()=>{switch(t.type){case"success":return o.jsx(Ve,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"});case"error":return o.jsx(Mt,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"});case"warning":return o.jsx(Mt,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"});case"info":return o.jsx(Ui,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"});default:return o.jsx(Ui,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"})}},i=()=>{switch(t.type){case"success":return"border-green-500";case"error":return"border-red-500";case"warning":return"border-yellow-500";case"info":return"border-blue-500";default:return"border-blue-500"}};return o.jsx("div",{className:`p-4 rounded-lg shadow-lg border-l-4 bg-card border-border ${i()}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s(),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm text-foreground break-words",children:t.title}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1 break-words leading-relaxed",children:t.message}),t.type==="error"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date().toLocaleTimeString()})]})]}),o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>n(t.id),className:"h-auto p-1 hover:bg-muted ml-2 flex-shrink-0",children:o.jsx(nr,{className:"w-4 h-4"})})]})})},By=v.createContext(void 0),Hy=()=>{const t=v.useContext(By);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},bi=({children:t})=>{const[n,s]=v.useState([]);v.useEffect(()=>{(()=>{try{const g=localStorage.getItem("notification-inbox");if(g){const x=JSON.parse(g).map(y=>({...y,timestamp:new Date(y.timestamp)}));s(x)}}catch(g){console.error("Failed to load notifications from localStorage:",g)}})()},[]),v.useEffect(()=>{try{localStorage.setItem("notification-inbox",JSON.stringify(n))}catch(h){console.error("Failed to save notifications to localStorage:",h)}},[n]);const i=v.useCallback(h=>{const g={id:Date.now().toString(),timestamp:new Date,read:!1,...h};s(x=>[g,...x.slice(0,49)])},[]),l=v.useCallback(h=>{s(g=>g.map(x=>x.id===h?{...x,read:!0}:x))},[]),d=v.useCallback(()=>{s([])},[]),u=v.useCallback(()=>{s(h=>h.map(g=>({...g,read:!0})))},[]),m=n.filter(h=>!h.read).length;return o.jsx(By.Provider,{value:{notifications:n,addNotification:i,markNotificationAsRead:l,clearAllNotifications:d,markAllAsRead:u,unreadCount:m},children:t})},i5=(t,n,s)=>{const i=[t.join(","),...n.map(m=>m.map(h=>{const g=String(h??"");return g.includes(",")||g.includes(`
`)||g.includes('"')?`"${g.replace(/"/g,'""')}"`:g}).join(","))].join(`
`),l=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),u=URL.createObjectURL(l);d.setAttribute("href",u),d.setAttribute("download",s),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u)},a5=(t,n,s)=>{const i=n.map(h=>{const g={};return t.forEach((x,y)=>{g[x]=h[y]}),g}),l=JSON.stringify(i,null,2),d=new Blob([l],{type:"application/json;charset=utf-8;"}),u=document.createElement("a"),m=URL.createObjectURL(d);u.setAttribute("href",m),u.setAttribute("download",s),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(m)},l5=(t,n,s)=>{const i=`
    <html>
      <head>
        <meta charset="UTF-8">
        <style>
          table { border-collapse: collapse; width: 100%; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
        </style>
      </head>
      <body>
        <table>
          <thead>
            <tr>${t.map(m=>`<th>${m}</th>`).join("")}</tr>
          </thead>
          <tbody>
            ${n.map(m=>`<tr>${m.map(h=>`<td>${String(h??"NULL")}</td>`).join("")}</tr>`).join("")}
          </tbody>
        </table>
      </body>
    </html>
  `,l=new Blob([i],{type:"application/vnd.ms-excel;charset=utf-8;"}),d=document.createElement("a"),u=URL.createObjectURL(l);d.setAttribute("href",u),d.setAttribute("download",s),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u)},lx=t=>{const n=t.trim();if(!n)return!0;const s=n.split(/\s+/)[0]?.toUpperCase();return s==="SELECT"||s==="WITH"||s==="EXEC"||s==="VALUES"},c5=({currentProfile:t,theme:n,setupType:s,preloadedQuery:i,onQueryLoaded:l,healthStatus:d,preservedState:u,onStateChange:m})=>{const[h,g]=v.useState(u?.naturalLanguageInput||""),[x,y]=v.useState(u?.sqlQuery||""),[b,C]=v.useState(!1),[S,N]=v.useState(!1),[j,O]=v.useState(u?.queryResult||null),[D,L]=v.useState([]),[_,F]=v.useState(!0),[A,ne]=v.useState(!1),[z,X]=v.useState(!1),[U,re]=v.useState(u?.queryAnalysis||null),[Z,me]=v.useState(!1),[xe,se]=v.useState(null),[pe,ue]=v.useState(""),[$,ce]=v.useState([]),[ae,T]=v.useState(0),[Q,fe]=v.useState(!1),[ve,G]=v.useState(!1),[ee,we]=v.useState(u?.queryParameters||null),[Y,ke]=v.useState(null),[H,Oe]=v.useState(0),{addNotification:Ke}=Hy();v.useEffect(()=>{console.log("🔄 queryParameters state changed:",ee)},[ee]);const Ye=300,_e=50,wt=300,[ht,Rt]=v.useState(Ye),[jt,Ee]=v.useState(50),[Re,Ze]=v.useState(!1),[rt,M]=v.useState(!1),[de,K]=v.useState(0),[ye,De]=v.useState(0),[Qe,qe]=v.useState(""),[We,pt]=v.useState(null),[st,Je]=v.useState("asc"),[ut,pn]=v.useState(!1),{addToast:ss}=qy();v.useEffect(()=>{console.log("🔄 queryParameters state changed to:",ee?.length||0,"parameters"),ee&&ee.length>0&&console.log("📋 Current parameters:",ee.map(P=>`${P.name}=${P.value}`).join(", "))},[ee]),v.useEffect(()=>{m&&m({naturalLanguageInput:h,sqlQuery:x,queryResult:j,queryAnalysis:U,queryParameters:ee||void 0})},[h,x,j,U,ee]),v.useEffect(()=>{u&&u.naturalLanguageInput===""&&u.sqlQuery===""&&!u.queryResult&&!u.queryAnalysis&&!u.queryParameters&&(g(""),y(""),O(null),re(null),we(null))},[u]);const zn=v.useCallback(P=>{if(!P)return[];const J=/@(\w+)/g,te=P.match(J);return te?[...new Set(te)].map(Ie=>{const be=Ie.substring(1);let Ue="varchar";const Ge=new RegExp(`@${be}\\s*(?:=|IN|LIKE|>|<|>=|<=|!=|<>)\\s*`,"gi"),dt=P.match(Ge);if(dt){const en=dt[0].toLowerCase();en.includes("like")?Ue="varchar":en.includes("in")?Ue="array":(en.includes(">")||en.includes("<"))&&(Ue="number")}return P.toLowerCase().includes("date(")&&P.toLowerCase().includes(be.toLowerCase())&&(Ue="date"),P.toLowerCase().match(new RegExp(`(count|sum|avg|max|min)\\s*\\([^)]*@${be.toLowerCase()}`,"i"))&&(Ue="number"),{name:be,type:Ue}}):[]},[]),$s=v.useCallback(()=>!!(ee&&ee.length>0||x&&zn(x).length>0||A),[ee,x,A,zn]),os=v.useCallback(()=>{console.log("📋 getDisplayParameters called - queryParameters:",ee);const P=[];ee&&ee.length>0?(console.log("🔗 Adding stored parameters:",ee),ee.forEach(ge=>{P.push({name:ge.name?.replace("@","")||"unknown",value:ge.value,type:ge.type||"varchar",source:ge.source||"api"})})):console.log("❌ No stored parameters found"),x&&zn(x).forEach(Ie=>{P.some(Ue=>Ue.name===Ie.name)||P.push({name:Ie.name,value:null,type:Ie.type,source:"detected"})});const J=x?zn(x).map(ge=>ge.name):[],te=P.filter(ge=>{const Ie=J.includes(ge.name),be=ge.source==="manual";return Ie||be});return A&&te.length===0&&te.push({name:"example_param",value:"Use @param_name in your SQL",type:"info",source:"placeholder"}),te},[ee,x,A,zn]),is=v.useCallback((P,J)=>{console.log(`🔧 Updating parameter ${P} to:`,J);const te=ee?[...ee]:[],ge=te.findIndex(Ie=>Ie.name?.replace("@","")===P||Ie.name===P);ge>=0?te[ge]={...te[ge],value:J}:te.push({name:P.startsWith("@")?P:`@${P}`,value:J,type:"varchar",source:"manual"}),we(te)},[ee]),Sr=v.useCallback(()=>{console.log("➕ Adding new parameter");const P=`param${(ee?.length||0)+1}`,J=ee?[...ee]:[];J.push({name:`@${P}`,value:"",type:"varchar",source:"manual"}),we(J)},[ee]),kr=v.useCallback(P=>{if(console.log(`🗑️ Removing parameter: "${P}"`),console.log("🗑️ Current queryParameters:",ee),!ee){console.log("🗑️ No queryParameters to remove from");return}const J=ee.filter(te=>{const ge=(te.name||"").replace("@",""),Ie=P.replace("@",""),be=ge!==Ie;return console.log(`🗑️ Comparing stored "${ge}" vs target "${Ie}" - keep: ${be}`),be});console.log(`🗑️ Updated parameters (${J.length} remaining):`,J),console.log("🗑️ About to call setQueryParameters..."),we(J),console.log("🗑️ setQueryParameters called!")},[ee]),Zi=v.useCallback(()=>{if(console.log("🔄 Syncing parameters with SQL changes"),!x){we([]);return}const P=zn(x),J=ee||[],te=[];P.forEach(ge=>{const Ie=J.find(be=>be.name?.replace("@","")===ge.name||be.name===ge.name);Ie?te.push({...Ie,name:ge.name.startsWith("@")?ge.name:`@${ge.name}`,type:ge.type}):te.push({name:ge.name.startsWith("@")?ge.name:`@${ge.name}`,value:null,type:ge.type,source:"detected"})}),J.forEach(ge=>{ge.source==="manual"&&(te.some(be=>be.name?.replace("@","")===ge.name?.replace("@",""))||te.push(ge))}),we(te)},[x,ee,zn]),ea=P=>{P.preventDefault(),Ze(!0),K(P.clientY),De(ht)},as=v.useCallback(P=>{if(!Re)return;const J=P.clientY-de,te=ye+J;te>=wt&&te<=800&&Rt(te)},[Re,wt,de,ye]),ls=v.useCallback(()=>{Ze(!1)},[]),ta=P=>{P.preventDefault(),M(!0)},Cr=v.useCallback(P=>{if(!rt)return;const J=document.querySelector(".results-history-container");if(!J)return;const te=J.getBoundingClientRect(),ge=(P.clientX-te.left)/te.width*100;ge>=_e&&ge<=100&&Ee(ge)},[rt,_e]),cs=v.useCallback(()=>{M(!1)},[]),Pr=v.useCallback(()=>{Rt(Ye),Ee(50)},[Ye]);Jt.useEffect(()=>(Re?(document.addEventListener("mousemove",as),document.addEventListener("mouseup",ls),document.body.style.cursor="row-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",as),document.removeEventListener("mouseup",ls),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",as),document.removeEventListener("mouseup",ls),document.body.style.cursor="",document.body.style.userSelect=""}),[Re,as,ls]),Jt.useEffect(()=>(rt?(document.addEventListener("mousemove",Cr),document.addEventListener("mouseup",cs),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",Cr),document.removeEventListener("mouseup",cs),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",Cr),document.removeEventListener("mouseup",cs),document.body.style.cursor="",document.body.style.userSelect=""}),[rt,Cr,cs]);const qs=P=>{We===P?Je(st==="asc"?"desc":"asc"):(pt(P),Je("asc"))},gn=v.useCallback(()=>{if(!j?.rows)return[];let P=j.rows;if(Qe.trim()&&(P=P.filter(J=>J.some(te=>String(te).toLowerCase().includes(Qe.toLowerCase())))),We&&j.columns.includes(We)){const J=j.columns.indexOf(We);P=[...P].sort((te,ge)=>{const Ie=String(te[J]||""),be=String(ge[J]||""),Ue=parseFloat(Ie),Ge=parseFloat(be);return!isNaN(Ue)&&!isNaN(Ge)?st==="asc"?Ue-Ge:Ge-Ue:st==="asc"?Ie.localeCompare(be):be.localeCompare(Ie)})}return P},[j,Qe,We,st]),us=v.useRef(null),Fn=v.useRef(null),sr=v.useRef(null),Sn=v.useRef(""),Kn=v.useRef(!1),kn=v.useRef(!1),cc=()=>{const P=h.toLowerCase().trim(),J={starters:[{text:"Show all",icon:"👁️",category:"Basic"},{text:"Find",icon:"🔍",category:"Basic"},{text:"Get",icon:"📥",category:"Basic"},{text:"List",icon:"📋",category:"Basic"},{text:"Count",icon:"🔢",category:"Aggregation"},{text:"Sum of",icon:"➕",category:"Aggregation"},{text:"Average",icon:"📊",category:"Aggregation"}],entities:[{text:"customers",icon:"👥",category:"Tables"},{text:"orders",icon:"🛒",category:"Tables"},{text:"products",icon:"📦",category:"Tables"},{text:"users",icon:"👤",category:"Tables"},{text:"sales",icon:"💰",category:"Tables"},{text:"employees",icon:"👔",category:"Tables"},{text:"inventory",icon:"📊",category:"Tables"}],conditions:[{text:"where status is active",icon:"✅",category:"Filters"},{text:"where amount > 100",icon:"💰",category:"Filters"},{text:"where date is today",icon:"📅",category:"Filters"},{text:"where name contains",icon:"🔤",category:"Filters"},{text:"where id is not null",icon:"🚫",category:"Filters"},{text:"where category equals",icon:"🏷️",category:"Filters"}],timeFilters:[{text:"this month",icon:"📅",category:"Time"},{text:"last 30 days",icon:"⏰",category:"Time"},{text:"this year",icon:"🗓️",category:"Time"},{text:"last week",icon:"📆",category:"Time"},{text:"today",icon:"🌅",category:"Time"},{text:"yesterday",icon:"🌄",category:"Time"}],sorting:[{text:"order by name",icon:"🔤",category:"Sorting"},{text:"order by date",icon:"📅",category:"Sorting"},{text:"order by amount",icon:"💰",category:"Sorting"},{text:"order by created date",icon:"⏰",category:"Sorting"},{text:"sort by popularity",icon:"⭐",category:"Sorting"}],grouping:[{text:"group by category",icon:"📊",category:"Grouping"},{text:"group by month",icon:"📅",category:"Grouping"},{text:"group by department",icon:"🏢",category:"Grouping"},{text:"group by status",icon:"🔖",category:"Grouping"}],limits:[{text:"top 10",icon:"🔟",category:"Limits"},{text:"top 5",icon:"5️⃣",category:"Limits"},{text:"first 20",icon:"🔢",category:"Limits"},{text:"limit to 50",icon:"📏",category:"Limits"}],joins:[{text:"join with orders",icon:"🔗",category:"Joins"},{text:"join with customers",icon:"👥",category:"Joins"},{text:"inner join",icon:"⚡",category:"Joins"},{text:"left join",icon:"⬅️",category:"Joins"}],advanced:[{text:"distinct values",icon:"🎯",category:"Advanced"},{text:"between dates",icon:"📅",category:"Advanced"},{text:"contains text",icon:"🔍",category:"Advanced"},{text:"is not null",icon:"✅",category:"Advanced"},{text:"having count > 1",icon:"📊",category:"Advanced"}]};if(!P)return J.starters.slice(0,8);const te=[];P.match(/^(show|find|get|list|count|sum)/)&&te.push(...J.entities.slice(0,4)),P.match(/(customers|orders|products|users|sales|employees)/)&&!P.includes("where")&&!P.includes("this")&&!P.includes("last")&&(te.push(...J.conditions.slice(0,3)),te.push(...J.timeFilters.slice(0,3))),(P.includes("where")||P.includes("this month")||P.includes("last"))&&!P.includes("order by")&&!P.includes("group by")&&(te.push(...J.sorting.slice(0,2)),te.push(...J.grouping.slice(0,2))),P.match(/(count|sum|average|total)/)&&te.push(...J.grouping.slice(0,3)),P.length>20&&!P.includes("top")&&!P.includes("limit")&&te.push(...J.limits.slice(0,2)),P.match(/(and|with|from.*and|customers.*orders|orders.*customers)/)&&te.push(...J.joins.slice(0,2)),te.push(...J.advanced.slice(0,2));const ge=te.filter((Ie,be,Ue)=>be===Ue.findIndex(Ge=>Ge.text===Ie.text)).slice(0,12);return ge.length<6?[...J.starters.slice(0,2),...J.entities.slice(0,2),...J.conditions.slice(0,2),...J.timeFilters.slice(0,2),...J.sorting.slice(0,2),...J.limits.slice(0,2)].filter((be,Ue,Ge)=>Ue===Ge.findIndex(dt=>dt.text===be.text)).slice(0,12):ge};v.useEffect(()=>{const P=()=>{Fn.current&&clearTimeout(Fn.current),Fn.current=setTimeout(()=>{us.current&&us.current.layout()},100)};return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P),Fn.current&&clearTimeout(Fn.current)}},[]),v.useEffect(()=>{const P=J=>{sr.current&&!sr.current.contains(J.target)&&me(!1)};if(Z)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[Z]),v.useEffect(()=>{ce(cc())},[h]),v.useEffect(()=>{G(!0),h.trim()!==Sn.current&&(Sn.current="");const J=setTimeout(()=>{G(!1)},1e3);return()=>clearTimeout(J)},[h]),v.useEffect(()=>{const P=setTimeout(()=>{us.current&&us.current.layout()},600);return()=>clearTimeout(P)},[$s()]);const Ct=v.useCallback(P=>{ss(P),Ke({type:P.type,title:P.title,message:P.message})},[ss,Ke]);v.useEffect(()=>{if(d?.llm?.status==="rate_limited"&&d?.llm?.rateLimitInfo?.resetTime){const P=new Date(d.llm.rateLimitInfo.resetTime).getTime(),J=Date.now(),te=Math.max(0,P-J),ge=Math.ceil(te/1e3);if(Oe(ge),ge>0){const Ie=setInterval(()=>{Oe(be=>be<=1?(clearInterval(Ie),0):be-1)},1e3);return ke(Ie),()=>{clearInterval(Ie),ke(null)}}}else Oe(0),Y&&(clearInterval(Y),ke(null))},[d?.llm?.status,d?.llm?.rateLimitInfo?.resetTime,Y]);const Cn=v.useCallback(()=>d?.llm?.status==="rate_limited"&&H>0,[d?.llm?.status,H]),na=v.useCallback(P=>{if(P<=0)return"0s";const J=Math.floor(P/60),te=P%60;return J>0?`${J}m ${te}s`:`${te}s`},[]),Tr=v.useCallback(async()=>{if(!t){L([]);return}X(!0);try{const P=await He.getProfile(t.id);if(P.queries&&Array.isArray(P.queries)){const J=P.queries.map(te=>{let ge,Ie=!0,be,Ue;if(te.resultJson)try{const Ge=JSON.parse(te.resultJson);ge=Ge.executionMs,Ge.parameters&&typeof Ge.parameters=="object"&&(Ue=Ge.parameters);const dt=!Ge.errorMessage||Ge.errorMessage==="None",en=Ge.executionMs!==void 0,Bt=Ge.rows&&Ge.rows.length>0||Ge.affectedRows!==void 0&&Ge.affectedRows>=0;Ie=dt&&en&&Bt,Ge.errorMessage&&Ge.errorMessage!=="None"&&(be=Ge.errorMessage,Ie=!1)}catch(Ge){console.warn("Failed to parse resultJson:",Ge),Ie=!1,be="Failed to parse query result"}return{id:te.id||Date.now().toString(),query:te.sqlQuery||te.sql||te.query||"",naturalLanguage:te.userQuery||te.naturalLanguage||"",timestamp:te.timestampUtc?new Date(te.timestampUtc):new Date,executionTime:ge,success:Ie,error:be,parameters:Ue}});J.sort((te,ge)=>ge.timestamp.getTime()-te.timestamp.getTime()),L(J)}else L([])}catch(P){console.error("Failed to load query history:",P),Ct({type:"error",title:"Failed to Load History",message:"Could not load query history from profile",duration:3e3}),L([])}finally{X(!1)}},[t,Ct]);v.useEffect(()=>{Tr()},[Tr]),v.useEffect(()=>{i&&(Kn.current=!0,i.shouldExecute?g(""):g(i.naturalLanguage),(!i.sql||i.sql.trim()==="")&&(Sn.current=""),kn.current=!0,y(i.sql),re(null),we(null),setTimeout(()=>{kn.current=!1},50),i.isNewQuery&&Ct({type:"info",title:"Ready to Create!",message:"Start typing your query in natural language and AI will generate the SQL for you.",duration:4e3}),i.sql&&i.sql.trim()!==""?setTimeout(()=>{Kn.current=!1},3e3):setTimeout(()=>{Kn.current=!1},100),i.shouldExecute&&t&&setTimeout(()=>{Ro()},100),l&&l())},[i,t,l]),v.useEffect(()=>{const P=J=>{J.key==="Escape"&&ut&&pn(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[ut]);const Mo=v.useCallback(async(P,J=!1)=>{if(!(!P.trim()||!t)){if(!J){if(Sn.current===P.trim()){console.log("Request skipped: Duplicate request for same input");return}const te=Date.now();if(te-ae<2e3){console.log("Rate limiting: Request skipped, too frequent"),fe(!0),setTimeout(()=>fe(!1),2e3-(te-ae));return}}Sn.current=P.trim(),C(!0),T(Date.now()),fe(!1),s==="local"&&Ct({type:"info",title:"Local AI Processing",message:"Generating SQL using local AI model. This may take longer depending on your PC specifications. Please be patient.",duration:8e3});try{const te=At.getUserId();if(!te)throw new Error("User ID not found. Please complete initial setup.");const ge={UserId:te,profileId:t.id,query:P,allowWriteOperations:A},Ie=s==="local"?3e5:3e4,be=s==="local"?await He.convertQueryWithTimeout(ge,Ie):await He.convertQuery(ge);if(console.log("🔍 Full Convert API Response:",JSON.stringify(be,null,2)),console.log("🔍 Response keys:",Object.keys(be)),console.log("🔍 Response.parameters type:",typeof be.parameters),console.log("🔍 Response.parameters isArray:",Array.isArray(be.parameters)),be.issues&&be.issues.length>0){console.log("⚠️ API response has issues (warnings):",be.issues);const Ue=be.issues.some(Ge=>Ge.toLowerCase().includes("destructive")||Ge.toLowerCase().includes("allow_destructive")||Ge.toLowerCase().includes("write operations"));Ct(Ue?{type:"warning",title:"Write Operations Required",message:'This query requires write operations (INSERT, UPDATE, DELETE). Please enable "Write Mode" to allow these operations.',duration:8e3}:{type:"warning",title:"Query Generated with Warnings",message:be.issues.join(". "),duration:6e3}),console.log("✅ Conversion successful despite warnings - proceeding with SQL and parameter processing")}if(be.sql){console.log("✅ Processing successful API response"),console.log("🔍 Convert Response - SQL:",be.sql.substring(0,100)+"..."),console.log("🔍 Convert Response - Parameters received:",be.parameters),console.log("🔍 Convert Response - Parameters length:",be.parameters?.length||0),console.log("🔍 Convert Response - Has issues/warnings:",!!(be.issues&&be.issues.length>0)),console.log("🔍 Convert Response - Parameters details:",be.parameters?.map(Ge=>({name:Ge.name,value:Ge.value,type:typeof Ge.value,source_text:Ge.source_text})));const Ue=be.parameters||null;console.log("💾 Received parameters from API:",Ue),kn.current||(kn.current=!0,y(be.sql)),we(Ue),console.log("💾 setQueryParameters called immediately with:",Ue),setTimeout(()=>{console.log("⏰ Parameter restoration timeout triggered"),console.log("⏰ receivedParameters:",Ue),Ue&&Ue.length>0&&(console.log("🔄 Force restoring parameters after SQL update:",Ue),we(Ue)),kn.current=!1},100),re({intent:be.intent||"Unknown",confidence:be.confidence||0,mode:A?"Write":"Read-Only",explanation:be.explanation||"No explanation provided",safe:be.safe||!1,tables:be.tables||[],columns:be.columns||[]}),be.issues&&be.issues.length>0?Ct({type:"success",title:"SQL Generated Successfully!",message:`Generated SQL query with ${be.confidence}% confidence. Note: ${be.issues.length} warning(s) require attention.`,duration:5e3}):Ct({type:"success",title:"SQL Generated Successfully!",message:`Generated SQL query with ${be.confidence}% confidence`,duration:3e3})}else console.error("Failed to generate SQL: No SQL in response",be),re(null),Ct({type:"error",title:"SQL Generation Failed",message:"The API did not return a valid SQL query",duration:5e3})}catch(te){console.error("Failed to generate SQL:",te),re(null);let ge="SQL Generation Error",Ie="Failed to generate SQL query";te.source&&te.errors?(ge=`${te.source} (${te.statusCode})`,te.errors.errorMessage?Ie=te.errors.errorMessage:typeof te.errors=="string"?Ie=te.errors:Array.isArray(te.errors)&&te.errors.length>0&&(Ie=te.errors[0])):te.message&&(Ie=te.message),Ct({type:"error",title:ge,message:Ie,duration:6e3})}finally{C(!1)}}},[t,Ct,ae,T,fe,A]);Jt.useEffect(()=>{if(_&&h.trim()&&t&&!ve&&!Kn.current){const P=setTimeout(()=>{const J=h.trim();!b&&J.length>5&&J!==Sn.current&&!Kn.current?(console.log("Auto-generate triggered for:",J.substring(0,50)+"..."),Mo(J,!1)):J===Sn.current?console.log("Auto-generate skipped: Same input as previous request"):b?console.log("Auto-generate skipped: Already generating"):J.length<=5?console.log("Auto-generate skipped: Input too short"):Kn.current&&console.log("Auto-generate skipped: Loading from history")},2e3);return()=>clearTimeout(P)}else ve&&console.log("Auto-generate paused: User is actively typing")},[h,_,t,b,ve,Mo]);const Ro=async()=>{if(!x.trim()||!t)return;N(!0);const P=h.trim();console.log("🚀 Execute Query - queryParameters state:",ee);try{let J=null;ee&&Array.isArray(ee)&&ee.length>0?(console.log("✅ Transforming parameters:",ee),J={},ee.forEach(dt=>{if(dt.name&&dt.value!==void 0){const en=dt.name.startsWith("@")?dt.name.substring(1):dt.name,Bt=String(dt.value);J[en]=Bt,console.log(`📝 Parameter: ${en} = ${dt.value} (${typeof dt.value}) -> "${Bt}" (string)`)}})):console.log("❌ No parameters to transform - queryParameters:",ee),console.log("📦 Final transformedParameters:",J);const te=At.getUserId();if(!te)throw new Error("User ID not found. Please complete initial setup.");const ge={UserId:te,profileId:t.id,sql:x,userQuery:P||"None",parameters:J,mode:A?"Write":"ReadOnly"},Ie=await He.executeQuery(ge),be=Ie,Ue={columns:be.columns||[],rows:be.rows||[],executionTime:be.executionTime||be.executionMs||0,rowsAffected:be.rowCount||be.affectedRows||0};O(Ue),qe(""),pt(null),Je("asc"),Ct({type:"success",title:"Query Executed Successfully!",message:Ue.columns.length>0&&Ue.rows.length>0?`Retrieved ${Ue.rows.length} rows in ${Ue.executionTime}ms`:Ue.rowsAffected>0?`${Ue.rowsAffected} rows affected in ${Ue.executionTime}ms`:`Query completed in ${Ue.executionTime}ms`,duration:3e3});const Ge={id:Date.now().toString(),query:x,naturalLanguage:P||"None",timestamp:new Date,executionTime:Ie.executionTime,success:!0,parameters:ee&&ee.length>0?ee.reduce((dt,en)=>(en.value&&(dt[en.name]=en.value),dt),{}):void 0};L(dt=>[Ge,...dt.slice(0,49)]),setTimeout(()=>{Tr()},1e3)}catch(J){console.error("Query execution failed:",J);let te="Query Execution Failed",ge="Failed to execute query",Ie="";J.source&&J.errors?(te=`${J.source} (${J.statusCode})`,J.errors.errorMessage?ge=J.errors.errorMessage:typeof J.errors=="string"?ge=J.errors:Array.isArray(J.errors)&&J.errors.length>0&&(ge=J.errors[0]),Ie=J.errors.errorMessage||ge):J.message?(ge=J.message,Ie=J.message):(ge="An unknown error occurred",Ie="Unknown error"),Ct({type:"error",title:te,message:ge,duration:8e3});const be={id:Date.now().toString(),query:x,naturalLanguage:P||"None",timestamp:new Date,success:!1,error:Ie,parameters:ee&&ee.length>0?ee.reduce((Ue,Ge)=>(Ge.value&&(Ue[Ge.name]=Ge.value),Ue),{}):void 0};L(Ue=>[be,...Ue.slice(0,49)]),setTimeout(()=>{Tr()},1e3)}finally{N(!1)}},ra=()=>{navigator.clipboard.writeText(x),Ct({type:"success",title:"Query Copied!",message:"SQL query has been copied to clipboard",duration:2e3})},sa=P=>{console.log("📜 Loading from history:",P);const J=document.getElementById("query-editor-scroll-container");if(J?J.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"}),g(P.naturalLanguage),kn.current=!0,y(P.query),re(null),P.parameters&&Object.keys(P.parameters).length>0){console.log("📜 Loading parameters from history:",P.parameters);const Ie=Object.entries(P.parameters).map(([be,Ue])=>({name:be,type:"string",value:Ue,source:"api"}));we(Ie)}else console.log("📜 No parameters in history item"),we(null);const te=lx(P.query),ge=!te;console.log("📜 Query type analysis:",{query:P.query.substring(0,50)+"...",isReadQuery:te,shouldAllowWrites:ge,currentWriteMode:A}),A!==ge&&(console.log(`📜 Changing write mode from ${A} to ${ge}`),ne(ge),Ct({type:"info",title:`Switched to ${ge?"Write":"Read-Only"} Mode`,message:`Query loaded requires ${ge?"write operations":"read-only access"}`,duration:3e3}))},oa=P=>{const J=P||"";y(J),console.log("🔄 handleSqlChange called"),console.log("🔄 - programmaticUpdateRef.current:",kn.current),console.log("🔄 - SQL changed:",J!==x),console.log("🔄 - newSql length:",J.length),console.log("🔄 - queryAnalysis exists:",!!U),!kn.current&&J!==x&&J.trim()!==""?(console.log("🔄 Manual SQL edit detected - syncing parameters with SQL"),re(null),setTimeout(()=>{Zi()},100)):(console.log("📌 Programmatic SQL update - keeping parameters as-is"),console.log("📌 - Reasons: programmatic="+kn.current+", sql unchanged="+(J===x)+", empty sql="+(J.trim()===""))),setTimeout(()=>{kn.current=!1},100)},uc=()=>{const P=!A;ne(P),Ct(P?{type:"warning",title:"Write Mode Enabled",message:"You can now execute INSERT, UPDATE, and DELETE operations. Use with caution!",duration:6e3}:{type:"info",title:"Read-Only Mode",message:"Only SELECT queries will be allowed.",duration:3e3})},ds=P=>{if(!j?.columns||!j?.rows){Ct({type:"error",title:"Export Failed",message:"No data available to export",duration:4e3});return}const te=`query-results-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}`;try{const ge=j.columns,Ie=j.rows;switch(P){case"csv":i5(ge,Ie,`${te}.csv`);break;case"json":a5(ge,Ie,`${te}.json`);break;case"excel":l5(ge,Ie,`${te}.xls`);break}Ct({type:"success",title:"Export Successful",message:`Data exported as ${P.toUpperCase()}`,duration:3e3}),me(!1)}catch(ge){console.error("Export error:",ge),Ct({type:"error",title:"Export Failed",message:"An error occurred while exporting data",duration:4e3})}};return o.jsx(o.Fragment,{children:o.jsxs(R.div,{className:"flex flex-col bg-background h-full w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx(R.div,{className:"flex-shrink-0 border-b border-border bg-card p-3 md:p-4 lg:p-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex flex-col space-y-3 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[o.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4 lg:space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:o.jsx(dn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-foreground",children:"AI SQL Studio"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Natural language to SQL converter"})]})]}),t&&o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-muted rounded-md border border-border",children:[o.jsx(lt,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:t.databaseName||"Database"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsxs(Ae,{variant:_?"default":"outline",size:"sm",onClick:()=>F(!_),className:"text-xs sm:text-sm",children:[o.jsx(On,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Auto-Generate"}),o.jsx("span",{className:"sm:hidden",children:"Auto"})]}),o.jsxs(Ae,{variant:A?"destructive":"outline",size:"sm",onClick:uc,className:"text-xs sm:text-sm",title:A?"Write operations enabled (INSERT, UPDATE, DELETE)":"Read-only mode (SELECT only)",children:[o.jsx(lt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden lg:inline",children:A?"Write Mode":"Read-Only"}),o.jsx("span",{className:"lg:hidden",children:A?"Write":"Read"})]})]})]})})}),o.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",id:"query-editor-scroll-container",children:o.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-4 md:p-6 lg:p-8 space-y-4 sm:space-y-5 lg:space-y-6",children:[s!=="basic"&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:"1"})}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Describe your query"}),b&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vt,{className:"w-4 h-4 animate-spin text-blue-600"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:s==="local"?"Processing with local AI (may take longer)...":"Generating..."})]}),!b&&Q&&_&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jn,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:"text-sm text-orange-600",children:"Rate limited - Auto-generate will resume shortly"})]}),!b&&!Q&&ve&&_&&h.trim()&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})}),o.jsx("span",{className:"text-sm text-primary",children:"Typing... Auto-generate will trigger when you pause"})]})]}),o.jsx(nt,{className:"border border-border shadow-sm bg-card",children:o.jsx(at,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[Cn()&&o.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(jn,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"LLM Service Rate Limited"}),o.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"You've reached the rate limit for the LLM service. Query generation will resume in:"}),o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-orange-100 dark:bg-orange-900/50 px-3 py-1 rounded-full",children:[o.jsx(jn,{className:"w-4 h-4 text-orange-600"}),o.jsx("span",{className:"text-sm font-mono font-medium text-orange-800 dark:text-orange-200",children:na(H)})]})})]})]})}),o.jsx("textarea",{className:ot("w-full h-24 sm:h-28 md:h-32 p-3 sm:p-4 border border-border rounded-lg bg-card text-foreground placeholder:text-muted-foreground resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm sm:text-base",Cn()&&"opacity-60 cursor-not-allowed bg-muted"),placeholder:Cn()?"Query generation is temporarily unavailable due to rate limiting...":`Describe what data you want to retrieve in natural language...

Examples:
• Show me all users who placed orders last month
• Count total active customers
• Find top 10 products by revenue
• Get all customers from New York with their order history`,value:h,onChange:P=>g(P.target.value),disabled:Cn()}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:h.trim()?"Continue with:":"Quick suggestions:"}),h.trim()&&o.jsx("div",{className:"text-xs text-muted-foreground",children:"Smart suggestions based on your query"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((P,J)=>o.jsxs("button",{onClick:()=>{const te=h.trim(),ge=te?`${te} ${P.text}`:P.text;g(ge)},className:"group flex items-center space-x-1.5 px-3 py-1.5 text-xs bg-muted text-foreground rounded-md border border-border hover:bg-accent hover:border-accent-foreground transition-all duration-200 hover:scale-105",title:`${P.category}: ${P.text}`,children:[o.jsx("span",{className:"text-xs",children:P.icon}),o.jsx("span",{children:P.text}),o.jsx("div",{className:"text-xs opacity-0 group-hover:opacity-70 transition-opacity px-1 py-0.5 bg-muted rounded text-[10px]",children:P.category})]},J))}),h.trim()&&o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"💡"}),o.jsx("span",{children:"Suggestions adapt as you type - try adding more details!"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[o.jsxs(Ae,{onClick:()=>Mo(h,!0),disabled:!h.trim()||b,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:[b?o.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Generate SQL"]}),x&&o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(Ve,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-medium",children:"SQL generated successfully!"})]})]}),h.trim()&&o.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>{g(""),y(""),re(null),we(null)},children:[o.jsx(gl,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})})})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:"2"})}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Review and edit SQL"}),x&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.split(`
`).length," lines"]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${A?"bg-destructive/20 text-destructive":"bg-green-500/10 text-green-600 dark:text-green-400"}`,children:A?"Write Mode":"Read-Only"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[o.jsxs(Ae,{variant:"outline",size:"sm",onClick:ra,disabled:!x,className:"text-xs sm:text-sm",children:[o.jsx(zl,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Copy"}),o.jsx("span",{className:"sm:hidden",children:"Copy"})]}),o.jsxs(Ae,{onClick:Ro,disabled:!x.trim()||S,className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm",size:"sm",children:[S?o.jsx(vt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 animate-spin"}):o.jsx(Ey,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Execute"}),o.jsx("span",{className:"sm:hidden",children:"Run"})]})]})]}),o.jsxs("div",{className:"flex flex-col xl:flex-row gap-3 sm:gap-4 lg:gap-6 w-full",children:[o.jsx(R.div,{className:"flex-1 min-w-0 order-2 xl:order-1",layout:"size",transition:{duration:.4,ease:[.25,.46,.45,.94]},children:o.jsx(nt,{className:"border border-border shadow-sm bg-card",children:o.jsx(at,{className:"p-0",children:o.jsx("div",{className:"h-48 sm:h-56 lg:h-64 xl:h-72 rounded-lg overflow-hidden",children:o.jsx(r5,{height:"100%",defaultLanguage:"sql",value:x||`-- Your generated SQL query will appear here
-- Start by describing your query in natural language above`,onChange:oa,theme:n==="dark"?"vs-dark":"vs",options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,lineNumbers:"on",roundedSelection:!1,wordWrap:"on",scrollbar:{vertical:"auto",horizontal:"auto",useShadows:!1,verticalHasArrows:!0,horizontalHasArrows:!0,arrowSize:11,verticalScrollbarSize:14,horizontalScrollbarSize:14},automaticLayout:!0,padding:{top:16,bottom:16},suggestOnTriggerCharacters:!0,quickSuggestions:!0,renderLineHighlight:"line",selectionHighlight:!1,renderWhitespace:"none",fontFamily:'JetBrains Mono, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontLigatures:!0,smoothScrolling:!0,cursorSmoothCaretAnimation:"on",renderValidationDecorations:"on"},onMount:P=>{us.current=P,setTimeout(()=>{P&&P.layout()},100)}})})})})}),o.jsx(hn,{mode:"wait",children:$s()&&o.jsx(R.div,{initial:{opacity:0,width:0,scale:.9},animate:{opacity:1,width:"auto",scale:1,transition:{duration:.4,ease:[.25,.46,.45,.94],width:{duration:.4,ease:[.25,.46,.45,.94]}}},exit:{opacity:0,width:0,scale:.9,transition:{duration:.4,ease:[.25,.46,.45,.94],width:{duration:.4,ease:[.25,.46,.45,.94]}}},className:"flex-shrink-0 w-full sm:w-[30rem] lg:w-[34rem] xl:w-[38rem] overflow-hidden order-1 xl:order-2",children:o.jsx(nt,{className:"border border-orange-200 shadow-sm bg-card h-48 sm:h-56 lg:h-64 xl:h-72 overflow-hidden",children:o.jsxs(at,{className:"p-5 h-full flex flex-col",children:[o.jsxs(R.div,{className:"flex items-center space-x-2 mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10,transition:{duration:.3,ease:"easeInOut"}},transition:{delay:.1,duration:.3},children:[o.jsx(R.div,{className:"w-6 h-6 bg-orange-600 rounded-md flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.95},exit:{scale:.9,transition:{duration:.2}},children:o.jsx(Ms,{className:"w-4 h-4 text-white"})}),o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Parameters"}),A&&o.jsx(R.div,{className:"px-2 py-1 rounded text-xs font-medium bg-orange-500/10 text-orange-600 dark:text-orange-400",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0,transition:{duration:.25,ease:"easeInOut"}},transition:{delay:.2,type:"spring",stiffness:300},children:"Write Mode"})]}),o.jsxs(R.div,{className:"flex-1 overflow-y-auto space-y-4 pr-1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.3,ease:"easeInOut"}},transition:{delay:.15,duration:.3},children:[o.jsx(hn,{mode:"popLayout",children:os().map((P,J)=>o.jsx(R.div,{initial:{opacity:0,y:15,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:15,scale:.95,transition:{duration:.35,ease:"easeInOut",delay:(os().length-1-J)*.05}},transition:{delay:J*.08,duration:.35,type:"spring",stiffness:400,damping:25},layout:!0,layoutId:`param-${P.name}`,className:`p-4 rounded-lg border text-xs transition-colors duration-200 ${P.source==="api"?"bg-blue-500/10 border-blue-500/20 dark:bg-blue-500/10 dark:border-blue-500/20":P.source==="detected"?"bg-yellow-500/10 border-yellow-500/20 dark:bg-yellow-500/10 dark:border-yellow-500/20":P.source==="manual"?"bg-green-500/10 border-green-500/20 dark:bg-green-500/10 dark:border-green-500/20":"bg-muted border-border"}`,whileHover:{scale:1.02,transition:{duration:.2}},children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-mono text-sm font-semibold text-foreground",children:["@",P.name]}),o.jsx("div",{className:"flex items-center gap-1",children:P.source!=="placeholder"&&o.jsxs(o.Fragment,{children:[o.jsx(R.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{xe===P.name?(is(P.name,pe),se(null),ue("")):(se(P.name),ue(P.value||""))},className:"h-auto p-1",children:xe===P.name?o.jsx(wP,{className:"w-3 h-3"}):o.jsx(hP,{className:"w-3 h-3"})})}),o.jsx(R.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(`@${P.name}`),ss({type:"success",title:"Copied",message:`Parameter @${P.name} copied`,duration:2e3})},className:"h-auto p-1",children:o.jsx(zl,{className:"w-3 h-3"})})}),(P.source==="manual"||P.source==="detected")&&P.value&&o.jsx(R.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{console.log("🔥 Delete button clicked for param:",P.name),console.log("🔥 Full param object:",P),kr(P.name)},className:"h-auto p-1 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:o.jsx(Iy,{className:"w-3 h-3"})})})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(R.span,{className:`px-2 py-1 rounded text-xs font-medium ${P.source==="api"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":P.source==="detected"?"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400":P.source==="manual"?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0,transition:{duration:.15,ease:"easeIn"}},transition:{delay:J*.08+.15,duration:.25},children:P.type}),o.jsx(R.span,{className:`px-2 py-1 rounded text-xs font-medium ${P.source==="api"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":P.source==="detected"?"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400":P.source==="manual"?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0,transition:{duration:.15,ease:"easeIn",delay:.02}},transition:{delay:J*.08+.2,duration:.25},children:P.source==="api"?"API":P.source==="detected"?"Detected":P.source==="manual"?"Manual":"Example"})]}),o.jsx(R.div,{className:"space-y-1",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5,transition:{duration:.2,ease:"easeIn"}},transition:{delay:J*.08+.25,duration:.25},children:xe===P.name?o.jsx(_i,{value:pe,onChange:te=>ue(te.target.value),onBlur:()=>{pe.trim()!==""&&is(P.name,pe),se(null),ue("")},onKeyDown:te=>{te.key==="Enter"?(is(P.name,pe),se(null),ue("")):te.key==="Escape"&&(se(null),ue(""))},className:"font-mono text-sm py-2.5",placeholder:"Enter parameter value...",autoFocus:!0}):o.jsx("div",{className:`p-3 rounded border font-mono text-sm cursor-pointer hover:bg-muted transition-colors ${P.source==="placeholder"?"bg-muted border-border text-muted-foreground italic":"bg-card border-border text-foreground"}`,onClick:()=>{P.source!=="placeholder"&&(se(P.name),ue(P.value||""))},children:P.value||(P.source==="detected"?"Click to set value":P.value)})}),P.source==="detected"&&!P.value&&xe!==P.name&&o.jsx(R.div,{className:"text-xs text-yellow-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-5,transition:{duration:.15,ease:"easeIn"}},transition:{delay:J*.08+.3,duration:.25},children:"⚠️ No value provided - click to edit"}),P.source==="placeholder"&&o.jsx(R.div,{className:"text-xs text-muted-foreground",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-5,transition:{duration:.15,ease:"easeIn"}},transition:{delay:J*.08+.3,duration:.25},children:"💡 Use @param syntax in queries"})]})},`${P.name}-${J}`))}),A&&o.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:.2},className:"pt-2",children:o.jsxs(Ae,{variant:"outline",size:"sm",onClick:Sr,className:"w-full border-dashed border-2 hover:border-solid text-muted-foreground hover:text-foreground",children:[o.jsx(Is,{className:"w-4 h-4 mr-2"}),"Add Parameter"]})}),os().length===0&&A&&o.jsxs(R.div,{className:"text-center py-6 text-muted-foreground",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.3,ease:"easeInOut"}},transition:{delay:.2,type:"spring",stiffness:200},children:[o.jsx(R.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},exit:{rotate:0,scale:.9,transition:{duration:.25,ease:"easeInOut"}},children:o.jsx(Ms,{className:"w-6 h-6 mx-auto mb-2 opacity-50"})}),o.jsx("p",{className:"text-xs",children:"No parameters detected"}),o.jsx("p",{className:"text-xs mt-1",children:"Use @param_name syntax or add manually"})]})]})]})})},"parameters-panel")})]})]}),U&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:o.jsx(dn,{className:"w-5 h-5 text-white"})}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Query Analysis"})]}),o.jsx(nt,{className:"border border-border shadow-sm bg-card",children:o.jsxs(at,{className:"p-4 lg:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Intent"}),o.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium capitalize",children:U.intent})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Confidence"}),o.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg border border-green-500/20",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[U.confidence,"%"]}),o.jsx("div",{className:"flex-1 bg-green-500/20 rounded-full h-2",children:o.jsx("div",{className:"bg-green-600 dark:bg-green-400 h-2 rounded-full transition-all duration-300",style:{width:`${U.confidence}%`}})})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Mode"}),o.jsx("div",{className:`p-3 rounded-lg border ${U.mode==="Write"?"bg-red-500/10 border-red-500/20":"bg-muted border-border"}`,children:o.jsx("span",{className:`font-medium ${U.mode==="Write"?"text-red-600 dark:text-red-400":"text-foreground"}`,children:U.mode})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Safety"}),o.jsx("div",{className:`p-3 rounded-lg border ${U.safe?"bg-green-500/10 border-green-500/20":"bg-yellow-500/10 border-yellow-500/20"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[U.safe?o.jsx(Ve,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):o.jsx(Mt,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),o.jsx("span",{className:`font-medium ${U.safe?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:U.safe?"Safe":"Caution"})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Explanation"}),o.jsx("div",{className:"p-4 bg-muted rounded-lg border border-border",children:o.jsx("p",{className:"text-foreground leading-relaxed",children:U.explanation})})]}),(U.tables.length>0||U.columns.length>0)&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6",children:[U.tables.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Tables (",U.tables.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:U.tables.map((P,J)=>o.jsx("span",{className:"px-3 py-1 bg-purple-500/10 text-purple-600 dark:text-purple-400 rounded-full text-sm font-medium",children:P},J))})]}),U.columns.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Columns (",U.columns.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:U.columns.map((P,J)=>o.jsx("span",{className:"px-3 py-1 bg-orange-500/10 text-orange-600 dark:text-orange-400 rounded-full text-sm font-medium",children:P},J))})]})]})]})})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"results-history-container relative",style:{display:"grid",gridTemplateColumns:jt>=80?"1fr":`${jt}% 1fr`,gap:"1rem",gridTemplateRows:jt>=80?"auto auto":"auto"},children:[o.jsx(hn,{children:ut&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[9998] bg-black/40 backdrop-blur-sm",onClick:()=>pn(!1)})}),ut?o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:ot("space-y-4 min-w-0 relative","fixed inset-6 z-[9999] bg-card rounded-2xl shadow-2xl border border-border overflow-hidden"),onClick:P=>P.stopPropagation(),children:o.jsxs("div",{className:"h-full overflow-auto scrollbar-hide flex flex-col",children:[o.jsx("div",{className:"p-6 pb-4 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:"4"})}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Results"}),j&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.rows.length," rows"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>pn(!ut),className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",title:ut?"Exit fullscreen":"Enter fullscreen",children:ut?o.jsx(Xg,{className:"w-4 h-4"}):o.jsx(Yg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:Pr,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",title:"Reset results size",children:o.jsx(gl,{className:"w-4 h-4"})})]})]})}),o.jsx("div",{className:"px-6 pb-6 flex-1 min-h-0",children:o.jsx(nt,{"data-results-card":!0,className:"border border-border shadow-sm bg-card overflow-hidden",style:{height:"100%"},children:o.jsx(at,{className:"p-4 lg:p-6 h-full flex flex-col",children:j?o.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 bg-blue-50 rounded-lg border border-blue-100 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"text-sm text-blue-900 font-medium",children:[j.columns.length>0&&j.rows.length>0?`${j.rows.length} rows returned`:j.rowsAffected>0?`${j.rowsAffected} rows affected`:"Query completed"," • ",j.executionTime,"ms"]}),j.columns.length>0&&j.rows.length>0&&o.jsxs("div",{className:"relative",ref:sr,children:[o.jsxs("button",{onClick:()=>me(!Z),className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-foreground bg-card border border-border rounded-md hover:bg-accent transition-colors",children:[o.jsx(Fl,{className:"w-4 h-4"}),o.jsx("span",{children:"Export"}),o.jsx(wo,{className:"w-3 h-3"})]}),Z&&o.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-card border border-border rounded-md shadow-lg z-10",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:()=>ds("csv"),className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",children:[o.jsx(Ai,{className:"w-4 h-4"}),o.jsx("span",{children:"Export as CSV"})]}),o.jsxs("button",{onClick:()=>ds("json"),className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",children:[o.jsx(Ai,{className:"w-4 h-4"}),o.jsx("span",{children:"Export as JSON"})]}),o.jsxs("button",{onClick:()=>ds("excel"),className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",children:[o.jsx($C,{className:"w-4 h-4"}),o.jsx("span",{children:"Export as Excel"})]})]})})]})]}),o.jsx("div",{className:"flex-1 min-h-0",children:j.columns.length>0&&j.rows.length>0?o.jsxs("div",{className:"border border-border rounded-lg overflow-hidden bg-card h-full flex flex-col",children:[o.jsx("div",{className:"p-3 border-b border-border bg-muted",children:o.jsxs("div",{className:"relative",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search in results...",value:Qe,onChange:P=>qe(P.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-border rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary"}),Qe&&o.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-muted-foreground",children:[gn().length," of ",j.rows.length," rows"]})]})}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"sticky top-0 bg-muted border-b border-border",children:o.jsx("tr",{children:j.columns.map(P=>o.jsx("th",{className:"text-left p-3 font-medium text-foreground border-r border-border last:border-r-0 min-w-[120px]",children:o.jsxs("button",{onClick:()=>qs(P),className:"flex items-center justify-between w-full text-left hover:bg-accent rounded px-2 py-1 transition-colors",children:[o.jsx("span",{className:"truncate pr-2",children:P}),o.jsx("div",{className:"flex-shrink-0",children:We===P?st==="asc"?o.jsx(Qg,{className:"w-3 h-3"}):o.jsx(wo,{className:"w-3 h-3"}):o.jsx(Gg,{className:"w-3 h-3 opacity-50"})})]})},P))})}),o.jsx("tbody",{className:"bg-background",children:gn().slice(0,100).map((P,J)=>o.jsx("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:P.map((te,ge)=>o.jsx("td",{className:"p-3 border-r border-border last:border-r-0 text-foreground",title:String(te),children:o.jsx("div",{className:"max-w-[200px] truncate",children:te??"NULL"})},ge))},J))})]}),gn().length===0&&Qe&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[o.jsx(Dn,{className:"w-8 h-8 mb-2 opacity-50"}),o.jsxs("p",{className:"text-sm",children:['No results found for "',Qe,'"']}),o.jsx("button",{onClick:()=>qe(""),className:"text-xs text-primary hover:underline mt-1",children:"Clear search"})]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-500/10 rounded-full mb-4",children:j.rowsAffected>0?o.jsx(Ve,{className:"w-8 h-8 text-green-600 dark:text-green-400"}):o.jsx(Mt,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:j.rowsAffected>0?"Query Executed Successfully":"Query Completed"}),o.jsxs("div",{className:"space-y-1 text-muted-foreground",children:[j.rowsAffected>0?o.jsxs("p",{className:"text-lg font-medium text-green-600 dark:text-green-400",children:[j.rowsAffected," row",j.rowsAffected!==1?"s":""," affected"]}):o.jsx("p",{children:"No rows were modified"}),o.jsxs("p",{className:"text-sm",children:["Execution time: ",j.executionTime,"ms"]})]})]})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-48 lg:h-64 text-muted-foreground",children:[o.jsx(lt,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-4 opacity-30"}),o.jsx("h3",{className:"text-base lg:text-lg font-medium mb-2 text-foreground",children:"No results yet"}),o.jsx("p",{className:"text-center text-sm lg:text-base text-muted-foreground",children:"Execute a query to see results here"})]})})})})]})}):o.jsx("div",{className:"space-y-4 min-w-0 relative",style:{gridColumn:(jt>=80,"1"),gridRow:jt>=80?"1":"auto"},children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:"4"})}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Results"}),j&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.rows.length," rows"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>pn(!ut),className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",title:ut?"Exit fullscreen":"Enter fullscreen",children:ut?o.jsx(Xg,{className:"w-4 h-4"}):o.jsx(Yg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:Pr,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",title:"Reset results size",children:o.jsx(gl,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"relative",children:o.jsx(nt,{"data-results-card":!0,className:"border border-border shadow-sm bg-card overflow-hidden",style:{height:`${ht}px`},children:o.jsx(at,{className:"p-4 lg:p-6 h-full flex flex-col",children:j?o.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 bg-blue-500/10 dark:bg-blue-500/10 rounded-lg border border-blue-500/20 dark:border-blue-500/20 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-300 font-medium",children:[j.columns.length>0&&j.rows.length>0?`${j.rows.length} rows returned`:j.rowsAffected>0?`${j.rowsAffected} rows affected`:"Query completed"," • ",j.executionTime,"ms"]}),j.columns.length>0&&j.rows.length>0&&o.jsxs("div",{className:"relative",ref:sr,children:[o.jsxs("button",{onClick:()=>me(!Z),className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-foreground bg-card border border-border rounded-md hover:bg-accent transition-colors",children:[o.jsx(Fl,{className:"w-4 h-4"}),o.jsx("span",{children:"Export"}),o.jsx(wo,{className:"w-3 h-3"})]}),Z&&o.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-card border border-border rounded-md shadow-lg z-10",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:()=>ds("csv"),className:"flex items-center space-x-2 w-full text-left px-4 py-2 text-sm text-foreground hover:bg-muted",children:[o.jsx(Ai,{className:"w-4 h-4"}),o.jsx("span",{children:"Export as CSV"})]}),o.jsxs("button",{onClick:()=>ds("json"),className:"flex items-center space-x-2 w-full text-left px-4 py-2 text-sm text-foreground hover:bg-muted",children:[o.jsx(Nm,{className:"w-4 h-4"}),o.jsx("span",{children:"Export as JSON"})]})]})})]})]}),j.columns.length>0&&j.rows.length>0?o.jsx("div",{className:"flex-1 min-h-0 bg-muted rounded-lg border border-border",children:o.jsxs("div",{className:"h-full flex flex-col",children:[(j.rows.length>5||j.columns.length>3)&&o.jsx("div",{className:"p-4 border-b border-border",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search results...",value:Qe,onChange:P=>qe(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent"})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min(gn().length,100)," of ",gn().length," rows"]})]})}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"sticky top-0 bg-muted border-b border-border",children:o.jsx("tr",{children:j.columns.map(P=>o.jsx("th",{className:"text-left p-3 font-medium text-foreground border-r border-border last:border-r-0 min-w-[120px]",children:o.jsxs("button",{onClick:()=>qs(P),className:"flex items-center justify-between w-full text-left hover:bg-accent rounded px-2 py-1 transition-colors",children:[o.jsx("span",{className:"truncate pr-2",children:P}),o.jsx("div",{className:"flex-shrink-0",children:We===P?st==="asc"?o.jsx(Qg,{className:"w-3 h-3"}):o.jsx(wo,{className:"w-3 h-3"}):o.jsx(Gg,{className:"w-3 h-3 opacity-50"})})]})},P))})}),o.jsx("tbody",{className:"bg-background",children:gn().slice(0,100).map((P,J)=>o.jsx("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:P.map((te,ge)=>o.jsx("td",{className:"p-3 border-r border-border last:border-r-0 text-foreground",title:String(te),children:o.jsx("div",{className:"max-w-[200px] truncate",children:te})},ge))},J))})]})}),gn().length===0&&Qe&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[o.jsx(Dn,{className:"w-8 h-8 mb-2 opacity-50"}),o.jsxs("p",{className:"text-sm",children:['No results found for "',Qe,'"']}),o.jsx("button",{onClick:()=>qe(""),className:"text-xs text-primary hover:underline mt-1",children:"Clear search"})]})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-500/10 rounded-full mb-4",children:j.rowsAffected>0?o.jsx(Ve,{className:"w-8 h-8 text-green-600 dark:text-green-400"}):o.jsx(Mt,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:j.rowsAffected>0?"Query Executed Successfully":"Query Completed"}),o.jsxs("div",{className:"space-y-1 text-muted-foreground",children:[j.rowsAffected>0?o.jsxs("p",{className:"text-lg font-medium text-green-600 dark:text-green-400",children:[j.rowsAffected," row",j.rowsAffected!==1?"s":""," affected"]}):o.jsx("p",{children:"No rows were modified"}),o.jsxs("p",{className:"text-sm",children:["Execution time: ",j.executionTime,"ms"]})]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground",children:[o.jsx(lt,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-4 opacity-30"}),o.jsx("h3",{className:"text-base lg:text-lg font-medium mb-2 text-foreground",children:"No results yet"}),o.jsx("p",{className:"text-center text-sm lg:text-base text-muted-foreground",children:"Execute a query to see results here"})]})})})}),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 cursor-row-resize bg-transparent hover:bg-primary/20 transition-colors flex items-center justify-center group",onMouseDown:ea,children:o.jsx("div",{className:"w-8 h-1 bg-border rounded-full group-hover:bg-primary/40 transition-colors"})}),o.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-2 cursor-col-resize bg-transparent hover:bg-primary/20 transition-colors flex items-center justify-center group",onMouseDown:ta,children:o.jsx("div",{className:"h-8 w-1 bg-border rounded-full group-hover:bg-primary/40 transition-colors"})})]})]})}),o.jsxs("div",{className:"space-y-4 min-w-0",style:{gridColumn:jt>=80?"1":"2",gridRow:jt>=80?"2":"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(YC,{className:"w-5 h-5 text-white"})}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"History"}),z&&o.jsx(vt,{className:"w-4 h-4 animate-spin text-muted-foreground"}),D.length>0&&!z&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:[D.length," queries"]})]}),t&&o.jsxs(Ae,{variant:"outline",size:"sm",onClick:Tr,disabled:z,className:"text-xs",children:[o.jsx(gl,{className:"w-3 h-3 mr-1"}),"Refresh"]})]}),o.jsx("div",{className:"relative",children:o.jsx(nt,{"data-history-card":!0,className:"border border-border shadow-sm bg-card overflow-hidden",style:{height:`${ht}px`},children:o.jsx(at,{className:"p-4 lg:p-6 h-full flex flex-col",children:z?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground",children:[o.jsx(vt,{className:"w-8 h-8 mb-4 animate-spin"}),o.jsx("h3",{className:"text-base lg:text-lg font-medium mb-2 text-foreground",children:"Loading History"}),o.jsx("p",{className:"text-center text-sm lg:text-base text-muted-foreground",children:"Fetching query history from profile..."})]}):D.length>0?o.jsx("div",{className:"space-y-3 flex-1 overflow-auto scrollbar-hide",children:D.map(P=>o.jsxs("div",{className:"p-3 lg:p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors bg-card",onClick:()=>sa(P),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:`flex items-center space-x-2 text-xs font-medium px-2 py-1 rounded-full ${P.success?"text-green-600 dark:text-green-400 bg-green-500/10":"text-red-600 dark:text-red-400 bg-red-500/10"}`,children:[P.success?o.jsx(Ve,{className:"w-3 h-3"}):o.jsx(Mt,{className:"w-3 h-3"}),o.jsx("span",{children:P.success?"Success":"Error"})]}),P.parameters&&Object.keys(P.parameters).length>0&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs font-medium px-2 py-1 rounded-full bg-blue-500/10 text-blue-600 dark:text-blue-400",children:[o.jsx(Ms,{className:"w-3 h-3"}),o.jsx("span",{children:Object.keys(P.parameters).length})]}),!lx(P.query)&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs font-medium px-2 py-1 rounded-full bg-orange-500/10 text-orange-600 dark:text-orange-400",children:[o.jsx(lt,{className:"w-3 h-3"}),o.jsx("span",{children:"Write"})]})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:P.timestamp.toLocaleTimeString()})]}),o.jsx("div",{className:"text-sm text-foreground mb-2 line-clamp-2",children:P.naturalLanguage}),o.jsx("div",{className:"text-xs text-muted-foreground font-mono bg-muted p-2 rounded truncate",children:P.query}),P.executionTime&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[P.executionTime,"ms"]})]},P.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground",children:[o.jsx(jn,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-4 opacity-30"}),o.jsx("h3",{className:"text-base lg:text-lg font-medium mb-2 text-foreground",children:t?"No history yet":"No profile selected"}),o.jsx("p",{className:"text-center text-sm lg:text-base text-muted-foreground",children:t?"Your query history will appear here":"Select a profile to view query history"})]})})})})]})]})]})})]})})},u5=gy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function Xr({className:t,variant:n,...s}){return o.jsx("div",{className:ot(u5({variant:n}),t),...s})}var Wy=fx(),d5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Us=d5.reduce((t,n)=>{const s=fy(`Primitive.${n}`),i=v.forwardRef((l,d)=>{const{asChild:u,...m}=l,h=u?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...m,ref:d})});return i.displayName=`Primitive.${n}`,{...t,[n]:i}},{}),qd=globalThis?.document?v.useLayoutEffect:()=>{};function m5(t,n){return v.useReducer((s,i)=>n[s][i]??s,t)}var Ji=t=>{const{present:n,children:s}=t,i=f5(n),l=typeof s=="function"?s({present:i.isPresent}):v.Children.only(s),d=Vs(i.ref,h5(l));return typeof s=="function"||i.isPresent?v.cloneElement(l,{ref:d}):null};Ji.displayName="Presence";function f5(t){const[n,s]=v.useState(),i=v.useRef(null),l=v.useRef(t),d=v.useRef("none"),u=t?"mounted":"unmounted",[m,h]=m5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const g=vl(i.current);d.current=m==="mounted"?g:"none"},[m]),qd(()=>{const g=i.current,x=l.current;if(x!==t){const b=d.current,C=vl(g);t?h("MOUNT"):C==="none"||g?.display==="none"?h("UNMOUNT"):h(x&&b!==C?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,h]),qd(()=>{if(n){let g;const x=n.ownerDocument.defaultView??window,y=C=>{const N=vl(i.current).includes(CSS.escape(C.animationName));if(C.target===n&&N&&(h("ANIMATION_END"),!l.current)){const j=n.style.animationFillMode;n.style.animationFillMode="forwards",g=x.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=j)})}},b=C=>{C.target===n&&(d.current=vl(i.current))};return n.addEventListener("animationstart",b),n.addEventListener("animationcancel",y),n.addEventListener("animationend",y),()=>{x.clearTimeout(g),n.removeEventListener("animationstart",b),n.removeEventListener("animationcancel",y),n.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[n,h]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:v.useCallback(g=>{i.current=g?getComputedStyle(g):null,s(g)},[])}}function vl(t){return t?.animationName||"none"}function h5(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Gy(t,n=[]){let s=[];function i(d,u){const m=v.createContext(u),h=s.length;s=[...s,u];const g=y=>{const{scope:b,children:C,...S}=y,N=b?.[t]?.[h]||m,j=v.useMemo(()=>S,Object.values(S));return o.jsx(N.Provider,{value:j,children:C})};g.displayName=d+"Provider";function x(y,b){const C=b?.[t]?.[h]||m,S=v.useContext(C);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${d}\``)}return[g,x]}const l=()=>{const d=s.map(u=>v.createContext(u));return function(m){const h=m?.[t]||d;return v.useMemo(()=>({[`__scope${t}`]:{...m,[t]:h}}),[m,h])}};return l.scopeName=t,[i,p5(l,...n)]}function p5(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const i=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(d){const u=i.reduce((m,{useScope:h,scopeName:g})=>{const y=h(d)[`__scope${g}`];return{...m,...y}},{});return v.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return s.scopeName=n.scopeName,s}function As(t){const n=v.useRef(t);return v.useEffect(()=>{n.current=t}),v.useMemo(()=>(...s)=>n.current?.(...s),[])}var g5=v.createContext(void 0);function x5(t){const n=v.useContext(g5);return t||n||"ltr"}function y5(t,[n,s]){return Math.min(s,Math.max(n,t))}function _s(t,n,{checkForDefaultPrevented:s=!0}={}){return function(l){if(t?.(l),s===!1||!l.defaultPrevented)return n?.(l)}}function v5(t,n){return v.useReducer((s,i)=>n[s][i]??s,t)}var km="ScrollArea",[Qy,CA]=Gy(km),[w5,_n]=Qy(km),Ky=v.forwardRef((t,n)=>{const{__scopeScrollArea:s,type:i="hover",dir:l,scrollHideDelay:d=600,...u}=t,[m,h]=v.useState(null),[g,x]=v.useState(null),[y,b]=v.useState(null),[C,S]=v.useState(null),[N,j]=v.useState(null),[O,D]=v.useState(0),[L,_]=v.useState(0),[F,A]=v.useState(!1),[ne,z]=v.useState(!1),X=Vs(n,re=>h(re)),U=x5(l);return o.jsx(w5,{scope:s,type:i,dir:U,scrollHideDelay:d,scrollArea:m,viewport:g,onViewportChange:x,content:y,onContentChange:b,scrollbarX:C,onScrollbarXChange:S,scrollbarXEnabled:F,onScrollbarXEnabledChange:A,scrollbarY:N,onScrollbarYChange:j,scrollbarYEnabled:ne,onScrollbarYEnabledChange:z,onCornerWidthChange:D,onCornerHeightChange:_,children:o.jsx(Us.div,{dir:U,...u,ref:X,style:{position:"relative","--radix-scroll-area-corner-width":O+"px","--radix-scroll-area-corner-height":L+"px",...t.style}})})});Ky.displayName=km;var Yy="ScrollAreaViewport",Xy=v.forwardRef((t,n)=>{const{__scopeScrollArea:s,children:i,nonce:l,...d}=t,u=_n(Yy,s),m=v.useRef(null),h=Vs(n,m,u.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),o.jsx(Us.div,{"data-radix-scroll-area-viewport":"",...d,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Xy.displayName=Yy;var rr="ScrollAreaScrollbar",Cm=v.forwardRef((t,n)=>{const{forceMount:s,...i}=t,l=_n(rr,t.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:u}=l,m=t.orientation==="horizontal";return v.useEffect(()=>(m?d(!0):u(!0),()=>{m?d(!1):u(!1)}),[m,d,u]),l.type==="hover"?o.jsx(b5,{...i,ref:n,forceMount:s}):l.type==="scroll"?o.jsx(j5,{...i,ref:n,forceMount:s}):l.type==="auto"?o.jsx(Jy,{...i,ref:n,forceMount:s}):l.type==="always"?o.jsx(Pm,{...i,ref:n}):null});Cm.displayName=rr;var b5=v.forwardRef((t,n)=>{const{forceMount:s,...i}=t,l=_n(rr,t.__scopeScrollArea),[d,u]=v.useState(!1);return v.useEffect(()=>{const m=l.scrollArea;let h=0;if(m){const g=()=>{window.clearTimeout(h),u(!0)},x=()=>{h=window.setTimeout(()=>u(!1),l.scrollHideDelay)};return m.addEventListener("pointerenter",g),m.addEventListener("pointerleave",x),()=>{window.clearTimeout(h),m.removeEventListener("pointerenter",g),m.removeEventListener("pointerleave",x)}}},[l.scrollArea,l.scrollHideDelay]),o.jsx(Ji,{present:s||d,children:o.jsx(Jy,{"data-state":d?"visible":"hidden",...i,ref:n})})}),j5=v.forwardRef((t,n)=>{const{forceMount:s,...i}=t,l=_n(rr,t.__scopeScrollArea),d=t.orientation==="horizontal",u=ac(()=>h("SCROLL_END"),100),[m,h]=v5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(m==="idle"){const g=window.setTimeout(()=>h("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(g)}},[m,l.scrollHideDelay,h]),v.useEffect(()=>{const g=l.viewport,x=d?"scrollLeft":"scrollTop";if(g){let y=g[x];const b=()=>{const C=g[x];y!==C&&(h("SCROLL"),u()),y=C};return g.addEventListener("scroll",b),()=>g.removeEventListener("scroll",b)}},[l.viewport,d,h,u]),o.jsx(Ji,{present:s||m!=="hidden",children:o.jsx(Pm,{"data-state":m==="hidden"?"hidden":"visible",...i,ref:n,onPointerEnter:_s(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:_s(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),Jy=v.forwardRef((t,n)=>{const s=_n(rr,t.__scopeScrollArea),{forceMount:i,...l}=t,[d,u]=v.useState(!1),m=t.orientation==="horizontal",h=ac(()=>{if(s.viewport){const g=s.viewport.offsetWidth<s.viewport.scrollWidth,x=s.viewport.offsetHeight<s.viewport.scrollHeight;u(m?g:x)}},10);return Po(s.viewport,h),Po(s.content,h),o.jsx(Ji,{present:i||d,children:o.jsx(Pm,{"data-state":d?"visible":"hidden",...l,ref:n})})}),Pm=v.forwardRef((t,n)=>{const{orientation:s="vertical",...i}=t,l=_n(rr,t.__scopeScrollArea),d=v.useRef(null),u=v.useRef(0),[m,h]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=rv(m.viewport,m.content),x={...i,sizes:m,onSizesChange:h,hasThumb:g>0&&g<1,onThumbChange:b=>d.current=b,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:b=>u.current=b};function y(b,C){return T5(b,u.current,m,C)}return s==="horizontal"?o.jsx(N5,{...x,ref:n,onThumbPositionChange:()=>{if(l.viewport&&d.current){const b=l.viewport.scrollLeft,C=cx(b,m,l.dir);d.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:b=>{l.viewport&&(l.viewport.scrollLeft=b)},onDragScroll:b=>{l.viewport&&(l.viewport.scrollLeft=y(b,l.dir))}}):s==="vertical"?o.jsx(S5,{...x,ref:n,onThumbPositionChange:()=>{if(l.viewport&&d.current){const b=l.viewport.scrollTop,C=cx(b,m);d.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:b=>{l.viewport&&(l.viewport.scrollTop=b)},onDragScroll:b=>{l.viewport&&(l.viewport.scrollTop=y(b))}}):null}),N5=v.forwardRef((t,n)=>{const{sizes:s,onSizesChange:i,...l}=t,d=_n(rr,t.__scopeScrollArea),[u,m]=v.useState(),h=v.useRef(null),g=Vs(n,h,d.onScrollbarXChange);return v.useEffect(()=>{h.current&&m(getComputedStyle(h.current))},[h]),o.jsx(ev,{"data-orientation":"horizontal",...l,ref:g,sizes:s,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ic(s)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.x),onDragScroll:x=>t.onDragScroll(x.x),onWheelScroll:(x,y)=>{if(d.viewport){const b=d.viewport.scrollLeft+x.deltaX;t.onWheelScroll(b),ov(b,y)&&x.preventDefault()}},onResize:()=>{h.current&&d.viewport&&u&&i({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:$l(u.paddingLeft),paddingEnd:$l(u.paddingRight)}})}})}),S5=v.forwardRef((t,n)=>{const{sizes:s,onSizesChange:i,...l}=t,d=_n(rr,t.__scopeScrollArea),[u,m]=v.useState(),h=v.useRef(null),g=Vs(n,h,d.onScrollbarYChange);return v.useEffect(()=>{h.current&&m(getComputedStyle(h.current))},[h]),o.jsx(ev,{"data-orientation":"vertical",...l,ref:g,sizes:s,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ic(s)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.y),onDragScroll:x=>t.onDragScroll(x.y),onWheelScroll:(x,y)=>{if(d.viewport){const b=d.viewport.scrollTop+x.deltaY;t.onWheelScroll(b),ov(b,y)&&x.preventDefault()}},onResize:()=>{h.current&&d.viewport&&u&&i({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:$l(u.paddingTop),paddingEnd:$l(u.paddingBottom)}})}})}),[k5,Zy]=Qy(rr),ev=v.forwardRef((t,n)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:l,onThumbChange:d,onThumbPointerUp:u,onThumbPointerDown:m,onThumbPositionChange:h,onDragScroll:g,onWheelScroll:x,onResize:y,...b}=t,C=_n(rr,s),[S,N]=v.useState(null),j=Vs(n,X=>N(X)),O=v.useRef(null),D=v.useRef(""),L=C.viewport,_=i.content-i.viewport,F=As(x),A=As(h),ne=ac(y,10);function z(X){if(O.current){const U=X.clientX-O.current.left,re=X.clientY-O.current.top;g({x:U,y:re})}}return v.useEffect(()=>{const X=U=>{const re=U.target;S?.contains(re)&&F(U,_)};return document.addEventListener("wheel",X,{passive:!1}),()=>document.removeEventListener("wheel",X,{passive:!1})},[L,S,_,F]),v.useEffect(A,[i,A]),Po(S,ne),Po(C.content,ne),o.jsx(k5,{scope:s,scrollbar:S,hasThumb:l,onThumbChange:As(d),onThumbPointerUp:As(u),onThumbPositionChange:A,onThumbPointerDown:As(m),children:o.jsx(Us.div,{...b,ref:j,style:{position:"absolute",...b.style},onPointerDown:_s(t.onPointerDown,X=>{X.button===0&&(X.target.setPointerCapture(X.pointerId),O.current=S.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),z(X))}),onPointerMove:_s(t.onPointerMove,z),onPointerUp:_s(t.onPointerUp,X=>{const U=X.target;U.hasPointerCapture(X.pointerId)&&U.releasePointerCapture(X.pointerId),document.body.style.webkitUserSelect=D.current,C.viewport&&(C.viewport.style.scrollBehavior=""),O.current=null})})})}),Ul="ScrollAreaThumb",tv=v.forwardRef((t,n)=>{const{forceMount:s,...i}=t,l=Zy(Ul,t.__scopeScrollArea);return o.jsx(Ji,{present:s||l.hasThumb,children:o.jsx(C5,{ref:n,...i})})}),C5=v.forwardRef((t,n)=>{const{__scopeScrollArea:s,style:i,...l}=t,d=_n(Ul,s),u=Zy(Ul,s),{onThumbPositionChange:m}=u,h=Vs(n,y=>u.onThumbChange(y)),g=v.useRef(void 0),x=ac(()=>{g.current&&(g.current(),g.current=void 0)},100);return v.useEffect(()=>{const y=d.viewport;if(y){const b=()=>{if(x(),!g.current){const C=A5(y,m);g.current=C,m()}};return m(),y.addEventListener("scroll",b),()=>y.removeEventListener("scroll",b)}},[d.viewport,x,m]),o.jsx(Us.div,{"data-state":u.hasThumb?"visible":"hidden",...l,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:_s(t.onPointerDownCapture,y=>{const C=y.target.getBoundingClientRect(),S=y.clientX-C.left,N=y.clientY-C.top;u.onThumbPointerDown({x:S,y:N})}),onPointerUp:_s(t.onPointerUp,u.onThumbPointerUp)})});tv.displayName=Ul;var Tm="ScrollAreaCorner",nv=v.forwardRef((t,n)=>{const s=_n(Tm,t.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?o.jsx(P5,{...t,ref:n}):null});nv.displayName=Tm;var P5=v.forwardRef((t,n)=>{const{__scopeScrollArea:s,...i}=t,l=_n(Tm,s),[d,u]=v.useState(0),[m,h]=v.useState(0),g=!!(d&&m);return Po(l.scrollbarX,()=>{const x=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(x),h(x)}),Po(l.scrollbarY,()=>{const x=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(x),u(x)}),g?o.jsx(Us.div,{...i,ref:n,style:{width:d,height:m,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function $l(t){return t?parseInt(t,10):0}function rv(t,n){const s=t/n;return isNaN(s)?0:s}function ic(t){const n=rv(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=(t.scrollbar.size-s)*n;return Math.max(i,18)}function T5(t,n,s,i="ltr"){const l=ic(s),d=l/2,u=n||d,m=l-u,h=s.scrollbar.paddingStart+u,g=s.scrollbar.size-s.scrollbar.paddingEnd-m,x=s.content-s.viewport,y=i==="ltr"?[0,x]:[x*-1,0];return sv([h,g],y)(t)}function cx(t,n,s="ltr"){const i=ic(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,d=n.scrollbar.size-l,u=n.content-n.viewport,m=d-i,h=s==="ltr"?[0,u]:[u*-1,0],g=y5(t,h);return sv([0,u],[0,m])(g)}function sv(t,n){return s=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(t[1]-t[0]);return n[0]+i*(s-t[0])}}function ov(t,n){return t>0&&t<n}var A5=(t,n=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},i=0;return(function l(){const d={left:t.scrollLeft,top:t.scrollTop},u=s.left!==d.left,m=s.top!==d.top;(u||m)&&n(),s=d,i=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(i)};function ac(t,n){const s=As(t),i=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(i.current),[]),v.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,n)},[s,n])}function Po(t,n){const s=As(n);qd(()=>{let i=0;if(t){const l=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return l.observe(t),()=>{window.cancelAnimationFrame(i),l.unobserve(t)}}},[t,s])}var iv=Ky,E5=Xy,L5=nv;const lc=v.forwardRef(({className:t,children:n,hideScrollbar:s=!1,...i},l)=>o.jsxs(iv,{ref:l,className:ot("relative overflow-hidden",t),...i,children:[o.jsx(E5,{className:ot("h-full w-full rounded-[inherit]",s&&"scrollbar-hide"),children:n}),!s&&o.jsx(av,{}),o.jsx(L5,{})]}));lc.displayName=iv.displayName;const av=v.forwardRef(({className:t,orientation:n="vertical",...s},i)=>o.jsx(Cm,{ref:i,orientation:n,className:ot("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:o.jsx(tv,{className:"relative flex-1 rounded-full bg-border"})}));av.displayName=Cm.displayName;const I5=({profileId:t})=>{const[n,s]=v.useState(null),[i,l]=v.useState(new Set),[d,u]=v.useState(""),[m,h]=v.useState(null),[g,x]=v.useState(!1),[y,b]=v.useState("all"),[C,S]=v.useState(!1),[N,j]=v.useState(null),O=async()=>{if(t){x(!0),j(null);try{const A=await He.getSchema(t);s(A)}catch(A){console.error("Failed to load schema:",A),j("Failed to load database schema. Please check your connection and try again.")}finally{x(!1)}}};v.useEffect(()=>{t&&O()},[t]);const D=A=>{const ne=new Set(i);i.has(A)?ne.delete(A):ne.add(A),l(ne)},L=n?.tables?.filter(A=>{const ne=A.name.toLowerCase().includes(d.toLowerCase())||A.columns.some(U=>U.name.toLowerCase().includes(d.toLowerCase())),z=y==="all"||y==="tables"&&!A.name.startsWith("v_")||y==="views"&&A.name.startsWith("v_"),X=C||!A.name.startsWith("__")&&!A.name.startsWith("sys_");return ne&&z&&X})||[],_=A=>A.isPrimaryKey?o.jsx(Sm,{className:"w-3 h-3 text-yellow-500"}):A.isForeignKey?o.jsx(eP,{className:"w-3 h-3 text-blue-500"}):o.jsx(UP,{className:"w-3 h-3 text-gray-500"}),F=A=>A.isPrimaryKey?"default":A.isForeignKey?"secondary":"outline";return o.jsxs(R.div,{className:"flex flex-col max-h-full bg-gradient-to-br from-background via-background to-muted/20",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[o.jsxs(R.div,{className:"flex-shrink-0 border-b bg-card/50 backdrop-blur-sm p-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(R.div,{whileHover:{scale:1.1,rotate:180},transition:{type:"spring",stiffness:300},children:o.jsx(lt,{className:"w-6 h-6 text-primary"})}),o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent",children:"Database Schema"}),n&&o.jsx(Xr,{variant:"outline",className:"text-xs",children:n.database||"Database"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(R.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>S(!C),children:C?o.jsx(Vi,{className:"w-4 h-4"}):o.jsx(So,{className:"w-4 h-4"})})}),o.jsx(R.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:O,disabled:g,children:o.jsx(ko,{className:`w-4 h-4 ${g?"animate-spin":""}`})})})]})]}),o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search tables and columns...",value:d,onChange:A=>u(A.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ay,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1 rounded-md text-sm transition-colors ${y==="all"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:"All"}),o.jsx("button",{onClick:()=>b("tables"),className:`px-3 py-1 rounded-md text-sm transition-colors ${y==="tables"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:"Tables"}),o.jsx("button",{onClick:()=>b("views"),className:`px-3 py-1 rounded-md text-sm transition-colors ${y==="views"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:"Views"})]})]})]}),o.jsx("div",{className:"flex-1 min-h-0 p-4",children:t?g?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(R.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:o.jsx(lt,{className:"w-12 h-12 mx-auto mb-2 text-primary"})}),o.jsx("p",{className:"text-muted-foreground",children:"Loading schema..."})]})}):N?o.jsx("div",{className:"flex items-center justify-center h-full text-red-500 dark:text-red-400 p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Mt,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm mb-2",children:N}),o.jsx(Ae,{onClick:O,size:"sm",variant:"outline",className:"mt-2",children:"Try Again"})]})}):o.jsx(lc,{className:"h-full",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[L.length," ",L.length===1?"table":"tables"," found"]}),o.jsxs(Xr,{variant:"outline",className:"text-xs",children:[n?.tables?.length||0," total tables"]})]}),L.map((A,ne)=>o.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ne*.05},children:o.jsxs(nt,{className:`transition-all hover:shadow-md ${m===A.name?"ring-2 ring-primary":""}`,children:[o.jsx(jr,{className:"pb-2",children:o.jsx("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{D(A.name),h(A.name)},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(R.div,{animate:{rotate:i.has(A.name)?90:0},transition:{duration:.2},children:o.jsx(Fi,{className:"w-4 h-4 text-muted-foreground"})}),o.jsx(Ly,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsxs(Jr,{className:"text-base",children:[A.schema,".",A.name]}),o.jsx("div",{className:"flex items-center space-x-2 mt-1",children:o.jsxs(Xr,{variant:"outline",className:"text-xs",children:[A.columns.length," columns"]})})]})]})})}),o.jsx(hn,{children:i.has(A.name)&&o.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:o.jsx(at,{children:o.jsx("div",{className:"space-y-2",children:A.columns.map((z,X)=>o.jsxs(R.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:X*.02},className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30 hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[_(z),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:z.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[z.dataType,!z.isNullable&&" • NOT NULL"]}),z.isForeignKey&&z.referencesTable&&o.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:["→ ",z.referencesTable,".",z.referencesColumn]})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[z.isPrimaryKey&&o.jsx(Xr,{variant:F(z),className:"text-xs",children:"PK"}),z.isForeignKey&&o.jsx(Xr,{variant:F(z),className:"text-xs",children:"FK"})]})]},z.name))})})})})]})},A.name)),L.length===0&&d&&o.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ai,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No tables match your search criteria"})]})})]})}):o.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(lt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"Select a database profile to explore schema"})]})})})]})};function M5(t,n,s,i){var l=this,d=v.useRef(null),u=v.useRef(0),m=v.useRef(0),h=v.useRef(null),g=v.useRef([]),x=v.useRef(),y=v.useRef(),b=v.useRef(t),C=v.useRef(!0);b.current=t;var S=typeof window<"u",N=!n&&n!==0&&S;if(typeof t!="function")throw new TypeError("Expected a function");n=+n||0;var j=!!(s=s||{}).leading,O=!("trailing"in s)||!!s.trailing,D="maxWait"in s,L="debounceOnServer"in s&&!!s.debounceOnServer,_=D?Math.max(+s.maxWait||0,n):null;v.useEffect(function(){return C.current=!0,function(){C.current=!1}},[]);var F=v.useMemo(function(){var A=function(me){var xe=g.current,se=x.current;return g.current=x.current=null,u.current=me,m.current=m.current||me,y.current=b.current.apply(se,xe)},ne=function(me,xe){N&&cancelAnimationFrame(h.current),h.current=N?requestAnimationFrame(me):setTimeout(me,xe)},z=function(me){if(!C.current)return!1;var xe=me-d.current;return!d.current||xe>=n||xe<0||D&&me-u.current>=_},X=function(me){return h.current=null,O&&g.current?A(me):(g.current=x.current=null,y.current)},U=function me(){var xe=Date.now();if(j&&m.current===u.current&&re(),z(xe))return X(xe);if(C.current){var se=n-(xe-d.current),pe=D?Math.min(se,_-(xe-u.current)):se;ne(me,pe)}},re=function(){i&&i({})},Z=function(){if(S||L){var me=Date.now(),xe=z(me);if(g.current=[].slice.call(arguments),x.current=l,d.current=me,xe){if(!h.current&&C.current)return u.current=d.current,ne(U,n),j?A(d.current):y.current;if(D)return ne(U,n),A(d.current)}return h.current||ne(U,n),y.current}};return Z.cancel=function(){h.current&&(N?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,g.current=d.current=x.current=h.current=null},Z.isPending=function(){return!!h.current},Z.flush=function(){return h.current?X(Date.now()):y.current},Z},[j,D,n,_,O,N,S,L,i]);return F}function R5(t,n){return t===n}function D5(t,n,s){var i=R5,l=v.useRef(t),d=v.useState({})[1],u=M5(v.useCallback(function(h){l.current=h,d({})},[d]),n,s,d),m=v.useRef(t);return i(m.current,t)||(u(t),m.current=t),[l.current,u]}const O5=({profileId:t,onRunQuery:n,onLoadQuery:s})=>{const[i,l]=v.useState(""),[d]=D5(i,300),[u,m]=v.useState("all"),[h,g]=v.useState("timestamp"),[x,y]=v.useState([]),[b,C]=v.useState(!1),[S,N]=v.useState(null),[j,O]=v.useState("Database"),D=async()=>{if(!t){y([]);return}C(!0),N(null);try{const A=await He.getProfile(t);if(O(A.databaseName||"Database"),A.queries&&Array.isArray(A.queries)){const ne=A.queries.map(z=>{let X=!0,U,re,Z;try{if(z.resultJson){const xe=JSON.parse(z.resultJson);U=xe.executionMs,re=xe.affectedRows;const se=!xe.errorMessage||xe.errorMessage==="None",pe=xe.executionMs!==void 0,ue=xe.rows&&xe.rows.length>0||xe.affectedRows!==void 0&&xe.affectedRows>=0;X=se&&pe&&ue,xe.errorMessage&&xe.errorMessage!=="None"&&(Z=xe.errorMessage,X=!1)}}catch(xe){console.warn("Failed to parse result JSON:",xe),X=!1}let me;try{me=new Date(z.timestampUtc),isNaN(me.getTime())&&(me=new Date)}catch{me=new Date}return{id:z.id,naturalLanguage:z.userQuery||"Unknown query",sqlQuery:z.sqlQuery||"",timestamp:me,executionTime:U,success:X,error:Z,rowsAffected:re,databaseName:A.databaseName||"Database"}});ne.sort((z,X)=>X.timestamp.getTime()-z.timestamp.getTime()),y(ne)}else y([])}catch(A){console.error("Failed to load query history:",A),N("Failed to load query history. Please check your connection and try again."),y([])}finally{C(!1)}};v.useEffect(()=>{D()},[t]);const L=x.filter(A=>{const ne=d===""||A.naturalLanguage.toLowerCase().includes(d.toLowerCase())||A.sqlQuery.toLowerCase().includes(d.toLowerCase()),z=u==="all"||u==="success"&&A.success||u==="error"&&!A.success;return ne&&z}).sort((A,ne)=>{if(h==="timestamp")return ne.timestamp.getTime()-A.timestamp.getTime();{const z=A.executionTime||0;return(ne.executionTime||0)-z}}),_=A=>{const z=new Date().getTime()-A.getTime(),X=Math.floor(z/(1e3*60)),U=Math.floor(z/(1e3*60*60)),re=Math.floor(z/(1e3*60*60*24));return X<1?"Just now":X<60?`${X}m ago`:U<24?`${U}h ago`:`${re}d ago`},F=A=>{navigator.clipboard.writeText(A)};return o.jsxs(R.div,{className:"flex flex-col max-h-full bg-gradient-to-br from-background via-background to-muted/20",initial:{opacity:0},animate:{opacity:1},children:[o.jsxs(R.div,{className:"flex-shrink-0 border-b bg-card/50 backdrop-blur-sm p-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jn,{className:"w-6 h-6 text-primary"}),o.jsx("h2",{className:"text-xl font-bold",children:"Query History"}),o.jsxs(Xr,{variant:"outline",children:[L.length," queries"]})]})}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search queries...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent",value:i,onChange:A=>l(A.target.value)})]}),o.jsx("div",{className:"flex space-x-2",children:["all","success","error"].map(A=>o.jsx(R.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(Ae,{variant:u===A?"default":"outline",size:"sm",onClick:()=>m(A),className:"capitalize",children:[A==="success"&&o.jsx(Ve,{className:"w-4 h-4 mr-1"}),A==="error"&&o.jsx(Mt,{className:"w-4 h-4 mr-1"}),A==="all"&&o.jsx(Ay,{className:"w-4 h-4 mr-1"}),A]})},A))}),o.jsx("div",{className:"flex space-x-2",children:["timestamp","execution-time"].map(A=>o.jsx(R.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(Ae,{variant:h===A?"default":"outline",size:"sm",onClick:()=>g(A),children:[A==="timestamp"?o.jsx(yC,{className:"w-4 h-4 mr-1"}):o.jsx(Zg,{className:"w-4 h-4 mr-1"}),A==="timestamp"?"Time":"Performance"]})},A))})]})]}),o.jsx("div",{className:"flex-1 min-h-0 p-4",children:o.jsx(lc,{className:"h-full",hideScrollbar:!0,children:o.jsx("div",{className:"space-y-4",children:b?o.jsxs(R.div,{className:"text-center py-12 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},children:[o.jsx(vt,{className:"w-8 h-8 mx-auto mb-4 animate-spin"}),o.jsx("p",{children:"Loading query history..."})]}):S?o.jsxs(R.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[o.jsx(Mt,{className:"w-12 h-12 mx-auto mb-4 text-red-500 opacity-50"}),o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Failed to load query history"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:S}),o.jsxs(Ae,{variant:"outline",size:"sm",onClick:D,className:"mt-2",children:[o.jsx(ko,{className:"w-4 h-4 mr-2"}),"Try Again"]})]}):L.length>0?L.map((A,ne)=>o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.05},children:o.jsxs(nt,{className:"hover:shadow-md transition-all duration-200 border-l-4 border-l-primary/30",children:[o.jsx(jr,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Xr,{variant:A.success?"success":"destructive",className:"text-xs",children:[A.success?o.jsx(Ve,{className:"w-3 h-3 mr-1"}):o.jsx(Mt,{className:"w-3 h-3 mr-1"}),A.success?"Success":"Error"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[o.jsx(lt,{className:"w-3 h-3"}),o.jsx("span",{children:A.databaseName})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[o.jsx(jn,{className:"w-3 h-3"}),o.jsx("span",{children:_(A.timestamp)})]}),A.executionTime&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[o.jsx(Zg,{className:"w-3 h-3"}),o.jsxs("span",{children:[A.executionTime,"ms"]})]})]}),o.jsx("div",{className:"text-sm font-medium text-foreground",children:A.naturalLanguage})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsx(R.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>F(A.sqlQuery),title:"Copy SQL",children:o.jsx(zl,{className:"w-4 h-4"})})}),s&&o.jsx(R.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>s(A.sqlQuery,A.naturalLanguage),title:"Load in editor",children:o.jsx(Ai,{className:"w-4 h-4"})})}),n&&A.success&&o.jsx(R.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>n(A.sqlQuery,A.naturalLanguage),title:"Run query",children:o.jsx(Ey,{className:"w-4 h-4"})})})]})]})}),o.jsx(at,{className:"pt-0",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"p-3 rounded-lg bg-muted/30 border font-mono text-sm",children:o.jsx("pre",{className:"whitespace-pre-wrap text-xs overflow-x-auto",children:A.sqlQuery})}),A.success&&A.rowsAffected!==void 0&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[A.rowsAffected," rows affected"]}),!A.success&&A.error&&o.jsx("div",{className:"p-2 rounded bg-red-500/10 border border-red-500/20",children:o.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:A.error})})]})})]})},A.id)):o.jsxs(R.div,{className:"text-center py-12 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},children:[o.jsx(jn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsxs("p",{children:["No queries found ",d||u!=="all"?"matching your criteria":`for ${j}`]}),o.jsx("p",{className:"text-sm mt-2",children:d||u!=="all"?"Try adjusting your search or filters":"Start by running some queries to see them here"})]})})})})]})},_5=({title:t="NaturalToSQL"})=>{const[n,s]=v.useState(!1),[i,l]=v.useState(!1);v.useEffect(()=>{l(!!window.electronAPI),window.electronAPI&&window.electronAPI.windowIsMaximized&&window.electronAPI.windowIsMaximized().then(s).catch(console.error);const h=g=>{s(g)};return window.electronAPI&&window.electronAPI.on&&window.electronAPI.on("window-maximized",h),()=>{window.electronAPI&&window.electronAPI.removeListener&&window.electronAPI.removeListener("window-maximized",h)}},[]);const d=async()=>{if(window.electronAPI&&window.electronAPI.windowMinimize)try{await window.electronAPI.windowMinimize()}catch(h){console.error("Error handling window minimize:",h)}},u=async()=>{if(window.electronAPI&&window.electronAPI.windowMaximize)try{if(await window.electronAPI.windowMaximize(),window.electronAPI.windowIsMaximized){const h=await window.electronAPI.windowIsMaximized();s(h)}}catch(h){console.error("Error handling window maximize:",h)}},m=async()=>{if(window.electronAPI&&window.electronAPI.windowClose)try{await window.electronAPI.windowClose()}catch(h){console.error("Error handling window close:",h)}};return i?o.jsxs("div",{className:"flex items-center justify-between h-8 bg-background/95 backdrop-blur-sm border-b border-border/50 select-none",style:{WebkitAppRegion:"drag",position:"relative",zIndex:1e3},children:[o.jsxs("div",{className:"flex items-center px-3 space-x-2 h-full",children:[o.jsx(lt,{className:"w-3.5 h-3.5 text-primary flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium text-foreground/90 truncate",children:t})]}),o.jsxs("div",{className:"flex items-center h-full",children:[o.jsx(Ae,{variant:"ghost",size:"sm",className:"h-8 w-12 p-0 rounded-none hover:bg-muted/70 focus:bg-muted/70 transition-colors",style:{WebkitAppRegion:"no-drag"},onClick:d,title:"Minimize",children:o.jsx(cP,{className:"w-3 h-3"})}),o.jsx(Ae,{variant:"ghost",size:"sm",className:"h-8 w-12 p-0 rounded-none hover:bg-muted/70 focus:bg-muted/70 transition-colors",style:{WebkitAppRegion:"no-drag"},onClick:u,title:n?"Restore Down":"Maximize",children:n?o.jsx(zl,{className:"w-3 h-3"}):o.jsx(PP,{className:"w-3 h-3"})}),o.jsx(Ae,{variant:"ghost",size:"sm",className:"h-8 w-16 p-0 rounded-none hover:bg-red-500 hover:text-white focus:bg-red-500 focus:text-white transition-colors",style:{WebkitAppRegion:"no-drag"},onClick:m,title:"Close",children:o.jsx(nr,{className:"w-4 h-4"})})]})]}):null},lv=v.createContext(void 0),Am=()=>{const t=v.useContext(lv);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},z5=({children:t,open:n,setOpen:s,animate:i=!0})=>{const[l,d]=v.useState(!0),[u,m]=v.useState(350),h=n!==void 0?n:l,g=s!==void 0?s:d;return o.jsx(lv.Provider,{value:{open:h,setOpen:g,animate:i,width:u,setWidth:m},children:t})},F5=({children:t,open:n,setOpen:s,animate:i})=>o.jsx(z5,{open:n,setOpen:s,animate:i,children:t}),V5=t=>o.jsxs(o.Fragment,{children:[o.jsx(U5,{...t}),o.jsx($5,{...t})]}),U5=({className:t,children:n,...s})=>{const{open:i,setOpen:l,animate:d,width:u,setWidth:m}=Am(),[h,g]=v.useState(!1),x=C=>{C.preventDefault(),g(!0)},y=C=>{if(!h)return;const S=C.clientX;S>=280&&S<=600&&m(S)},b=()=>{g(!1)};return Jt.useEffect(()=>(h?(document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.body.style.cursor="",document.body.style.userSelect=""}),[h]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative",children:[o.jsx(R.div,{className:ot("h-full px-4 py-4 hidden md:flex md:flex-col bg-card border-r border-border shrink-0",t),animate:{width:d?i?`${u}px`:"80px":`${u}px`},style:{width:i?`${u}px`:"80px",minWidth:i?`${u}px`:"80px"},...s,children:n}),i&&o.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize bg-transparent hover:bg-primary/20 transition-colors z-10",onMouseDown:x}),o.jsx("div",{className:"absolute -right-3 top-6 z-20",children:o.jsx("button",{className:"rounded-full bg-background border border-border p-1 shadow-md hover:shadow-lg transition-shadow",onClick:()=>l(!i),title:i?"Collapse Sidebar":"Expand Sidebar",children:i?o.jsx(bC,{className:"h-4 w-4"}):o.jsx(Fi,{className:"h-4 w-4"})})})]})})},$5=({className:t,children:n,...s})=>{const{open:i,setOpen:l}=Am();return o.jsx(o.Fragment,{children:o.jsxs("div",{className:ot("h-10 px-4 py-4 flex flex-row md:hidden items-center justify-between bg-card border-b border-border w-full"),...s,children:[o.jsx("div",{className:"flex justify-end z-20 w-full",children:o.jsx(iP,{className:"text-foreground",onClick:()=>l(!i)})}),o.jsx(hn,{children:i&&o.jsxs(R.div,{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:ot("fixed h-full w-full inset-0 bg-background z-[100] flex flex-col justify-between",t),children:[o.jsx("div",{className:"absolute right-10 top-10 z-50 text-foreground",onClick:()=>l(!i),children:o.jsx(nr,{})}),n]})})]})})},Cs=({title:t,children:n,className:s,...i})=>{const{open:l,animate:d}=Am();return o.jsxs("div",{className:ot("mb-6",s),...i,children:[t&&o.jsx(R.h3,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3 px-2",animate:{opacity:d?l?1:0:1,display:d?l?"block":"none":"block"},children:t}),n]})},q5=({currentProfile:t,profiles:n,onSwitchProfile:s,onCreateProfile:i,onViewHistory:l,onViewSchema:d,onExecuteQuery:u,activeTab:m,setActiveTab:h,onOpenHealthManager:g,healthStatus:x,setupType:y,forceCollapsed:b=!1,windowWidth:C=1024})=>{const S=!b&&C>=1024,[N,j]=v.useState(S),[O,D]=v.useState("checking"),[L,_]=v.useState(!1),[F,A]=v.useState(""),[ne,z]=v.useState([]);v.useEffect(()=>{const Y=localStorage.getItem("customQueries");if(Y)try{z(JSON.parse(Y))}catch(ke){console.error("Failed to load custom queries:",ke)}},[]),v.useEffect(()=>{b&&N&&j(!1)},[b,N]);const X=()=>{if(F.trim()){const Y=[...ne,F.trim()];z(Y),localStorage.setItem("customQueries",JSON.stringify(Y)),A(""),_(!1)}},U=()=>{A(""),_(!1)},re=Y=>{const ke=ne.filter((H,Oe)=>Oe!==Y);z(ke),localStorage.setItem("customQueries",JSON.stringify(ke))},[Z,me]=v.useState(!1),[xe,se]=v.useState({tables:0,views:0,procedures:0,functions:0});v.useEffect(()=>{t&&(pe(),$())},[t]);const pe=async()=>{if(t)try{const Y=await He.getSchema(t.id),ke={tables:Y.tables?.filter(H=>!H.name.startsWith("v_")).length||0,views:Y.tables?.filter(H=>H.name.startsWith("v_")).length||0,procedures:0,functions:0};se(ke)}catch(Y){console.error("Failed to load schema:",Y)}},ue=async()=>{if(!(!t||Z)){me(!0);try{await Promise.all([pe(),$()])}finally{me(!1)}}},$=async()=>{if(t){D("checking");try{await He.getSchema(t.id),D("connected")}catch{D("disconnected")}}},ce=()=>{switch(O){case"connected":return o.jsx(WP,{className:"w-4 h-4 text-green-500"});case"disconnected":return o.jsx(tx,{className:"w-4 h-4 text-red-500"});case"checking":return o.jsx(fd,{className:"w-4 h-4 text-yellow-500 animate-pulse"})}},ae=()=>{switch(O){case"connected":return"Connected";case"disconnected":return"Disconnected";case"checking":return"Checking..."}},T=()=>{if(!x)return"checking";const{api:Y,llm:ke}=x;return y==="basic"?Y.status==="loading"?"loading":Y.status==="healthy"?"healthy":Y.status==="down"?"issues":Y.status==="degraded"?"degraded":"checking":Y.status==="loading"||ke.status==="loading"||ke.status==="initializing"?"loading":Y.status==="healthy"&&ke.status==="healthy"?"healthy":Y.status==="down"||ke.status==="error"?"issues":Y.status==="degraded"||ke.status==="rate_limited"?"degraded":"checking"},Q=()=>{const Y=T();if(y==="basic")switch(Y){case"healthy":return"API Healthy";case"issues":return"API Issues";case"degraded":return"API Degraded";case"loading":return"API Loading...";case"checking":default:return"Checking API..."}switch(Y){case"healthy":return"All Systems Healthy";case"issues":return"Service Issues";case"degraded":return"Rate Limited";case"loading":return"Switching Modes...";case"checking":default:return"Checking Status..."}},fe=()=>{switch(T()){case"healthy":return o.jsx(Gn,{className:"w-4 h-4 text-green-500"});case"issues":return o.jsx(tx,{className:"w-4 h-4 text-red-500"});case"degraded":return o.jsx(On,{className:"w-4 h-4 text-yellow-500"});case"loading":return o.jsx(vt,{className:"w-4 h-4 text-purple-500 animate-spin"});case"checking":default:return o.jsx(fd,{className:"w-4 h-4 text-gray-500 animate-pulse"})}},ve=()=>{switch(T()){case"healthy":return"default";case"issues":return"destructive";case"degraded":return"secondary";case"loading":return"secondary";case"checking":default:return"outline"}},G=()=>{switch(T()){case"healthy":return"bg-green-500";case"issues":return"bg-red-500";case"degraded":return"bg-yellow-500";case"loading":return"bg-purple-500";case"checking":default:return"bg-gray-400"}},ee=[{label:"New Query",icon:o.jsx(Is,{className:"w-4 h-4"}),action:()=>h?.("query"),active:m==="query"},{label:"View Schema",icon:o.jsx(lt,{className:"w-4 h-4"}),action:()=>{d(),h?.("schema")},active:m==="schema"},{label:"Query History",icon:o.jsx(jn,{className:"w-4 h-4"}),action:()=>{l(),h?.("history")},active:m==="history"}],we=["Show all tables in the database","List recent orders with customer details","Find products with low inventory","Get monthly sales summary"];return o.jsxs(F5,{open:N,setOpen:j,animate:!0,children:[o.jsxs(V5,{className:"justify-between gap-6 scrollbar-hide",children:[o.jsxs("div",{className:"flex flex-col flex-1 overflow-y-auto overflow-x-hidden scrollbar-hide",children:[o.jsx(Cs,{children:o.jsxs(R.div,{className:ot("p-3 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border border-blue-200 dark:border-blue-800",N?"flex items-center gap-3":"flex justify-center"),animate:{opacity:N?1:.8},children:[o.jsx(R.div,{className:ot("flex-shrink-0",!N&&"flex justify-center"),animate:{scale:N?1:.8},children:ce()}),N&&o.jsxs(o.Fragment,{children:[o.jsxs(R.div,{className:"flex-1 min-w-0",animate:{opacity:N?1:0,display:N?"block":"none"},children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:t?.databaseName||"No Database"}),o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[ae(),t&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"•"}),o.jsx("span",{className:"truncate",children:t.serverName})]})]})]}),o.jsx(R.button,{className:"flex-shrink-0 p-1.5 rounded-md hover:bg-background/50 transition-colors",onClick:ue,disabled:Z||!t,title:"Refresh database information",animate:{opacity:1,scale:N?1:.9},whileHover:{scale:N?1.1:1},whileTap:{scale:N?.95:.85},children:o.jsx(ko,{className:ot("w-4 h-4 text-muted-foreground",Z&&"animate-spin")})})]})]})}),o.jsx(Cs,{title:"Quick Actions",children:o.jsx("div",{className:ot("space-y-1",!N&&"space-y-3"),children:ee.map((Y,ke)=>o.jsxs(R.button,{className:ot("w-full p-2 rounded-lg transition-colors group",Y.active?"bg-primary text-primary-foreground shadow-sm":"hover:bg-accent hover:text-accent-foreground",N?"flex items-center gap-3 text-left":"flex justify-center"),onClick:Y.action,whileHover:{x:N?2:0,scale:N?1:1.05},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ke*.1},title:N?void 0:Y.label,children:[o.jsx("div",{className:ot("flex-shrink-0",!N&&"flex justify-center"),children:Y.icon}),N&&o.jsx(R.span,{className:"flex-1 text-sm font-medium",animate:{opacity:N?1:0,display:N?"block":"none"},children:Y.label}),N&&Y.active&&o.jsx(Fi,{className:"w-4 h-4 opacity-60"})]},Y.label))})}),t&&o.jsx(Cs,{title:N?"Database Overview":void 0,children:N?o.jsxs(R.div,{className:"space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(nt,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ly,{className:"w-4 h-4 text-blue-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold",children:xe.tables}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Tables"})]})]})}),o.jsx(nt,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(So,{className:"w-4 h-4 text-green-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold",children:xe.views}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Views"})]})]})})]}),o.jsxs(nt,{className:"p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:g,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[fe(),o.jsx("span",{className:"text-sm font-medium",children:"System Health"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xr,{variant:ve(),className:"text-xs",children:Q()}),o.jsx(Fi,{className:"w-4 h-4 text-muted-foreground"})]})]}),x&&o.jsxs("div",{className:"space-y-1 mb-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"API"}),o.jsxs("span",{className:ot("capitalize font-medium",x.api.status==="healthy"?"text-green-600":x.api.status==="down"?"text-red-600":x.api.status==="loading"?"text-blue-600":"text-yellow-600"),children:[x.api.status,x.api.responseTime&&` (${x.api.responseTime}ms)`]})]}),y!=="basic"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"LLM"}),o.jsx("span",{className:ot("capitalize font-medium",x.llm.status==="healthy"?"text-green-600":x.llm.status==="error"?"text-red-600":x.llm.status==="loading"?"text-blue-600":"text-yellow-600"),children:x.llm.status==="rate_limited"?"Rate Limited":x.llm.status})]}),x.llm.localModel&&o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"Model"}),o.jsx("span",{className:"font-medium text-blue-600 truncate max-w-24",title:x.llm.localModel,children:x.llm.localModel})]}),x.llm.rateLimitInfo&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[o.jsx("span",{children:"Usage"}),o.jsxs("span",{children:[x.llm.rateLimitInfo.used.toLocaleString()," / ",x.llm.rateLimitInfo.limit.toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:o.jsx("div",{className:ot("h-1.5 rounded-full transition-all duration-300",x.llm.status==="healthy"?"bg-green-500":x.llm.status==="error"?"bg-red-500":x.llm.status==="loading"?"bg-blue-500":"bg-yellow-500"),style:{width:`${Math.min(x.llm.rateLimitInfo.used/x.llm.rateLimitInfo.limit*100,100)}%`}})})]})]})]}),o.jsx("div",{className:ot("h-2 rounded-full transition-all duration-300",G())})]})]}):o.jsx("div",{className:"space-y-4",children:o.jsx(R.button,{className:"w-full p-2 rounded-lg hover:bg-muted/50 transition-colors",onClick:g,whileHover:{scale:1.05},whileTap:{scale:.95},title:"System Health",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:o.jsx("div",{className:"flex justify-center",children:fe()})})})}),N&&o.jsx(Cs,{title:"Quick Templates",children:o.jsxs(R.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[we.slice(0,3).map((Y,ke)=>o.jsx(R.button,{className:"w-full text-left p-2 rounded-lg border border-dashed border-border hover:border-primary hover:bg-accent/50 transition-colors group",onClick:()=>u?.(Y),whileHover:{scale:1.01},whileTap:{scale:.99},children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(On,{className:"w-3 h-3 text-yellow-500 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-foreground line-clamp-2",children:Y})]})},ke)),ne.map((Y,ke)=>o.jsxs(R.button,{className:"w-full text-left p-2 rounded-lg border border-dashed border-blue-500/30 hover:border-blue-400 hover:bg-blue-50/5 transition-colors group relative",onClick:()=>u?.(Y),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},whileHover:{scale:1.01},whileTap:{scale:.99},children:[o.jsxs("div",{className:"flex items-start gap-2 pr-6",children:[o.jsx(AP,{className:"w-3 h-3 text-blue-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-foreground line-clamp-2",children:Y})]}),o.jsx("button",{onClick:H=>{H.stopPropagation(),re(ke)},className:"absolute top-1 right-1 p-1 text-gray-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all rounded",title:"Remove custom query",children:o.jsx(nr,{className:"w-3 h-3"})})]},`custom-${ke}`)),o.jsxs(Ae,{variant:"ghost",size:"sm",className:"w-full text-xs",onClick:()=>_(!0),children:[o.jsx(Is,{className:"w-3 h-3 mr-1"}),"Create Custom Query"]})]})}),N?o.jsx(Cs,{title:`Profiles (${n.length})`,children:o.jsxs(R.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[o.jsx(lc,{className:"max-h-52",children:o.jsx("div",{className:"space-y-1",children:n.map(Y=>o.jsxs(R.button,{className:ot("w-full flex items-center gap-2 p-2 rounded-lg transition-colors text-left",Y.id===t?.id?"bg-primary/10 border border-primary/20 text-primary":"hover:bg-accent hover:text-accent-foreground"),onClick:()=>s(Y.id),whileHover:{x:2},children:[o.jsx(lt,{className:"w-3 h-3 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-xs font-medium truncate",children:Y.databaseName}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:Y.serverName})]}),Y.id===t?.id&&o.jsx(fd,{className:"w-2 h-2 text-primary flex-shrink-0"})]},Y.id))})}),o.jsxs(Ae,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:i,children:[o.jsx(Is,{className:"w-3 h-3 mr-1"}),"Add Profile"]})]})}):o.jsx(Cs,{children:o.jsxs("div",{className:"space-y-4",children:[n.length>0&&o.jsxs(R.div,{className:"flex flex-col gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[n.slice(0,3).map(Y=>o.jsx(R.button,{className:ot("p-2 rounded-lg transition-colors",Y.id===t?.id?"bg-primary/20 text-primary":"hover:bg-accent"),onClick:()=>s(Y.id),whileHover:{scale:1.05},whileTap:{scale:.95},title:`${Y.databaseName} - ${Y.serverName}`,children:o.jsx(lt,{className:"w-4 h-4 mx-auto"})},Y.id)),n.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+",n.length-3," more"]})]}),o.jsx(R.button,{className:"w-full p-2 rounded-lg border-2 border-dashed border-border hover:border-primary transition-colors",onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Add Profile",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:o.jsx(Is,{className:"w-4 h-4 mx-auto"})})]})})]}),o.jsx(Cs,{children:o.jsx(R.div,{className:"space-y-2",animate:{opacity:N?1:.8},children:N?o.jsxs("div",{className:"text-xs text-muted-foreground text-center p-2 border-t border-border",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[o.jsx(hr,{className:"w-3 h-3"}),o.jsx("span",{children:"NaturalToSQL"})]}),o.jsx("div",{children:"Secure Database Interface"})]}):o.jsx("div",{className:"flex justify-center",children:o.jsx(lt,{className:"w-5 h-5 text-muted-foreground"})})})})]}),L&&o.jsx(R.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:U,children:o.jsxs(R.div,{className:"bg-card p-4 sm:p-6 rounded-lg shadow-lg border border-border min-w-[90vw] sm:min-w-[400px] max-w-[95vw] sm:max-w-[700px] w-full mx-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Y=>Y.stopPropagation(),children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Create Custom Query"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"custom-query-input",className:"block text-sm font-medium mb-2",children:"Query Description"}),o.jsx("textarea",{id:"custom-query-input",value:F,onChange:Y=>A(Y.target.value),placeholder:"Enter your natural language query...",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground resize-none text-sm",rows:3,autoFocus:!0})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[o.jsx(Ae,{variant:"outline",size:"sm",onClick:U,className:"w-full sm:w-auto",children:"Cancel"}),o.jsx(Ae,{size:"sm",onClick:X,disabled:!F.trim(),className:"w-full sm:w-auto",children:"Save Query"})]})]})]})})]})},B5=()=>{const{notifications:t,markNotificationAsRead:n,clearAllNotifications:s,markAllAsRead:i,unreadCount:l}=Hy(),[d,u]=v.useState(!1),m=v.useRef(null),h=v.useRef(null);v.useEffect(()=>{const x=y=>{m.current&&!m.current.contains(y.target)&&h.current&&!h.current.contains(y.target)&&u(!1)};if(d)return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[d]),v.useEffect(()=>{d&&l>0&&i()},[d,l,i]);const g=()=>{u(x=>!x)};return o.jsxs("div",{className:"relative",children:[o.jsxs(Ae,{ref:h,variant:"ghost",size:"icon",onClick:g,className:"relative",children:[o.jsx(hC,{className:"w-4 h-4"}),l>0&&o.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:l>99?"99+":l})]}),o.jsx(hn,{children:d&&o.jsxs(R.div,{ref:m,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute right-0 top-full mt-2 w-96 max-h-[32rem] bg-card border border-border rounded-lg shadow-lg z-50 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border",children:[o.jsx("h3",{className:"font-medium text-sm text-foreground",children:"Notifications"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ae,{variant:"ghost",size:"sm",onClick:i,className:"text-xs",disabled:l===0,children:"Mark all read"}),o.jsx(Ae,{variant:"ghost",size:"sm",onClick:s,className:"text-xs",children:"Clear all"}),o.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:o.jsx(nr,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?o.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[o.jsx(rP,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):o.jsx("div",{className:"divide-y divide-border",children:t.map(x=>o.jsx("div",{className:`p-3 hover:bg-muted cursor-pointer transition-colors ${x.read?"":"bg-muted/50"}`,onClick:()=>n(x.id),children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:`p-1 rounded-full flex-shrink-0 ${x.type==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":x.type==="error"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":x.type==="warning"?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}`,children:[x.type==="success"&&o.jsx(Ve,{className:"w-3 h-3"}),x.type==="error"&&o.jsx(Mt,{className:"w-3 h-3"}),x.type==="warning"&&o.jsx(Mt,{className:"w-3 h-3"}),x.type==="info"&&o.jsx(Fs,{className:"w-3 h-3"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:x.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:x.message}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x.timestamp.toLocaleString()})]}),!x.read&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]})},x.id))})})]})})]})},H5=({isOpen:t,currentMode:n,targetMode:s,onClose:i,onModeChanged:l,onNotification:d})=>{const[u,m]=v.useState(n),[h,g]=v.useState(""),[x,y]=v.useState(!1),[b,C]=v.useState(!1),[S,N]=v.useState(null),[j,O]=v.useState(!1),[D,L]=v.useState("");Jt.useEffect(()=>{t&&(m(s||n),g(""),y(!1),C(!1),N(null),O(!1),L(""),_())},[t,n,s]),Jt.useEffect(()=>{t&&u==="groq"&&_()},[u,t]);const _=async()=>{if(u==="groq"&&window.electronAPI?.getGroqApiKeyStatus)try{const U=await window.electronAPI.getGroqApiKeyStatus();U.hasApiKey&&(g(""),N("success"),d({type:"info",title:"Existing API Key Found",message:`Found existing API key (${U.keyPrefix}). You can use it or enter a new one.`,duration:4e3}))}catch(U){console.warn("Failed to check existing API key:",U)}},F=[{id:"groq",name:"Groq AI",description:"Use Groq's fast AI models for natural language to SQL conversion",icon:dn,color:"text-blue-500",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",requiresApiKey:!0,features:["Fast AI processing","High accuracy","Cloud-based","Requires API key"]},{id:"local",name:"Local LLM",description:"Use a locally installed language model for privacy and offline use",icon:gr,color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/20",requiresApiKey:!1,features:["Complete privacy","Offline capability","No API costs","Local processing"]},{id:"basic",name:"Basic Mode",description:"Use the application for database management without AI assistance",icon:lt,color:"text-gray-500",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/20",requiresApiKey:!1,features:["Database browsing","Manual SQL editing","Schema exploration","No AI features"]}],A=async()=>{if(!h.trim()){d({type:"warning",title:"API Key Required",message:"Please enter your Groq API key to test"});return}C(!0),N(null);try{const U=await He.testGroqApiKey(h.trim());U.valid?(N("success"),d({type:"success",title:"API Key Valid",message:"Your Groq API key is working correctly",duration:3e3})):(N("error"),d({type:"error",title:"API Key Invalid",message:U.message||"The provided API key is not valid",duration:5e3}))}catch{N("error"),d({type:"error",title:"Test Failed",message:"Could not test the API key. Please check your connection.",duration:5e3})}finally{C(!1)}},ne=async()=>{if(u==="groq"){const U=h.trim();if(!U&&!(S==="success"&&!U)){d({type:"warning",title:"API Key Required",message:"Please enter your Groq API key to use Groq mode"});return}if(U&&S!=="success"){d({type:"warning",title:"Test API Key",message:"Please test your API key before applying changes"});return}}O(!0);try{const U=F.find(re=>re.id===u)?.name||u;L(`Preparing to switch to ${U}...`),await new Promise(re=>setTimeout(re,500)),L(`Switching to ${U}...`),await new Promise(re=>setTimeout(re,500)),l(u,u==="groq"?h.trim():void 0),L("Mode changed successfully!"),await new Promise(re=>setTimeout(re,500)),d({type:"success",title:"Mode Changed",message:`Successfully switched to ${U}. ${u==="basic"?"AI features are now disabled.":"The system is initializing..."}`,duration:4e3}),i()}catch(U){console.error("Mode change error:",U),d({type:"error",title:"Failed to Change Mode",message:U instanceof Error?U.message:"An unexpected error occurred while changing the mode.",duration:5e3})}finally{O(!1),L("")}},z=()=>{m(n),g(""),y(!1),N(null),C(!1),O(!1)},X=()=>{z(),i()};return o.jsx(hn,{children:t&&o.jsxs(R.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx(R.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:X}),o.jsxs(R.div,{className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-background border border-border rounded-xl shadow-2xl",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},children:[o.jsx("div",{className:"sticky top-0 bg-background border-b border-border p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Change AI Mode"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Switch between different AI processing modes"})]}),o.jsx("button",{onClick:X,className:"p-2 hover:bg-muted rounded-lg transition-colors",disabled:j,children:o.jsx(nr,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Select Mode"}),o.jsx("div",{className:"space-y-3",children:F.map(U=>{const re=U.icon,Z=u===U.id,me=n===U.id;return o.jsxs(R.div,{className:`
                          relative p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${Z?`${U.borderColor} ${U.bgColor}`:"border-border bg-background hover:bg-muted/50"}
                        `,onClick:()=>m(U.id),whileHover:{scale:1.01},whileTap:{scale:.99},children:[me&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800/20 dark:text-green-400",children:"Current"})}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`p-2 rounded-lg ${U.bgColor}`,children:o.jsx(re,{className:`w-6 h-6 ${U.color}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-medium text-foreground",children:U.name}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:U.description}),o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:U.features.map((xe,se)=>o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-muted text-muted-foreground",children:xe},se))})]}),o.jsx("div",{className:`
                            w-5 h-5 rounded-full border-2 flex items-center justify-center
                            ${Z?U.borderColor:"border-border"}
                          `,children:Z&&o.jsx("div",{className:`w-2 h-2 rounded-full ${U.color.replace("text-","bg-")}`})})]})]},U.id)})})]}),u==="groq"&&o.jsxs(R.div,{className:"space-y-4 p-4 bg-blue-500/5 border border-blue-500/20 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sm,{className:"w-5 h-5 text-blue-500"}),o.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Groq API Configuration"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"API Key"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:x?"text":"password",value:h,onChange:U=>{g(U.target.value),N(null)},placeholder:"Enter your Groq API key (gsk_...)",className:"w-full px-3 py-2 pr-20 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[S==="success"&&o.jsx(Ve,{className:"w-4 h-4 text-green-500"}),S==="error"&&o.jsx(Mt,{className:"w-4 h-4 text-red-500"}),o.jsx("button",{type:"button",onClick:()=>y(!x),className:"p-1 hover:bg-muted rounded",children:x?o.jsx(Vi,{className:"w-4 h-4 text-muted-foreground"}):o.jsx(So,{className:"w-4 h-4 text-muted-foreground"})})]})]})]}),o.jsxs("button",{onClick:A,disabled:!h.trim()||b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b?o.jsx(vt,{className:"w-4 h-4 animate-spin"}):o.jsx(Co,{className:"w-4 h-4"}),o.jsx("span",{children:b?"Testing...":"Test API Key"})]})]})]}),u==="local"&&o.jsx(R.div,{className:"p-4 bg-green-500/5 border border-green-500/20 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(gr,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Local LLM Setup"}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Use locally installed language models for complete privacy and offline operation. This mode supports Ollama and other local AI models for secure, on-device processing."})]})]})}),u==="basic"&&o.jsx(R.div,{className:"p-4 bg-gray-500/5 border border-gray-500/20 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(lt,{className:"w-5 h-5 text-gray-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Basic Mode"}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"In basic mode, you can browse your database, explore schemas, and write SQL manually. Natural language to SQL conversion will not be available."})]})]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:u!==n?o.jsxs("span",{children:["Mode will change from ",o.jsx("strong",{children:F.find(U=>U.id===n)?.name})," to ",o.jsx("strong",{children:F.find(U=>U.id===u)?.name})]}):o.jsx("span",{children:"No changes to apply"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:X,disabled:j,className:"px-4 py-2 text-muted-foreground hover:text-foreground border border-border rounded-lg hover:bg-muted transition-colors disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{onClick:ne,disabled:j||u===n||u==="groq"&&(!h.trim()||S!=="success"),className:"flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-w-[140px]",children:[j?o.jsx(vt,{className:"w-4 h-4 animate-spin"}):o.jsx(Ve,{className:"w-4 h-4"}),o.jsx("span",{children:j?D||"Applying...":"Apply Changes"})]})]})]})})]})]})})},W5={checking:{label:"System Check",emoji:"🔍",description:"Verifying system requirements and dependencies"},winget:{label:"Package Manager",emoji:"📦",description:"Installing Windows Package Manager for app installation"},ollama:{label:"Ollama App",emoji:"🤖",description:"Installing Ollama application (~150MB)"},waiting:{label:"Service Start",emoji:"⚡",description:"Starting Ollama background service"},model:{label:"AI Model",emoji:"🧠",description:"Downloading qwen3:8b language model (~4.5GB)"},starting:{label:"Model Start",emoji:"🚀",description:"Initializing the language model"},complete:{label:"Complete",emoji:"🎉",description:"Local LLM setup completed successfully!"},error:{label:"Error",emoji:"❌",description:"Installation encountered an error"}},cv=({isOpen:t,progress:n,step:s,message:i,error:l,subProgress:d,totalSize:u,cancellable:m=!1,timeEstimate:h,downloadSpeed:g,onClose:x,onCancel:y})=>{if(!t)return null;const b=async()=>{try{console.log("🚫 Cancelling Ollama installation..."),y&&y(),await window.electronAPI?.cancelOllamaInstallation(),console.log("🚫 Installation cancelled successfully"),x()}catch(D){console.error("Failed to cancel installation:",D),x()}},C=async()=>{if(m&&s!=="complete"&&!l){console.log("🚫 Closing modal - cancelling ongoing installation..."),y&&y();try{await window.electronAPI?.cancelOllamaInstallation(),console.log("🚫 Installation cancelled due to modal close")}catch(D){console.error("Failed to cancel installation when closing modal:",D)}}x()},S=W5[s]||{label:"Processing",emoji:"⚙️",description:i},N=s==="model"&&(i.includes("%")||d!==void 0),j=d||0,O=u||(()=>{const D=i.match(/\(([^)]+)\)/);return D?D[1]:""})();return o.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/50",children:o.jsxs("div",{className:"bg-background rounded-lg shadow-lg p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"text-4xl mb-2",children:S.emoji}),o.jsx("h2",{className:"text-xl font-bold mb-1",children:"Setting up Local LLM"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:S.label})]}),o.jsx("div",{className:"mb-4 text-sm text-center",children:S.description}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[o.jsx("span",{children:"Overall Progress"}),o.jsxs("span",{children:[n.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${n}%`}})})]}),d!==void 0&&d>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[o.jsxs("span",{children:[S.label," Progress"]}),o.jsxs("span",{children:[d.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})})]}),O&&o.jsxs("div",{className:"text-xs text-center text-muted-foreground mb-2 bg-muted/30 p-2 rounded",children:["📦 ",O]}),(g||h)&&o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-4 bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:[g&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"🚀"}),o.jsx("span",{children:g})]}),h&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"⏱️"}),o.jsxs("span",{children:["ETA: ",h]})]})]}),o.jsx("div",{className:"text-xs text-muted-foreground mb-4 p-3 bg-muted/20 rounded border-l-4 border-blue-500",children:i}),l&&o.jsx("div",{className:"text-red-500 text-sm mb-4 bg-red-50 dark:bg-red-950 p-3 rounded border border-red-200 dark:border-red-800",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg mr-2",children:"❌"}),l]})}),N&&j>0&&j<100&&o.jsx("div",{className:"text-xs text-center text-muted-foreground mb-4 bg-blue-50 dark:bg-blue-950 p-2 rounded",children:"📡 Large model download in progress - this may take 10-30 minutes depending on your internet speed"}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[m&&o.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded transition-colors",onClick:b,children:"Cancel Download"}),o.jsx("button",{className:`px-4 py-2 bg-primary text-primary-foreground rounded disabled:opacity-50 transition-colors ${m?"flex-1":"w-full"}`,onClick:C,disabled:s!=="complete"&&!l,children:l?"Close":s==="complete"?"Done":"Please wait..."})]})]})})},G5=({appState:t,onSwitchProfile:n,onRemoveProfile:s,onToggleTheme:i,onNotification:l,onBackToProfiles:d,onOpenHealthManager:u,onChangeModeSetup:m,healthStatus:h,needsOllamaSetup:g,onOllamaSetupComplete:x})=>{const[y,b]=v.useState("query"),[C,S]=v.useState(!1),[N,j]=v.useState(!1),[O,D]=v.useState(!1),[L,_]=v.useState(void 0),[F,A]=v.useState(typeof window<"u"?window.innerWidth:1024),[ne,z]=v.useState(null),[X,U]=v.useState({naturalLanguageInput:"",sqlQuery:"",queryResult:void 0,queryAnalysis:void 0,queryParameters:void 0}),re=v.useCallback(Ee=>{U(Ee)},[]);v.useEffect(()=>{console.log("Mode change detected, clearing query editor state"),U({naturalLanguageInput:"",sqlQuery:"",queryResult:void 0,queryAnalysis:void 0,queryParameters:void 0})},[t.setupType]);const Z=v.useRef(null),me=v.useRef(null),[xe,se]=v.useState(!1),[pe,ue]=v.useState(0),[$,ce]=v.useState("checking"),[ae,T]=v.useState(""),[Q,fe]=v.useState(void 0),[ve,G]=v.useState(void 0),[ee,we]=v.useState(void 0),[Y,ke]=v.useState(!1),[H,Oe]=v.useState(void 0),[Ke,Ye]=v.useState(void 0),[_e,wt]=v.useState(!1);v.useEffect(()=>{if(!window.electronAPI){console.log("🚫 No electronAPI available for progress events");return}const Ee=Re=>{console.log("🎯 RECEIVED PROGRESS EVENT IN RENDERER:",JSON.stringify(Re,null,2)),console.log("📊 Received progress event:",{step:Re.step,progress:Re.progress,subProgress:Re.subProgress,message:Re.message,timestamp:new Date().toISOString()}),wt(Ze=>(console.log("🔍 Current cancellation state:",Ze),Ze?(console.log("🚫 Ignoring progress event after cancellation:",Re),Ze):(console.log("🔄 Updating UI state with progress data"),ce(Re.step),T(Re.message),ue(Re.progress),G(Re.subProgress),we(Re.totalSize),ke(Re.cancellable||!1),Oe(Re.timeEstimate),Ye(Re.downloadSpeed),Re.error&&fe(Re.message||"Unknown error"),se(rt=>(console.log("🔍 Current modal state:",rt,"Should auto-show?",!rt&&Re.step&&Re.step!=="complete"),!rt&&Re.step&&Re.step!=="complete"?(console.log("🔄 Auto-showing modal due to progress event"),!0):rt)),Ze)))};return console.log("📡 Setting up ollama-install-progress event listener"),window.electronAPI.on("ollama-install-progress",Ee),()=>{console.log("🧹 Cleaning up ollama-install-progress event listener"),window.electronAPI?.removeListener("ollama-install-progress",Ee)}},[]);const ht=t.profiles.find(Ee=>Ee.id===t.currentProfile);v.useEffect(()=>{const Ee=()=>{A(window.innerWidth)};return window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),v.useEffect(()=>{const Ee=Re=>{Z.current&&!Z.current.contains(Re.target)&&S(!1),me.current&&!me.current.contains(Re.target)&&j(!1)};return document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[]),v.useEffect(()=>{g&&!xe&&(console.log("🦙 Auto-showing Ollama setup modal in main interface"),wt(!1),se(!0),ue(5),ce("checking"),T("🔍 Checking Ollama status..."),fe(void 0),ke(!1),Rt())},[g,xe]);const Rt=async()=>{try{if(!window.electronAPI)throw new Error("Electron API not available");if(_e){console.log("🚫 Installation cancelled before starting");return}console.log("🦙 Starting automatic Ollama installation from main interface..."),ce("checking"),T("🔍 Checking Ollama status..."),ue(20);const Ee=new Promise((Ze,rt)=>setTimeout(()=>rt(new Error("Operation timed out after 30 seconds")),3e4)),Re=await Promise.race([window.electronAPI.checkOllamaStatus(),Ee]);if(console.log("Ollama status:",Re),ue(40),!Re.ollamaInstalled||!Re.modelInstalled){if(_e){console.log("🚫 Installation cancelled before Ollama setup");return}console.log("Starting Ollama installation..."),ce("starting"),T("Installing Ollama and model..."),ue(50),console.log("🚀 Calling installOllamaSetup from MainInterface...");const Ze=await window.electronAPI.installOllamaSetup();if(console.log("📋 Installation result:",Ze),!Ze.success){console.error("❌ Installation failed:",Ze.error),fe(Ze.error||"Installation failed");return}if(console.log("✅ Installation successful, starting model..."),_e){console.log("🚫 Installation cancelled before model start");return}ce("starting"),T("Starting qwen3:8b model..."),ue(90);const rt=await window.electronAPI.startOllamaModel();console.log("Start model result:",rt),rt.success?(ue(100),ce("complete"),T("Setup completed successfully!"),await new Promise(M=>setTimeout(M,1e3))):(console.warn("Model start had issues but continuing:",rt.error),ue(100),ce("complete"),T("Installation completed, model may still be loading"),await new Promise(M=>setTimeout(M,1e3)))}else if(Re.modelRunning)console.log("Model already running, proceeding..."),ce("complete"),T("Ollama is ready!"),ue(100),await new Promise(Ze=>setTimeout(Ze,500));else{if(_e){console.log("🚫 Installation cancelled before model start");return}console.log("Model installed but not running, starting..."),ce("starting"),T("Starting qwen3:8b model..."),ue(70);const Ze=await window.electronAPI.startOllamaModel();console.log("Start model result:",Ze),Ze.success?(ue(100),ce("complete"),T("Model started successfully!"),await new Promise(rt=>setTimeout(rt,1e3))):(console.warn("Model start had issues but continuing:",Ze.error),ue(100),ce("complete"),T("Model start initiated (may still be loading)"),await new Promise(rt=>setTimeout(rt,1e3)))}console.log("🦙 Setup completed, closing modal..."),se(!1),x&&x(),m&&await m("local")}catch(Ee){console.error("Error in automatic Ollama setup:",Ee);const Re=Ee instanceof Error?Ee.message:"Unknown error";if(Re.includes("cancelled")||_e){console.log("🚫 Installation was cancelled, not showing error"),se(!1),x&&x();return}fe(`Setup failed: ${Re}`)}},jt=F>=768;return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col",style:{height:"100vh"},children:[o.jsx(_5,{}),o.jsx("header",{className:"border-b bg-card",children:o.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(lt,{className:"w-6 h-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"NaturalToSQL"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Convert natural language to SQL queries"})]})]}),ht&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground border-l pl-4 ml-4",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsx("span",{children:ht.databaseName}),o.jsx("span",{className:"text-xs opacity-60",children:"•"}),o.jsx("span",{className:"text-xs",children:ht.serverName})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[!jt&&ht&&o.jsxs("div",{className:"flex items-center space-x-1 mr-4",children:[o.jsx(Ae,{variant:y==="query"?"default":"ghost",size:"sm",onClick:()=>b("query"),children:"Query"}),o.jsx(Ae,{variant:y==="schema"?"default":"ghost",size:"sm",onClick:()=>b("schema"),children:"Schema"}),o.jsx(Ae,{variant:y==="history"?"default":"ghost",size:"sm",onClick:()=>b("history"),children:"History"})]}),d&&o.jsxs(Ae,{variant:"outline",size:"sm",onClick:d,children:[o.jsx(qP,{className:"w-4 h-4 mr-2"}),t.profiles.length<=1?"Add Profile":`Manage Profiles (${t.profiles.length})`]}),t.profiles.length>0&&o.jsxs("div",{className:"relative",ref:Z,children:[o.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>S(!C),className:"min-w-[200px] justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsx("span",{children:ht?.databaseName||"Select Profile"})]}),o.jsx(wo,{className:"w-4 h-4"})]}),C&&o.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-popover border rounded-md shadow-lg z-50",children:o.jsx("div",{className:"p-1",children:t.profiles.map(Ee=>o.jsxs("button",{className:`w-full px-3 py-2 text-left text-sm rounded-sm hover:bg-accent hover:text-accent-foreground flex items-center space-x-2 ${Ee.id===t.currentProfile?"bg-accent text-accent-foreground":""}`,onClick:()=>{n(Ee.id),S(!1)},children:[o.jsx(lt,{className:"w-4 h-4"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:Ee.databaseName}),o.jsx("div",{className:"text-xs text-muted-foreground",children:Ee.serverName})]})]},Ee.id))})})]}),o.jsxs("div",{className:"relative",ref:me,children:[o.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>j(!N),className:"flex items-center space-x-2",title:"Change AI/LLM Mode",children:[t.setupType==="groq"&&o.jsxs(o.Fragment,{children:[o.jsx(On,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Groq AI"})]}),t.setupType==="local"&&o.jsxs(o.Fragment,{children:[o.jsx(dn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Local LLM"})]}),t.setupType==="basic"&&o.jsxs(o.Fragment,{children:[o.jsx(Kg,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Basic Mode"})]}),o.jsx(wo,{className:"w-3 h-3"})]}),N&&o.jsx("div",{className:"absolute top-full right-0 mt-1 w-56 bg-popover border rounded-md shadow-lg z-50",children:o.jsxs("div",{className:"p-1",children:[o.jsxs("button",{className:`w-full px-3 py-2 text-left text-sm rounded-sm hover:bg-accent hover:text-accent-foreground flex items-center space-x-3 ${t.setupType==="groq"?"bg-accent text-accent-foreground":""}`,onClick:async()=>{if(console.log("Groq dropdown clicked, current setupType:",t.setupType,"Is groq:",t.setupType==="groq"),j(!1),t.setupType==="groq"){console.log("Already in Groq mode, returning early");return}const Ee=t.user?.apiKey&&t.user.apiKey.trim()!=="";console.log("Has API key configured:",Ee,"API key:",t.user?.apiKey?`${t.user.apiKey.substring(0,8)}...`:"none"),Ee&&t.user?(console.log("API key exists, switching directly to Groq mode"),m&&await m("groq",t.user.apiKey)):(console.log("No API key configured, opening modal"),_("groq"),D(!0))},children:[o.jsx(On,{className:"w-4 h-4 text-orange-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Groq AI"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Fast cloud-based AI"})]}),t.setupType==="groq"&&o.jsx("div",{className:"ml-auto",children:o.jsx(Ve,{className:"w-4 h-4 text-green-500"})})]}),o.jsxs("button",{className:`w-full px-3 py-2 text-left text-sm rounded-sm hover:bg-accent hover:text-accent-foreground flex items-center space-x-3 ${t.setupType==="local"?"bg-accent text-accent-foreground":""}`,onClick:async()=>{if(j(!1),t.setupType!=="local"){wt(!1),se(!0),ue(5),ce("checking"),T("Checking Ollama status..."),fe(void 0);try{if(!window.electronAPI){console.error("window.electronAPI is not available"),fe("Electron API not available");return}if(!window.electronAPI.checkOllamaStatus){console.error("checkOllamaStatus method not available"),console.log("Available methods:",Object.keys(window.electronAPI)),fe("Ollama status check not available. Please restart the app.");return}console.log("Checking Ollama status..."),ue(20);const Ee=new Promise((Ze,rt)=>setTimeout(()=>rt(new Error("Operation timed out after 30 seconds")),3e4)),Re=await Promise.race([window.electronAPI.checkOllamaStatus(),Ee]);if(console.log("Ollama status:",Re),ue(40),!Re.ollamaInstalled||!Re.modelInstalled){console.log("Starting Ollama installation..."),ce("starting"),T("Installing Ollama and model..."),ue(50),console.log("🚀 Calling installOllamaSetup from MainInterface...");const Ze=await window.electronAPI.installOllamaSetup();if(console.log("📋 Installation result:",Ze),!Ze.success){console.error("❌ Installation failed:",Ze.error),fe(Ze.error||"Installation failed");return}console.log("✅ Installation successful, starting model..."),ce("starting"),T("Starting qwen3:8b model..."),ue(90);const rt=await window.electronAPI.startOllamaModel();console.log("Start model result:",rt),rt.success?(ue(100),ce("complete"),T("Setup completed successfully!"),await new Promise(M=>setTimeout(M,1e3))):(console.warn("Model start had issues but continuing:",rt.error),ue(100),ce("complete"),T("Installation completed, model may still be loading"),await new Promise(M=>setTimeout(M,1e3)))}else if(Re.modelRunning)console.log("Model already running, proceeding..."),ce("complete"),T("Ollama is ready!"),ue(100),await new Promise(Ze=>setTimeout(Ze,500));else{console.log("Model installed but not running, starting..."),ce("starting"),T("Starting qwen3:8b model..."),ue(70);const Ze=await window.electronAPI.startOllamaModel();console.log("Start model result:",Ze),Ze.success?(ue(100),ce("complete"),T("Model started successfully!"),await new Promise(rt=>setTimeout(rt,1e3))):(console.warn("Model start had issues but continuing:",Ze.error),ue(100),ce("complete"),T("Model start initiated (may still be loading)"),await new Promise(rt=>setTimeout(rt,1e3)))}console.log("Closing modal and switching mode..."),se(!1),m&&await m("local")}catch(Ee){console.error("Error in local mode setup:",Ee),fe(`Setup failed: ${Ee instanceof Error?Ee.message:"Unknown error"}`)}}},children:[o.jsx(dn,{className:"w-4 h-4 text-blue-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Local LLM"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Self-hosted model"})]}),t.setupType==="local"&&o.jsx("div",{className:"ml-auto",children:o.jsx(Ve,{className:"w-4 h-4 text-green-500"})})]}),o.jsxs("button",{className:`w-full px-3 py-2 text-left text-sm rounded-sm hover:bg-accent hover:text-accent-foreground flex items-center space-x-3 ${t.setupType==="basic"?"bg-accent text-accent-foreground":""}`,onClick:async()=>{j(!1),t.setupType!=="basic"&&m&&await m("basic")},children:[o.jsx(Kg,{className:"w-4 h-4 text-green-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Basic Mode"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"SQL editor only"})]}),t.setupType==="basic"&&o.jsx("div",{className:"ml-auto",children:o.jsx(Ve,{className:"w-4 h-4 text-green-500"})})]}),o.jsx("div",{className:"border-t my-1"})]})})]}),o.jsx(Ae,{variant:"ghost",size:"icon",onClick:i,children:t.theme==="light"?o.jsx(dP,{className:"w-4 h-4"}):o.jsx(LP,{className:"w-4 h-4"})}),o.jsx(B5,{}),o.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>window.location.reload(),title:"Reload App",children:o.jsx(ko,{className:"w-4 h-4"})})]})]})}),o.jsxs("div",{className:"flex flex-1 min-h-0",children:[jt&&o.jsx(q5,{currentProfile:ht||null,profiles:t.profiles,onSwitchProfile:n,onCreateProfile:d||(()=>{}),onViewHistory:()=>b("history"),onViewSchema:()=>b("schema"),onExecuteQuery:Ee=>{b("query"),z({sql:"",naturalLanguage:Ee,shouldExecute:!1})},activeTab:y,setActiveTab:Ee=>{(Ee==="query"||Ee==="schema"||Ee==="history")&&b(Ee)},onOpenHealthManager:u,healthStatus:h,setupType:t.setupType,forceCollapsed:F<1024,windowWidth:F}),o.jsxs("main",{className:"flex-1 min-w-0 p-6 overflow-auto scrollbar-hide",children:[!jt&&!ht&&o.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",o.jsx("strong",{children:"Small screen detected:"})," Navigation moved to header. Increase window width to see the sidebar."]})}),ht?o.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[y==="query"&&o.jsx(c5,{currentProfile:ht,theme:t.theme,setupType:t.setupType,preloadedQuery:ne,onQueryLoaded:()=>z(null),healthStatus:h,preservedState:X,onStateChange:re}),y==="schema"&&o.jsx(I5,{profileId:ht?.id||null}),y==="history"&&o.jsx(O5,{profileId:ht?.id||null,onLoadQuery:(Ee,Re)=>{z({sql:Ee,naturalLanguage:Re,shouldExecute:!1}),b("query")},onRunQuery:(Ee,Re)=>{z({sql:Ee,naturalLanguage:Re,shouldExecute:!0}),b("query")}})]}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs(nt,{className:"w-96",children:[o.jsx(jr,{children:o.jsx(Jr,{children:t.profiles.length===0?"No Profiles Found":"No Profile Selected"})}),o.jsxs(at,{children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:t.profiles.length===0?"Get started by creating your first database profile to connect to your database.":"Please select a database profile from the sidebar to get started."}),d&&o.jsx(Ae,{onClick:d,className:"w-full",children:t.profiles.length===0?"Create First Profile":"View All Profiles"})]})]})})]})]}),o.jsx(H5,{isOpen:O,currentMode:t.setupType||"basic",targetMode:L,onClose:()=>{_(void 0),D(!1)},onModeChanged:async(Ee,Re)=>{m&&await m(Ee,Re)},onNotification:l}),o.jsx(cv,{isOpen:xe,progress:pe,step:$,message:ae,error:Q,subProgress:ve,totalSize:ee,cancellable:Y,timeEstimate:H,downloadSpeed:Ke,onCancel:async()=>{if(console.log("🚫 OllamaInstallModal cancel button clicked"),console.log("🔍 Current appState.setupType:",t.setupType),console.log("🔍 onChangeModeSetup available:",!!m),t.setupType==="local"){console.log("🚫 User is in local mode - showing confirmation dialog");const Ee=window.confirm(`Cancel Local LLM Setup?

Ollama installation is required for Local mode to work. If you cancel now, you will be automatically switched to Basic mode.

You can install Ollama later from Settings → Mode to enable Local LLM.

Do you want to cancel the installation and switch to Basic mode?`);if(console.log("🚫 User confirmation result:",Ee),!Ee){console.log("🚫 User chose not to cancel after confirmation - aborting cancellation");return}if(m)try{console.log("🔄 Switching to Basic mode after cancellation confirmation"),await m("basic"),console.log("✅ Successfully switched to Basic mode after cancellation")}catch(Re){console.error("❌ Failed to switch to Basic mode:",Re)}}else console.log("🚫 User is not in local mode (setupType:",t.setupType,") - skipping confirmation");if(wt(!0),window.electronAPI?.cancelOllamaInstallation)try{console.log("🚫 Calling electron cancelOllamaInstallation API"),await window.electronAPI.cancelOllamaInstallation(),console.log("🚫 Electron cancellation completed from modal cancel button")}catch(Ee){console.error("Failed to cancel via electron API from modal cancel:",Ee)}else console.warn("🚫 cancelOllamaInstallation API not available")},onClose:async()=>{if(console.log("🦙 User closed/cancelled Ollama setup modal"),wt(!0),Y&&$!=="complete"&&!Q){console.log("🚫 Modal closed during installation - ensuring cancellation...");try{window.electronAPI?.cancelOllamaInstallation&&(await window.electronAPI.cancelOllamaInstallation(),console.log("🚫 Background installation cancelled successfully"))}catch(Ee){console.error("Failed to cancel background installation:",Ee)}}se(!1),x&&x()}})]})},Q5=({onProfileSelected:t,onCreateNew:n,onNotification:s,onBackToMain:i,currentProfileId:l,onProfilesUpdated:d})=>{const u=_=>_&&_.errors&&Array.isArray(_.errors)?_.errors.join("; "):_&&_.message?_.message:typeof _=="string"?_:"An unknown error occurred",[m,h]=v.useState([]),[g,x]=v.useState(!0),[y,b]=v.useState(null),C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},N={rest:{scale:1,y:0},hover:{scale:1.02,y:-4,transition:{duration:.2}}};v.useEffect(()=>{j()},[]);const j=async()=>{try{x(!0);const F=(await He.getExistingProfiles()).filter(A=>A&&A.id&&A.id.trim()!=="");h(F),F.length===0&&s({type:"info",title:"No Profiles Found",message:"Create your first database profile to get started.",duration:3e3})}catch(_){console.error("Failed to load profiles:",_),s({type:"error",title:"Failed to Load Profiles",message:u(_),duration:5e3})}finally{x(!1)}},O=async _=>{if(confirm("Are you sure you want to delete this profile? This action cannot be undone."))try{b(_),await He.removeProfile(_),await j(),d&&d(),s({type:"success",title:"Profile Deleted",message:"Profile has been successfully deleted.",duration:3e3})}catch(F){console.error("Failed to delete profile:",F),s({type:"error",title:"Delete Failed",message:u(F),duration:5e3})}finally{b(null)}},D=_=>_.name?_.name:_.id,L=_=>{const F=[];if(_.connectionString){const A=_.connectionString.match(/(?:Database|Initial Catalog)\s*=\s*([^;]+)/i);A&&F.push(A[1])}if(_.connectionString){const A=_.connectionString.match(/(?:Data Source|Server)\s*=\s*([^;]+)/i);A&&F.push(A[1])}return F.join(" • ")||"Database Connection"};return g?o.jsx(Os,{type:"loading",title:"Loading Profiles",subtitle:"Fetching your database connections...",size:"fullscreen",animated:!0,showProgress:!0}):o.jsxs(R.div,{className:"min-h-screen bg-gradient-to-br from-background to-muted/20 p-4",initial:"hidden",animate:"visible",variants:C,children:[o.jsx("div",{className:"border-b bg-card/80 backdrop-blur-sm shadow-sm",children:o.jsx("div",{className:"container mx-auto px-2 py-4 max-w-5xl",children:o.jsxs(R.div,{className:"flex items-center justify-between",variants:S,children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:o.jsx(lt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Database Profiles"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your database connections"})]})]}),o.jsxs(R.div,{className:"px-3 py-1.5 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-full text-sm font-medium text-green-600 dark:text-green-400",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:[o.jsx(Gn,{className:"w-3 h-3 inline mr-1"}),m.length," active profile",m.length!==1?"s":""]})]}),o.jsxs(R.div,{className:"flex items-center space-x-3",variants:S,children:[i&&l&&o.jsxs(Ae,{variant:"outline",onClick:i,className:"flex items-center space-x-2 hover:scale-105 transition-transform",children:[o.jsx(_l,{className:"w-4 h-4"}),o.jsx("span",{children:"Back to Editor"})]}),m.length>0&&o.jsxs(Ae,{onClick:n,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg",children:[o.jsx(Is,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Profile"}),o.jsx(Fs,{className:"w-3 h-3 ml-1"})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-2 py-8 max-w-5xl",children:[o.jsx(R.div,{className:"text-center mb-12",variants:S,children:m.length===0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Welcome to Your Database Hub"}),o.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Create your first database connection to unlock the power of natural language queries"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Your Database Connections"}),o.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto",children:"Select a profile to continue working with your data, or create a new connection to expand your capabilities"})]})}),m.length===0?o.jsx(R.div,{className:"max-w-xl mx-auto",variants:S,children:o.jsxs(nt,{className:"border-dashed border-2 border-muted-foreground/20 bg-gradient-to-br from-card to-muted/20 shadow-xl",children:[o.jsxs(jr,{className:"text-center pt-12 pb-6",children:[o.jsx(R.div,{className:"mx-auto w-20 h-20 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:300},children:o.jsx(lt,{className:"w-10 h-10 text-white"})}),o.jsx(Jr,{className:"text-2xl font-bold bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-transparent",children:"No Database Profiles Yet"}),o.jsx(zi,{className:"text-base mt-3 leading-relaxed",children:"Ready to transform how you work with data? Create your first database connection and start asking questions in plain English."}),o.jsx("div",{className:"grid grid-cols-1 gap-4 mt-8 text-left",children:[{icon:On,title:"Natural Language Queries",desc:"Ask questions in plain English"},{icon:Co,title:"Multiple Databases",desc:"Support for SQL Server, MySQL, PostgreSQL"},{icon:Ve,title:"Instant Results",desc:"Get answers fast with intelligent SQL generation"}].map((_,F)=>o.jsxs(R.div,{className:"flex items-start space-x-3 p-3 bg-muted/30 rounded-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+F*.1},children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(_.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm text-foreground",children:_.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:_.desc})]})]},_.title))})]}),o.jsx(at,{className:"pb-12",children:o.jsx(R.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsxs(Ae,{onClick:n,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all",size:"lg",children:[o.jsx(Is,{className:"w-5 h-5 mr-2"}),"Create Your First Profile",o.jsx(Fs,{className:"w-4 h-4 ml-2"})]})})})]})}):o.jsxs(R.div,{className:"space-y-8",variants:C,children:[o.jsxs(R.div,{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-8 mb-12",variants:S,children:[o.jsx(nt,{className:"bg-gradient-to-br from-blue-500/5 to-indigo-500/5 border-blue-500/20",children:o.jsxs(at,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center mx-auto mb-3",children:o.jsx(lt,{className:"w-6 h-6 text-blue-500"})}),o.jsx("h3",{className:"font-semibold text-lg",children:m.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Profiles"})]})}),o.jsx(nt,{className:"bg-gradient-to-br from-green-500/5 to-emerald-500/5 border-green-500/20",children:o.jsxs(at,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-3",children:o.jsx(Gn,{className:"w-6 h-6 text-green-500"})}),o.jsx("h3",{className:"font-semibold text-lg",children:m.reduce((_,F)=>_+(F.queries?.length||0),0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Queries"})]})}),o.jsx(nt,{className:"bg-gradient-to-br from-purple-500/5 to-pink-500/5 border-purple-500/20",children:o.jsxs(at,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-3",children:o.jsx(jn,{className:"w-6 h-6 text-purple-500"})}),o.jsx("h3",{className:"font-semibold text-lg",children:"Recent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:m.length>0?new Date(Math.max(...m.map(_=>new Date(_.createdUtc).getTime()))).toLocaleDateString():"No data"})]})})]}),o.jsx(R.div,{className:"grid gap-6 grid-cols-1 sm:grid-cols-2",variants:C,children:m.map(_=>o.jsx(R.div,{variants:S,whileHover:"hover",initial:"rest",animate:"rest",transition:{type:"spring",stiffness:300},children:o.jsx(R.div,{variants:N,children:o.jsxs(nt,{className:`cursor-pointer group transition-all duration-300 hover:shadow-xl ${l===_.id?"ring-2 ring-primary bg-gradient-to-br from-primary/5 to-primary/10 border-primary/30":"hover:ring-2 hover:ring-primary/30 bg-gradient-to-br from-card to-muted/10"}`,onClick:()=>t(_),children:[o.jsx(jr,{className:"pb-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4 flex-1 min-w-0",children:[o.jsx(R.div,{className:`p-3 rounded-xl shadow-sm ${l===_.id?"bg-primary text-primary-foreground":"bg-gradient-to-br from-primary/10 to-primary/5 text-primary"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:o.jsx(Tl,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs(Jr,{className:"text-lg mb-1 truncate flex items-center space-x-2",children:[o.jsx("span",{children:D(_)}),l===_.id&&o.jsx(R.div,{className:"w-2 h-2 bg-green-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),o.jsx(zi,{className:"text-sm truncate",children:L(_)}),o.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(jn,{className:"w-3 h-3"}),o.jsx("span",{children:new Date(_.createdUtc).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Dn,{className:"w-3 h-3"}),o.jsxs("span",{children:[_.queries?.length||0," queries"]})]})]})]})]}),l===_.id&&o.jsx(R.div,{className:"px-2 py-1 bg-green-500 text-white text-xs rounded-full font-medium shadow-sm",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500},children:"Active"})]})}),o.jsx(at,{className:"pt-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Connected & Ready"})]}),o.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Ae,{variant:"ghost",size:"sm",onClick:F=>{F.stopPropagation(),O(_.id)},disabled:y===_.id,className:"h-8 w-8 p-0 hover:bg-destructive/10",children:y===_.id?o.jsx(vt,{className:"w-4 h-4 animate-spin"}):o.jsx(Iy,{className:"w-4 h-4 text-destructive"})})})]})})]})})},_.id))})]})]})]})},K5=({onNotification:t,onHealthStatusUpdate:n,setupType:s})=>{const[i,l]=v.useState(()=>{const G=Wn.getCurrentStatus();return console.log("HealthManager initializing with status:",G),G||{api:{status:"healthy",lastChecked:new Date().toISOString()},llm:{status:"healthy",lastChecked:new Date().toISOString()}}}),[d,u]=v.useState(!1),[m,h]=v.useState(null),[g,x]=v.useState(!1),[y,b]=v.useState(0),[C,S]=v.useState(""),[N,j]=v.useState(""),[O,D]=v.useState(),[L,_]=v.useState(),[F,A]=v.useState(),[ne,z]=v.useState(!1),[X,U]=v.useState(),[re,Z]=v.useState();v.useEffect(()=>(console.log("HealthManager subscribing to health service"),Wn.subscribe(ee=>{console.log("HealthManager received status update:",ee),l(ee)})),[]),v.useEffect(()=>{n?.(i)},[i,n]),v.useEffect(()=>{console.log("HealthManager setting up auto-refresh"),(async()=>{await T(!0)})();const ee=setInterval(()=>{console.log("HealthManager auto-refresh triggered"),T(!0)},3e4);return()=>{console.log("HealthManager cleaning up auto-refresh"),clearInterval(ee)}},[]);const me={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},xe={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};v.useEffect(()=>{if(i.llm.rateLimitInfo?.timeRemaining){const ee=(we=>{const Y=we.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+(?:\.\d+)?)s)?/);if(!Y)return 0;const ke=parseInt(Y[1]||"0"),H=parseInt(Y[2]||"0"),Oe=parseFloat(Y[3]||"0");return ke*3600+H*60+Oe})(i.llm.rateLimitInfo.timeRemaining);h(ee)}},[i.llm.rateLimitInfo?.timeRemaining]),v.useEffect(()=>{if(m===null||m<=0)return;const G=setInterval(()=>{h(ee=>ee===null||ee<=1?(pe(),null):ee-1)},1e3);return()=>clearInterval(G)},[m]);const se=G=>{const ee=Math.floor(G/3600),we=Math.floor(G%3600/60),Y=Math.floor(G%60);return ee>0?`${ee}h ${we}m ${Y}s`:we>0?`${we}m ${Y}s`:`${Y}s`},pe=async()=>{await Wn.refreshHealth(!0)},ue=async()=>{u(!0);try{if(t({type:"info",title:"Restarting Local LLM",message:"Attempting to restart the local LLM model...",duration:3e3}),window.electronAPI){const G=await window.electronAPI.startOllamaModel();G.success?(t({type:"success",title:"LLM Restart Successful",message:G.message||"Local LLM model has been restarted",duration:5e3}),setTimeout(()=>{pe()},2e3)):t({type:"error",title:"LLM Restart Failed",message:G.error||"Failed to restart local LLM model",duration:5e3})}else throw new Error("Electron API not available")}catch(G){console.error("Failed to restart local LLM:",G),t({type:"error",title:"LLM Restart Failed",message:G.message||"Unable to restart local LLM model",duration:5e3})}finally{u(!1)}},$=async()=>{try{if(console.log("Starting model download..."),x(!0),b(0),S("starting"),j("Preparing to download qwen3:8b model..."),D(void 0),t({type:"info",title:"Model Download Started",message:"Starting qwen3:8b model download. This may take 10-30 minutes.",duration:5e3}),window.electronAPI){const G=we=>{console.log("Download progress:",we.detail||we);const Y=we.detail||we;S(Y.step||"downloading"),j(Y.message||"Downloading..."),b(Y.progress||0),_(Y.subProgress),A(Y.totalSize),z(Y.cancellable||!1),U(Y.timeEstimate),Z(Y.downloadSpeed),Y.error&&D(Y.error),Y.cancelled&&D("Download cancelled by user")};window.electronAPI.on&&window.electronAPI.on("ollama-install-progress",G);const ee=await window.electronAPI.installOllamaSetup();window.electronAPI.removeListener&&window.electronAPI.removeListener("ollama-install-progress",G),ee.success?(t({type:"success",title:"Model Download Complete",message:"qwen3:8b model downloaded and installed successfully!",duration:5e3}),setTimeout(()=>{pe()},2e3)):ee.error&&ee.error.includes("cancelled")?t({type:"info",title:"Download Cancelled",message:"Model download was cancelled",duration:3e3}):(D(ee.error||"Unknown error occurred"),t({type:"error",title:"Download Failed",message:ee.error||"Failed to download model",duration:5e3}))}else throw new Error("Electron API not available")}catch(G){console.error("Failed to download model:",G),D(G.message||"Failed to start download"),t({type:"error",title:"Download Failed",message:G.message||"Unable to start model download",duration:5e3})}},ce=()=>{console.log("Download cancelled by user"),D("Download cancelled by user")},ae=()=>{x(!1),b(0),S(""),j(""),D(void 0),_(void 0),A(void 0),z(!1)},T=async(G=!1)=>{u(!0);try{await Wn.refreshHealth(G)}catch(ee){console.error("Health check failed:",ee),t({type:"error",title:"Health Check Failed",message:ee.message||"Unable to check system health",duration:5e3})}finally{u(!1)}},Q=G=>{switch(G){case"healthy":return o.jsx(Ve,{className:"w-5 h-5 text-green-500"});case"degraded":case"rate_limited":case"warning":return o.jsx(My,{className:"w-5 h-5 text-yellow-500"});case"down":case"error":return o.jsx(TC,{className:"w-5 h-5 text-red-500"});case"not_started":case"not_initialized":return o.jsx(jn,{className:"w-5 h-5 text-blue-500"});case"initializing":return o.jsx(vt,{className:"w-5 h-5 text-orange-500 animate-spin"});case"loading":return o.jsx(vt,{className:"w-5 h-5 text-purple-500 animate-spin"});default:return o.jsx(Gn,{className:"w-5 h-5 text-gray-500"})}},fe=(G,ee)=>{switch(G){case"healthy":return"Operational";case"degraded":return"Degraded";case"rate_limited":return"Rate Limited";case"down":return"Down";case"error":return"Error";case"not_started":return"Not Started";case"not_initialized":return"Not Initialized";case"initializing":return"Initializing...";case"loading":return"Loading...";default:return G.charAt(0).toUpperCase()+G.slice(1)}},ve=G=>{switch(G){case"healthy":return"from-green-500/5 to-emerald-500/5 border-green-500/20";case"degraded":case"rate_limited":return"from-yellow-500/5 to-orange-500/5 border-yellow-500/20";case"down":case"error":return"from-red-500/5 to-pink-500/5 border-red-500/20";case"not_started":case"not_initialized":return"from-blue-500/5 to-sky-500/5 border-blue-500/20";case"initializing":return"from-orange-500/5 to-amber-500/5 border-orange-500/20";case"loading":return"from-purple-500/5 to-violet-500/5 border-purple-500/20";default:return"from-gray-500/5 to-slate-500/5 border-gray-500/20"}};return o.jsx(R.div,{className:"w-full",initial:"hidden",animate:"visible",variants:me,children:o.jsxs("div",{className:"space-y-4 w-full",children:[o.jsxs(R.div,{className:"flex items-center justify-between mb-4",variants:xe,children:[o.jsxs(R.div,{className:`px-3 py-1.5 bg-gradient-to-r ${s==="basic"?i.api.status==="healthy"?"from-green-500/10 to-emerald-500/10 border-green-500/20 text-green-600 dark:text-green-400":i.api.status==="down"?"from-red-500/10 to-pink-500/10 border-red-500/20 text-red-600 dark:text-red-400":"from-yellow-500/10 to-orange-500/10 border-yellow-500/20 text-yellow-600 dark:text-yellow-400":i.api.status==="healthy"&&i.llm.status==="healthy"?"from-green-500/10 to-emerald-500/10 border-green-500/20 text-green-600 dark:text-green-400":i.api.status==="down"||i.llm.status==="error"?"from-red-500/10 to-pink-500/10 border-red-500/20 text-red-600 dark:text-red-400":"from-yellow-500/10 to-orange-500/10 border-yellow-500/20 text-yellow-600 dark:text-yellow-400"} border rounded-full text-sm font-medium`,initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:[o.jsx(Gn,{className:"w-3 h-3 inline mr-1"}),s==="basic"?i.api.status==="healthy"?"API Operational":i.api.status==="down"?"API Issues Detected":"API Degraded Performance":i.api.status==="healthy"&&i.llm.status==="healthy"?"All Systems Operational":i.api.status==="down"||i.llm.status==="error"?"Service Issues Detected":"Degraded Performance"]}),o.jsxs(R.div,{className:"flex items-center space-x-3",variants:xe,children:[s!=="basic"&&o.jsxs(Ae,{onClick:()=>pe(),disabled:d,variant:"outline",size:"sm",className:"flex items-center space-x-2 rounded-xl",children:[o.jsx(ex,{className:"w-4 h-4"}),o.jsx("span",{children:"Test LLM"})]}),o.jsxs(Ae,{onClick:()=>T(s!=="basic"),disabled:d,variant:"outline",className:"flex items-center space-x-2 hover:scale-105 transition-transform rounded-xl",children:[d?o.jsx(vt,{className:"w-4 h-4 animate-spin"}):o.jsx(ko,{className:"w-4 h-4"}),o.jsx("span",{children:s==="basic"?"Check API":"Check Services"})]})]})]}),o.jsxs(R.div,{className:"grid gap-3 grid-cols-1 md:grid-cols-2",variants:me,children:[o.jsx(R.div,{variants:xe,className:"h-full",children:o.jsxs(nt,{className:`bg-gradient-to-br ${ve(i.api.status)} transition-all duration-300 h-full flex flex-col rounded-xl`,children:[o.jsx(jr,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[Q(i.api.status),o.jsxs("div",{children:[o.jsx(Jr,{className:"text-lg",children:"API Service"}),o.jsx(zi,{className:"capitalize",children:fe(i.api.status,"api")})]})]}),o.jsx(On,{className:"w-5 h-5 text-muted-foreground"})]})}),o.jsx(at,{className:"flex-1",children:o.jsxs("div",{className:"space-y-3",children:[i.api.responseTime&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Time"}),o.jsxs("span",{className:"text-sm font-medium",children:[i.api.responseTime,"ms"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Checked"}),o.jsx("span",{className:"text-sm font-medium",children:new Date(i.api.lastChecked).toLocaleTimeString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service Type"}),o.jsx("span",{className:"text-sm font-medium",children:"REST API"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Endpoint"}),o.jsx("span",{className:"text-sm font-medium",children:"localhost:5000"})]})]})})]})}),s!=="basic"&&o.jsx(R.div,{variants:xe,className:"h-full",children:o.jsxs(nt,{className:`bg-gradient-to-br ${ve(i.llm.status)} transition-all duration-300 h-full flex flex-col rounded-xl`,children:[o.jsx(jr,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[Q(i.llm.status),o.jsxs("div",{children:[o.jsx(Jr,{className:"text-lg",children:"LLM Service"}),o.jsx(zi,{className:"capitalize",children:fe(i.llm.status,"llm")})]})]}),o.jsx(ex,{className:"w-5 h-5 text-muted-foreground"})]})}),o.jsx(at,{className:"flex-1",children:o.jsxs("div",{className:"space-y-3",children:[i.llm.rateLimitInfo&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Daily Limit"}),o.jsxs("span",{className:"text-sm font-medium",children:[i.llm.rateLimitInfo.used.toLocaleString()," / ",i.llm.rateLimitInfo.limit.toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:`${i.llm.rateLimitInfo.used/i.llm.rateLimitInfo.limit*100}%`}})})]}),m!==null&&o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-xl",children:[o.jsx(jn,{className:"w-4 h-4 text-yellow-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Rate limit resets in"}),o.jsx("div",{className:"text-lg font-mono font-bold text-yellow-600 dark:text-yellow-400",children:se(m)})]})]})]}),!i.llm.rateLimitInfo&&!i.llm.lastError&&o.jsx("div",{className:"space-y-3",children:i.llm.localModel?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service Provider"}),o.jsx("span",{className:"text-sm font-medium",children:"Local LLM"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Model"}),o.jsx("span",{className:"text-sm font-medium",children:i.llm.localModel})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsx("span",{className:"text-sm font-medium",children:"Self-hosted"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service Provider"}),o.jsx("span",{className:"text-sm font-medium",children:"Groq"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Model"}),o.jsx("span",{className:"text-sm font-medium",children:"Llama 3.3 70B"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Daily Limit"}),o.jsx("span",{className:"text-sm font-medium",children:"100K tokens"})]})]})}),i.llm.lastError&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:o.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 break-words",children:i.llm.lastError.length>100?`${i.llm.lastError.substring(0,100)}...`:i.llm.lastError})}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Debug: localModel=",i.llm.localModel||"none",", status=",i.llm.status,i.llm.details&&o.jsxs(o.Fragment,{children:[", modelAvailable=$",i.llm.details.modelAvailable]})]}),(i.llm.status==="error"||i.llm.status==="warning")&&o.jsx(o.Fragment,{children:i.llm.details&&!i.llm.details.modelAvailable?o.jsxs(Ae,{onClick:$,disabled:d,variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-2 text-blue-600 hover:text-blue-700 border-blue-200 hover:border-blue-300 bg-blue-50 hover:bg-blue-100 dark:bg-blue-950 dark:border-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[d?o.jsx(vt,{className:"w-4 h-4 animate-spin"}):o.jsx(Fl,{className:"w-4 h-4"}),o.jsx("span",{children:"Download Model"})]}):o.jsxs(Ae,{onClick:ue,disabled:d,variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-2 text-orange-600 hover:text-orange-700 border-orange-200 hover:border-orange-300 bg-orange-50 hover:bg-orange-100 dark:bg-orange-950 dark:border-orange-800 dark:text-orange-400 dark:hover:text-orange-300",children:[d?o.jsx(vt,{className:"w-4 h-4 animate-spin"}):o.jsx(ko,{className:"w-4 h-4"}),o.jsx("span",{children:"Restart LLM Model"})]})})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Checked"}),o.jsx("span",{className:"text-sm font-medium",children:new Date(i.llm.lastChecked).toLocaleTimeString()})]})]})})]})})]}),o.jsx(R.div,{variants:xe,className:"mt-3",children:o.jsxs(nt,{className:"bg-gradient-to-br from-blue-500/5 to-indigo-500/5 border-blue-500/20 rounded-xl",children:[o.jsx(jr,{className:"pb-3",children:o.jsxs(Jr,{className:"text-base flex items-center space-x-2",children:[o.jsx(Gn,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"System Information"})]})}),o.jsx(at,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-foreground",children:"Auto Refresh"}),o.jsx("div",{className:"text-muted-foreground",children:"API only (30s)"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-foreground",children:"LLM Monitoring"}),o.jsx("div",{className:"text-muted-foreground",children:"Rate-limit aware"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-foreground",children:"Rate Limit"}),o.jsx("div",{className:"text-muted-foreground",children:"100K tokens/day"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-foreground",children:"API Endpoint"}),o.jsx("div",{className:"text-muted-foreground",children:"localhost:5000"})]})]})})]})}),o.jsx(cv,{isOpen:g,progress:y,step:C,message:N,error:O,subProgress:L,totalSize:F,cancellable:ne,timeEstimate:X,downloadSpeed:re,onClose:ae,onCancel:ce})]})})},Y5=({notifications:t,onRemoveNotification:n})=>{const s=(l,d)=>{if(l==="success"&&(d==="Connected"||d==="Connection Restored"))return o.jsx(Ve,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"});switch(l){case"success":return o.jsx(Ve,{className:"w-5 h-5 text-green-500"});case"error":return o.jsx(Mt,{className:"w-5 h-5 text-red-500"});case"warning":return o.jsx(My,{className:"w-5 h-5 text-yellow-500"});case"info":return o.jsx(Ui,{className:"w-5 h-5 text-blue-500"});default:return o.jsx(Ui,{className:"w-5 h-5 text-blue-500"})}},i=(l,d)=>{if(l==="success"&&(d==="Connected"||d==="Connection Restored"))return"bg-emerald-50 border-emerald-200 dark:bg-emerald-900 dark:border-emerald-700";switch(l){case"success":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"error":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800";case"warning":return"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";default:return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}};return t.length===0?null:Wy.createPortal(o.jsx("div",{className:"fixed top-12 right-4 z-[9999] max-w-sm pointer-events-none",children:o.jsx(hn,{mode:"popLayout",children:t.map(l=>{const d=l.type==="success"&&(l.title==="Connected"||l.title==="Connection Restored");return o.jsx(R.div,{layout:!0,initial:{opacity:0,x:400,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:400,scale:.8,transition:{duration:.2}},transition:{type:"spring",stiffness:300,damping:30,layout:{duration:.3}},className:ot("p-4 rounded-lg border shadow-lg mb-2 pointer-events-auto",i(l.type,l.title),d&&"ring-2 ring-emerald-300/50 dark:ring-emerald-600/50"),children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:s(l.type,l.title)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:ot("text-sm font-semibold",d?"text-emerald-800 dark:text-emerald-200":"text-foreground"),children:l.title}),o.jsx("p",{className:ot("text-sm mt-1",d?"text-emerald-700 dark:text-emerald-300":"text-muted-foreground"),children:l.message})]}),o.jsx("button",{onClick:()=>n(l.id),className:"flex-shrink-0 ml-auto text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(nr,{className:"w-4 h-4"})})]})},l.id)})})}),document.body)};var Em="Progress",Lm=100,[X5,PA]=Gy(Em),[J5,Z5]=X5(Em),uv=v.forwardRef((t,n)=>{const{__scopeProgress:s,value:i=null,max:l,getValueLabel:d=eA,...u}=t;(l||l===0)&&!ux(l)&&console.error(tA(`${l}`,"Progress"));const m=ux(l)?l:Lm;i!==null&&!dx(i,m)&&console.error(nA(`${i}`,"Progress"));const h=dx(i,m)?i:null,g=ql(h)?d(h,m):void 0;return o.jsx(J5,{scope:s,value:h,max:m,children:o.jsx(Us.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":ql(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":fv(h,m),"data-value":h??void 0,"data-max":m,...u,ref:n})})});uv.displayName=Em;var dv="ProgressIndicator",mv=v.forwardRef((t,n)=>{const{__scopeProgress:s,...i}=t,l=Z5(dv,s);return o.jsx(Us.div,{"data-state":fv(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...i,ref:n})});mv.displayName=dv;function eA(t,n){return`${Math.round(t/n*100)}%`}function fv(t,n){return t==null?"indeterminate":t===n?"complete":"loading"}function ql(t){return typeof t=="number"}function ux(t){return ql(t)&&!isNaN(t)&&t>0}function dx(t,n){return ql(t)&&!isNaN(t)&&t<=n&&t>=0}function tA(t,n){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Lm}\`.`}function nA(t,n){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Lm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hv=uv,rA=mv;const pv=v.forwardRef(({className:t,value:n,...s},i)=>o.jsx(hv,{ref:i,className:ot("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:o.jsx(rA,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));pv.displayName=hv.displayName;function wl({downloads:t,onCancel:n,onDismiss:s}){const i=t.filter(l=>l.status==="downloading"||l.status==="completed"&&l.progress===100||l.status==="error");return i.length===0?null:o.jsx("div",{className:"fixed top-4 right-4 z-[99999] space-y-2 max-w-md",children:o.jsx(hn,{children:i.map(l=>o.jsxs(R.div,{initial:{opacity:0,x:300,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.9},className:`
              bg-background/95 backdrop-blur-sm border rounded-lg shadow-lg p-4
              ${l.status==="error"?"border-red-500/50":l.status==="completed"?"border-green-500/50":"border-blue-500/50"}
            `,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`
                  p-1.5 rounded-lg
                  ${l.status==="error"?"bg-red-500/20 text-red-500":l.status==="completed"?"bg-green-500/20 text-green-500":"bg-blue-500/20 text-blue-500"}
                `,children:o.jsx(Fl,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-foreground text-sm",children:l.title}),l.description&&o.jsx("p",{className:"text-xs text-muted-foreground",children:l.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[l.cancellable&&l.status==="downloading"&&n&&o.jsx(Ae,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-500/20",onClick:()=>n(l.id),children:o.jsx(nr,{className:"w-3 h-3"})}),(l.status==="completed"||l.status==="error")&&s&&o.jsx(Ae,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(l.id),children:o.jsx(nr,{className:"w-3 h-3"})})]})]}),l.status==="downloading"&&o.jsx("div",{className:"mb-3",children:o.jsx(pv,{value:l.progress,className:"h-2"})}),l.status==="downloading"&&o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[l.size&&o.jsx("span",{children:l.size}),l.downloadSpeed&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(WC,{className:"w-3 h-3"}),o.jsx("span",{children:l.downloadSpeed})]}),l.timeEstimate&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(jn,{className:"w-3 h-3"}),o.jsx("span",{children:l.timeEstimate})]})]}),o.jsxs("span",{children:[Math.round(l.progress),"%"]})]}),l.status==="completed"&&o.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Download completed successfully"}),l.status==="error"&&o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:l.error||"Download failed"})]},l.id))})})}const sA=({open:t,onOpenChange:n,children:s,className:i=""})=>{if(v.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),v.useEffect(()=>{const d=u=>{u.key==="Escape"&&n(!1)};return t&&document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[t,n]),!t)return null;const l=i.includes("max-w-5xl")?"rounded-3xl":"rounded-2xl";return Wy.createPortal(o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 sm:p-8",children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md",onClick:()=>n(!1)}),o.jsxs("div",{className:`relative bg-background border ${l} shadow-xl w-full max-h-[85vh] overflow-hidden ${i.includes("max-w-")?i:`max-w-4xl ${i}`}`,children:[o.jsx(Ae,{variant:"ghost",size:"sm",className:"absolute right-4 top-4 z-10 hover:bg-muted rounded-full",onClick:()=>n(!1),children:o.jsx(nr,{className:"w-4 h-4"})}),o.jsx("div",{className:`overflow-auto scrollbar-hide max-h-[85vh] ${l}`,children:s})]})]}),document.body)};function oA(){const[t,n]=v.useState("loading"),[s,i]=v.useState(null),[l,d]=v.useState(!1),[u,m]=v.useState({profiles:[],currentProfile:null,isSetupMode:!1,setupType:null,theme:"dark"}),[h,g]=v.useState([]),[x,y]=v.useState(!1),[b,C]=v.useState(!1),[S,N]=v.useState(0),[j,O]=v.useState(!1),[D,L]=v.useState(""),[_,F]=v.useState(0),[A,ne]=v.useState(!1),[z,X]=v.useState({api:{status:"healthy",lastChecked:new Date().toISOString()},llm:{status:"healthy",lastChecked:new Date().toISOString()}}),[U,re]=v.useState(!1),[Z,me]=v.useState([]),xe=v.useRef(!1),se=v.useRef(!1),pe=v.useRef(!1);v.useEffect(()=>{(async()=>{const de=Wn.subscribe(K=>{X(K)});return t==="main"&&(console.log("App is in main mode, initializing health monitoring..."),await Wn.initialize()),de})()},[t]),v.useEffect(()=>{u.setupType&&(console.log("Updating health monitoring service with mode:",u.setupType),Wn.setCurrentMode(u.setupType))},[u.setupType]),v.useEffect(()=>{u.user?.id&&(console.log("Updating health monitoring service with user ID:",u.user.id),Wn.setCurrentUserId(u.user.id))},[u.user?.id]),v.useEffect(()=>{console.log("📥 CRITICAL SETUP: Setting up global download manager subscription"),console.log("📥 CRITICAL SETUP: window.electronAPI exists:",!!window.electronAPI),console.log("📥 CRITICAL SETUP: onGlobalDownloadProgress exists:",!!(window.electronAPI&&window.electronAPI.onGlobalDownloadProgress));const M=rn.subscribe(de=>{console.log("📥 CRITICAL UPDATE: Downloads state updated to:",de.length,"downloads"),de.length>0&&console.log("📥 CRITICAL UPDATE: Download details:",de.map(K=>`${K.id}: ${K.title} (${K.status})`)),me(de)});if(window.electronAPI&&window.electronAPI.onGlobalDownloadProgress){const de=K=>{console.log("🎯 CRITICAL: Global download progress from Electron received!",K),console.log("🎯 Download ID:",K.id),console.log("🎯 Download Status:",K.status),console.log("🎯 Download Title:",K.title),K.status==="downloading"?rn.updateProgress(K.id,{progress:K.progress,size:K.size,downloadSpeed:K.downloadSpeed,timeEstimate:K.timeEstimate,description:K.description}):K.status==="completed"?rn.completeDownload(K.id):K.status==="error"?rn.failDownload(K.id,K.error||"Download failed"):K.status==="cancelled"?rn.cancelDownload(K.id):rn.getDownload(K.id)||rn.startDownload({id:K.id,title:K.title,description:K.description,progress:K.progress,size:K.size,downloadSpeed:K.downloadSpeed,timeEstimate:K.timeEstimate,cancellable:K.cancellable})};return window.electronAPI.onGlobalDownloadProgress(de),()=>{M(),window.electronAPI&&window.electronAPI.removeGlobalDownloadProgressListener&&window.electronAPI.removeGlobalDownloadProgressListener(de)}}return M},[]),v.useEffect(()=>{if(!j||!window.electronAPI)return;const M=de=>{console.log("🦙 Installation progress:",de),L(de.message),F(de.progress),de.error&&console.error("🦙 Installation error:",de.message)};return window.electronAPI.on("ollama-install-progress",M),()=>{window.electronAPI?.removeListener("ollama-install-progress",M)}},[j]);const ue=M=>M&&M.errors&&Array.isArray(M.errors)?M.errors.join("; "):M&&M.message?M.message:typeof M=="string"?M:"An unknown error occurred",$=async()=>{try{const M=await He.getAllUsers();if(console.log("Setup check: Found users in system:",M.length),M.length===0)return console.log("Setup check: No users exist, initial setup required"),!0;const de=At.getUserId();if(console.log("Setup check: Stored user ID:",de),!de){console.log("Setup check: No stored user ID, using first available user");const De=M[0];localStorage.setItem("naturalToSql.userId",De.id);const Qe=De.mode==="Groq"?"groq":De.mode==="Local"?"local":"basic";return localStorage.setItem("naturalToSql.setupType",Qe),console.log(`Setup check: Set user ${De.id} as current with mode ${Qe}`),!1}try{const De=await At.getCurrentUser();if(De)return console.log(`Setup check: Found valid user with ${De.profiles.length} profiles`),!1}catch(De){console.warn("Stored user ID is invalid:",De)}console.log("Setup check: Stored user ID invalid, using first available user");const K=M[0];localStorage.setItem("naturalToSql.userId",K.id);const ye=K.mode==="Groq"?"groq":K.mode==="Local"?"local":"basic";return localStorage.setItem("naturalToSql.setupType",ye),!1}catch(M){return console.error("Error checking initial setup:",M),localStorage.getItem("naturalToSql.setupType")?(console.log("Setup check: Error occurred but found saved setupType, skipping initial setup"),!1):!0}},ce=async()=>{try{const ye=(await At.getUserProfiles()).map(Ee).filter(De=>De&&De.id&&De.id.trim()!=="").sort((De,Qe)=>{const qe=new Date(De.createdUtc).getTime();return new Date(Qe.createdUtc).getTime()-qe});return localStorage.setItem("naturalToSql.profiles",JSON.stringify(ye)),ye}catch(M){return console.error("Failed to load profiles from server:",M),[]}},ae=M=>{if(M.length===0)return null;const de=localStorage.getItem("naturalToSql.selectedProfile");return de&&M.find(K=>K.id===de)?de:M[0].id},T=M=>{M?localStorage.setItem("naturalToSql.selectedProfile",M):localStorage.removeItem("naturalToSql.selectedProfile")};v.useEffect(()=>{A?console.log("⏸️ Skipping app initialization - in initial setup"):(async()=>{if(console.log("🚀 initializeApp called, flags:",{initializationInProgress:se.current,hasLoadedInitialData:pe.current,setupType:u.setupType,appMode:t,isInInitialSetup:A}),se.current||pe.current){console.log("⏹️ initializeApp early return - already in progress or loaded");return}if(t==="main"){console.log("⏹️ initializeApp early return - already in main mode");return}if(u.setupType===null){console.log("⏳ initializeApp waiting for setupType to be loaded");return}se.current=!0,pe.current=!0,console.log("🔄 initializeApp proceeding with setupType:",u.setupType);try{console.log("🔍 Checking if initial setup is needed...");const de=await $();if(console.log("📝 Initial setup needed:",de),de){console.log("⚙️ Initial setup required, skipping API connection"),d(!0),n("initial-setup");return}if(u.setupType&&!u.user){console.log("🔄 Found setupType but no user - attempting to create/get user");try{const qe=localStorage.getItem("naturalToSql.groqApiKey"),We=await At.createOrGetUser(u.setupType,qe||void 0);console.log("👤 Created/retrieved user:",We),m(pt=>({...pt,user:We}))}catch(qe){console.error("Failed to create/get user with saved setupType:",qe)}}console.log("No initial setup needed, checking API process status...");let K=!1;try{window.electronAPI?K=!!await window.electronAPI.checkApiHealth():(await He.checkHealth(),K=!0),console.log("API already running:",K)}catch{console.log("API not responding, will start process"),K=!1}if(!K&&window.electronAPI&&window.electronAPI.startApiProcess)try{console.log("Starting API process...");const qe=await window.electronAPI.startApiProcess(u.setupType);qe.success?console.log("API process started successfully"):console.error("Failed to start API process:",qe.message)}catch(qe){console.error("Error starting API process:",qe)}else K&&console.log("API process already running, skipping startup");await new Promise(qe=>setTimeout(qe,4e3));const ye=5,De=2e3;let Qe=!1;for(let qe=0;qe<ye;qe++)try{if(console.log(`API connection attempt ${qe+1}/${ye}`),window.electronAPI){if(await window.electronAPI.checkApiHealth()){Qe=!0;break}}else{await He.checkHealth(),Qe=!0;break}throw new Error("API health check failed")}catch(We){console.error(`API connection attempt ${qe+1} failed:`,We),qe<ye-1?await new Promise(pt=>setTimeout(pt,De)):qe===ye-1&&G({type:"error",title:"Connection Failed",message:ue(We),duration:0})}if(Qe){const qe=await ce(),We=ae(qe);m(Je=>({...Je,profiles:qe,currentProfile:We}));let pt=!0,st=null;try{const Je=await At.getCurrentUser();Je&&(st=Je.mode==="Local"?"local":Je.mode==="Groq"?"groq":"basic",console.log("🦙 User setup type determined:",st,"from mode:",Je.mode))}catch(Je){console.log("🦙 Could not determine user setup type:",Je)}if(st==="local"&&window.electronAPI?.checkOllamaStatus&&window.electronAPI?.startOllamaModel)try{O(!0),F(20),L("Checking Ollama installation..."),console.log("🦙 User is in local mode, checking Ollama status...");const Je=await window.electronAPI.checkOllamaStatus();if(console.log("🦙 Ollama status:",Je),F(40),await new Promise(ut=>setTimeout(ut,500)),Je.ollamaInstalled&&Je.modelInstalled&&!Je.modelRunning){L("Starting qwen3:8b model..."),F(60),console.log("🦙 Ollama installed but model not running, starting model...");const ut=await window.electronAPI.startOllamaModel();F(80),ut.success?(L("Model started successfully!"),F(100),console.log("🦙 Model started successfully on app load"),await new Promise(pn=>setTimeout(pn,1500)),G({type:"success",title:"Local LLM Ready",message:"qwen3:8b model started successfully",duration:3e3})):(L("Model start initiated..."),F(100),console.warn("🦙 Failed to start model on app load:",ut.error),await new Promise(pn=>setTimeout(pn,1500)),G({type:"warning",title:"Local LLM Notice",message:"Model start initiated but may still be loading",duration:4e3}))}else Je.ollamaInstalled&&Je.modelInstalled&&Je.modelRunning?(L("Model is already running!"),F(100),console.log("🦙 Model already running"),await new Promise(ut=>setTimeout(ut,1200)),G({type:"success",title:"Local LLM Ready",message:"qwen3:8b model is running",duration:2e3})):(!Je.ollamaInstalled||!Je.modelInstalled)&&(console.log("🦙 Ollama or model not installed, will show setup in main interface..."),L("Setup required - available in main interface"),F(100),await new Promise(ut=>setTimeout(ut,1500)),G({type:"info",title:"Local LLM Setup Required",message:"Ollama installation is available from the main interface",duration:4e3}),re(!0))}catch(Je){L("Check failed - Unable to verify Ollama status"),F(100),console.error("🦙 Error checking Ollama status on app load:",Je),await new Promise(ut=>setTimeout(ut,1200)),G({type:"warning",title:"Local LLM Check Failed",message:"Unable to verify Ollama status",duration:3e3})}finally{O(!1),L(""),F(0)}pt&&(qe.length===0?(n("main"),i("setup-wizard")):(n("main"),i(null))),u.setupType==="groq"?X({api:{status:"healthy",responseTime:100,lastChecked:new Date().toISOString()},llm:{status:"healthy",lastChecked:new Date().toISOString()}}):u.setupType==="local"?X({api:{status:"not_started",lastChecked:new Date().toISOString()},llm:{status:"not_initialized",lastChecked:new Date().toISOString()}}):u.setupType==="basic"&&X({api:{status:"not_started",lastChecked:new Date().toISOString()},llm:{status:"not_initialized",lastChecked:new Date().toISOString()}}),xe.current||(G({type:"success",title:"Connected",message:`Found ${qe.length} database profile${qe.length!==1?"s":""}${We?`. Using "${qe.find(Je=>Je.id===We)?.name}"`:""}`,duration:3e3}),xe.current=!0)}else u.setupType==="groq"?X({api:{status:"down",lastChecked:new Date().toISOString()},llm:{status:"error",lastError:"Failed to connect to Groq API",lastChecked:new Date().toISOString()}}):X({api:{status:"down",lastChecked:new Date().toISOString()},llm:{status:"not_initialized",lastChecked:new Date().toISOString()}}),n("loading")}catch(de){console.error("App initialization failed:",de),d(!0),n("initial-setup")}se.current=!1})()},[u.setupType,A,t]);const Q=async()=>{y(!0),n("loading");try{if(u.setupType==="groq"){if(console.log("Retrying Groq mode connection - restarting API process..."),window.electronAPI&&window.electronAPI.startApiProcess){const ye=await window.electronAPI.startApiProcess("groq");if(!ye.success)throw new Error(ye.message||"Failed to start API process")}await new Promise(ye=>setTimeout(ye,3e3))}const M=5,de=2e3;let K=!1;for(let ye=0;ye<M;ye++)try{if(console.log(`Retry attempt ${ye+1}/${M}`),window.electronAPI){if(await window.electronAPI.checkApiHealth()){K=!0;const Qe=await ce(),qe=ae(Qe);m(We=>({...We,profiles:Qe,currentProfile:qe})),Qe.length===0?(n("main"),i("setup-wizard")):(n("main"),i(null)),G({type:"success",title:"Connection Restored",message:"Successfully connected to the API service",duration:3e3});break}}else{await He.checkHealth(),K=!0;break}throw new Error("API health check failed")}catch(De){console.error(`Retry attempt ${ye+1} failed:`,De),ye<M-1&&await new Promise(Qe=>setTimeout(Qe,de))}K||(G({type:"error",title:"Connection Failed",message:"Unable to connect to the API service after multiple attempts",duration:5e3}),n("loading"))}catch(M){console.error("Retry connection failed:",M),G({type:"error",title:"Connection Failed",message:ue(M),duration:5e3}),n("loading")}finally{y(!1)}},fe=v.useRef(new Map),ve=v.useRef(new Map),G=M=>{const de=`${M.type}-${M.title}`,K=Date.now(),ye=ve.current.get(de)||0;if(K-ye<1e3){console.log("Notification throttled:",M.title);return}if(ve.current.set(de,K),h.some(pt=>pt.type===M.type&&pt.title===M.title)){console.log("Duplicate notification prevented:",M.title);return}const qe=Date.now().toString()+Math.random().toString(36).substr(2,9),We={...M,id:qe};if(g(pt=>{const st=[...pt,We];return st.length>5?(st.slice(0,st.length-5).forEach(ut=>{const pn=fe.current.get(ut.id);pn&&(clearTimeout(pn),fe.current.delete(ut.id))}),st.slice(-5)):st}),M.duration){const pt=setTimeout(()=>{ee(qe)},M.duration);fe.current.set(qe,pt)}},ee=M=>{const de=fe.current.get(M);de&&(clearTimeout(de),fe.current.delete(M)),g(K=>K.filter(ye=>ye.id!==M))};v.useEffect(()=>()=>{fe.current.forEach(M=>{clearTimeout(M)}),fe.current.clear(),ve.current.clear()},[]);const we=async M=>{console.log("Profile created:",M);try{const de=await ce();console.log("Reloaded profiles:",de),m(K=>({...K,profiles:de,currentProfile:M.id})),T(M.id),console.log("Saved profile to localStorage:",M.id),n("main"),i(null),setTimeout(async()=>{try{console.log("🔍 Triggering health check after profile creation to ensure accurate status"),await Wn.refreshHealth(!0)}catch(K){console.warn("Failed to refresh health after profile creation:",K)}},1e3),G({type:"success",title:"Profile Created & Selected",message:`Successfully created and switched to profile "${M.name}" for ${M.databaseName}`,duration:4e3})}catch(de){console.error("Error in handleProfileCreated:",de),m(K=>({...K,profiles:[M,...K.profiles].sort((ye,De)=>{const Qe=new Date(ye.createdUtc).getTime();return new Date(De.createdUtc).getTime()-Qe}),currentProfile:M.id})),T(M.id),n("main"),i(null),setTimeout(async()=>{try{console.log("🔍 Triggering health check after profile creation (fallback) to ensure accurate status"),await Wn.refreshHealth(!0)}catch(K){console.warn("Failed to refresh health after profile creation (fallback):",K)}},1e3),G({type:"success",title:"Profile Created & Selected",message:`Successfully created and switched to profile "${M.name}" for ${M.databaseName}`,duration:4e3})}},Y=M=>{m(de=>({...de,currentProfile:M.id})),T(M.id),n("main"),i(null),G({type:"info",title:"Profile Selected",message:`Now using "${M.name}" for ${M.databaseName}`,duration:2e3})},ke=()=>{i("profile-manager")},H=()=>{i("setup-wizard")},Oe=()=>{i("health-manager")},Ke=async(M,de)=>{console.log("Initial setup completed with type:",M,"API key provided:",!!de),console.log("Actual API key value:",de?`"${de}" (length: ${de.length})`:"null/undefined");try{d(!1),ne(!0),console.log("🔧 Debug - Set isInInitialSetup to true"),G({type:"info",title:"Initializing",message:"Setting up user configuration...",duration:2e3}),console.log("🚀 About to call userService.createOrGetUser with:",M,de?`"${de}"`:"null/undefined");const K=await At.createOrGetUser(M,de);if(console.log("User created/retrieved:",K),G({type:"info",title:"Starting Services",message:"Initializing backend services...",duration:3e3}),window.electronAPI&&window.electronAPI.startApiProcess){const ye=await window.electronAPI.startApiProcess(M);if(ye.success){console.log("API process started successfully"),G({type:"info",title:"Connecting",message:"Establishing connection to services...",duration:4e3}),await new Promise(We=>setTimeout(We,4e3));let De=!1;const Qe=10,qe=1e3;for(let We=0;We<Qe;We++)try{if(window.electronAPI){if(await window.electronAPI.checkApiHealth()){De=!0;break}}else{await He.checkHealth(),De=!0;break}}catch(pt){console.log(`API readiness check ${We+1}/${Qe} failed:`,pt),We<Qe-1&&await new Promise(st=>setTimeout(st,qe))}if(De){if(n("main"),M==="local"&&window.electronAPI?.checkOllamaStatus&&window.electronAPI?.startOllamaModel)try{O(!0),F(20),L("Checking Ollama installation..."),console.log("🦙 User selected local mode, checking Ollama status during setup...");const st=await window.electronAPI.checkOllamaStatus();if(console.log("🦙 Ollama status:",st),F(40),await new Promise(Je=>setTimeout(Je,500)),st.ollamaInstalled&&st.modelInstalled&&!st.modelRunning){L("Starting qwen3:8b model..."),F(60),console.log("🦙 Ollama installed but model not running, starting model during setup...");const Je=await window.electronAPI.startOllamaModel();F(80),Je.success?(L("Model started successfully!"),F(100),console.log("🦙 Model started successfully during setup"),await new Promise(ut=>setTimeout(ut,1500)),G({type:"success",title:"Local LLM Ready",message:"qwen3:8b model started successfully",duration:3e3})):(L("Model start initiated..."),F(100),console.warn("🦙 Failed to start model during setup:",Je.error),await new Promise(ut=>setTimeout(ut,1500)),G({type:"warning",title:"Local LLM Notice",message:"Model start initiated but may still be loading",duration:4e3}))}else st.ollamaInstalled&&st.modelInstalled&&st.modelRunning?(L("Model is already running!"),F(100),console.log("🦙 Model already running during setup"),await new Promise(Je=>setTimeout(Je,1200)),G({type:"success",title:"Local LLM Ready",message:"qwen3:8b model is running",duration:2e3})):(!st.ollamaInstalled||!st.modelInstalled)&&(console.log("🦙 Ollama or model not installed during setup, will be available in main interface..."),L("Setup required - available in main interface"),F(100),await new Promise(Je=>setTimeout(Je,1500)),G({type:"info",title:"Local LLM Setup Pending",message:"Ollama installation will be available from the main interface after database setup",duration:5e3}),re(!0))}catch(st){console.error("🦙 Error during LLM initialization in setup:",st),L("LLM initialization failed"),F(100),await new Promise(Je=>setTimeout(Je,1500)),G({type:"warning",title:"Local LLM Warning",message:"LLM initialization encountered an issue but you can continue",duration:4e3})}finally{O(!1)}G({type:"info",title:"Loading Data",message:"Loading your profiles and settings...",duration:2e3});const We=await ce(),pt=ae(We);m(st=>({...st,profiles:We,currentProfile:pt,setupType:M,user:K})),T(pt),We.length===0?i("setup-wizard"):i(null)}else n("main"),m(We=>({...We,setupType:M,user:K})),i("setup-wizard"),G({type:"warning",title:"API Connection Issue",message:"Setup completed but API connection is not ready. You can try again later.",duration:5e3})}else console.error("Failed to start API process:",ye.message),G({type:"error",title:"API Start Failed",message:ye.message||"Could not start the API service",duration:5e3}),n("main"),m(De=>({...De,setupType:M,user:K})),i("setup-wizard")}else n("main"),m(ye=>({...ye,setupType:M,user:K})),i("setup-wizard");if(M==="local"&&window.electronAPI?.checkOllamaStatus)try{const ye=await window.electronAPI.checkOllamaStatus();ye.ollamaInstalled&&ye.modelInstalled?G({type:"success",title:"Setup Complete",message:"Local LLM is ready to use!",duration:3e3}):(console.log("🦙 Local mode selected but Ollama/model not available - user will be prompted to download"),G({type:"info",title:"Local LLM Setup Required",message:"You can download and install the Local LLM when you first try to use it, or switch to another mode in Settings.",duration:5e3}))}catch(ye){console.error("Failed to check Ollama status after setup:",ye),G({type:"warning",title:"Setup Complete with Warning",message:"Setup completed but could not verify Local LLM status. Check Settings if needed.",duration:5e3})}else G({type:"success",title:"Setup Complete",message:M==="groq"?"NaturalToSQL is ready with Groq AI!":M==="local"?"NaturalToSQL is ready with Local LLM!":"NaturalToSQL is ready in Basic mode!",duration:3e3})}catch(K){console.error("Error during initial setup completion:",K),G({type:"error",title:"Setup Error",message:"An error occurred during setup completion",duration:5e3}),n("main"),i("setup-wizard")}finally{ne(!1),console.log("🔧 Debug - Set isInInitialSetup to false in finally block"),se.current=!1}},Ye=M=>{X(M)},_e=async()=>{const M=await ce(),de=u.currentProfile&&M.find(K=>K.id===u.currentProfile)?u.currentProfile:ae(M);m(K=>({...K,profiles:M,currentProfile:de})),T(de)},wt=async(M,de)=>{try{if(console.log(`Starting mode change to: ${M}`),C(!0),X({api:{status:"loading",lastChecked:new Date().toISOString()},llm:{status:"loading",lastChecked:new Date().toISOString()}}),M==="groq"&&!de)throw new Error("API key is required for Groq mode");await At.updateUserMode(M,de);const K=await At.getCurrentUser();m(De=>({...De,setupType:M,user:K})),await new Promise(De=>setTimeout(De,500)),console.log("Verifying API health after mode change...");let ye=!1;try{window.electronAPI?ye=!!await window.electronAPI.checkApiHealth():(await He.checkHealth(),ye=!0)}catch(De){console.warn("API health check failed after mode change:",De),ye=!1}ye?M==="groq"?(X({api:{status:"healthy",responseTime:100,lastChecked:new Date().toISOString()},llm:{status:"healthy",lastChecked:new Date().toISOString()}}),G({type:"success",title:"Groq AI Enabled",message:"Successfully switched to Groq AI mode. Natural language to SQL conversion is now available.",duration:5e3})):M==="local"?(X({api:{status:"healthy",responseTime:100,lastChecked:new Date().toISOString()},llm:{status:"loading",lastChecked:new Date().toISOString()}}),setTimeout(async()=>{try{await Wn.refreshHealth(!0)}catch(De){console.warn("Failed to refresh health after local mode switch:",De)}},1e3),G({type:"success",title:"Local LLM Mode Enabled",message:"Successfully switched to local LLM mode. Checking Local LLM status...",duration:5e3})):M==="basic"&&(X({api:{status:"healthy",responseTime:100,lastChecked:new Date().toISOString()},llm:{status:"not_initialized",lastChecked:new Date().toISOString()}}),G({type:"success",title:"Basic Mode Enabled",message:"Successfully switched to basic mode. You can browse databases and execute SQL manually.",duration:5e3})):(X({api:{status:"down",lastChecked:new Date().toISOString()},llm:{status:"error",lastError:"API connection lost after mode change",lastChecked:new Date().toISOString()}}),G({type:"warning",title:"API Connection Issue",message:`Mode changed to ${M} but API connection was lost. Please check the API status.`,duration:7e3})),console.log(`Mode change to ${M} completed successfully`)}catch(K){console.error("Error changing mode:",K);const ye=K instanceof Error?K.message:"Unknown error occurred";G({type:"error",title:"Mode Change Failed",message:`Failed to switch to ${M} mode: ${ye}`,duration:7e3}),X({api:{status:"down",lastChecked:new Date().toISOString()},llm:{status:"error",lastError:`Mode change failed: ${ye}`,lastChecked:new Date().toISOString()}})}finally{setTimeout(()=>{C(!1),N(Date.now())},1500)}},ht=M=>{const de=u.profiles.find(K=>K.id===M);m(K=>({...K,currentProfile:M})),T(M),de&&G({type:"info",title:"Profile Switched",message:`Now using "${de.name}" for ${de.databaseName}`,duration:2e3})},Rt=async M=>{try{await He.removeProfile(M);const de=await ce();let K=null;u.currentProfile===M?K=ae(de):K=de.find(ye=>ye.id===u.currentProfile)?u.currentProfile:ae(de),m(ye=>({...ye,profiles:de,currentProfile:K})),T(K),de.length===0?(n("main"),i("setup-wizard")):u.currentProfile===M&&i(null),G({type:"success",title:"Profile Removed",message:"Profile has been successfully deleted",duration:3e3})}catch(de){G({type:"error",title:"Delete Failed",message:ue(de),duration:5e3})}},jt=()=>{const M=u.theme==="light"?"dark":"light";m(de=>({...de,theme:M})),localStorage.setItem("naturalToSql.theme",M),M==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};v.useEffect(()=>{const M=localStorage.getItem("naturalToSql.theme");M&&(m(de=>({...de,theme:M})),M==="dark"&&document.documentElement.classList.add("dark"))},[]);const Ee=M=>({id:M.id,name:M.name,connectionString:"",queries:[],createdUtc:M.createdUtc,databaseName:M.databaseName,provider:M.provider,secretRef:M.secretRef,cacheFile:M.cacheFile});if(v.useEffect(()=>{(async()=>{console.log("🏁 initializeUserData called");try{const de=await He.getAllUsers();if(console.log("👥 All users in system:",de.length),de.length===0){console.log("❌ No users found in system"),console.log("🆕 Fresh installation, setting default setup type: basic"),m(ye=>({...ye,setupType:"basic"}));return}console.log("👤 Getting current user...");let K=await At.getCurrentUser();if(console.log("👤 User data received:",K),!K){console.log("🔄 No current user but users exist, using first user");const ye=de[0];localStorage.setItem("naturalToSql.userId",ye.id);const De=ye.mode==="Groq"?"groq":ye.mode==="Local"?"local":"basic";localStorage.setItem("naturalToSql.setupType",De),K=await At.getCurrentUser()}if(K){const ye=K.mode==="Groq"?"groq":K.mode==="Local"?"local":"basic";console.log("🔧 Setup type from user data:",ye);const De=(K.profiles||[]).map(Ee);if(console.log("📁 Connection profiles:",De),m(Qe=>({...Qe,setupType:ye,user:K,profiles:De})),De.length>0){const Qe=localStorage.getItem("naturalToSql.selectedProfile"),qe=Qe&&De.find(We=>We.id===Qe)?Qe:De[0]?.id||null;m(We=>({...We,currentProfile:qe}))}}else{console.log("❌ Still no user data found after attempting recovery");const ye=localStorage.getItem("naturalToSql.setupType");console.log("💾 Saved setup type from localStorage:",ye),ye?(console.log("✅ Using saved setup type:",ye),m(De=>({...De,setupType:ye}))):(console.log("🆕 Fresh installation, setting default setup type: basic"),m(De=>({...De,setupType:"basic"})))}}catch(de){console.error("Error loading user data:",de);const K=localStorage.getItem("naturalToSql.setupType");console.log("💾 Error fallback - saved setup type from localStorage:",K),K?(console.log("✅ Using saved setup type after error:",K),m(ye=>({...ye,setupType:K}))):(console.log("🆕 Error fallback - fresh installation, setting default setup type: basic"),m(ye=>({...ye,setupType:"basic"})))}})()},[]),t==="loading")return o.jsx(bi,{children:o.jsxs(wi,{children:[o.jsx(Os,{}),o.jsx(wl,{downloads:Z,onCancel:async M=>{if(console.log("� CRITICAL: CANCEL HANDLER 1 TRIGGERED!!! downloadId:",M),console.log("�📥 Cancel requested for download:",M),console.log("🔍 Debug - isInInitialSetup:",A),console.log('🔍 Debug - downloadId === "ollama-setup":',M==="ollama-setup"),console.log("🔍 Debug - appState.setupType:",u.setupType),console.log("🔍 🎯 HANDLER IDENTIFIER: Main Loading Screen Handler"),M==="ollama-setup"&&u.setupType==="local"){console.log("🚨 CONFIRMATION TRIGGER: Ollama setup cancellation detected in local mode"),console.log("🚨 - downloadId:",M),console.log("🚨 - appState.setupType:",u.setupType),console.log("🚨 - About to show confirmation dialog...");const de=window.confirm(`Cancel Local LLM Installation?

Ollama installation is required for Local mode to work. If you cancel now, the app will automatically switch to Basic mode.

You can install Ollama later from Settings → Mode to enable Local LLM.

Are you sure you want to cancel the installation?`);if(console.log("🚨 CONFIRMATION RESULT:",de?"USER CONFIRMED CANCELLATION":"USER REJECTED CANCELLATION"),!de){console.log("❌ User chose not to cancel - continuing download");return}console.log("✅ User confirmed cancellation - proceeding with cancel and mode switch"),console.log("🔄 MODE SWITCH: Starting automatic switch to Basic mode...");try{console.log('🔄 MODE SWITCH: Calling userService.updateUserMode("basic")...'),await At.updateUserMode("basic"),console.log("✅ MODE SWITCH: Successfully switched to Basic mode after cancellation"),G({type:"info",title:"Switched to Basic Mode",message:"Local LLM installation cancelled. You have been switched to Basic mode. You can install Ollama later from Settings.",duration:7e3});const K=await At.getCurrentUser();m(ye=>({...ye,setupType:"basic",user:K}))}catch(K){console.error("❌ Failed to switch to Basic mode:",K),G({type:"error",title:"Mode Switch Failed",message:"Could not switch to Basic mode automatically. Please check Settings → Mode after setup.",duration:7e3})}}console.log("📥 Cancelling download:",M),M==="ollama-setup"&&window.electronAPI&&window.electronAPI.cancelOllamaInstallation(),rn.cancelDownload(M)},onDismiss:M=>{console.log("📥 Dismissing download:",M),rn.removeDownload(M)}})]})});if(j)return o.jsx(bi,{children:o.jsxs(wi,{children:[o.jsx(Os,{type:"llm-init",title:"Initializing Local LLM",subtitle:"Checking and starting Ollama with qwen3:8b model",currentStep:D,progress:_,size:"fullscreen",animated:!0,showProgress:!0}),o.jsx(wl,{downloads:Z,onCancel:async M=>{if(console.log("� CRITICAL: CANCEL HANDLER 2 TRIGGERED!!! downloadId:",M),console.log("�📥 Cancelling download:",M),console.log("🔍 Debug (Handler 2) - downloadId:",M),console.log("🔍 Debug (Handler 2) - appState.setupType:",u.setupType),M==="ollama-setup"&&u.setupType==="local"){if(console.log("🚨 CONFIRMATION TRIGGER (Handler 2): Ollama setup cancellation detected in local mode"),console.log("🚨 - downloadId:",M),console.log("🚨 - appState.setupType:",u.setupType),console.log("🚨 - About to show confirmation dialog..."),!window.confirm(`Cancel Local LLM Setup?

Ollama installation is required for Local mode to work. If you cancel now, you will be automatically switched to Basic mode.

You can install Ollama later from Settings → Mode to enable Local LLM.

Do you want to cancel the installation and switch to Basic mode?`))return;try{await At.updateUserMode("basic"),console.log("✅ Successfully switched to Basic mode after cancellation"),G({type:"info",title:"Switched to Basic Mode",message:"Local LLM installation cancelled. You have been switched to Basic mode.",duration:7e3});const K=await At.getCurrentUser();m(ye=>({...ye,setupType:"basic",user:K}))}catch(K){console.error("❌ Failed to switch to Basic mode:",K),G({type:"error",title:"Mode Switch Failed",message:"Could not switch to Basic mode automatically. Please check Settings → Mode.",duration:7e3})}}M==="ollama-setup"&&window.electronAPI&&window.electronAPI.cancelOllamaInstallation(),rn.cancelDownload(M)},onDismiss:M=>{console.log("📥 Dismissing download:",M),rn.removeDownload(M)}})]})});if(t==="initial-setup"||l)return o.jsx(bi,{children:o.jsxs(wi,{children:[o.jsx("div",{className:`min-h-screen bg-background flex items-center justify-center ${u.theme}`,children:o.jsx(KP,{onSetupCompleted:Ke,onNotification:G})}),o.jsx(wl,{downloads:Z,onCancel:async M=>{if(console.log("� CRITICAL: CANCEL HANDLER 3 TRIGGERED!!! downloadId:",M),console.log("�📥 Cancelling download:",M),console.log("🔍 Debug (Handler 3 - Initial Setup) - downloadId:",M),console.log("🔍 Debug (Handler 3 - Initial Setup) - appState.setupType:",u.setupType),M==="ollama-setup"&&u.setupType==="local"){if(console.log("🚨 CONFIRMATION TRIGGER (Handler 3 - Initial Setup): Ollama setup cancellation detected in local mode"),console.log("🚨 - downloadId:",M),console.log("🚨 - appState.setupType:",u.setupType),console.log("🚨 - About to show confirmation dialog..."),!window.confirm(`Cancel Local LLM Setup?

Ollama installation is required for Local mode to work. If you cancel now, you will be automatically switched to Basic mode.

You can install Ollama later from Settings → Mode to enable Local LLM.

Do you want to cancel the installation and switch to Basic mode?`))return;try{await At.updateUserMode("basic"),console.log("✅ Successfully switched to Basic mode after cancellation"),G({type:"info",title:"Switched to Basic Mode",message:"Local LLM installation cancelled. You have been switched to Basic mode.",duration:7e3});const K=await At.getCurrentUser();m(ye=>({...ye,setupType:"basic",user:K}))}catch(K){console.error("❌ Failed to switch to Basic mode:",K),G({type:"error",title:"Mode Switch Failed",message:"Could not switch to Basic mode automatically. Please check Settings → Mode.",duration:7e3})}}M==="ollama-setup"&&window.electronAPI&&window.electronAPI.cancelOllamaInstallation(),rn.cancelDownload(M)},onDismiss:M=>{console.log("📥 Dismissing download:",M),rn.removeDownload(M)}})]})});const Re=Date.now()-S;return(z?.api?.status==="down"||z?.api?.status==="error")&&!b&&t==="main"&&Re>3e3?o.jsx(bi,{children:o.jsx(wi,{children:o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"API Connection Failed"}),o.jsx("p",{className:"text-muted-foreground",children:"Could not connect to the NaturalToSQL API service. Please ensure the backend service is running."}),o.jsx("button",{onClick:Q,disabled:x,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 disabled:opacity-50",children:x?"Retrying...":"Retry Connection"})]})})})}):o.jsx(bi,{children:o.jsx(wi,{children:o.jsxs("div",{className:`min-h-screen bg-background ${u.theme}`,children:[t==="main"&&o.jsx(G5,{appState:u,onSwitchProfile:ht,onRemoveProfile:Rt,onToggleTheme:jt,onNotification:G,onBackToProfiles:ke,onOpenHealthManager:Oe,onChangeModeSetup:wt,healthStatus:z,needsOllamaSetup:U,onOllamaSetupComplete:()=>re(!1)}),o.jsx(sA,{open:s!==null,onOpenChange:M=>!M&&i(null),className:s==="health-manager"?"max-w-5xl":"",children:o.jsxs("div",{className:"relative",children:[s==="setup-wizard"&&o.jsx(XP,{onProfileCreated:we,onNotification:G,existingProfiles:u.profiles,onBackToProfiles:ke}),s==="profile-manager"&&o.jsx(Q5,{onProfileSelected:Y,onCreateNew:H,onNotification:G,currentProfileId:u.currentProfile,onProfilesUpdated:_e}),s==="health-manager"&&o.jsxs("div",{className:"bg-background p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"System Health Monitor"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor API and LLM service status"})]}),o.jsx(K5,{onNotification:G,onHealthStatusUpdate:Ye,setupType:u.setupType})]})]})}),b&&o.jsx("div",{className:"fixed inset-0 z-[9999] bg-background/95 backdrop-blur-sm",children:o.jsx(Os,{type:"mode-switching",title:"Switching Mode",subtitle:"Configuring services and establishing connections...",size:"fullscreen",animated:!0,showProgress:!0})}),o.jsx(Y5,{notifications:h,onRemoveNotification:ee}),o.jsx(wl,{downloads:Z,onCancel:async M=>{if(console.log("� CRITICAL: CANCEL HANDLER 4 TRIGGERED!!! downloadId:",M),console.log("�📥 Cancelling download:",M),console.log("🔍 Debug (Handler 4 - Main App) - downloadId:",M),console.log("🔍 Debug (Handler 4 - Main App) - appState.setupType:",u.setupType),M==="ollama-setup"&&u.setupType==="local"){if(console.log("🚨 CONFIRMATION TRIGGER (Handler 4 - Main App): Ollama setup cancellation detected in local mode"),console.log("🚨 - downloadId:",M),console.log("🚨 - appState.setupType:",u.setupType),console.log("🚨 - About to show confirmation dialog..."),!window.confirm(`Cancel Local LLM Setup?

Ollama installation is required for Local mode to work. If you cancel now, you will be automatically switched to Basic mode.

You can install Ollama later from Settings → Mode to enable Local LLM.

Do you want to cancel the installation and switch to Basic mode?`))return;try{await At.updateUserMode("basic"),console.log("✅ Successfully switched to Basic mode after cancellation"),G({type:"info",title:"Switched to Basic Mode",message:"Local LLM installation cancelled. You have been switched to Basic mode.",duration:7e3});const K=await At.getCurrentUser();m(ye=>({...ye,setupType:"basic",user:K}))}catch(K){console.error("❌ Failed to switch to Basic mode:",K),G({type:"error",title:"Mode Switch Failed",message:"Could not switch to Basic mode automatically. Please check Settings → Mode.",duration:7e3})}}M==="ollama-setup"&&window.electronAPI&&window.electronAPI.cancelOllamaInstallation(),rn.cancelDownload(M)},onDismiss:M=>{console.log("📥 Dismissing download:",M),rn.removeDownload(M)}})]})})})}lb.createRoot(document.getElementById("root")).render(o.jsx(Jt.StrictMode,{children:o.jsx(oA,{})}));
