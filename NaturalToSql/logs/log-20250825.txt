2025-08-25 10:56:31.534 +03:00 [INF] This is a test log to file!
2025-08-25 10:56:31.664 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 10:56:31.673 +03:00 [INF] API configured successfully.
2025-08-25 10:56:31.675 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 10:56:31.745 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 10:56:31.779 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 10:56:31.781 +03:00 [DBG] Hosting starting
2025-08-25 10:56:31.796 +03:00 [DBG] Middleware loaded
2025-08-25 10:56:31.805 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 10:56:31.807 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 10:56:32.063 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 10:56:32.071 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 10:56:32.120 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 10:56:32.192 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 10:56:32.307 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 10:56:32.309 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 10:56:32.310 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 10:56:32.311 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 10:56:32.312 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 10:56:32.312 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 10:56:32.318 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 10:56:32.327 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 10:56:32.459 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 10:56:32.460 +03:00 [INF] Hosting environment: Development
2025-08-25 10:56:32.461 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 10:56:32.462 +03:00 [DBG] Hosting started
2025-08-25 10:56:38.276 +03:00 [DBG] Connection id "0HNF3LJLP9MKG" accepted.
2025-08-25 10:56:38.278 +03:00 [DBG] Connection id "0HNF3LJLP9MKG" started.
2025-08-25 10:56:38.314 +03:00 [DBG] Connection id "0HNF3LJLP9MKG" received FIN.
2025-08-25 10:56:38.314 +03:00 [DBG] Connection id "0HNF3LJLP9MKH" accepted.
2025-08-25 10:56:38.322 +03:00 [DBG] Connection id "0HNF3LJLP9MKH" started.
2025-08-25 10:56:38.442 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 10:56:38.444 +03:00 [DBG] Connection 0HNF3LJLP9MKH established using the following protocol: "Tls13"
2025-08-25 10:56:38.449 +03:00 [DBG] Connection id "0HNF3LJLP9MKG" stopped.
2025-08-25 10:56:38.451 +03:00 [DBG] Connection id "0HNF3LJLP9MKG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 10:56:38.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/Server - null null
2025-08-25 10:56:38.603 +03:00 [DBG] 1 candidate(s) found for the request path '/Server'
2025-08-25 10:56:38.606 +03:00 [DBG] Request matched endpoint 'HTTP: GET /server'
2025-08-25 10:56:38.638 +03:00 [INF] Executing endpoint 'HTTP: GET /server'
2025-08-25 10:56:38.683 +03:00 [INF] Fetching servers (forceRefresh=false)
2025-08-25 10:56:38.788 +03:00 [INF] Loaded 1 servers from cache file
2025-08-25 10:56:38.793 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 10:56:38.798 +03:00 [INF] Writing value of type 'List`1' as Json.
2025-08-25 10:56:38.803 +03:00 [INF] Executed endpoint 'HTTP: GET /server'
2025-08-25 10:56:38.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/Server - 200 null application/json; charset=utf-8 322.9672ms
2025-08-25 10:56:38.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/favicon.ico - null null
2025-08-25 10:56:38.850 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-08-25 10:56:38.852 +03:00 [DBG] Request did not match any endpoints
2025-08-25 10:56:38.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/favicon.ico - 404 0 null 7.6803ms
2025-08-25 10:56:38.858 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7202/favicon.ico, Response status code: 404
2025-08-25 11:17:59.370 +03:00 [DBG] Connection id "0HNF3LJLP9MKH" received FIN.
2025-08-25 11:17:59.408 +03:00 [DBG] The connection queue processing loop for 0HNF3LJLP9MKH completed.
2025-08-25 11:17:59.411 +03:00 [DBG] Connection id "0HNF3LJLP9MKH" is closed. The last processed stream ID was 3.
2025-08-25 11:17:59.413 +03:00 [DBG] Connection id "0HNF3LJLP9MKH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 11:17:59.415 +03:00 [DBG] Connection id "0HNF3LJLP9MKH" stopped.
2025-08-25 11:18:32.552 +03:00 [DBG] Connection id "0HNF3LJLP9MKI" accepted.
2025-08-25 11:18:32.559 +03:00 [DBG] Connection id "0HNF3LJLP9MKI" started.
2025-08-25 11:18:32.563 +03:00 [DBG] Connection id "0HNF3LJLP9MKI" received FIN.
2025-08-25 11:18:32.738 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 11:18:32.738 +03:00 [DBG] Connection id "0HNF3LJLP9MKJ" accepted.
2025-08-25 11:18:32.765 +03:00 [DBG] Connection id "0HNF3LJLP9MKI" stopped.
2025-08-25 11:18:32.765 +03:00 [DBG] Connection id "0HNF3LJLP9MKJ" started.
2025-08-25 11:18:32.766 +03:00 [DBG] Connection id "0HNF3LJLP9MKI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 11:18:32.769 +03:00 [DBG] Connection 0HNF3LJLP9MKJ established using the following protocol: "Tls13"
2025-08-25 11:18:32.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?serverName=DESKTOP-QCK8UI5\SQLEXPRESS&databaseName=ProductInventory - null null
2025-08-25 11:18:32.783 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 11:18:32.784 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 11:18:32.787 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 11:18:32.843 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory
2025-08-25 11:18:32.860 +03:00 [INF] Loaded schema from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\cache\sqlserver_schemas.json
2025-08-25 11:18:32.861 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 11:18:32.865 +03:00 [INF] Writing value of type 'SchemaModel' as Json.
2025-08-25 11:18:32.870 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 11:18:32.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?serverName=DESKTOP-QCK8UI5\SQLEXPRESS&databaseName=ProductInventory - 200 null application/json; charset=utf-8 99.6396ms
2025-08-25 12:07:47.652 +03:00 [INF] This is a test log to file!
2025-08-25 12:07:47.814 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:07:47.824 +03:00 [INF] API configured successfully.
2025-08-25 12:07:47.826 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:07:47.877 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:07:47.902 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:07:47.903 +03:00 [DBG] Hosting starting
2025-08-25 12:07:47.918 +03:00 [DBG] Middleware loaded
2025-08-25 12:07:47.921 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:07:47.923 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:07:48.024 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:07:48.027 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:07:48.036 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:07:48.068 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:07:48.135 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:07:48.137 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:07:48.138 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:07:48.139 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:07:48.139 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:07:48.140 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:07:48.146 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:07:48.150 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:07:48.175 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:07:48.176 +03:00 [INF] Hosting environment: Development
2025-08-25 12:07:48.177 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:07:48.178 +03:00 [DBG] Hosting started
2025-08-25 12:08:46.354 +03:00 [DBG] Connection id "0HNF3MRVL2AG8" accepted.
2025-08-25 12:08:46.362 +03:00 [DBG] Connection id "0HNF3MRVL2AG8" started.
2025-08-25 12:08:46.394 +03:00 [DBG] Connection id "0HNF3MRVL2AG8" received FIN.
2025-08-25 12:08:46.420 +03:00 [DBG] Connection id "0HNF3MRVL2AG9" accepted.
2025-08-25 12:08:46.427 +03:00 [DBG] Connection id "0HNF3MRVL2AG9" started.
2025-08-25 12:08:46.574 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:08:46.580 +03:00 [DBG] Connection 0HNF3MRVL2AG9 established using the following protocol: "Tls13"
2025-08-25 12:08:46.581 +03:00 [DBG] Connection id "0HNF3MRVL2AG8" stopped.
2025-08-25 12:08:46.585 +03:00 [DBG] Connection id "0HNF3MRVL2AG8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:08:46.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:08:46.706 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:08:46.709 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:08:46.734 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:08:46.770 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:08:46.773 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:08:47.111 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:08:47.144 +03:00 [INF] Execution finished in 337 ms, affected 1 rows
2025-08-25 12:08:47.214 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_schemas.json
2025-08-25 12:08:47.216 +03:00 [INF] Cached schema to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_schemas.json
2025-08-25 12:08:47.223 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:08:47.230 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:08:47.236 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:08:47.241 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 626.6528ms
2025-08-25 12:09:53.291 +03:00 [INF] This is a test log to file!
2025-08-25 12:09:53.407 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:09:53.413 +03:00 [INF] API configured successfully.
2025-08-25 12:09:53.414 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:09:53.464 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:09:53.485 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:09:53.486 +03:00 [DBG] Hosting starting
2025-08-25 12:09:53.497 +03:00 [DBG] Middleware loaded
2025-08-25 12:09:53.500 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:09:53.502 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:09:53.597 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:09:53.599 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:09:53.607 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:09:53.637 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:09:53.703 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:09:53.704 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:09:53.704 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:09:53.705 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:09:53.706 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:09:53.706 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:09:53.711 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:09:53.716 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:09:53.740 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:09:53.741 +03:00 [INF] Hosting environment: Development
2025-08-25 12:09:53.742 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:09:53.743 +03:00 [DBG] Hosting started
2025-08-25 12:09:57.317 +03:00 [DBG] Connection id "0HNF3MSKPQJNB" accepted.
2025-08-25 12:09:57.319 +03:00 [DBG] Connection id "0HNF3MSKPQJNB" started.
2025-08-25 12:09:57.345 +03:00 [DBG] Connection id "0HNF3MSKPQJNB" received FIN.
2025-08-25 12:09:57.345 +03:00 [DBG] Connection id "0HNF3MSKPQJNC" accepted.
2025-08-25 12:09:57.352 +03:00 [DBG] Connection id "0HNF3MSKPQJNC" started.
2025-08-25 12:09:57.439 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:09:57.450 +03:00 [DBG] Connection 0HNF3MSKPQJNC established using the following protocol: "Tls13"
2025-08-25 12:09:57.452 +03:00 [DBG] Connection id "0HNF3MSKPQJNB" stopped.
2025-08-25 12:09:57.456 +03:00 [DBG] Connection id "0HNF3MSKPQJNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:09:57.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:09:57.578 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:09:57.580 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:09:57.606 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:09:57.642 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:09:57.645 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:09:57.864 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:09:57.891 +03:00 [INF] Execution finished in 242 ms, affected 1 rows
2025-08-25 12:09:57.960 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 12:09:57.963 +03:00 [INF] Cached query to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 12:09:57.970 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:09:57.978 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:09:57.984 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:09:57.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 506.784ms
2025-08-25 12:19:15.748 +03:00 [INF] This is a test log to file!
2025-08-25 12:19:15.887 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:19:15.896 +03:00 [INF] API configured successfully.
2025-08-25 12:19:15.898 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:19:15.952 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:19:15.975 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:19:15.976 +03:00 [DBG] Hosting starting
2025-08-25 12:19:15.988 +03:00 [DBG] Middleware loaded
2025-08-25 12:19:15.991 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:19:15.992 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:19:16.094 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:19:16.096 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:19:16.106 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:19:16.145 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:19:16.215 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:19:16.217 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:19:16.218 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:19:16.219 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:19:16.219 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:19:16.220 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:19:16.226 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:19:16.231 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:19:16.255 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:19:16.256 +03:00 [INF] Hosting environment: Development
2025-08-25 12:19:16.257 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:19:16.258 +03:00 [DBG] Hosting started
2025-08-25 12:22:39.629 +03:00 [DBG] Connection id "0HNF3N3NVPJKO" accepted.
2025-08-25 12:22:39.658 +03:00 [DBG] Connection id "0HNF3N3NVPJKO" started.
2025-08-25 12:22:39.714 +03:00 [DBG] Connection id "0HNF3N3NVPJKO" received FIN.
2025-08-25 12:22:39.721 +03:00 [DBG] Connection id "0HNF3N3NVPJKP" accepted.
2025-08-25 12:22:39.729 +03:00 [DBG] Connection id "0HNF3N3NVPJKP" started.
2025-08-25 12:22:39.793 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:22:39.801 +03:00 [DBG] Connection 0HNF3N3NVPJKP established using the following protocol: "Tls13"
2025-08-25 12:22:39.802 +03:00 [DBG] Connection id "0HNF3N3NVPJKO" stopped.
2025-08-25 12:22:39.807 +03:00 [DBG] Connection id "0HNF3N3NVPJKO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:22:39.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:22:39.929 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:22:39.932 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:22:39.955 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:22:39.991 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:22:39.993 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:22:40.228 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:22:40.259 +03:00 [INF] Execution finished in 262 ms, affected 1 rows
2025-08-25 12:22:40.329 +03:00 [INF] Query already cached at "2025-08-25T09:09:57.8948518Z", skipping
2025-08-25 12:22:40.337 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:22:40.345 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:22:40.351 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:22:40.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 517.3011ms
2025-08-25 12:22:43.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:22:43.463 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:22:43.466 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:22:43.469 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:22:43.470 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:22:43.472 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:22:43.473 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:22:43.479 +03:00 [INF] Execution finished in 6 ms, affected 1 rows
2025-08-25 12:22:43.480 +03:00 [INF] Query already cached at "2025-08-25T09:09:57.8948518Z", skipping
2025-08-25 12:22:43.481 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:22:43.482 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:22:43.483 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:22:43.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 34.2681ms
2025-08-25 12:22:44.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:22:44.045 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:22:44.047 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:22:44.049 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:22:44.051 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:22:44.054 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:22:44.055 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:22:44.059 +03:00 [INF] Execution finished in 3 ms, affected 1 rows
2025-08-25 12:22:44.061 +03:00 [INF] Query already cached at "2025-08-25T09:09:57.8948518Z", skipping
2025-08-25 12:22:44.063 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:22:44.063 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:22:44.065 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:22:44.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 25.9645ms
2025-08-25 12:22:59.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20mario; - null null
2025-08-25 12:22:59.059 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:22:59.061 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:22:59.062 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:22:59.063 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:22:59.065 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:22:59.066 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:22:59.067 +03:00 [INF] Execution finished in 1 ms, affected 1 rows
2025-08-25 12:22:59.090 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 12:22:59.091 +03:00 [INF] Cached query to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 12:22:59.092 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:22:59.094 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:22:59.096 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:22:59.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20mario; - 200 null application/json; charset=utf-8 45.5733ms
2025-08-25 12:27:14.950 +03:00 [INF] This is a test log to file!
2025-08-25 12:27:15.094 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:27:15.101 +03:00 [INF] API configured successfully.
2025-08-25 12:27:15.101 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:27:15.150 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:27:15.174 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:27:15.176 +03:00 [DBG] Hosting starting
2025-08-25 12:27:15.188 +03:00 [DBG] Middleware loaded
2025-08-25 12:27:15.191 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:27:15.193 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:27:15.272 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:27:15.274 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:27:15.281 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:27:15.315 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:27:15.399 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:27:15.401 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:27:15.402 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:27:15.402 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:27:15.403 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:27:15.404 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:27:15.410 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:27:15.416 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:27:15.441 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:27:15.442 +03:00 [INF] Hosting environment: Development
2025-08-25 12:27:15.443 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:27:15.444 +03:00 [DBG] Hosting started
2025-08-25 12:27:34.529 +03:00 [DBG] Connection id "0HNF3N6FS5TVN" accepted.
2025-08-25 12:27:34.532 +03:00 [DBG] Connection id "0HNF3N6FS5TVN" started.
2025-08-25 12:27:34.562 +03:00 [DBG] Connection id "0HNF3N6FS5TVN" received FIN.
2025-08-25 12:27:34.562 +03:00 [DBG] Connection id "0HNF3N6FS5TVO" accepted.
2025-08-25 12:27:34.571 +03:00 [DBG] Connection id "0HNF3N6FS5TVO" started.
2025-08-25 12:27:34.640 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:27:34.646 +03:00 [DBG] Connection 0HNF3N6FS5TVO established using the following protocol: "Tls13"
2025-08-25 12:27:34.647 +03:00 [DBG] Connection id "0HNF3N6FS5TVN" stopped.
2025-08-25 12:27:34.653 +03:00 [DBG] Connection id "0HNF3N6FS5TVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:27:34.687 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20mario; - null null
2025-08-25 12:27:34.779 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:27:34.781 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:27:34.805 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:27:34.846 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:27:34.849 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:27:35.083 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:27:35.117 +03:00 [INF] Execution finished in 264 ms, affected 1 rows
2025-08-25 12:27:35.190 +03:00 [INF] Query already cached at "2025-08-25T09:22:59.0688442Z", skipping
2025-08-25 12:27:35.199 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:27:35.208 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:27:35.214 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:27:35.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20mario; - 200 null application/json; charset=utf-8 535.5961ms
2025-08-25 12:27:42.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:27:42.600 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:27:42.602 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:27:42.604 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:27:42.606 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:27:42.608 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:27:42.610 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:27:42.613 +03:00 [INF] Execution finished in 3 ms, affected 1 rows
2025-08-25 12:27:42.635 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 12:27:42.637 +03:00 [INF] Cached query to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 12:27:42.638 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:27:42.639 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:27:42.639 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:27:42.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 49.7379ms
2025-08-25 12:27:44.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:27:44.097 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:27:44.098 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:27:44.101 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:27:44.102 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:27:44.104 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:27:44.105 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:27:44.107 +03:00 [INF] Execution finished in 2 ms, affected 1 rows
2025-08-25 12:27:44.109 +03:00 [INF] Query already cached at "2025-08-25T09:27:42.6165003Z", skipping
2025-08-25 12:27:44.112 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:27:44.113 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:27:44.114 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:27:44.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 23.002ms
2025-08-25 12:27:44.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 12:27:44.736 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 12:27:44.739 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 12:27:44.741 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 12:27:44.743 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 12:27:44.746 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 12:27:44.747 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 12:27:44.750 +03:00 [INF] Execution finished in 3 ms, affected 1 rows
2025-08-25 12:27:44.753 +03:00 [INF] Query already cached at "2025-08-25T09:27:42.6165003Z", skipping
2025-08-25 12:27:44.754 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:27:44.755 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 12:27:44.757 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 12:27:44.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 31.88ms
2025-08-25 12:38:58.564 +03:00 [INF] This is a test log to file!
2025-08-25 12:38:58.689 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:38:58.697 +03:00 [INF] API configured successfully.
2025-08-25 12:38:58.698 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:38:58.751 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:38:58.776 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:38:58.777 +03:00 [DBG] Hosting starting
2025-08-25 12:38:58.790 +03:00 [DBG] Middleware loaded
2025-08-25 12:38:58.793 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:38:58.794 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:38:58.904 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:38:58.906 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:38:58.916 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:38:58.963 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:38:59.052 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:38:59.053 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:38:59.054 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:38:59.056 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:38:59.057 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:38:59.058 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:38:59.064 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:38:59.071 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:38:59.104 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:38:59.105 +03:00 [INF] Hosting environment: Development
2025-08-25 12:38:59.106 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:38:59.108 +03:00 [DBG] Hosting started
2025-08-25 12:39:05.331 +03:00 [DBG] Connection id "0HNF3NCTO63H5" accepted.
2025-08-25 12:39:05.333 +03:00 [DBG] Connection id "0HNF3NCTO63H5" started.
2025-08-25 12:39:05.368 +03:00 [DBG] Connection id "0HNF3NCTO63H5" received FIN.
2025-08-25 12:39:05.368 +03:00 [DBG] Connection id "0HNF3NCTO63H6" accepted.
2025-08-25 12:39:05.375 +03:00 [DBG] Connection id "0HNF3NCTO63H6" started.
2025-08-25 12:39:05.442 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:39:05.448 +03:00 [DBG] Connection 0HNF3NCTO63H6 established using the following protocol: "Tls13"
2025-08-25 12:39:05.448 +03:00 [DBG] Connection id "0HNF3NCTO63H5" stopped.
2025-08-25 12:39:05.454 +03:00 [DBG] Connection id "0HNF3NCTO63H5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:39:05.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 12:39:05.597 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 12:39:05.601 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:39:05.630 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:39:05.643 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:39:05.645 +03:00 [INF] Executed endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:39:05.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/supported-dbs - 200 0 null 165.0032ms
2025-08-25 12:39:08.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 12:39:08.706 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 12:39:08.708 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:39:08.710 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:39:08.712 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:39:08.714 +03:00 [INF] Executed endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:39:08.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/supported-dbs - 200 0 null 20.1742ms
2025-08-25 12:40:13.878 +03:00 [INF] This is a test log to file!
2025-08-25 12:40:13.992 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:40:14.000 +03:00 [INF] API configured successfully.
2025-08-25 12:40:14.002 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:40:14.045 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:40:14.065 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:40:14.067 +03:00 [DBG] Hosting starting
2025-08-25 12:40:14.078 +03:00 [DBG] Middleware loaded
2025-08-25 12:40:14.080 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:40:14.081 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:40:14.176 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:40:14.178 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:40:14.185 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:40:14.216 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:40:14.260 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:40:14.261 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:40:14.262 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:40:14.263 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:40:14.264 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:40:14.264 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:40:14.271 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:40:14.277 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:40:14.299 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:40:14.302 +03:00 [INF] Hosting environment: Development
2025-08-25 12:40:14.303 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:40:14.304 +03:00 [DBG] Hosting started
2025-08-25 12:53:15.037 +03:00 [DBG] Connection id "0HNF3NKQVJRO9" accepted.
2025-08-25 12:53:15.045 +03:00 [DBG] Connection id "0HNF3NKQVJRO9" started.
2025-08-25 12:53:15.097 +03:00 [DBG] Connection id "0HNF3NKQVJRO9" received FIN.
2025-08-25 12:53:15.122 +03:00 [DBG] Connection id "0HNF3NKQVJROA" accepted.
2025-08-25 12:53:15.147 +03:00 [DBG] Connection id "0HNF3NKQVJROA" started.
2025-08-25 12:53:15.204 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:53:15.211 +03:00 [DBG] Connection id "0HNF3NKQVJRO9" stopped.
2025-08-25 12:53:15.219 +03:00 [DBG] Connection id "0HNF3NKQVJRO9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:53:15.220 +03:00 [DBG] Connection 0HNF3NKQVJROA established using the following protocol: "Tls13"
2025-08-25 12:53:15.264 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 12:53:15.359 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 12:53:15.361 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:53:15.384 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:53:15.476 +03:00 [INF] Executed endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:53:15.521 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Newtonsoft.Json.Utilities.ValidationUtils.ArgumentNotNull(Object value, String parameterName)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value)
   at Program.<>c.<<<Main>$>b__0_0>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 46
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 12:53:15.535 +03:00 [ERR] Unhandled exception occurred.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Newtonsoft.Json.Utilities.ValidationUtils.ArgumentNotNull(Object value, String parameterName)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value)
   at Program.<>c.<<<Main>$>b__0_0>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 46
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 12:53:15.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/supported-dbs - 500 null application/json; charset=utf-8 287.66ms
2025-08-25 12:53:25.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 12:53:25.736 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 12:53:25.738 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:53:25.741 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:54:06.244 +03:00 [INF] This is a test log to file!
2025-08-25 12:54:06.363 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:54:06.369 +03:00 [INF] API configured successfully.
2025-08-25 12:54:06.370 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:54:06.416 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:54:06.440 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:54:06.441 +03:00 [DBG] Hosting starting
2025-08-25 12:54:06.452 +03:00 [DBG] Middleware loaded
2025-08-25 12:54:06.454 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:54:06.455 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:54:06.550 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:54:06.552 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:54:06.559 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:54:06.588 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:54:06.660 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:54:06.663 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:54:06.664 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:54:06.665 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:54:06.666 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:54:06.667 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:54:06.673 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:54:06.678 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:54:06.700 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:54:06.701 +03:00 [INF] Hosting environment: Development
2025-08-25 12:54:06.702 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:54:06.703 +03:00 [DBG] Hosting started
2025-08-25 12:54:08.890 +03:00 [DBG] Connection id "0HNF3NLB1695E" accepted.
2025-08-25 12:54:08.892 +03:00 [DBG] Connection id "0HNF3NLB1695E" started.
2025-08-25 12:54:08.917 +03:00 [DBG] Connection id "0HNF3NLB1695E" received FIN.
2025-08-25 12:54:08.917 +03:00 [DBG] Connection id "0HNF3NLB1695F" accepted.
2025-08-25 12:54:08.924 +03:00 [DBG] Connection id "0HNF3NLB1695F" started.
2025-08-25 12:54:08.984 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:54:08.990 +03:00 [DBG] Connection 0HNF3NLB1695F established using the following protocol: "Tls13"
2025-08-25 12:54:08.991 +03:00 [DBG] Connection id "0HNF3NLB1695E" stopped.
2025-08-25 12:54:08.994 +03:00 [DBG] Connection id "0HNF3NLB1695E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:54:09.025 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 12:54:09.120 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 12:54:09.124 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:54:09.148 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:55:38.864 +03:00 [INF] This is a test log to file!
2025-08-25 12:55:39.012 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 12:55:39.062 +03:00 [INF] API configured successfully.
2025-08-25 12:55:39.066 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 12:55:39.131 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 12:55:39.158 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 12:55:39.160 +03:00 [DBG] Hosting starting
2025-08-25 12:55:39.174 +03:00 [DBG] Middleware loaded
2025-08-25 12:55:39.177 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 12:55:39.179 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 12:55:39.290 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 12:55:39.293 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 12:55:39.305 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 12:55:39.345 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 12:55:39.394 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 12:55:39.396 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 12:55:39.398 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 12:55:39.398 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 12:55:39.399 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 12:55:39.400 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 12:55:39.405 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:55:39.410 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 12:55:39.437 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 12:55:39.438 +03:00 [INF] Hosting environment: Development
2025-08-25 12:55:39.439 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 12:55:39.440 +03:00 [DBG] Hosting started
2025-08-25 12:55:44.047 +03:00 [DBG] Connection id "0HNF3NM7CLVN1" accepted.
2025-08-25 12:55:44.049 +03:00 [DBG] Connection id "0HNF3NM7CLVN1" started.
2025-08-25 12:55:44.081 +03:00 [DBG] Connection id "0HNF3NM7CLVN1" received FIN.
2025-08-25 12:55:44.082 +03:00 [DBG] Connection id "0HNF3NM7CLVN2" accepted.
2025-08-25 12:55:44.101 +03:00 [DBG] Connection id "0HNF3NM7CLVN2" started.
2025-08-25 12:55:44.151 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 12:55:44.160 +03:00 [DBG] Connection id "0HNF3NM7CLVN1" stopped.
2025-08-25 12:55:44.160 +03:00 [DBG] Connection 0HNF3NM7CLVN2 established using the following protocol: "Tls13"
2025-08-25 12:55:44.165 +03:00 [DBG] Connection id "0HNF3NM7CLVN1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 12:55:44.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 12:55:44.295 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 12:55:44.298 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:55:44.320 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:55:44.330 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 12:55:44.336 +03:00 [INF] Writing value of type 'List`1' as Json.
2025-08-25 12:55:44.341 +03:00 [INF] Executed endpoint 'HTTP: GET /supported-dbs'
2025-08-25 12:55:44.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/supported-dbs - 200 null application/json; charset=utf-8 147.22ms
2025-08-25 14:36:54.477 +03:00 [INF] This is a test log to file!
2025-08-25 14:36:54.608 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 14:36:54.616 +03:00 [INF] API configured successfully.
2025-08-25 14:36:54.617 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 14:36:55.262 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 14:36:55.287 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 14:36:55.289 +03:00 [DBG] Hosting starting
2025-08-25 14:36:55.302 +03:00 [DBG] Middleware loaded
2025-08-25 14:36:55.306 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 14:36:55.307 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 14:36:55.405 +03:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
info                | Body (Inferred)
provider            | Service (Attribute)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at InvokeStub_AuthorizationPolicyCache..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at InvokeStub_AuthorizationMiddlewareInternal..ctor(Object, Object, Object, Object, Object)
   at System.Reflection.ConstructorInvoker.InvokeImpl(Object arg1, Object arg2, Object arg3, Object arg4)
   at System.Reflection.ConstructorInvoker.Invoke(Span`1 arguments)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-08-25 14:36:55.470 +03:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
info                | Body (Inferred)
provider            | Service (Attribute)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at InvokeStub_AuthorizationPolicyCache..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at InvokeStub_AuthorizationMiddlewareInternal..ctor(Object, Object, Object, Object, Object)
   at System.Reflection.ConstructorInvoker.InvokeImpl(Object arg1, Object arg2, Object arg3, Object arg4)
   at System.Reflection.ConstructorInvoker.Invoke(Span`1 arguments)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-25 14:37:45.128 +03:00 [INF] This is a test log to file!
2025-08-25 14:37:45.253 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 14:37:45.260 +03:00 [INF] API configured successfully.
2025-08-25 14:37:45.260 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 14:37:45.306 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 14:37:45.330 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 14:37:45.332 +03:00 [DBG] Hosting starting
2025-08-25 14:37:45.346 +03:00 [DBG] Middleware loaded
2025-08-25 14:37:45.349 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 14:37:45.351 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 14:37:45.443 +03:00 [FTL] Application startup exception
System.InvalidOperationException: info must have a valid TryParse method to support converting from a string. No public static bool ServerDatabase.TryParse(string, out ServerDatabase) method found for info.
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.BindParameterFromValue(ParameterInfo parameter, Expression valueExpression, RequestDelegateFactoryContext factoryContext, String source)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgument(ParameterInfo parameter, RequestDelegateFactoryContext factoryContext, Boolean& hasTryParse, Boolean& hasBindAsync, Boolean& isAsParameters)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at InvokeStub_AuthorizationPolicyCache..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at InvokeStub_AuthorizationMiddlewareInternal..ctor(Object, Object, Object, Object, Object)
   at System.Reflection.ConstructorInvoker.InvokeImpl(Object arg1, Object arg2, Object arg3, Object arg4)
   at System.Reflection.ConstructorInvoker.Invoke(Span`1 arguments)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-08-25 14:37:45.511 +03:00 [ERR] Hosting failed to start
System.InvalidOperationException: info must have a valid TryParse method to support converting from a string. No public static bool ServerDatabase.TryParse(string, out ServerDatabase) method found for info.
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.BindParameterFromValue(ParameterInfo parameter, Expression valueExpression, RequestDelegateFactoryContext factoryContext, String source)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgument(ParameterInfo parameter, RequestDelegateFactoryContext factoryContext, Boolean& hasTryParse, Boolean& hasBindAsync, Boolean& isAsParameters)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at InvokeStub_AuthorizationPolicyCache..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at InvokeStub_AuthorizationMiddlewareInternal..ctor(Object, Object, Object, Object, Object)
   at System.Reflection.ConstructorInvoker.InvokeImpl(Object arg1, Object arg2, Object arg3, Object arg4)
   at System.Reflection.ConstructorInvoker.Invoke(Span`1 arguments)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-25 14:39:03.070 +03:00 [INF] This is a test log to file!
2025-08-25 14:39:03.193 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 14:39:03.200 +03:00 [INF] API configured successfully.
2025-08-25 14:39:03.200 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 14:39:03.252 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 14:39:03.276 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 14:39:03.279 +03:00 [DBG] Hosting starting
2025-08-25 14:39:03.296 +03:00 [DBG] Middleware loaded
2025-08-25 14:39:03.311 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 14:39:03.314 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 14:39:03.435 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 14:39:03.438 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 14:39:03.446 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 14:39:03.486 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 14:39:03.537 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 14:39:03.538 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 14:39:03.539 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 14:39:03.540 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 14:39:03.541 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 14:39:03.541 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 14:39:03.547 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 14:39:03.554 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 14:39:03.585 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:39:03.586 +03:00 [INF] Hosting environment: Development
2025-08-25 14:39:03.587 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 14:39:03.588 +03:00 [DBG] Hosting started
2025-08-25 14:39:10.107 +03:00 [DBG] Connection id "0HNF3PG0U9393" accepted.
2025-08-25 14:39:10.108 +03:00 [DBG] Connection id "0HNF3PG0U9393" started.
2025-08-25 14:39:10.137 +03:00 [DBG] Connection id "0HNF3PG0U9393" received FIN.
2025-08-25 14:39:10.138 +03:00 [DBG] Connection id "0HNF3PG0U9394" accepted.
2025-08-25 14:39:10.212 +03:00 [DBG] Connection id "0HNF3PG0U9394" started.
2025-08-25 14:39:10.245 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 14:39:10.252 +03:00 [DBG] Connection id "0HNF3PG0U9393" stopped.
2025-08-25 14:39:10.253 +03:00 [DBG] Connection 0HNF3PG0U9394 established using the following protocol: "Tls13"
2025-08-25 14:39:10.254 +03:00 [DBG] Connection id "0HNF3PG0U9393" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 14:39:10.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/supported-dbs - null null
2025-08-25 14:39:10.391 +03:00 [DBG] 1 candidate(s) found for the request path '/supported-dbs'
2025-08-25 14:39:10.394 +03:00 [DBG] Request matched endpoint 'HTTP: GET /supported-dbs'
2025-08-25 14:39:10.421 +03:00 [INF] Executing endpoint 'HTTP: GET /supported-dbs'
2025-08-25 14:39:10.432 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:39:10.436 +03:00 [INF] Writing value of type 'List`1' as Json.
2025-08-25 14:39:10.441 +03:00 [INF] Executed endpoint 'HTTP: GET /supported-dbs'
2025-08-25 14:39:10.446 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/supported-dbs - 200 null application/json; charset=utf-8 157.4834ms
2025-08-25 14:39:20.371 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?serverName=DESKTOP-QCK8UI5\SQLEXPRESS&databaseName=ProductInventory - null null
2025-08-25 14:39:20.378 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 14:39:20.379 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 14:39:20.380 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 14:39:20.423 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory
2025-08-25 14:39:20.659 +03:00 [DBG] Connected to DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory
2025-08-25 14:39:20.840 +03:00 [INF] Loaded 3 tables
2025-08-25 14:39:20.843 +03:00 [DBG] Loaded 10 columns
2025-08-25 14:39:20.897 +03:00 [DBG] Marked 3 PKs
2025-08-25 14:39:20.970 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-25 14:39:21.043 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_schemas.json
2025-08-25 14:39:21.044 +03:00 [INF] Cached schema to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_schemas.json
2025-08-25 14:39:21.045 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:39:21.048 +03:00 [INF] Writing value of type 'SchemaModel' as Json.
2025-08-25 14:39:21.050 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 14:39:21.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?serverName=DESKTOP-QCK8UI5\SQLEXPRESS&databaseName=ProductInventory - 200 null application/json; charset=utf-8 681.3213ms
2025-08-25 14:39:34.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 14:39:34.334 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 14:39:34.336 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 14:39:34.338 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 14:39:34.342 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 14:39:34.343 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 14:39:34.352 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 14:39:34.362 +03:00 [INF] Execution finished in 18 ms, affected 1 rows
2025-08-25 14:39:34.392 +03:00 [INF] Query already cached at "2025-08-25T09:27:42.6165003Z", skipping
2025-08-25 14:39:34.397 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:39:34.403 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 14:39:34.406 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 14:39:34.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 78.2226ms
2025-08-25 14:39:45.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20sometasdhing; - null null
2025-08-25 14:39:45.036 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 14:39:45.037 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 14:39:45.038 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 14:39:45.039 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="Write")
2025-08-25 14:39:45.040 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 14:39:45.041 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 14:39:45.043 +03:00 [INF] Execution finished in 3 ms, affected 1 rows
2025-08-25 14:39:45.056 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 14:39:45.057 +03:00 [INF] Cached query to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 14:39:45.065 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:39:45.066 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 14:39:45.067 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 14:39:45.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20sometasdhing; - 200 null application/json; charset=utf-8 36.6328ms
2025-08-25 14:43:02.809 +03:00 [INF] This is a test log to file!
2025-08-25 14:43:02.920 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 14:43:02.927 +03:00 [INF] API configured successfully.
2025-08-25 14:43:02.928 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 14:43:02.973 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 14:43:02.996 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 14:43:02.997 +03:00 [DBG] Hosting starting
2025-08-25 14:43:03.009 +03:00 [DBG] Middleware loaded
2025-08-25 14:43:03.011 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 14:43:03.012 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 14:43:03.095 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 14:43:03.097 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 14:43:03.104 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 14:43:03.132 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 14:43:03.194 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 14:43:03.195 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 14:43:03.196 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 14:43:03.196 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 14:43:03.197 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 14:43:03.198 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 14:43:03.203 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 14:43:03.208 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 14:43:03.243 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:43:03.244 +03:00 [INF] Hosting environment: Development
2025-08-25 14:43:03.245 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 14:43:03.246 +03:00 [DBG] Hosting started
2025-08-25 14:43:20.110 +03:00 [DBG] Connection id "0HNF3PIBEFUI2" accepted.
2025-08-25 14:43:20.111 +03:00 [DBG] Connection id "0HNF3PIBEFUI2" started.
2025-08-25 14:43:20.139 +03:00 [DBG] Connection id "0HNF3PIBEFUI2" received FIN.
2025-08-25 14:43:20.139 +03:00 [DBG] Connection id "0HNF3PIBEFUI3" accepted.
2025-08-25 14:43:20.232 +03:00 [DBG] Connection id "0HNF3PIBEFUI3" started.
2025-08-25 14:43:20.307 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 14:43:20.314 +03:00 [DBG] Connection id "0HNF3PIBEFUI2" stopped.
2025-08-25 14:43:20.316 +03:00 [DBG] Connection id "0HNF3PIBEFUI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 14:43:20.317 +03:00 [DBG] Connection 0HNF3PIBEFUI3 established using the following protocol: "Tls13"
2025-08-25 14:43:20.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 14:43:20.433 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 14:43:20.437 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 14:43:20.457 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 14:43:20.507 +03:00 [INF] Fetching schema for connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, ForceRefresh=false)
2025-08-25 14:43:20.595 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_schemas.json
2025-08-25 14:43:20.601 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:43:20.606 +03:00 [INF] Writing value of type 'SchemaModel' as Json.
2025-08-25 14:43:20.611 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 14:43:20.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 200 null application/json; charset=utf-8 266.2005ms
2025-08-25 14:44:05.856 +03:00 [INF] This is a test log to file!
2025-08-25 14:44:05.972 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 14:44:05.980 +03:00 [INF] API configured successfully.
2025-08-25 14:44:05.981 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 14:44:06.029 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 14:44:06.049 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 14:44:06.051 +03:00 [DBG] Hosting starting
2025-08-25 14:44:06.061 +03:00 [DBG] Middleware loaded
2025-08-25 14:44:06.065 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 14:44:06.067 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 14:44:06.246 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 14:44:06.248 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 14:44:06.257 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 14:44:06.295 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 14:44:06.344 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 14:44:06.346 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 14:44:06.347 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 14:44:06.348 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 14:44:06.349 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 14:44:06.350 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 14:44:06.356 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 14:44:06.361 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 14:44:06.385 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:44:06.386 +03:00 [INF] Hosting environment: Development
2025-08-25 14:44:06.387 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 14:44:06.387 +03:00 [DBG] Hosting started
2025-08-25 14:44:26.585 +03:00 [DBG] Connection id "0HNF3PIV8EPEP" accepted.
2025-08-25 14:44:26.612 +03:00 [DBG] Connection id "0HNF3PIV8EPEP" started.
2025-08-25 14:44:26.643 +03:00 [DBG] Connection id "0HNF3PIV8EPEQ" accepted.
2025-08-25 14:44:26.668 +03:00 [DBG] Connection id "0HNF3PIV8EPEP" received FIN.
2025-08-25 14:44:26.670 +03:00 [DBG] Connection id "0HNF3PIV8EPEQ" started.
2025-08-25 14:44:26.781 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 14:44:26.787 +03:00 [DBG] Connection id "0HNF3PIV8EPEP" stopped.
2025-08-25 14:44:26.788 +03:00 [DBG] Connection 0HNF3PIV8EPEQ established using the following protocol: "Tls13"
2025-08-25 14:44:26.789 +03:00 [DBG] Connection id "0HNF3PIV8EPEP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 14:44:26.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - null null
2025-08-25 14:44:26.902 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 14:44:26.906 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 14:44:26.927 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 14:44:26.969 +03:00 [INF] Executing SQL on connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, Mode="Write")
2025-08-25 14:44:26.972 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 14:44:27.193 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 14:44:27.224 +03:00 [INF] Execution finished in 251 ms, affected 1 rows
2025-08-25 14:44:27.296 +03:00 [INF] Query already cached at "2025-08-25T09:27:42.6165003Z", skipping
2025-08-25 14:44:27.305 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:44:27.312 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 14:44:27.317 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 14:44:27.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20something; - 200 null application/json; charset=utf-8 502.634ms
2025-08-25 14:44:42.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20somethingasdasda; - null null
2025-08-25 14:44:42.061 +03:00 [DBG] 1 candidate(s) found for the request path '/execute'
2025-08-25 14:44:42.062 +03:00 [DBG] Request matched endpoint 'HTTP: GET /execute'
2025-08-25 14:44:42.063 +03:00 [INF] Executing endpoint 'HTTP: GET /execute'
2025-08-25 14:44:42.064 +03:00 [INF] Executing SQL on connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, Mode="Write")
2025-08-25 14:44:42.065 +03:00 [DBG] SQL: INSERT INTO dbo.Categories (Id, Name, Description) VALUES (NEWID(), 'Electronics', 'Electronic devices and accessories')
2025-08-25 14:44:42.066 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-25 14:44:42.068 +03:00 [INF] Execution finished in 2 ms, affected 1 rows
2025-08-25 14:44:42.089 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 14:44:42.090 +03:00 [INF] Cached query to C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\sqlserver_queries.json
2025-08-25 14:44:42.091 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 14:44:42.092 +03:00 [INF] Writing value of type 'ExecutionResult' as Json.
2025-08-25 14:44:42.092 +03:00 [INF] Executed endpoint 'HTTP: GET /execute'
2025-08-25 14:44:42.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/execute?sqlQuery=INSERT%20INTO%20dbo.Categories%20(Id,%20Name,%20Description)%20VALUES%20(NEWID(),%20%27Electronics%27,%20%27Electronic%20devices%20and%20accessories%27)&userQuery=insert%20somethingasdasda; - 200 null application/json; charset=utf-8 39.5948ms
2025-08-25 18:33:01.584 +03:00 [INF] This is a test log to file!
2025-08-25 18:33:28.291 +03:00 [INF] This is a test log to file!
2025-08-25 18:33:28.440 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:33:28.449 +03:00 [INF] API configured successfully.
2025-08-25 18:33:28.450 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:33:28.452 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:33:28.505 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:33:28.527 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:33:28.529 +03:00 [DBG] Hosting starting
2025-08-25 18:33:28.540 +03:00 [DBG] Middleware loaded
2025-08-25 18:33:28.543 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:33:28.544 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:33:28.645 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:33:28.647 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:33:28.663 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:33:28.706 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:33:28.778 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:33:28.780 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:33:28.781 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:33:28.782 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:33:28.784 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:33:28.784 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:33:28.789 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:33:28.796 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:33:28.819 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:33:28.821 +03:00 [INF] Hosting environment: Development
2025-08-25 18:33:28.821 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:33:28.822 +03:00 [DBG] Hosting started
2025-08-25 18:33:45.630 +03:00 [DBG] Connection id "0HNF3TJ3OTV1F" accepted.
2025-08-25 18:33:45.632 +03:00 [DBG] Connection id "0HNF3TJ3OTV1F" started.
2025-08-25 18:33:45.663 +03:00 [DBG] Connection id "0HNF3TJ3OTV1F" received FIN.
2025-08-25 18:33:45.663 +03:00 [DBG] Connection id "0HNF3TJ3OTV1G" accepted.
2025-08-25 18:33:45.669 +03:00 [DBG] Connection id "0HNF3TJ3OTV1G" started.
2025-08-25 18:33:45.749 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:33:45.756 +03:00 [DBG] Connection 0HNF3TJ3OTV1G established using the following protocol: "Tls13"
2025-08-25 18:33:45.756 +03:00 [DBG] Connection id "0HNF3TJ3OTV1F" stopped.
2025-08-25 18:33:45.760 +03:00 [DBG] Connection id "0HNF3TJ3OTV1F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:33:45.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/sche - null null
2025-08-25 18:33:45.894 +03:00 [DBG] No candidates found for the request path '/sche'
2025-08-25 18:33:45.896 +03:00 [DBG] Request did not match any endpoints
2025-08-25 18:33:45.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/sche - 404 0 null 125.5183ms
2025-08-25 18:33:45.931 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7202/sche, Response status code: 404
2025-08-25 18:33:58.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:33:58.922 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:33:58.924 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:33:58.928 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:33:59.156 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:33:59.725 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:33:59.784 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'ExecutionResult.Rows' could not be mapped because it is of type 'object[][]', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Sqlite.Infrastructure.Internal.SqliteModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at ProfileRepository..ctor(ProfilesDbContext dbContext) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 15
   at InvokeStub_ProfileRepository..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at lambda_method11(Closure, Object, HttpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:33:59.805 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: The property 'ExecutionResult.Rows' could not be mapped because it is of type 'object[][]', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Sqlite.Infrastructure.Internal.SqliteModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at ProfileRepository..ctor(ProfilesDbContext dbContext) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 15
   at InvokeStub_ProfileRepository..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at lambda_method11(Closure, Object, HttpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:33:59.824 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 911.2389ms
2025-08-25 18:38:59.759 +03:00 [INF] This is a test log to file!
2025-08-25 18:38:59.871 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:40:19.003 +03:00 [INF] This is a test log to file!
2025-08-25 18:40:19.112 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:41:05.200 +03:00 [INF] This is a test log to file!
2025-08-25 18:41:05.301 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:41:05.660 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:41:06.422 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:41:17.148 +03:00 [INF] This is a test log to file!
2025-08-25 18:41:17.252 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:41:17.678 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:41:17.776 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:41:17.786 +03:00 [DBG] Created DbConnection. (7ms).
2025-08-25 18:41:17.788 +03:00 [DBG] Migrating using database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:17.790 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:41:17.792 +03:00 [DBG] Created DbConnection. (1ms).
2025-08-25 18:41:17.793 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:17.811 +03:00 [DBG] An error occurred using the connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:17.812 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:17.815 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:41:17.815 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:17.829 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:17.832 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:17.835 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-08-25 18:41:17.836 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-25 18:41:17.841 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-08-25 18:41:17.870 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-08-25 18:41:17.872 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:17.874 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 18:41:17.874 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:17.875 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:17.876 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 18:41:17.879 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-25 18:41:17.879 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:17.879 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:17.879 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-08-25 18:41:17.883 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-08-25 18:41:17.883 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:17.883 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:17.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:17.883 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-08-25 18:41:17.890 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-08-25 18:41:17.891 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-25 18:41:17.891 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:17.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:17.891 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-08-25 15:41:17.8908241+00:00');
SELECT changes();
2025-08-25 18:41:17.897 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-08-25 15:41:17.8908241+00:00');
SELECT changes();
2025-08-25 18:41:18.055 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-25 18:41:18.057 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-08-25 18:41:18.057 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:18.058 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:18.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:18.058 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-08-25 18:41:18.058 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-08-25 18:41:18.059 +03:00 [DBG] Committing transaction.
2025-08-25 18:41:18.066 +03:00 [DBG] Committed transaction.
2025-08-25 18:41:18.067 +03:00 [DBG] Disposing transaction.
2025-08-25 18:41:18.068 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-25 18:41:18.068 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-08-25 18:41:18.069 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:41:18.069 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-25 18:41:18.069 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:18.069 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:18.072 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:18.072 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:41:18.072 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-25 18:41:18.072 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:18.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:18.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-08-25 18:41:18.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-08-25 18:41:18.073 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:41:18.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:41:18.074 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:41:18.074 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-25 18:41:18.074 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-25 18:41:18.075 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:18.077 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-25 18:41:18.081 +03:00 [INF] Applying migration '20250825154106_init'.
2025-08-25 18:41:18.090 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:18.090 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:18.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:18.090 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-08-25 18:41:18.091 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Profiles" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Provider" INTEGER NOT NULL,
    "SecretRef" TEXT NOT NULL,
    "CacheFile" TEXT NULL,
    "EmbeddingStatus" INTEGER NOT NULL,
    "CreatedUtc" TEXT NOT NULL
);
2025-08-25 18:41:19.260 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:19.260 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:19.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:19.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-08-25 18:41:19.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Queries" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Queries" PRIMARY KEY,
    "UserQuery" TEXT NOT NULL,
    "SqlQuery" TEXT NOT NULL,
    "ResultJson" TEXT NOT NULL,
    "TimestampUtc" TEXT NOT NULL,
    "ProfileId" TEXT NOT NULL,
    CONSTRAINT "FK_Queries_Profiles_ProfileId" FOREIGN KEY ("ProfileId") REFERENCES "Profiles" ("Id") ON DELETE CASCADE
);
2025-08-25 18:41:19.261 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:19.261 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:19.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:19.261 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-08-25 18:41:19.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Queries_ProfileId" ON "Queries" ("ProfileId");
2025-08-25 18:41:19.261 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-25 18:41:19.261 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:19.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-25 18:41:19.261 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-08-25 18:41:19.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250825154106_init', '9.0.8');
2025-08-25 18:41:19.262 +03:00 [DBG] Committing transaction.
2025-08-25 18:41:19.268 +03:00 [DBG] Committed transaction.
2025-08-25 18:41:19.268 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-25 18:41:19.268 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:19.268 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-25 18:41:19.268 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-08-25 18:41:19.271 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-08-25 18:41:19.271 +03:00 [DBG] Disposing transaction.
2025-08-25 18:41:19.271 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:19.271 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:41:19.272 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:41:19.273 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:19.273 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:41:24.695 +03:00 [INF] This is a test log to file!
2025-08-25 18:41:24.847 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:41:24.856 +03:00 [INF] API configured successfully.
2025-08-25 18:41:24.857 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:41:24.858 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:41:24.922 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:41:24.948 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:41:24.950 +03:00 [DBG] Hosting starting
2025-08-25 18:41:24.963 +03:00 [DBG] Middleware loaded
2025-08-25 18:41:24.965 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:41:24.967 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:41:25.080 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:41:25.082 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:41:25.092 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:41:25.127 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:41:25.192 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:41:25.194 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:41:25.195 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:41:25.195 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:41:25.196 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:41:25.196 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:41:25.201 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:41:25.206 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:41:25.232 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:41:25.233 +03:00 [INF] Hosting environment: Development
2025-08-25 18:41:25.235 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:41:25.236 +03:00 [DBG] Hosting started
2025-08-25 18:41:32.242 +03:00 [DBG] Connection id "0HNF3TNEQSOAH" accepted.
2025-08-25 18:41:32.246 +03:00 [DBG] Connection id "0HNF3TNEQSOAH" started.
2025-08-25 18:41:32.282 +03:00 [DBG] Connection id "0HNF3TNEQSOAH" received FIN.
2025-08-25 18:41:32.283 +03:00 [DBG] Connection id "0HNF3TNEQSOAI" accepted.
2025-08-25 18:41:32.352 +03:00 [DBG] Connection id "0HNF3TNEQSOAI" started.
2025-08-25 18:41:32.374 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:41:32.380 +03:00 [DBG] Connection id "0HNF3TNEQSOAH" stopped.
2025-08-25 18:41:32.382 +03:00 [DBG] Connection id "0HNF3TNEQSOAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:41:32.382 +03:00 [DBG] Connection 0HNF3TNEQSOAI established using the following protocol: "Tls13"
2025-08-25 18:41:32.423 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:41:32.521 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:41:32.523 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:41:32.552 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:41:32.665 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:41:33.149 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:41:33.246 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 18:41:33.425 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 18:41:33.453 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:41:33.464 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 18:41:33.467 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:33.477 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:33.481 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:41:33.487 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-25 18:41:33.491 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-25 18:41:33.498 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:41:33.518 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:41:33.526 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:33.532 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-25 18:41:33.536 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:33.540 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 18:41:33.576 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:41:33.625 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:41:33.630 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:41:33.644 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:41:33.648 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:41:33.651 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:41:33.652 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:41:33.695 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:33.696 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:33.698 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:41:33.699 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:41:33.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-25 18:41:33.703 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:41:33.721 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:41:33.724 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:33.725 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-25 18:41:33.726 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:41:33.727 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:41:33.734 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:41:33.737 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:41:33.738 +03:00 [INF] Profile created "c757ddef-f321-45d7-9c03-c77f40d3f3ac" with secretRef profile-dfec1ef8-cd64-45d2-96d7-031c6d5eed4d
2025-08-25 18:41:33.837 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:41:33.895 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:41:33.906 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:41:33.927 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:41:33.933 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:41:33.936 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 18:41:33.939 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 1520.0971ms
2025-08-25 18:42:01.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:42:01.252 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:42:01.254 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:42:01.257 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:42:01.305 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:42:01.314 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:42:01.314 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-25 18:42:01.315 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:42:01.317 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:42:01.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:42:01.319 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:42:01.320 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:42:01.321 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:42:01.324 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:42:01.325 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:42:01.326 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 18:42:01.327 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:42:01.328 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:42:01.453 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:42:01.506 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 25
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(String name, ProviderType provider, String connectionString, String CacheFile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 34
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 68
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:42:01.512 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 25
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(String name, ProviderType provider, String connectionString, String CacheFile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 34
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 68
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:42:01.515 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:42:01.516 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:42:01.518 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 18:42:01.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 309.0757ms
2025-08-25 18:45:56.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:45:56.151 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:45:56.152 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:45:56.154 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:45:56.164 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:45:56.168 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:45:56.169 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-25 18:45:56.170 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:45:56.170 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:45:56.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:45:56.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:45:56.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:45:56.174 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:45:56.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:45:56.176 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:45:56.177 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 18:45:56.178 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:45:56.179 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:45:56.181 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:45:56.182 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:45:56.183 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:45:56.184 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:45:56.185 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:45:56.185 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:45:56.186 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:45:56.187 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:45:56.188 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:45:56.189 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:45:56.190 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:45:56.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:45:56.192 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:45:56.199 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:45:56.200 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:45:56.201 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 18:45:56.202 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:45:56.203 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:45:56.204 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:45:56.205 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:45:56.205 +03:00 [INF] Profile created "6e397760-f874-4ed9-bfed-382c7700fcee" with secretRef profile-c526c71a-3851-414e-95b8-b4712fdc5717
2025-08-25 18:46:05.007 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:46:05.055 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:46:05.058 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:46:05.060 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:46:05.061 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:46:05.062 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 18:46:05.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 8924.7234ms
2025-08-25 18:47:59.396 +03:00 [DBG] Connection id "0HNF3TNEQSOAI" received FIN.
2025-08-25 18:47:59.409 +03:00 [DBG] Connection id "0HNF3TNEQSOAI" is closed. The last processed stream ID was 5.
2025-08-25 18:47:59.409 +03:00 [DBG] The connection queue processing loop for 0HNF3TNEQSOAI completed.
2025-08-25 18:47:59.409 +03:00 [DBG] Connection id "0HNF3TNEQSOAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:47:59.412 +03:00 [DBG] Connection id "0HNF3TNEQSOAI" stopped.
2025-08-25 18:48:44.396 +03:00 [INF] This is a test log to file!
2025-08-25 18:48:44.535 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:48:44.543 +03:00 [INF] API configured successfully.
2025-08-25 18:48:44.544 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:48:44.545 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:48:44.591 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:48:44.614 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:48:44.615 +03:00 [DBG] Hosting starting
2025-08-25 18:48:44.628 +03:00 [DBG] Middleware loaded
2025-08-25 18:48:44.630 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:48:44.632 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:48:44.714 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:48:44.716 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:48:44.724 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:48:44.755 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:48:44.827 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:48:44.829 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:48:44.830 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:48:44.831 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:48:44.832 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:48:44.833 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:48:44.838 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:48:44.844 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:48:44.868 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:48:44.870 +03:00 [INF] Hosting environment: Development
2025-08-25 18:48:44.871 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:48:44.872 +03:00 [DBG] Hosting started
2025-08-25 18:48:53.050 +03:00 [DBG] Connection id "0HNF3TRI6OHSU" accepted.
2025-08-25 18:48:53.052 +03:00 [DBG] Connection id "0HNF3TRI6OHSU" started.
2025-08-25 18:48:53.086 +03:00 [DBG] Connection id "0HNF3TRI6OHSU" received FIN.
2025-08-25 18:48:53.086 +03:00 [DBG] Connection id "0HNF3TRI6OHSV" accepted.
2025-08-25 18:48:53.093 +03:00 [DBG] Connection id "0HNF3TRI6OHSV" started.
2025-08-25 18:48:53.165 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:48:53.171 +03:00 [DBG] Connection 0HNF3TRI6OHSV established using the following protocol: "Tls13"
2025-08-25 18:48:53.172 +03:00 [DBG] Connection id "0HNF3TRI6OHSU" stopped.
2025-08-25 18:48:53.175 +03:00 [DBG] Connection id "0HNF3TRI6OHSU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:48:53.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:48:53.318 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:48:53.319 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:48:53.343 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:48:53.443 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:48:53.879 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:48:53.983 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 18:48:54.142 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 18:48:54.172 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:48:54.183 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 18:48:54.187 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:48:54.199 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:48:54.202 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:48:54.207 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-25 18:48:54.212 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-25 18:48:54.219 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:48:54.233 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:48:54.241 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:48:54.246 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-25 18:48:54.250 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:48:54.254 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (4ms).
2025-08-25 18:48:54.396 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:48:54.444 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 25
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(String name, ProviderType provider, String connectionString, String CacheFile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 34
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 68
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:48:54.454 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 25
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(String name, ProviderType provider, String connectionString, String CacheFile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 34
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 68
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:48:54.467 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:48:54.470 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:48:54.473 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 18:48:54.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 1249.6735ms
2025-08-25 18:49:03.567 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:49:03.573 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:49:03.575 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:49:03.576 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:49:03.620 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:49:03.631 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:49:03.632 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-25 18:49:03.633 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:49:03.635 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:49:03.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:49:03.636 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:49:03.637 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:49:03.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:49:03.640 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:49:03.642 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:49:03.643 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-25 18:49:03.644 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:49:03.645 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:49:03.675 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:49:03.729 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:49:03.734 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:49:03.758 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:49:03.764 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:49:03.766 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:49:03.767 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:49:03.808 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:49:03.810 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:49:03.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:49:03.814 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:49:03.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-25 18:49:03.818 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:49:03.827 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:49:03.831 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:49:03.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-25 18:49:03.834 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:49:03.835 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 18:49:03.843 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:49:03.846 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:49:03.848 +03:00 [INF] Profile created "b5cd103f-0ba0-4e77-b9fb-8639e29d4822" with secretRef profile-2102dfa4-c7f0-4987-bf30-735ec385dcdb
2025-08-25 18:49:07.654 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:49:07.699 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:49:07.702 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:49:07.705 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:49:07.707 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:49:07.708 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 18:49:07.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 4142.8291ms
2025-08-25 18:50:04.219 +03:00 [INF] This is a test log to file!
2025-08-25 18:50:04.350 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:50:04.357 +03:00 [INF] API configured successfully.
2025-08-25 18:50:04.358 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:50:04.359 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:50:04.409 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:50:04.431 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:50:04.433 +03:00 [DBG] Hosting starting
2025-08-25 18:50:04.445 +03:00 [DBG] Middleware loaded
2025-08-25 18:50:04.448 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:50:04.450 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:50:04.535 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:50:04.537 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:50:04.544 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:50:04.574 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:50:04.622 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:50:04.623 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:50:04.624 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:50:04.626 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:50:04.627 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:50:04.628 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:50:04.636 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:50:04.644 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:50:04.670 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:50:04.671 +03:00 [INF] Hosting environment: Development
2025-08-25 18:50:04.672 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:50:04.673 +03:00 [DBG] Hosting started
2025-08-25 18:50:08.436 +03:00 [DBG] Connection id "0HNF3TS8LMJTV" accepted.
2025-08-25 18:50:08.438 +03:00 [DBG] Connection id "0HNF3TS8LMJTV" started.
2025-08-25 18:50:08.468 +03:00 [DBG] Connection id "0HNF3TS8LMJTV" received FIN.
2025-08-25 18:50:08.468 +03:00 [DBG] Connection id "0HNF3TS8LMJU0" accepted.
2025-08-25 18:50:08.486 +03:00 [DBG] Connection id "0HNF3TS8LMJU0" started.
2025-08-25 18:50:08.554 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:50:08.561 +03:00 [DBG] Connection id "0HNF3TS8LMJTV" stopped.
2025-08-25 18:50:08.563 +03:00 [DBG] Connection 0HNF3TS8LMJU0 established using the following protocol: "Tls13"
2025-08-25 18:50:08.564 +03:00 [DBG] Connection id "0HNF3TS8LMJTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:50:08.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:50:08.705 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:50:08.707 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:50:08.734 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:50:08.862 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:50:09.316 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:50:09.411 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 18:50:09.569 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 18:50:09.595 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:50:09.607 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 18:50:09.611 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:50:09.620 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:50:09.624 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:50:09.629 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-25 18:50:09.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-25 18:50:09.641 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:50:09.655 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:50:09.661 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:50:09.667 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-25 18:50:09.670 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:50:09.673 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 18:50:09.699 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:50:09.746 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:50:09.753 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:50:09.775 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:50:09.781 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:50:09.783 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:50:09.785 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:50:09.843 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:50:09.845 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:50:09.847 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:50:09.848 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:50:09.850 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-25 18:50:09.851 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:50:09.860 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:50:09.864 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:50:09.865 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-25 18:50:09.867 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:50:09.867 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:50:09.874 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:50:09.876 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:50:09.878 +03:00 [INF] Profile created "48663231-5ecc-4a88-9314-d9adffac4a64" with secretRef profile-a828ade5-7d1d-471b-b0e3-0acb92128089
2025-08-25 18:50:09.955 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:50:10.003 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:50:10.013 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A suitable constructor for type 'NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.Create(Profile profile, String connectionString, String cacheDir) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 22
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:50:10.029 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:50:10.033 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:50:10.035 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 18:50:10.037 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 1435.5709ms
2025-08-25 18:55:35.681 +03:00 [INF] This is a test log to file!
2025-08-25 18:55:35.840 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:55:35.849 +03:00 [INF] API configured successfully.
2025-08-25 18:55:35.850 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:55:35.851 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:55:35.898 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:55:35.920 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:55:35.921 +03:00 [DBG] Hosting starting
2025-08-25 18:55:35.932 +03:00 [DBG] Middleware loaded
2025-08-25 18:55:35.935 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:55:35.936 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:55:36.033 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:55:36.036 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:55:36.044 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:55:36.078 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:55:36.137 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:55:36.138 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:55:36.139 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:55:36.140 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:55:36.141 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:55:36.142 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:55:36.150 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:55:36.157 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:55:36.189 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:55:36.190 +03:00 [INF] Hosting environment: Development
2025-08-25 18:55:36.191 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:55:36.191 +03:00 [DBG] Hosting started
2025-08-25 18:55:45.906 +03:00 [DBG] Connection id "0HNF3TVD8291C" accepted.
2025-08-25 18:55:45.909 +03:00 [DBG] Connection id "0HNF3TVD8291C" started.
2025-08-25 18:55:45.940 +03:00 [DBG] Connection id "0HNF3TVD8291C" received FIN.
2025-08-25 18:55:45.941 +03:00 [DBG] Connection id "0HNF3TVD8291D" accepted.
2025-08-25 18:55:45.982 +03:00 [DBG] Connection id "0HNF3TVD8291D" started.
2025-08-25 18:55:46.052 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:55:46.060 +03:00 [DBG] Connection id "0HNF3TVD8291C" stopped.
2025-08-25 18:55:46.060 +03:00 [DBG] Connection 0HNF3TVD8291D established using the following protocol: "Tls13"
2025-08-25 18:55:46.064 +03:00 [DBG] Connection id "0HNF3TVD8291C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:55:46.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:55:46.193 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:55:46.197 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:55:46.223 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:55:46.318 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:55:46.797 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:55:46.895 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 18:55:47.059 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 18:55:47.090 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:55:47.103 +03:00 [DBG] Created DbConnection. (11ms).
2025-08-25 18:55:47.107 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:55:47.119 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:55:47.124 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:55:47.130 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-25 18:55:47.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-25 18:55:47.143 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:55:47.158 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:55:47.165 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:55:47.170 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-25 18:55:47.173 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:55:47.177 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 18:55:47.205 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:55:47.251 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:55:47.257 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:55:47.269 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:55:47.272 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:55:47.274 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:55:47.275 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:55:47.317 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:55:47.320 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:55:47.322 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:55:47.323 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-25 18:55:47.325 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-25 18:55:47.325 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:55:47.331 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:55:47.335 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:55:47.336 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-25 18:55:47.337 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:55:47.338 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:55:47.344 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:55:47.346 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:55:47.347 +03:00 [INF] Profile created "eda5417f-cf5f-49e0-89b7-65e7928f01e1" with secretRef profile-58ed76fe-2d95-46ea-ba1c-8dd366901766
2025-08-25 18:55:47.450 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:55:47.496 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot resolve scoped service 'NaturalToQuery.Infrastructure.Interfaces.IProfileRepository' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateAsync(Profile profile) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 24
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:55:47.505 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: Cannot resolve scoped service 'NaturalToQuery.Infrastructure.Interfaces.IProfileRepository' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateAsync(Profile profile) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 24
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 69
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:55:47.519 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:55:47.522 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:55:47.525 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 18:55:47.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 1431.5648ms
2025-08-25 18:56:44.465 +03:00 [INF] This is a test log to file!
2025-08-25 18:57:15.285 +03:00 [INF] This is a test log to file!
2025-08-25 18:57:15.418 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:57:15.425 +03:00 [INF] API configured successfully.
2025-08-25 18:57:15.426 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:57:15.427 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:57:15.472 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:57:15.495 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:57:15.496 +03:00 [DBG] Hosting starting
2025-08-25 18:57:15.516 +03:00 [DBG] Middleware loaded
2025-08-25 18:57:15.519 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:57:15.522 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:57:15.618 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:57:15.620 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:57:15.628 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:57:15.657 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:57:15.721 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:57:15.724 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:57:15.724 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:57:15.725 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:57:15.726 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:57:15.727 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:57:15.733 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:57:15.738 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:57:15.761 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:57:15.762 +03:00 [INF] Hosting environment: Development
2025-08-25 18:57:15.763 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:57:15.764 +03:00 [DBG] Hosting started
2025-08-25 18:57:20.136 +03:00 [DBG] Connection id "0HNF3U09AMU67" accepted.
2025-08-25 18:57:20.138 +03:00 [DBG] Connection id "0HNF3U09AMU67" started.
2025-08-25 18:57:20.189 +03:00 [DBG] Connection id "0HNF3U09AMU67" received FIN.
2025-08-25 18:57:20.189 +03:00 [DBG] Connection id "0HNF3U09AMU68" accepted.
2025-08-25 18:57:20.196 +03:00 [DBG] Connection id "0HNF3U09AMU68" started.
2025-08-25 18:57:20.254 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:57:20.260 +03:00 [DBG] Connection 0HNF3U09AMU68 established using the following protocol: "Tls13"
2025-08-25 18:57:20.261 +03:00 [DBG] Connection id "0HNF3U09AMU67" stopped.
2025-08-25 18:57:20.264 +03:00 [DBG] Connection id "0HNF3U09AMU67" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:57:20.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:57:20.384 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:57:20.385 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:57:20.407 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:57:20.499 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:57:20.976 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:57:21.083 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 18:57:21.239 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 18:57:21.267 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:57:21.278 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 18:57:21.281 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:57:21.293 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:57:21.297 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:57:21.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-25 18:57:21.307 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-25 18:57:21.314 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:57:21.330 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:57:21.337 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:57:21.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 6ms reading results.
2025-08-25 18:57:21.346 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:57:21.349 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 18:57:21.377 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:57:21.425 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:57:21.430 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:57:21.445 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:57:21.449 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:57:21.451 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:57:21.452 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:57:21.495 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:57:21.497 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:57:21.500 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:57:21.501 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:57:21.503 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-25 18:57:21.504 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:57:21.511 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:57:21.515 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:57:21.517 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-25 18:57:21.518 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:57:21.519 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 18:57:21.527 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:57:21.530 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:57:21.533 +03:00 [INF] Profile created "6358fd13-0664-45da-bcc3-c9614ecc094d" with secretRef profile-34f18a6d-0ecf-4d64-80d8-5810a3e2c9b4
2025-08-25 18:57:21.638 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 18:57:21.684 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot resolve scoped service 'NaturalToQuery.Infrastructure.Interfaces.IProfileRepository' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateAsync(Profile profile) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 24
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 70
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:57:21.693 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: Cannot resolve scoped service 'NaturalToQuery.Infrastructure.Interfaces.IProfileRepository' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateAsync(Profile profile) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 24
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Program.cs:line 70
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 18:57:21.710 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 18:57:21.716 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:57:21.718 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 18:57:21.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 1428.2038ms
2025-08-25 18:59:14.984 +03:00 [INF] This is a test log to file!
2025-08-25 18:59:15.120 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 18:59:15.127 +03:00 [INF] API configured successfully.
2025-08-25 18:59:15.128 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:59:15.129 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 18:59:15.174 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 18:59:15.199 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 18:59:15.201 +03:00 [DBG] Hosting starting
2025-08-25 18:59:15.213 +03:00 [DBG] Middleware loaded
2025-08-25 18:59:15.216 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 18:59:15.218 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 18:59:15.305 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 18:59:15.307 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 18:59:15.316 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 18:59:15.348 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 18:59:15.401 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 18:59:15.403 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 18:59:15.403 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 18:59:15.404 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 18:59:15.405 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 18:59:15.405 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 18:59:15.411 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:59:15.417 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 18:59:15.450 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 18:59:15.451 +03:00 [INF] Hosting environment: Development
2025-08-25 18:59:15.452 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 18:59:15.453 +03:00 [DBG] Hosting started
2025-08-25 18:59:20.719 +03:00 [DBG] Connection id "0HNF3U1D8LRQD" accepted.
2025-08-25 18:59:20.722 +03:00 [DBG] Connection id "0HNF3U1D8LRQD" started.
2025-08-25 18:59:20.759 +03:00 [DBG] Connection id "0HNF3U1D8LRQD" received FIN.
2025-08-25 18:59:20.759 +03:00 [DBG] Connection id "0HNF3U1D8LRQE" accepted.
2025-08-25 18:59:20.766 +03:00 [DBG] Connection id "0HNF3U1D8LRQE" started.
2025-08-25 18:59:20.849 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 18:59:20.852 +03:00 [DBG] Connection 0HNF3U1D8LRQE established using the following protocol: "Tls13"
2025-08-25 18:59:20.855 +03:00 [DBG] Connection id "0HNF3U1D8LRQD" stopped.
2025-08-25 18:59:20.858 +03:00 [DBG] Connection id "0HNF3U1D8LRQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 18:59:20.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 18:59:21.005 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 18:59:21.007 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 18:59:21.031 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 18:59:21.127 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 18:59:21.589 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:59:21.743 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 18:59:21.898 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 18:59:21.923 +03:00 [DBG] Creating DbConnection.
2025-08-25 18:59:21.934 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 18:59:21.938 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:59:21.948 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:59:21.951 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:59:21.957 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-25 18:59:21.962 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-25 18:59:21.969 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:59:21.987 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 18:59:21.996 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:59:22.001 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-25 18:59:22.005 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:59:22.009 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 18:59:22.035 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:59:22.076 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:59:22.082 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:59:22.094 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:59:22.098 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 18:59:22.100 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 18:59:22.101 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 18:59:22.142 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 18:59:22.143 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:59:22.145 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 18:59:22.146 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 18:59:22.149 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-25 18:59:22.149 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:59:22.161 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 18:59:22.164 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:59:22.166 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-25 18:59:22.167 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 18:59:22.168 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 18:59:22.174 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 18:59:22.176 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 18:59:22.178 +03:00 [INF] Profile created "98bbca75-44a9-446a-9787-74739a9c8ee1" with secretRef profile-e04a2e81-e4f6-477a-bb82-5944ebcbf2a3
2025-08-25 18:59:22.215 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 18:59:22.221 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:00:34.864 +03:00 [INF] This is a test log to file!
2025-08-25 19:00:35.063 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 19:00:35.073 +03:00 [INF] API configured successfully.
2025-08-25 19:00:35.074 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 19:00:35.075 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 19:00:35.129 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 19:00:35.155 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 19:00:35.157 +03:00 [DBG] Hosting starting
2025-08-25 19:00:35.174 +03:00 [DBG] Middleware loaded
2025-08-25 19:00:35.178 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 19:00:35.180 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 19:00:35.289 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 19:00:35.291 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 19:00:35.300 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 19:00:35.334 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 19:00:35.424 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 19:00:35.426 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 19:00:35.427 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 19:00:35.428 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 19:00:35.429 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 19:00:35.429 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 19:00:35.436 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 19:00:35.441 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 19:00:35.469 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 19:00:35.470 +03:00 [INF] Hosting environment: Development
2025-08-25 19:00:35.471 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 19:00:35.472 +03:00 [DBG] Hosting started
2025-08-25 19:01:25.978 +03:00 [DBG] Connection id "0HNF3U2IJ813G" accepted.
2025-08-25 19:01:25.987 +03:00 [DBG] Connection id "0HNF3U2IJ813G" started.
2025-08-25 19:01:26.042 +03:00 [DBG] Connection id "0HNF3U2IJ813H" accepted.
2025-08-25 19:01:26.047 +03:00 [DBG] Connection id "0HNF3U2IJ813G" received FIN.
2025-08-25 19:01:26.074 +03:00 [DBG] Connection id "0HNF3U2IJ813H" started.
2025-08-25 19:01:26.183 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 19:01:26.189 +03:00 [DBG] Connection id "0HNF3U2IJ813G" stopped.
2025-08-25 19:01:26.191 +03:00 [DBG] Connection 0HNF3U2IJ813H established using the following protocol: "Tls13"
2025-08-25 19:01:26.192 +03:00 [DBG] Connection id "0HNF3U2IJ813G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 19:01:26.232 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 19:01:26.366 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 19:01:26.367 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 19:01:26.391 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 19:01:26.481 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 19:01:26.919 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:01:27.010 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-25 19:01:27.163 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 19:01:27.189 +03:00 [DBG] Creating DbConnection.
2025-08-25 19:01:27.201 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 19:01:27.206 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:01:27.217 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:01:27.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:01:27.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-25 19:01:27.231 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-25 19:01:27.238 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:01:27.253 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:01:27.260 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:01:27.265 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 6ms reading results.
2025-08-25 19:01:27.269 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:01:27.272 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 19:01:27.303 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:01:27.349 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:01:27.356 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:01:27.368 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:01:27.372 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 19:01:27.374 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:01:27.375 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:01:27.415 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:01:27.417 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:01:27.420 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:01:27.421 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:01:27.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-25 19:01:27.424 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:01:27.430 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:01:27.434 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:01:27.435 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-25 19:01:27.436 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:01:27.437 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:01:27.443 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:01:27.445 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 19:01:27.446 +03:00 [INF] Profile created "20b99d5b-adde-4ac9-8fd2-df1666dd2bad" with secretRef profile-29c76989-ee1b-40b4-a336-2946795aabc0
2025-08-25 19:01:27.495 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:01:27.502 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:01:27.523 +03:00 [INF] Fetching schema for connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, ForceRefresh=false)
2025-08-25 19:01:27.565 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 19:01:27.620 +03:00 [INF] Writing value of type 'AsyncStateMachineBox`1' as Json.
2025-08-25 19:01:27.742 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 19:01:27.793 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:01:27.804 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:01:27.819 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:01:27.823 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:01:27.825 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 19:01:27.826 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\SqlServer_schemas.json
2025-08-25 19:01:27.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 1599.899ms
2025-08-25 19:02:19.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 19:02:19.915 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 19:02:19.916 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 19:02:19.917 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 19:02:19.934 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:02:19.940 +03:00 [DBG] Creating DbConnection.
2025-08-25 19:02:19.941 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-25 19:02:19.942 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:02:19.943 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:19.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:02:19.944 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:02:19.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 19:02:19.946 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:02:19.947 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:02:19.949 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:19.950 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-25 19:02:19.951 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:19.952 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:02:19.953 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:02:19.955 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:02:19.956 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:02:19.956 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:02:19.957 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 19:02:19.958 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:02:19.959 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:02:19.960 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:02:19.961 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:19.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:02:19.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:02:19.963 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 19:02:19.964 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:02:19.967 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:02:19.969 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:19.970 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 19:02:19.971 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:19.971 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:02:19.973 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:02:19.974 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 19:02:19.975 +03:00 [INF] Profile created "4283c7bf-f8dd-4808-9aa1-33db48618fc1" with secretRef profile-f00820e9-fbe7-4e1f-96e4-bc46870f5a99
2025-08-25 19:02:19.983 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:02:19.985 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:02:19.986 +03:00 [INF] Fetching schema for connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, ForceRefresh=false)
2025-08-25 19:02:19.987 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 19:02:19.987 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\SqlServer_schemas.json
2025-08-25 19:02:19.988 +03:00 [INF] Writing value of type 'AsyncStateMachineBox`1' as Json.
2025-08-25 19:02:20.063 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 19:02:20.109 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:02:20.113 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:02:20.117 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:02:20.142 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:02:20.143 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 19:02:20.145 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 260.0419ms
2025-08-25 19:02:40.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 19:02:40.250 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 19:02:40.250 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 19:02:40.253 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 19:02:40.256 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:02:40.260 +03:00 [DBG] Creating DbConnection.
2025-08-25 19:02:40.261 +03:00 [DBG] Created DbConnection. (1ms).
2025-08-25 19:02:40.262 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:02:40.263 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:40.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:02:40.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:02:40.266 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 19:02:40.266 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:02:40.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:02:40.269 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:40.269 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 19:02:40.271 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:40.271 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:02:40.272 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:02:40.273 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:02:40.274 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:02:40.275 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:02:40.275 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 19:02:40.276 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:02:40.277 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:02:40.278 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:02:40.279 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:40.279 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:02:40.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:02:40.281 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 19:02:40.281 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:02:40.285 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:02:40.286 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:40.287 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 19:02:40.288 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:02:40.289 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:02:40.290 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:02:40.291 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 19:02:40.292 +03:00 [INF] Profile created "4ed689fb-4eaa-472c-b1bc-101dccb7e9cb" with secretRef profile-cefc1552-df15-415a-b49c-1b451c4be953
2025-08-25 19:02:40.298 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:02:40.299 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:02:40.300 +03:00 [INF] Fetching schema for connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, ForceRefresh=false)
2025-08-25 19:02:40.302 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 19:02:40.302 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\SqlServer_schemas.json
2025-08-25 19:02:40.302 +03:00 [INF] Writing value of type 'AsyncStateMachineBox`1' as Json.
2025-08-25 19:02:40.367 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 19:02:40.413 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:02:40.417 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:02:40.420 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:02:40.421 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:02:40.422 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-25 19:02:40.424 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 181.7987ms
2025-08-25 19:03:05.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 19:03:05.734 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 19:03:05.735 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 19:03:05.735 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 19:03:05.737 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:03:11.597 +03:00 [DBG] Creating DbConnection.
2025-08-25 19:03:11.597 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-25 19:03:11.598 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:03:11.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:03:11.600 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:03:11.601 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:03:11.601 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 19:03:11.602 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:03:11.603 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-25 19:03:11.604 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:03:11.605 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 19:03:11.606 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:03:11.607 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:03:11.608 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:03:11.609 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:03:11.610 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:03:11.610 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:03:11.611 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-25 19:03:11.611 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-25 19:03:11.612 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-25 19:03:11.613 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:03:11.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:03:11.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:03:11.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-25 19:03:11.616 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-25 19:03:11.616 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:03:11.623 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32), @p4='?' (Size = 3), @p5='?' (DbType = Int32), @p6='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "EmbeddingStatus", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-25 19:03:11.624 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:03:11.625 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-25 19:03:11.626 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:03:11.627 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:03:11.628 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:03:11.629 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-25 19:03:11.629 +03:00 [INF] Profile created "8afa3ee0-33dc-4e74-985b-b02f430415ca" with secretRef profile-f2017074-21c1-42f3-bc33-7263695d3200
2025-08-25 19:03:18.010 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:03:19.466 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:03:31.911 +03:00 [INF] Fetching schema for connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, ForceRefresh=false)
2025-08-25 19:03:34.326 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\SqlServer_schemas.json
2025-08-25 19:03:34.326 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 19:03:34.328 +03:00 [INF] Writing value of type 'AsyncStateMachineBox`1' as Json.
2025-08-25 19:03:34.393 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 19:03:34.437 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:03:34.441 +03:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[NaturalToQuery.SharedKernal.DTOs.Providers.SchemaModel,NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider+<GetSchemaAsync>d__21]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverChain.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.TryGetPolymorphicTypeInfoForRootType(Object rootValue, JsonTypeInfo& polymorphicTypeInfo)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsyncSlow[TValue](PipeWriter body, TValue value, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 19:03:34.444 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:03:34.444 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:03:34.445 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-25 19:03:34.446 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 500 null application/json; charset=utf-8 28719.9169ms
2025-08-25 19:18:14.218 +03:00 [INF] This is a test log to file!
2025-08-25 19:18:14.375 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 19:18:14.384 +03:00 [INF] API configured successfully.
2025-08-25 19:18:14.385 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 19:18:14.386 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 19:18:14.441 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 19:18:14.463 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 19:18:14.464 +03:00 [DBG] Hosting starting
2025-08-25 19:18:14.477 +03:00 [DBG] Middleware loaded
2025-08-25 19:18:14.480 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 19:18:14.481 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 19:18:14.577 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 19:18:14.579 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 19:18:14.590 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 19:18:14.625 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 19:18:14.700 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 19:18:14.701 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 19:18:14.702 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 19:18:14.703 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 19:18:14.704 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 19:18:14.704 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 19:18:14.710 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 19:18:14.717 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 19:18:14.751 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 19:18:14.752 +03:00 [INF] Hosting environment: Development
2025-08-25 19:18:14.753 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 19:18:14.754 +03:00 [DBG] Hosting started
2025-08-25 19:18:17.536 +03:00 [DBG] Connection id "0HNF3UC026V1L" accepted.
2025-08-25 19:18:17.539 +03:00 [DBG] Connection id "0HNF3UC026V1L" started.
2025-08-25 19:18:17.564 +03:00 [DBG] Connection id "0HNF3UC026V1L" received FIN.
2025-08-25 19:18:17.564 +03:00 [DBG] Connection id "0HNF3UC026V1M" accepted.
2025-08-25 19:18:17.594 +03:00 [DBG] Connection id "0HNF3UC026V1M" started.
2025-08-25 19:18:17.667 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 19:18:17.673 +03:00 [DBG] Connection id "0HNF3UC026V1L" stopped.
2025-08-25 19:18:17.675 +03:00 [DBG] Connection 0HNF3UC026V1M established using the following protocol: "Tls13"
2025-08-25 19:18:17.676 +03:00 [DBG] Connection id "0HNF3UC026V1L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 19:18:17.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 19:18:17.832 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 19:18:17.836 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 19:18:17.860 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 19:18:17.961 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 19:18:18.427 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:18:20.922 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .FirstOrDefault(t => (int)t.Provider == (int)__type_0)'
2025-08-25 19:18:21.110 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.EmbeddingStatus (EmbeddingStatus) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6] }
            SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.EmbeddingStatus, p.Name, p.Provider, p.SecretRef
            FROM Profiles AS p
            WHERE p.Provider == @__type_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.EmbeddingStatus (EmbeddingStatus) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6] }
            SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.EmbeddingStatus, p.Name, p.Provider, p.SecretRef
            FROM Profiles AS p
            WHERE p.Provider == @__type_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Profile entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Profile instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Profile);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Profile)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                            {
                                return 
                                {
                                    Profile instance;
                                    instance = new Profile();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                    instance.<EmbeddingStatus>k__BackingField = Invoke(((EnumToNumberConverter<EmbeddingStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.EmbeddingStatus (EmbeddingStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("EmbeddingStatus")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(3));
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                    instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Profile)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 19:18:21.138 +03:00 [DBG] Creating DbConnection.
2025-08-25 19:18:21.148 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-25 19:18:21.152 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:18:21.162 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:18:21.166 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:18:21.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-25 19:18:21.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-25 19:18:21.182 +03:00 [DBG] Executing DbCommand [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."EmbeddingStatus", "p"."Name", "p"."Provider", "p"."SecretRef"
FROM "Profiles" AS "p"
WHERE "p"."Provider" = @__type_0
LIMIT 1
2025-08-25 19:18:21.197 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."EmbeddingStatus", "p"."Name", "p"."Provider", "p"."SecretRef"
FROM "Profiles" AS "p"
WHERE "p"."Provider" = @__type_0
LIMIT 1
2025-08-25 19:18:21.233 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:18:21.257 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:18:21.262 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 59ms reading results.
2025-08-25 19:18:21.265 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:18:21.269 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 19:18:22.811 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:18:22.818 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:18:52.130 +03:00 [INF] This is a test log to file!
2025-08-25 19:18:52.262 +03:00 [INF] Shared Kernal configured successfully.
2025-08-25 19:18:52.270 +03:00 [INF] API configured successfully.
2025-08-25 19:18:52.271 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 19:18:52.272 +03:00 [INF] Infrastructure configured successfully.
2025-08-25 19:18:52.322 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-25 19:18:52.346 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-25 19:18:52.347 +03:00 [DBG] Hosting starting
2025-08-25 19:18:52.360 +03:00 [DBG] Middleware loaded
2025-08-25 19:18:52.363 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-25 19:18:52.364 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-25 19:18:52.449 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-25 19:18:52.451 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-25 19:18:52.459 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-25 19:18:52.493 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-25 19:18:52.541 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-25 19:18:52.543 +03:00 [INF] Now listening on: http://localhost:5262
2025-08-25 19:18:52.544 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-25 19:18:52.545 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-25 19:18:52.545 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-25 19:18:52.546 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-25 19:18:52.552 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 19:18:52.559 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-25 19:18:52.584 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 19:18:52.585 +03:00 [INF] Hosting environment: Development
2025-08-25 19:18:52.586 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-25 19:18:52.587 +03:00 [DBG] Hosting started
2025-08-25 19:18:54.200 +03:00 [DBG] Connection id "0HNF3UCAVRPCK" accepted.
2025-08-25 19:18:54.202 +03:00 [DBG] Connection id "0HNF3UCAVRPCK" started.
2025-08-25 19:18:54.227 +03:00 [DBG] Connection id "0HNF3UCAVRPCK" received FIN.
2025-08-25 19:18:54.228 +03:00 [DBG] Connection id "0HNF3UCAVRPCL" accepted.
2025-08-25 19:18:54.234 +03:00 [DBG] Connection id "0HNF3UCAVRPCL" started.
2025-08-25 19:18:54.379 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-25 19:18:54.384 +03:00 [DBG] Connection 0HNF3UCAVRPCL established using the following protocol: "Tls13"
2025-08-25 19:18:54.385 +03:00 [DBG] Connection id "0HNF3UCAVRPCK" stopped.
2025-08-25 19:18:54.389 +03:00 [DBG] Connection id "0HNF3UCAVRPCK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-25 19:18:54.422 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - null null
2025-08-25 19:18:54.510 +03:00 [DBG] 1 candidate(s) found for the request path '/schema'
2025-08-25 19:18:54.513 +03:00 [DBG] Request matched endpoint 'HTTP: GET /schema'
2025-08-25 19:18:54.536 +03:00 [INF] Executing endpoint 'HTTP: GET /schema'
2025-08-25 19:18:54.638 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-25 19:18:55.225 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:18:56.866 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .FirstOrDefault(t => (int)t.Provider == (int)__type_0)'
2025-08-25 19:18:57.061 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.EmbeddingStatus (EmbeddingStatus) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6] }
            SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.EmbeddingStatus, p.Name, p.Provider, p.SecretRef
            FROM Profiles AS p
            WHERE p.Provider == @__type_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.EmbeddingStatus (EmbeddingStatus) Required, 3], [Property: Profile.Name (string) Required MaxLength(200), 4], [Property: Profile.Provider (ProviderType) Required, 5], [Property: Profile.SecretRef (string) Required, 6] }
            SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.EmbeddingStatus, p.Name, p.Provider, p.SecretRef
            FROM Profiles AS p
            WHERE p.Provider == @__type_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Profile entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Profile instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Profile);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Profile)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                            {
                                return 
                                {
                                    Profile instance;
                                    instance = new Profile();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                    instance.<EmbeddingStatus>k__BackingField = Invoke(((EnumToNumberConverter<EmbeddingStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.EmbeddingStatus (EmbeddingStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("EmbeddingStatus")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(3));
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                    instance.<SecretRef>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Profile)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-25 19:18:57.091 +03:00 [DBG] Creating DbConnection.
2025-08-25 19:18:57.103 +03:00 [DBG] Created DbConnection. (11ms).
2025-08-25 19:18:57.106 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:18:57.117 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:18:57.122 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-25 19:18:57.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-25 19:18:57.131 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-25 19:18:57.137 +03:00 [DBG] Executing DbCommand [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."EmbeddingStatus", "p"."Name", "p"."Provider", "p"."SecretRef"
FROM "Profiles" AS "p"
WHERE "p"."Provider" = @__type_0
LIMIT 1
2025-08-25 19:18:57.151 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."EmbeddingStatus", "p"."Name", "p"."Provider", "p"."SecretRef"
FROM "Profiles" AS "p"
WHERE "p"."Provider" = @__type_0
LIMIT 1
2025-08-25 19:18:57.185 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-25 19:18:57.209 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:18:57.214 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 56ms reading results.
2025-08-25 19:18:57.218 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-25 19:18:57.221 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-25 19:18:57.266 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-25 19:18:57.270 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:18:57.294 +03:00 [INF] Fetching schema for connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory, ForceRefresh=false)
2025-08-25 19:18:57.400 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\sqlcache\SqlServer_schemas.json
2025-08-25 19:18:57.403 +03:00 [INF] Setting HTTP status code 200.
2025-08-25 19:18:57.409 +03:00 [INF] Writing value of type 'SchemaModel' as Json.
2025-08-25 19:18:57.417 +03:00 [INF] Executed endpoint 'HTTP: GET /schema'
2025-08-25 19:18:57.422 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-25 19:18:57.426 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-25 19:18:57.428 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-25 19:18:57.431 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/schema?connectionstring=Data%20Source=DESKTOP-QCK8UI5\SQLEXPRESS;Initial%20Catalog=ProductInventory;Integrated%20Security=True;TrustServerCertificate=True - 200 null application/json; charset=utf-8 3012.62ms
