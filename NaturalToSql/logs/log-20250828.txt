2025-08-28 00:00:43.411 +03:00 [INF] This is a test log to file!
2025-08-28 00:00:43.615 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:00:43.623 +03:00 [INF] API configured successfully.
2025-08-28 00:00:43.853 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:00:44.512 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:00:44.531 +03:00 [INF] Registered 6 endpoints in 1,057 milliseconds.
2025-08-28 00:00:44.537 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:00:44.540 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:00:44.541 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:00:44.570 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:00:44.620 +03:00 [DBG] Hosting starting
2025-08-28 00:00:44.640 +03:00 [DBG] Middleware loaded
2025-08-28 00:00:44.643 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:00:44.645 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:00:44.724 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:00:44.727 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:00:44.731 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:00:44.764 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:00:44.816 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:00:44.817 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:00:44.818 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:00:44.818 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:00:44.819 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:00:44.820 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:00:44.825 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:00:44.830 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:00:44.860 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:00:44.861 +03:00 [INF] Hosting environment: Development
2025-08-28 00:00:44.862 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:00:44.862 +03:00 [DBG] Hosting started
2025-08-28 00:00:50.078 +03:00 [DBG] Connection id "0HNF5LJ6NF974" accepted.
2025-08-28 00:00:50.080 +03:00 [DBG] Connection id "0HNF5LJ6NF974" started.
2025-08-28 00:00:50.100 +03:00 [DBG] Connection id "0HNF5LJ6NF974" received FIN.
2025-08-28 00:00:50.101 +03:00 [DBG] Connection id "0HNF5LJ6NF975" accepted.
2025-08-28 00:00:50.128 +03:00 [DBG] Connection id "0HNF5LJ6NF975" started.
2025-08-28 00:00:50.205 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:00:50.210 +03:00 [DBG] Connection 0HNF5LJ6NF975 established using the following protocol: "Tls13"
2025-08-28 00:00:50.212 +03:00 [DBG] Connection id "0HNF5LJ6NF974" stopped.
2025-08-28 00:00:50.214 +03:00 [DBG] Connection id "0HNF5LJ6NF974" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:00:50.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:00:50.335 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:00:50.338 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:00:50.341 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:00:50.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:00:50.400 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:00:50.426 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:00:50.516 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:00:50.573 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:00:50.583 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:00:50.596 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:00:50.599 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 355.6884ms
2025-08-28 00:01:19.612 +03:00 [INF] This is a test log to file!
2025-08-28 00:01:19.805 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:01:19.812 +03:00 [INF] API configured successfully.
2025-08-28 00:01:19.929 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:01:20.370 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:01:20.383 +03:00 [INF] Registered 6 endpoints in 709 milliseconds.
2025-08-28 00:01:20.389 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:01:20.392 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:01:20.393 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:01:20.417 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:01:20.459 +03:00 [DBG] Hosting starting
2025-08-28 00:01:20.471 +03:00 [DBG] Middleware loaded
2025-08-28 00:01:20.475 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:01:20.476 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:01:20.539 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:01:20.542 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:01:20.545 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:01:20.575 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:01:20.640 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:01:20.642 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:01:20.643 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:01:20.645 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:01:20.646 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:01:20.647 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:01:20.654 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:01:20.664 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:01:20.676 +03:00 [DBG] Connection id "0HNF5LJFR94FM" accepted.
2025-08-28 00:01:20.678 +03:00 [DBG] Connection id "0HNF5LJFR94FM" started.
2025-08-28 00:01:20.733 +03:00 [DBG] Connection id "0HNF5LJFR94FN" accepted.
2025-08-28 00:01:20.756 +03:00 [DBG] Connection id "0HNF5LJFR94FN" started.
2025-08-28 00:01:20.763 +03:00 [DBG] Connection id "0HNF5LJFR94FM" received FIN.
2025-08-28 00:01:20.797 +03:00 [DBG] Connection id "0HNF5LJFR94FO" accepted.
2025-08-28 00:01:20.798 +03:00 [DBG] Connection id "0HNF5LJFR94FN" received FIN.
2025-08-28 00:01:20.823 +03:00 [DBG] Connection id "0HNF5LJFR94FO" started.
2025-08-28 00:01:20.847 +03:00 [DBG] Connection id "0HNF5LJFR94FP" accepted.
2025-08-28 00:01:21.015 +03:00 [DBG] Connection id "0HNF5LJFR94FP" started.
2025-08-28 00:01:21.079 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:01:21.079 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:01:21.081 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:01:21.083 +03:00 [DBG] Connection 0HNF5LJFR94FP established using the following protocol: "Tls13"
2025-08-28 00:01:21.083 +03:00 [DBG] Connection 0HNF5LJFR94FO established using the following protocol: "Tls13"
2025-08-28 00:01:21.087 +03:00 [INF] Hosting environment: Development
2025-08-28 00:01:21.090 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:01:21.091 +03:00 [DBG] Hosting started
2025-08-28 00:01:21.091 +03:00 [DBG] Connection id "0HNF5LJFR94FM" stopped.
2025-08-28 00:01:21.091 +03:00 [DBG] Connection id "0HNF5LJFR94FN" stopped.
2025-08-28 00:01:21.096 +03:00 [DBG] Connection id "0HNF5LJFR94FN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:01:21.096 +03:00 [DBG] Connection id "0HNF5LJFR94FM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:01:21.136 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:01:21.269 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:01:21.271 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:01:21.273 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:01:21.298 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:01:21.334 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:01:21.361 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:01:21.457 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:01:21.509 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:01:21.520 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:01:21.532 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:01:21.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 402.7669ms
2025-08-28 00:01:50.210 +03:00 [INF] This is a test log to file!
2025-08-28 00:01:50.398 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:01:50.407 +03:00 [INF] API configured successfully.
2025-08-28 00:01:50.557 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:01:51.019 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:01:51.032 +03:00 [INF] Registered 6 endpoints in 766 milliseconds.
2025-08-28 00:01:51.038 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:01:51.040 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:01:51.041 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:01:51.062 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:01:51.101 +03:00 [DBG] Hosting starting
2025-08-28 00:01:51.113 +03:00 [DBG] Middleware loaded
2025-08-28 00:01:51.115 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:01:51.117 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:01:51.179 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:01:51.181 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:01:51.185 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:01:51.219 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:01:51.284 +03:00 [DBG] Connection id "0HNF5LJOV5UGM" accepted.
2025-08-28 00:01:51.287 +03:00 [DBG] Connection id "0HNF5LJOV5UGM" started.
2025-08-28 00:01:51.290 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:01:51.290 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:01:51.291 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:01:51.291 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:01:51.292 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:01:51.293 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:01:51.298 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:01:51.303 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:01:51.309 +03:00 [DBG] Connection id "0HNF5LJOV5UGM" received FIN.
2025-08-28 00:01:51.309 +03:00 [DBG] Connection id "0HNF5LJOV5UGN" accepted.
2025-08-28 00:01:51.311 +03:00 [DBG] Connection id "0HNF5LJOV5UGN" started.
2025-08-28 00:01:51.326 +03:00 [DBG] Connection id "0HNF5LJOV5UGO" accepted.
2025-08-28 00:01:51.380 +03:00 [DBG] Connection id "0HNF5LJOV5UGO" started.
2025-08-28 00:01:51.401 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:01:51.405 +03:00 [DBG] Connection 0HNF5LJOV5UGN established using the following protocol: "Tls13"
2025-08-28 00:01:51.404 +03:00 [DBG] Connection id "0HNF5LJOV5UGO" received FIN.
2025-08-28 00:01:51.508 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:01:51.521 +03:00 [DBG] Connection id "0HNF5LJOV5UGM" stopped.
2025-08-28 00:01:51.521 +03:00 [DBG] Connection id "0HNF5LJOV5UGO" stopped.
2025-08-28 00:01:51.532 +03:00 [DBG] Connection id "0HNF5LJOV5UGM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:01:51.532 +03:00 [DBG] Connection id "0HNF5LJOV5UGO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:01:51.536 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:01:51.537 +03:00 [INF] Hosting environment: Development
2025-08-28 00:01:51.538 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:01:51.539 +03:00 [DBG] Hosting started
2025-08-28 00:01:51.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:01:51.699 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:01:51.701 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:01:51.703 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:01:51.724 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:01:51.757 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:01:51.783 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:01:51.873 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:01:51.923 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:01:51.933 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:01:51.943 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:01:51.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 332.7467ms
2025-08-28 00:02:25.700 +03:00 [INF] This is a test log to file!
2025-08-28 00:02:25.939 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:02:25.949 +03:00 [INF] API configured successfully.
2025-08-28 00:02:26.182 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:02:26.756 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:02:26.771 +03:00 [INF] Registered 6 endpoints in 1,003 milliseconds.
2025-08-28 00:02:26.777 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:02:26.779 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:02:26.779 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:02:26.809 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:02:26.859 +03:00 [DBG] Hosting starting
2025-08-28 00:02:26.874 +03:00 [DBG] Middleware loaded
2025-08-28 00:02:26.877 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:02:26.878 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:02:26.957 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:02:26.959 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:02:26.962 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:02:26.997 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:02:27.046 +03:00 [DBG] Connection id "0HNF5LK3K7D2L" accepted.
2025-08-28 00:02:27.047 +03:00 [DBG] Connection id "0HNF5LK3K7D2L" started.
2025-08-28 00:02:27.051 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:02:27.052 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:02:27.052 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:02:27.053 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:02:27.053 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:02:27.054 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:02:27.059 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:02:27.065 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:02:27.070 +03:00 [DBG] Connection id "0HNF5LK3K7D2L" received FIN.
2025-08-28 00:02:27.071 +03:00 [DBG] Connection id "0HNF5LK3K7D2M" accepted.
2025-08-28 00:02:27.072 +03:00 [DBG] Connection id "0HNF5LK3K7D2M" started.
2025-08-28 00:02:27.168 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:02:27.196 +03:00 [DBG] Connection id "0HNF5LK3K7D2L" stopped.
2025-08-28 00:02:27.186 +03:00 [DBG] Connection 0HNF5LK3K7D2M established using the following protocol: "Tls13"
2025-08-28 00:02:27.200 +03:00 [DBG] Connection id "0HNF5LK3K7D2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:02:27.218 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:02:27.219 +03:00 [INF] Hosting environment: Development
2025-08-28 00:02:27.220 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:02:27.221 +03:00 [DBG] Hosting started
2025-08-28 00:02:27.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:02:27.281 +03:00 [DBG] Connection id "0HNF5LK3K7D2N" accepted.
2025-08-28 00:02:27.282 +03:00 [DBG] Connection id "0HNF5LK3K7D2N" started.
2025-08-28 00:02:27.284 +03:00 [DBG] Connection id "0HNF5LK3K7D2N" received FIN.
2025-08-28 00:02:27.333 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:02:27.339 +03:00 [DBG] Connection id "0HNF5LK3K7D2N" stopped.
2025-08-28 00:02:27.339 +03:00 [DBG] Connection id "0HNF5LK3K7D2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:02:27.418 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:02:27.420 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:02:27.423 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:02:27.444 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:02:27.480 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:02:27.504 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:02:27.587 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:02:27.633 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:02:27.642 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:02:27.653 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:02:27.655 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 379.4347ms
2025-08-28 00:02:46.659 +03:00 [INF] This is a test log to file!
2025-08-28 00:02:47.035 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:02:47.046 +03:00 [INF] API configured successfully.
2025-08-28 00:02:47.285 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:02:47.795 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:02:47.807 +03:00 [INF] Registered 6 endpoints in 1,065 milliseconds.
2025-08-28 00:02:47.813 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:02:47.815 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:02:47.816 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:02:47.851 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:02:47.899 +03:00 [DBG] Hosting starting
2025-08-28 00:02:47.910 +03:00 [DBG] Middleware loaded
2025-08-28 00:02:47.914 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:02:47.916 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:02:47.999 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:02:48.002 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:02:48.005 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:02:48.039 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:02:48.096 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:02:48.097 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:02:48.098 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:02:48.099 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:02:48.100 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:02:48.100 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:02:48.106 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:02:48.112 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:02:48.213 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:02:48.214 +03:00 [INF] Hosting environment: Development
2025-08-28 00:02:48.215 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:02:48.216 +03:00 [DBG] Hosting started
2025-08-28 00:02:48.218 +03:00 [DBG] Connection id "0HNF5LK9U4MB1" accepted.
2025-08-28 00:02:48.220 +03:00 [DBG] Connection id "0HNF5LK9U4MB1" started.
2025-08-28 00:02:48.241 +03:00 [DBG] Connection id "0HNF5LK9U4MB1" received FIN.
2025-08-28 00:02:48.241 +03:00 [DBG] Connection id "0HNF5LK9U4MB2" accepted.
2025-08-28 00:02:48.246 +03:00 [DBG] Connection id "0HNF5LK9U4MB2" started.
2025-08-28 00:02:48.262 +03:00 [DBG] Connection id "0HNF5LK9U4MB3" accepted.
2025-08-28 00:02:48.289 +03:00 [DBG] Connection id "0HNF5LK9U4MB3" started.
2025-08-28 00:02:48.308 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:02:48.309 +03:00 [DBG] Connection id "0HNF5LK9U4MB3" received FIN.
2025-08-28 00:02:48.421 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:02:48.421 +03:00 [DBG] Connection 0HNF5LK9U4MB2 established using the following protocol: "Tls13"
2025-08-28 00:02:48.427 +03:00 [DBG] Connection id "0HNF5LK9U4MB3" stopped.
2025-08-28 00:02:48.427 +03:00 [DBG] Connection id "0HNF5LK9U4MB1" stopped.
2025-08-28 00:02:48.429 +03:00 [DBG] Connection id "0HNF5LK9U4MB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:02:48.429 +03:00 [DBG] Connection id "0HNF5LK9U4MB3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:02:48.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:02:48.561 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:02:48.563 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:02:48.565 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:02:48.590 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:02:48.632 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:02:48.658 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:02:48.747 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:02:48.795 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:02:48.803 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:02:48.813 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:02:48.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 341.3045ms
2025-08-28 00:03:18.836 +03:00 [INF] This is a test log to file!
2025-08-28 00:03:19.041 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:03:19.048 +03:00 [INF] API configured successfully.
2025-08-28 00:03:19.164 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:03:19.686 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:03:19.700 +03:00 [INF] Registered 6 endpoints in 781 milliseconds.
2025-08-28 00:03:19.708 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:03:19.711 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:03:19.712 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:03:19.736 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:03:19.779 +03:00 [DBG] Hosting starting
2025-08-28 00:03:19.791 +03:00 [DBG] Middleware loaded
2025-08-28 00:03:19.793 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:03:19.795 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:03:19.868 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:03:19.869 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:03:19.872 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:03:19.904 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:03:19.980 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:03:19.981 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:03:19.982 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:03:19.983 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:03:19.984 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:03:19.984 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:03:19.991 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:03:20.000 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:03:20.042 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:03:20.043 +03:00 [INF] Hosting environment: Development
2025-08-28 00:03:20.044 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:03:20.044 +03:00 [DBG] Hosting started
2025-08-28 00:04:21.859 +03:00 [INF] This is a test log to file!
2025-08-28 00:04:22.042 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:04:22.049 +03:00 [INF] API configured successfully.
2025-08-28 00:04:22.175 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:04:22.749 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:04:22.761 +03:00 [INF] Registered 6 endpoints in 842 milliseconds.
2025-08-28 00:04:22.767 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:04:22.769 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:04:22.769 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:04:22.791 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:04:22.832 +03:00 [DBG] Hosting starting
2025-08-28 00:04:22.846 +03:00 [DBG] Middleware loaded
2025-08-28 00:04:22.849 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:04:22.851 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:04:22.911 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:04:22.912 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:04:22.916 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:04:22.944 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:04:23.009 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:04:23.010 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:04:23.011 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:04:23.012 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:04:23.013 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:04:23.013 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:04:23.018 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:04:23.023 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:04:23.104 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:04:23.105 +03:00 [INF] Hosting environment: Development
2025-08-28 00:04:23.106 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:04:23.106 +03:00 [DBG] Hosting started
2025-08-28 00:04:36.278 +03:00 [DBG] Connection id "0HNF5LLA4LTB8" accepted.
2025-08-28 00:04:36.281 +03:00 [DBG] Connection id "0HNF5LLA4LTB8" started.
2025-08-28 00:04:36.303 +03:00 [DBG] Connection id "0HNF5LLA4LTB8" received FIN.
2025-08-28 00:04:36.303 +03:00 [DBG] Connection id "0HNF5LLA4LTB9" accepted.
2025-08-28 00:04:36.310 +03:00 [DBG] Connection id "0HNF5LLA4LTB9" started.
2025-08-28 00:04:36.390 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:04:36.394 +03:00 [DBG] Connection 0HNF5LLA4LTB9 established using the following protocol: "Tls13"
2025-08-28 00:04:36.395 +03:00 [DBG] Connection id "0HNF5LLA4LTB8" stopped.
2025-08-28 00:04:36.398 +03:00 [DBG] Connection id "0HNF5LLA4LTB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:04:36.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:04:36.516 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:04:36.518 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:04:36.521 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:04:36.543 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:04:36.581 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:04:36.607 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:04:36.692 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:04:36.735 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:04:36.743 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:04:36.753 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:04:36.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 328.9303ms
2025-08-28 00:04:58.924 +03:00 [INF] This is a test log to file!
2025-08-28 00:04:59.116 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:04:59.126 +03:00 [INF] API configured successfully.
2025-08-28 00:04:59.302 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:04:59.751 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:04:59.765 +03:00 [INF] Registered 6 endpoints in 783 milliseconds.
2025-08-28 00:04:59.770 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:04:59.772 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:04:59.773 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:04:59.795 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:04:59.835 +03:00 [DBG] Hosting starting
2025-08-28 00:04:59.846 +03:00 [DBG] Middleware loaded
2025-08-28 00:04:59.849 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:04:59.851 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:04:59.912 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:04:59.914 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:04:59.917 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:04:59.947 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:05:00.013 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:05:00.014 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:05:00.015 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:05:00.016 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:05:00.016 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:05:00.017 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:05:00.022 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:05:00.026 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:05:00.106 +03:00 [DBG] Connection id "0HNF5LLH7TPP6" accepted.
2025-08-28 00:05:00.107 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:05:00.108 +03:00 [DBG] Connection id "0HNF5LLH7TPP6" started.
2025-08-28 00:05:00.108 +03:00 [INF] Hosting environment: Development
2025-08-28 00:05:00.110 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:05:00.110 +03:00 [DBG] Hosting started
2025-08-28 00:05:00.128 +03:00 [DBG] Connection id "0HNF5LLH7TPP6" received FIN.
2025-08-28 00:05:00.129 +03:00 [DBG] Connection id "0HNF5LLH7TPP7" accepted.
2025-08-28 00:05:00.134 +03:00 [DBG] Connection id "0HNF5LLH7TPP7" started.
2025-08-28 00:05:00.139 +03:00 [DBG] Connection id "0HNF5LLH7TPP8" accepted.
2025-08-28 00:05:00.140 +03:00 [DBG] Connection id "0HNF5LLH7TPP8" started.
2025-08-28 00:05:00.224 +03:00 [DBG] Connection id "0HNF5LLH7TPP8" received FIN.
2025-08-28 00:05:00.314 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:05:00.286 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:05:00.317 +03:00 [DBG] Connection 0HNF5LLH7TPP7 established using the following protocol: "Tls13"
2025-08-28 00:05:00.321 +03:00 [DBG] Connection id "0HNF5LLH7TPP6" stopped.
2025-08-28 00:05:00.321 +03:00 [DBG] Connection id "0HNF5LLH7TPP8" stopped.
2025-08-28 00:05:00.323 +03:00 [DBG] Connection id "0HNF5LLH7TPP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:05:00.323 +03:00 [DBG] Connection id "0HNF5LLH7TPP6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:05:00.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/1 - null null
2025-08-28 00:05:00.456 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/1'
2025-08-28 00:05:00.458 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/1'
2025-08-28 00:05:00.461 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:05:00.482 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:05:00.517 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:05:00.546 +03:00 [ERR] Unsupported provider type '"1"' requested in CreateStandalone
2025-08-28 00:05:00.635 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:05:00.682 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: Unsupported provider type
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.HandleUnsupportedProvider(ProviderType type, String method) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 55
   at NaturalToQuery.Infrastructure.Factory.DbProviderFactory.CreateStandalone(ProviderType Type) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Factory\DbProviderFactory.cs:line 48
   at NaturalToQuery.Application.Services.SetupService.GetAvailableServersAsync(ProviderType type, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 49
   at NaturalToQuery.Api.Controllers.Setup.GetAvailableServers.HandleAsync(GetAvailableServersRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\AvailableServers.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:05:00.692 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:05:00.704 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:05:00.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/1 - 500 null application/json; charset=utf-8 335.8485ms
2025-08-28 00:05:25.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:05:25.337 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:05:25.338 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:05:25.339 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:05:25.340 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:05:25.349 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:05:25.357 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:05:25.359 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:05:25.360 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:05:25.446 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:05:25.447 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:05:25.452 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:05:25.454 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:05:25.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 129.3666ms
2025-08-28 00:05:55.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:05:55.210 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:05:55.211 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:05:55.212 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:05:55.214 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:05:55.216 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:05:55.295 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:05:55.322 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:05:55.728 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:05:55.897 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:05:55.906 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:05:55.908 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:05:55.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 709.2211ms
2025-08-28 00:24:17.211 +03:00 [INF] This is a test log to file!
2025-08-28 00:24:17.437 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:24:17.444 +03:00 [INF] API configured successfully.
2025-08-28 00:24:17.608 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:24:18.232 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:24:18.264 +03:00 [INF] Registered 6 endpoints in 985 milliseconds.
2025-08-28 00:24:18.271 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:24:18.284 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:24:18.285 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:24:18.315 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:24:18.386 +03:00 [DBG] Hosting starting
2025-08-28 00:24:18.416 +03:00 [DBG] Middleware loaded
2025-08-28 00:24:18.421 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:24:18.423 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:24:18.514 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:24:18.515 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:24:18.519 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:24:18.557 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:24:18.627 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:24:18.628 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:24:18.629 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:24:18.630 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:24:18.630 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:24:18.631 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:24:18.637 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:24:18.642 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:24:18.725 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:24:18.727 +03:00 [INF] Hosting environment: Development
2025-08-28 00:24:18.727 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:24:18.728 +03:00 [DBG] Hosting started
2025-08-28 00:24:34.033 +03:00 [DBG] Connection id "0HNF5M0F3BM0U" accepted.
2025-08-28 00:24:34.034 +03:00 [DBG] Connection id "0HNF5M0F3BM0U" started.
2025-08-28 00:24:34.056 +03:00 [DBG] Connection id "0HNF5M0F3BM0U" received FIN.
2025-08-28 00:24:34.056 +03:00 [DBG] Connection id "0HNF5M0F3BM0V" accepted.
2025-08-28 00:24:34.082 +03:00 [DBG] Connection id "0HNF5M0F3BM0V" started.
2025-08-28 00:24:34.202 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:24:34.207 +03:00 [DBG] Connection 0HNF5M0F3BM0V established using the following protocol: "Tls13"
2025-08-28 00:24:34.208 +03:00 [DBG] Connection id "0HNF5M0F3BM0U" stopped.
2025-08-28 00:24:34.211 +03:00 [DBG] Connection id "0HNF5M0F3BM0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:24:34.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:24:34.326 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:24:34.328 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:24:34.330 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:24:34.351 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:24:34.385 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:24:34.416 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:24:34.418 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:24:34.429 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:24:34.596 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:24:34.602 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:24:34.697 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:24:34.778 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:24:34.780 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:24:34.803 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:24:34.809 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:24:34.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 573.0369ms
2025-08-28 00:26:28.451 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:26:28.466 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:26:28.467 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:26:28.469 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:26:28.471 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:26:28.490 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:26:28.493 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:26:28.494 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:26:28.495 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:26:28.497 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:26:28.498 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:26:28.566 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:26:28.570 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:26:28.571 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:26:28.572 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:26:28.573 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:26:28.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 123.2028ms
2025-08-28 00:27:49.371 +03:00 [INF] This is a test log to file!
2025-08-28 00:27:49.602 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:27:49.610 +03:00 [INF] API configured successfully.
2025-08-28 00:27:49.762 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:27:50.430 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:27:50.448 +03:00 [INF] Registered 6 endpoints in 1,007 milliseconds.
2025-08-28 00:27:50.463 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:27:50.466 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:27:50.467 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:27:50.491 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:27:50.535 +03:00 [DBG] Hosting starting
2025-08-28 00:27:50.553 +03:00 [DBG] Middleware loaded
2025-08-28 00:27:50.556 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:27:50.562 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:27:50.642 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:27:50.645 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:27:50.649 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:27:50.696 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:27:50.787 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:27:50.788 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:27:50.789 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:27:50.790 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:27:50.791 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:27:50.794 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:27:50.800 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:27:50.805 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:27:50.841 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:27:50.842 +03:00 [INF] Hosting environment: Development
2025-08-28 00:27:50.843 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:27:50.844 +03:00 [DBG] Hosting started
2025-08-28 00:27:52.734 +03:00 [DBG] Connection id "0HNF5M2AAAHMC" accepted.
2025-08-28 00:27:52.737 +03:00 [DBG] Connection id "0HNF5M2AAAHMC" started.
2025-08-28 00:27:52.759 +03:00 [DBG] Connection id "0HNF5M2AAAHMC" received FIN.
2025-08-28 00:27:52.759 +03:00 [DBG] Connection id "0HNF5M2AAAHMD" accepted.
2025-08-28 00:27:52.765 +03:00 [DBG] Connection id "0HNF5M2AAAHMD" started.
2025-08-28 00:27:52.845 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:27:52.848 +03:00 [DBG] Connection 0HNF5M2AAAHMD established using the following protocol: "Tls13"
2025-08-28 00:27:52.852 +03:00 [DBG] Connection id "0HNF5M2AAAHMC" stopped.
2025-08-28 00:27:52.854 +03:00 [DBG] Connection id "0HNF5M2AAAHMC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:27:52.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:27:52.976 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:27:52.978 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:27:52.980 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:27:53.003 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:27:53.038 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:27:53.071 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:27:53.073 +03:00 [WRN] No servers found, trying fallback names...
2025-08-28 00:27:53.087 +03:00 [INF] Creating connection (Server=(localdb)\MSSQLLocalDB, Database=master)
2025-08-28 00:27:55.248 +03:00 [DBG] Connected to database for schema extraction (Server=(localdb)\MSSQLLocalDB, Database=master)
2025-08-28 00:27:55.253 +03:00 [INF] Creating connection (Server=(localdb)\MSSQLLocalDB, Database=master)
2025-08-28 00:27:55.303 +03:00 [INF] Connected successfully to fallback server (localdb)\MSSQLLocalDB (runningDbs=1)
2025-08-28 00:27:55.373 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:27:55.375 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:27:55.385 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:27:55.390 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:27:55.393 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 2509.8827ms
2025-08-28 00:28:15.328 +03:00 [INF] This is a test log to file!
2025-08-28 00:28:15.575 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:28:15.582 +03:00 [INF] API configured successfully.
2025-08-28 00:28:15.702 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:28:16.105 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:16.119 +03:00 [INF] Registered 6 endpoints in 719 milliseconds.
2025-08-28 00:28:16.125 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:16.127 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:28:16.128 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:28:16.151 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:28:16.197 +03:00 [DBG] Hosting starting
2025-08-28 00:28:16.232 +03:00 [DBG] Middleware loaded
2025-08-28 00:28:16.241 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:28:16.243 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:28:16.316 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:28:16.319 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:28:16.323 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:28:16.355 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:28:16.399 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:28:16.400 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:28:16.401 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:28:16.402 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:28:16.402 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:28:16.403 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:28:16.408 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:28:16.414 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:28:16.446 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:28:16.447 +03:00 [INF] Hosting environment: Development
2025-08-28 00:28:16.448 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:28:16.449 +03:00 [DBG] Hosting started
2025-08-28 00:28:19.317 +03:00 [DBG] Connection id "0HNF5M2I7R2DG" accepted.
2025-08-28 00:28:19.320 +03:00 [DBG] Connection id "0HNF5M2I7R2DG" started.
2025-08-28 00:28:19.348 +03:00 [DBG] Connection id "0HNF5M2I7R2DG" received FIN.
2025-08-28 00:28:19.349 +03:00 [DBG] Connection id "0HNF5M2I7R2DH" accepted.
2025-08-28 00:28:19.354 +03:00 [DBG] Connection id "0HNF5M2I7R2DH" started.
2025-08-28 00:28:19.438 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:28:19.440 +03:00 [DBG] Connection 0HNF5M2I7R2DH established using the following protocol: "Tls13"
2025-08-28 00:28:19.444 +03:00 [DBG] Connection id "0HNF5M2I7R2DG" stopped.
2025-08-28 00:28:19.447 +03:00 [DBG] Connection id "0HNF5M2I7R2DG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:28:19.512 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:28:19.636 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:28:19.639 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:28:19.641 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:19.671 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:19.707 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:19.742 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:28:19.744 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:28:19.758 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:19.994 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:19.999 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:20.085 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:28:20.168 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:20.170 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:20.187 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:20.193 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:20.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 703.2713ms
2025-08-28 00:28:22.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:28:22.091 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:28:22.093 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:28:22.094 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.096 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.113 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:22.116 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:28:22.117 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:28:22.118 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.119 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.120 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.123 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:28:22.126 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:22.127 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:22.128 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.129 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:22.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 46.5037ms
2025-08-28 00:28:22.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:28:22.592 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:28:22.593 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:28:22.594 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.596 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.597 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:22.599 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:28:22.600 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:28:22.601 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.601 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.602 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.604 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:28:22.607 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:22.608 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:22.609 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.609 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:22.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 22.7651ms
2025-08-28 00:28:22.918 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:28:22.922 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:28:22.923 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:28:22.924 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.925 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.926 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:22.928 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:28:22.928 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:28:22.929 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.930 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.930 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:22.932 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:28:22.936 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:22.937 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:22.938 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:22.939 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:22.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 21.4193ms
2025-08-28 00:28:23.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:28:23.092 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:28:23.093 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:28:23.094 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:23.095 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:23.097 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:23.098 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:28:23.099 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:28:23.100 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:23.101 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:23.102 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:23.104 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:28:23.106 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:23.107 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:23.108 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:23.109 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:23.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 21.7493ms
2025-08-28 00:28:23.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/servers/0 - null null
2025-08-28 00:28:23.244 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/servers/0'
2025-08-28 00:28:23.245 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/servers/{type}' with route pattern 'api/setup/servers/{type}' is valid for the request path '/api/setup/servers/0'
2025-08-28 00:28:23.246 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:23.248 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:23.259 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:28:23.261 +03:00 [INF] Fetching servers (forceRefresh=true)
2025-08-28 00:28:23.262 +03:00 [DBG] Looking up servers from registry key SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names\SQL
2025-08-28 00:28:23.263 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:23.264 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:23.266 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:28:23.268 +03:00 [INF] Discovered server DESKTOP-QCK8UI5\SQLEXPRESS with 4 running DBs
2025-08-28 00:28:23.271 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:23.272 +03:00 [INF] Cached 1 servers to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer.json
2025-08-28 00:28:23.272 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/servers/{type}'
2025-08-28 00:28:23.273 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:28:23.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/servers/0 - 200 null application/json; charset=utf-8 34.6184ms
2025-08-28 00:29:01.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:29:01.494 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:29:01.495 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:29:01.496 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:29:01.497 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:29:01.498 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:29:01.503 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:29:01.511 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:29:01.512 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:29:01.618 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:29:01.622 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:29:01.623 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:29:01.624 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 137.1307ms
2025-08-28 00:39:36.126 +03:00 [INF] This is a test log to file!
2025-08-28 00:39:36.308 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:39:36.316 +03:00 [INF] API configured successfully.
2025-08-28 00:39:36.435 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:39:36.893 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:39:36.907 +03:00 [INF] Registered 6 endpoints in 721 milliseconds.
2025-08-28 00:39:36.913 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:39:36.915 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:39:36.915 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:39:36.941 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:39:36.988 +03:00 [DBG] Hosting starting
2025-08-28 00:39:36.999 +03:00 [DBG] Middleware loaded
2025-08-28 00:39:37.001 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:39:37.003 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:39:37.083 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:39:37.085 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:39:37.090 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:39:37.122 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:39:37.192 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:39:37.193 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:39:37.197 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:39:37.200 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:39:37.201 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:39:37.202 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:39:37.218 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:39:37.232 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:39:37.334 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:39:37.335 +03:00 [INF] Hosting environment: Development
2025-08-28 00:39:37.336 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:39:37.337 +03:00 [DBG] Hosting started
2025-08-28 00:39:41.899 +03:00 [DBG] Connection id "0HNF5M8TLECH6" accepted.
2025-08-28 00:39:41.901 +03:00 [DBG] Connection id "0HNF5M8TLECH6" started.
2025-08-28 00:39:41.923 +03:00 [DBG] Connection id "0HNF5M8TLECH6" received FIN.
2025-08-28 00:39:41.924 +03:00 [DBG] Connection id "0HNF5M8TLECH7" accepted.
2025-08-28 00:39:41.930 +03:00 [DBG] Connection id "0HNF5M8TLECH7" started.
2025-08-28 00:39:42.008 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:39:42.013 +03:00 [DBG] Connection 0HNF5M8TLECH7 established using the following protocol: "Tls13"
2025-08-28 00:39:42.014 +03:00 [DBG] Connection id "0HNF5M8TLECH6" stopped.
2025-08-28 00:39:42.017 +03:00 [DBG] Connection id "0HNF5M8TLECH6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:39:42.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:39:42.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:39:42.181 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:39:42.183 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:39:42.205 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:39:42.239 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:39:42.282 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.291 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:39:42.450 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.595 +03:00 [WRN] Failed to count tables for database LearningTopicDB on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.620 +03:00 [WRN] Failed to count tables for database master on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.646 +03:00 [WRN] Failed to count tables for database model on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.672 +03:00 [WRN] Failed to count tables for database msdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.698 +03:00 [WRN] Failed to count tables for database MyAppDb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.723 +03:00 [WRN] Failed to count tables for database ProductInventory on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.750 +03:00 [WRN] Failed to count tables for database tempdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.776 +03:00 [WRN] Failed to count tables for database testdatabase on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.777 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:39:42.792 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:39:42.798 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:39:42.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 734.8358ms
2025-08-28 00:40:19.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:40:19.519 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:40:19.520 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:40:19.521 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:40:19.523 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:40:19.539 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:40:19.542 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:19.543 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:40:19.544 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:26.761 +03:00 [WRN] Failed to count tables for database LearningTopicDB on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.441 +03:00 [WRN] Failed to count tables for database master on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.468 +03:00 [WRN] Failed to count tables for database model on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.495 +03:00 [WRN] Failed to count tables for database msdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.522 +03:00 [WRN] Failed to count tables for database MyAppDb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.549 +03:00 [WRN] Failed to count tables for database ProductInventory on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.575 +03:00 [WRN] Failed to count tables for database tempdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.601 +03:00 [WRN] Failed to count tables for database testdatabase on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.602 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:40:32.603 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:40:32.604 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:40:32.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 13117.4171ms
2025-08-28 00:41:20.412 +03:00 [INF] This is a test log to file!
2025-08-28 00:41:20.598 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:41:20.605 +03:00 [INF] API configured successfully.
2025-08-28 00:41:20.735 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:41:21.246 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:41:21.260 +03:00 [INF] Registered 6 endpoints in 785 milliseconds.
2025-08-28 00:41:21.266 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:41:21.269 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:41:21.269 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:41:21.292 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:41:21.329 +03:00 [DBG] Hosting starting
2025-08-28 00:41:21.340 +03:00 [DBG] Middleware loaded
2025-08-28 00:41:21.343 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:41:21.345 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:41:21.408 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:41:21.410 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:41:21.412 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:41:21.442 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:41:21.487 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:41:21.488 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:41:21.490 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:41:21.490 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:41:21.491 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:41:21.492 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:41:21.497 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:41:21.502 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:41:21.584 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:41:21.585 +03:00 [INF] Hosting environment: Development
2025-08-28 00:41:21.585 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:41:21.586 +03:00 [DBG] Hosting started
2025-08-28 00:41:23.864 +03:00 [DBG] Connection id "0HNF5M9S1RLBT" accepted.
2025-08-28 00:41:23.866 +03:00 [DBG] Connection id "0HNF5M9S1RLBT" started.
2025-08-28 00:41:23.904 +03:00 [DBG] Connection id "0HNF5M9S1RLBU" accepted.
2025-08-28 00:41:23.904 +03:00 [DBG] Connection id "0HNF5M9S1RLBT" received FIN.
2025-08-28 00:41:23.905 +03:00 [DBG] Connection id "0HNF5M9S1RLBU" started.
2025-08-28 00:41:24.062 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:41:24.065 +03:00 [DBG] Connection 0HNF5M9S1RLBU established using the following protocol: "Tls13"
2025-08-28 00:41:24.069 +03:00 [DBG] Connection id "0HNF5M9S1RLBT" stopped.
2025-08-28 00:41:24.099 +03:00 [DBG] Connection id "0HNF5M9S1RLBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:41:24.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:41:24.275 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:41:24.277 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:41:24.279 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:41:24.305 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:41:24.342 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:41:24.384 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:41:24.392 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:41:24.603 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:38.900 +03:00 [WRN] Failed to count tables for database LearningTopicDB on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:45.239 +03:00 [INF] This is a test log to file!
2025-08-28 00:42:45.432 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:42:45.439 +03:00 [INF] API configured successfully.
2025-08-28 00:42:45.592 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:42:46.094 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:42:46.117 +03:00 [INF] Registered 6 endpoints in 814 milliseconds.
2025-08-28 00:42:46.133 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:42:46.144 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:42:46.155 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:42:46.200 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:42:46.270 +03:00 [DBG] Hosting starting
2025-08-28 00:42:46.285 +03:00 [DBG] Middleware loaded
2025-08-28 00:42:46.288 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:42:46.289 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:42:46.369 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:42:46.371 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:42:46.375 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:42:46.413 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:42:46.470 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:42:46.471 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:42:46.472 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:42:46.473 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:42:46.473 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:42:46.474 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:42:46.476 +03:00 [DBG] Connection id "0HNF5MAKLN38H" accepted.
2025-08-28 00:42:46.479 +03:00 [DBG] Connection id "0HNF5MAKLN38H" started.
2025-08-28 00:42:46.481 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:42:46.487 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:42:46.502 +03:00 [DBG] Connection id "0HNF5MAKLN38H" received FIN.
2025-08-28 00:42:46.502 +03:00 [DBG] Connection id "0HNF5MAKLN38I" accepted.
2025-08-28 00:42:46.508 +03:00 [DBG] Connection id "0HNF5MAKLN38I" started.
2025-08-28 00:42:46.541 +03:00 [DBG] Connection id "0HNF5MAKLN38J" accepted.
2025-08-28 00:42:46.576 +03:00 [DBG] Connection id "0HNF5MAKLN38J" started.
2025-08-28 00:42:46.606 +03:00 [DBG] Connection id "0HNF5MAKLN38J" received FIN.
2025-08-28 00:42:46.659 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:42:46.661 +03:00 [DBG] Connection 0HNF5MAKLN38I established using the following protocol: "Tls13"
2025-08-28 00:42:46.625 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:42:46.680 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:42:46.681 +03:00 [DBG] Connection id "0HNF5MAKLN38H" stopped.
2025-08-28 00:42:46.682 +03:00 [DBG] Connection id "0HNF5MAKLN38J" stopped.
2025-08-28 00:42:46.682 +03:00 [INF] Hosting environment: Development
2025-08-28 00:42:46.709 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:42:46.712 +03:00 [DBG] Connection id "0HNF5MAKLN38H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:42:46.744 +03:00 [DBG] Hosting started
2025-08-28 00:42:46.712 +03:00 [DBG] Connection id "0HNF5MAKLN38J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:42:46.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:42:46.892 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:42:46.895 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:42:46.897 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:42:46.920 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:42:46.957 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:42:46.999 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.007 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:42:47.165 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.373 +03:00 [WRN] Failed to count tables for database LearningTopicDB on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.532 +03:00 [WRN] Failed to count tables for database master on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.648 +03:00 [WRN] Failed to count tables for database model on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.724 +03:00 [WRN] Failed to count tables for database msdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.810 +03:00 [WRN] Failed to count tables for database MyAppDb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.892 +03:00 [WRN] Failed to count tables for database ProductInventory on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:47.993 +03:00 [WRN] Failed to count tables for database tempdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:48.068 +03:00 [WRN] Failed to count tables for database testdatabase on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:48.069 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:48.090 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:42:48.096 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:42:48.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 1300.9563ms
2025-08-28 00:42:51.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:42:51.631 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:42:51.632 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:42:51.634 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:42:51.636 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:42:51.646 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:42:51.648 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:51.649 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:42:51.651 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:51.724 +03:00 [WRN] Failed to count tables for database LearningTopicDB on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:51.799 +03:00 [WRN] Failed to count tables for database master on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:51.872 +03:00 [WRN] Failed to count tables for database model on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:51.964 +03:00 [WRN] Failed to count tables for database msdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:52.039 +03:00 [WRN] Failed to count tables for database MyAppDb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:52.112 +03:00 [WRN] Failed to count tables for database ProductInventory on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:52.192 +03:00 [WRN] Failed to count tables for database tempdb on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:52.264 +03:00 [WRN] Failed to count tables for database testdatabase on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:52.266 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:42:52.267 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:42:52.268 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:42:52.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 645.1935ms
2025-08-28 00:43:01.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:43:01.290 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:43:01.292 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:43:01.294 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:01.296 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:01.305 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:43:01.306 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:01.307 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:43:01.308 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:16.303 +03:00 [INF] This is a test log to file!
2025-08-28 00:43:16.504 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:43:16.512 +03:00 [INF] API configured successfully.
2025-08-28 00:43:16.852 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:43:17.495 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:43:17.508 +03:00 [INF] Registered 6 endpoints in 1,143 milliseconds.
2025-08-28 00:43:17.515 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:43:17.517 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:43:17.518 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:43:17.548 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:43:17.610 +03:00 [DBG] Hosting starting
2025-08-28 00:43:17.627 +03:00 [DBG] Middleware loaded
2025-08-28 00:43:17.630 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:43:17.633 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:43:17.718 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:43:17.720 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:43:17.723 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:43:17.759 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:43:17.826 +03:00 [DBG] Connection id "0HNF5MAU0M3NB" accepted.
2025-08-28 00:43:17.828 +03:00 [DBG] Connection id "0HNF5MAU0M3NB" started.
2025-08-28 00:43:17.829 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:43:17.831 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:43:17.832 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:43:17.833 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:43:17.834 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:43:17.835 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:43:17.844 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:43:17.855 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:43:17.867 +03:00 [DBG] Connection id "0HNF5MAU0M3NC" accepted.
2025-08-28 00:43:17.878 +03:00 [DBG] Connection id "0HNF5MAU0M3ND" accepted.
2025-08-28 00:43:17.878 +03:00 [DBG] Connection id "0HNF5MAU0M3NC" started.
2025-08-28 00:43:17.879 +03:00 [DBG] Connection id "0HNF5MAU0M3ND" started.
2025-08-28 00:43:17.883 +03:00 [DBG] Connection id "0HNF5MAU0M3NB" received FIN.
2025-08-28 00:43:17.892 +03:00 [DBG] Connection id "0HNF5MAU0M3NC" received FIN.
2025-08-28 00:43:18.092 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:43:18.094 +03:00 [DBG] Connection 0HNF5MAU0M3ND established using the following protocol: "Tls13"
2025-08-28 00:43:18.092 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-28 00:43:18.122 +03:00 [DBG] Connection id "0HNF5MAU0M3NC" stopped.
2025-08-28 00:43:18.122 +03:00 [DBG] Connection id "0HNF5MAU0M3NB" stopped.
2025-08-28 00:43:18.126 +03:00 [DBG] Connection id "0HNF5MAU0M3NB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:43:18.126 +03:00 [DBG] Connection id "0HNF5MAU0M3NC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:43:18.139 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:43:18.140 +03:00 [INF] Hosting environment: Development
2025-08-28 00:43:18.141 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:43:18.142 +03:00 [DBG] Hosting started
2025-08-28 00:43:18.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:43:18.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:43:18.332 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:43:18.334 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:18.364 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:18.408 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:43:18.464 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:18.475 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:43:18.694 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:22.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - null null
2025-08-28 00:43:22.293 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:43:22.295 +03:00 [DBG] Endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}' with route pattern 'api/setup/databases/{type}/{serverName}' is valid for the request path '/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS'
2025-08-28 00:43:22.297 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:22.299 +03:00 [INF] Executing endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:22.314 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:43:22.317 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:22.318 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=master)
2025-08-28 00:43:22.402 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:22.482 +03:00 [WRN] Failed to count tables for database LearningTopicDB on server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:24.102 +03:00 [ERR] Failed to fetch databases for DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:24.368 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:24.442 +03:00 [DBG] The request was aborted by the client.
2025-08-28 00:43:24.446 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:43:24.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 499 null application/json; charset=utf-8 6225.8659ms
2025-08-28 00:43:24.633 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 00:43:24.637 +03:00 [INF] Executed endpoint 'HTTP: GET api/setup/databases/{type}/{serverName}'
2025-08-28 00:43:24.639 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:43:24.640 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7202/api/setup/databases/0/DESKTOP-QCK8UI5\SQLEXPRESS - 200 null application/json; charset=utf-8 2362.858ms
2025-08-28 00:44:45.795 +03:00 [DBG] Connection id "0HNF5MAU0M3NE" accepted.
2025-08-28 00:44:45.797 +03:00 [DBG] Connection id "0HNF5MAU0M3NE" started.
2025-08-28 00:44:45.798 +03:00 [DBG] Connection id "0HNF5MAU0M3NF" accepted.
2025-08-28 00:44:45.822 +03:00 [DBG] Connection id "0HNF5MAU0M3NE" received FIN.
2025-08-28 00:44:45.827 +03:00 [DBG] Connection id "0HNF5MAU0M3NF" started.
2025-08-28 00:44:45.832 +03:00 [DBG] Connection id "0HNF5MAU0M3NE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:44:45.833 +03:00 [DBG] Connection id "0HNF5MAU0M3NE" disconnecting.
2025-08-28 00:44:45.835 +03:00 [DBG] Connection id "0HNF5MAU0M3NE" stopped.
2025-08-28 00:44:45.835 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 163
2025-08-28 00:44:45.838 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:44:45.839 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:45.844 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 00:44:45.846 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:44:45.851 +03:00 [DBG] Connection id "0HNF5MAU0M3NF" completed keep alive response.
2025-08-28 00:44:45.852 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 16.9707ms
2025-08-28 00:44:45.855 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000001": started reading request body.
2025-08-28 00:44:45.857 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000001": done reading request body.
2025-08-28 00:44:45.857 +03:00 [DBG] Connection id "0HNF5MAU0M3NG" accepted.
2025-08-28 00:44:45.858 +03:00 [DBG] Connection id "0HNF5MAU0M3NG" received FIN.
2025-08-28 00:44:45.858 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" accepted.
2025-08-28 00:44:45.859 +03:00 [DBG] Connection id "0HNF5MAU0M3NG" started.
2025-08-28 00:44:45.860 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" started.
2025-08-28 00:44:45.860 +03:00 [DBG] Connection id "0HNF5MAU0M3NG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:44:45.862 +03:00 [DBG] Connection id "0HNF5MAU0M3NG" disconnecting.
2025-08-28 00:44:45.863 +03:00 [DBG] Connection id "0HNF5MAU0M3NG" stopped.
2025-08-28 00:44:45.865 +03:00 [DBG] Connection 0HNF5MAU0M3NH established using the following protocol: "Tls13"
2025-08-28 00:44:45.867 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 163
2025-08-28 00:44:45.868 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:44:45.869 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:45.871 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:45.881 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:44:45.906 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000001": started reading request body.
2025-08-28 00:44:45.907 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000001": done reading request body.
2025-08-28 00:44:45.917 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:44:45.920 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:44:45.991 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:44:46.015 +03:00 [DBG] Saved secret profile-bbda76c4-542c-421c-921c-082dc09ffa36 for provider "SqlServer"
2025-08-28 00:44:46.016 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:44:46.085 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-28 00:44:46.268 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:44:46.297 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:44:46.306 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-28 00:44:46.309 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:44:46.328 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:46.331 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:44:46.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:44:46.340 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-28 00:44:46.347 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:44:46.364 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:44:46.371 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:46.376 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-28 00:44:46.379 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:46.383 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 00:44:46.413 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:44:46.456 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:44:46.462 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:44:46.473 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:44:46.477 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:44:46.479 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:44:46.480 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:44:46.521 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:44:46.523 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:46.525 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:44:46.526 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:44:46.527 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:44:46.528 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:44:46.534 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:44:46.537 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:46.538 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-28 00:44:46.540 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:46.541 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:44:46.548 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:44:46.550 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:44:46.551 +03:00 [INF] Profile created successfully with Id "b1f53b6f-8f32-4b6d-b5e2-37e15ff37651"
2025-08-28 00:44:46.556 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:46.557 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" completed keep alive response.
2025-08-28 00:44:46.557 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:44:46.560 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:44:46.561 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:44:46.563 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 200 null application/json; charset=utf-8 695.9682ms
2025-08-28 00:44:57.100 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 163
2025-08-28 00:44:57.104 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:44:57.105 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:57.106 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:44:57.106 +03:00 [DBG] Connection id "0HNF5MAU0M3NF" completed keep alive response.
2025-08-28 00:44:57.107 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 6.9267ms
2025-08-28 00:44:57.108 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 163
2025-08-28 00:44:57.109 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000002": started reading request body.
2025-08-28 00:44:57.111 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:44:57.112 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000002": done reading request body.
2025-08-28 00:44:57.112 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:57.114 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:57.115 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:44:57.116 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000002": started reading request body.
2025-08-28 00:44:57.117 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000002": done reading request body.
2025-08-28 00:44:57.118 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:44:57.119 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:44:57.121 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:44:57.138 +03:00 [DBG] Saved secret profile-37ff501a-9e24-436d-a798-8610559ad897 for provider "SqlServer"
2025-08-28 00:44:57.139 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:44:57.143 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:44:57.144 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 00:44:57.145 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:44:57.146 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:57.146 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:44:57.147 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:44:57.148 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:44:57.149 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:44:57.151 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:44:57.152 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:57.153 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 00:44:57.154 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:44:57.155 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:44:57.315 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:44:57.360 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 26
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(ProviderType Type, ProviderConnectionConfig config, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 53
   at NaturalToQuery.Application.Services.SetupService.CreateProfileAsync(SetupRequest request, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 33
   at NaturalToQuery.Api.Controllers.Setup.CreateProfile.HandleAsync(SetupRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\CreateProfile.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:44:57.371 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:44:57.376 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" completed keep alive response.
2025-08-28 00:44:57.377 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:44:57.378 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:44:57.379 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:44:57.380 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 500 null application/json; charset=utf-8 272.1486ms
2025-08-28 00:45:09.678 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 163
2025-08-28 00:45:09.680 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:45:09.681 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:09.682 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:45:09.683 +03:00 [DBG] Connection id "0HNF5MAU0M3NF" completed keep alive response.
2025-08-28 00:45:09.684 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 5.8238ms
2025-08-28 00:45:09.685 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 163
2025-08-28 00:45:09.686 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000003": started reading request body.
2025-08-28 00:45:09.687 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:45:09.688 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000003": done reading request body.
2025-08-28 00:45:09.689 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:09.691 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:09.692 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:45:09.693 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000003": started reading request body.
2025-08-28 00:45:09.694 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000003": done reading request body.
2025-08-28 00:45:09.695 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:45:09.696 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:45:09.697 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:45:09.708 +03:00 [DBG] Saved secret profile-f885d427-c6f1-4470-bb5c-d46e824049bb for provider "SqlServer"
2025-08-28 00:45:09.709 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:45:09.710 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:45:09.711 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 00:45:09.712 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:45:09.713 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:09.714 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:45:09.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:45:09.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:45:09.716 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:45:09.717 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:45:09.719 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:09.720 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 00:45:09.721 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:09.722 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:45:09.723 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:45:09.725 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:45:09.726 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:45:09.727 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:45:09.727 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:45:09.728 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:45:09.729 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:45:09.730 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:45:09.731 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:09.732 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:45:09.733 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:45:09.734 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:45:09.735 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:45:09.741 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:45:09.743 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:09.744 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 00:45:09.746 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:09.747 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:45:09.749 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:45:09.750 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:45:09.751 +03:00 [INF] Profile created successfully with Id "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:45:09.753 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:09.754 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" completed keep alive response.
2025-08-28 00:45:09.755 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:45:09.756 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:45:09.756 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:45:09.758 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 200 null application/json; charset=utf-8 73.1677ms
2025-08-28 00:45:13.448 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 163
2025-08-28 00:45:13.450 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:45:13.452 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:13.453 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:45:13.454 +03:00 [DBG] Connection id "0HNF5MAU0M3NF" completed keep alive response.
2025-08-28 00:45:13.455 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 6.4195ms
2025-08-28 00:45:13.455 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 163
2025-08-28 00:45:13.457 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000004": started reading request body.
2025-08-28 00:45:13.459 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:45:13.460 +03:00 [DBG] Connection id "0HNF5MAU0M3NF", Request id "0HNF5MAU0M3NF:00000004": done reading request body.
2025-08-28 00:45:13.461 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:13.462 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:13.464 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:45:13.466 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000004": started reading request body.
2025-08-28 00:45:13.467 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000004": done reading request body.
2025-08-28 00:45:13.468 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:45:13.469 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:45:13.470 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:45:13.482 +03:00 [DBG] Saved secret profile-248deaf8-76f4-456d-a024-821c29d806a6 for provider "SqlServer"
2025-08-28 00:45:13.483 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:45:13.484 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:45:13.485 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 00:45:13.486 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:45:13.487 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:13.488 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:45:13.489 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:45:13.490 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:45:13.491 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:45:13.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:45:13.494 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:13.495 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 00:45:13.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:45:13.497 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:45:13.628 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:45:13.667 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 26
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(ProviderType Type, ProviderConnectionConfig config, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 53
   at NaturalToQuery.Application.Services.SetupService.CreateProfileAsync(SetupRequest request, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 33
   at NaturalToQuery.Api.Controllers.Setup.CreateProfile.HandleAsync(SetupRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\CreateProfile.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:45:13.672 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:45:13.673 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" completed keep alive response.
2025-08-28 00:45:13.674 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:45:13.675 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:45:13.676 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:45:13.677 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 500 null application/json; charset=utf-8 221.8328ms
2025-08-28 00:46:26.762 +03:00 [DBG] Connection id "0HNF5MAU0M3NI" accepted.
2025-08-28 00:46:26.762 +03:00 [DBG] Connection id "0HNF5MAU0M3NI" received FIN.
2025-08-28 00:46:26.768 +03:00 [DBG] Connection id "0HNF5MAU0M3NI" started.
2025-08-28 00:46:26.768 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ" accepted.
2025-08-28 00:46:26.773 +03:00 [DBG] Connection id "0HNF5MAU0M3NI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:46:26.774 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ" started.
2025-08-28 00:46:26.774 +03:00 [DBG] Connection id "0HNF5MAU0M3NI" disconnecting.
2025-08-28 00:46:26.775 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 233
2025-08-28 00:46:26.776 +03:00 [DBG] Connection id "0HNF5MAU0M3NI" stopped.
2025-08-28 00:46:26.777 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:46:26.779 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:46:26.779 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:46:26.780 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ" completed keep alive response.
2025-08-28 00:46:26.781 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 5.7432ms
2025-08-28 00:46:26.781 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 233
2025-08-28 00:46:26.783 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ", Request id "0HNF5MAU0M3NJ:00000001": started reading request body.
2025-08-28 00:46:26.784 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:46:26.785 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ", Request id "0HNF5MAU0M3NJ:00000001": done reading request body.
2025-08-28 00:46:26.786 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:46:26.788 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:46:26.789 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:46:26.791 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000005": started reading request body.
2025-08-28 00:46:26.791 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000005": done reading request body.
2025-08-28 00:46:26.792 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:46:26.793 +03:00 [INF] Creating connection (Server=, Database=)
2025-08-28 00:46:41.876 +03:00 [DBG] failed to connect ConnectionString: Data Source=;Initial Catalog=;Integrated Security=True;Connect Timeout=15;Trust Server Certificate=True, 
2025-08-28 00:46:41.878 +03:00 [DBG] failed to connect to the configured connection string NaturalToQuery.Infrastructure.Providers.ProviderConnectionConfig
2025-08-28 00:46:42.019 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:46:42.108 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: failed to connect to the configured connection string Data Source=;Initial Catalog=;Integrated Security=True;Connect Timeout=15;Trust Server Certificate=True
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(ProviderType Type, ProviderConnectionConfig config, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 38
   at NaturalToQuery.Application.Services.SetupService.CreateProfileAsync(SetupRequest request, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 33
   at NaturalToQuery.Api.Controllers.Setup.CreateProfile.HandleAsync(SetupRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\CreateProfile.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:46:42.111 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:46:42.113 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" completed keep alive response.
2025-08-28 00:46:42.114 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:46:42.114 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 500 null application/json; charset=utf-8 15332.9444ms
2025-08-28 00:47:25.763 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 233
2025-08-28 00:47:25.765 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:47:25.766 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:47:25.767 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:47:25.768 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ" completed keep alive response.
2025-08-28 00:47:25.769 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 5.719ms
2025-08-28 00:47:25.792 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 233
2025-08-28 00:47:25.795 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ", Request id "0HNF5MAU0M3NJ:00000002": started reading request body.
2025-08-28 00:47:25.797 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:47:25.798 +03:00 [DBG] Connection id "0HNF5MAU0M3NJ", Request id "0HNF5MAU0M3NJ:00000002": done reading request body.
2025-08-28 00:47:25.798 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:47:25.800 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:47:25.802 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:47:25.803 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000006": started reading request body.
2025-08-28 00:47:25.804 +03:00 [DBG] Connection id "0HNF5MAU0M3NH", Request id "0HNF5MAU0M3NH:00000006": done reading request body.
2025-08-28 00:47:32.007 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:47:32.009 +03:00 [INF] Creating connection (Server=, Database=)
2025-08-28 00:47:47.139 +03:00 [DBG] failed to connect ConnectionString: Data Source=;Initial Catalog=;Integrated Security=True;Connect Timeout=15;Trust Server Certificate=True, 
2025-08-28 00:47:47.139 +03:00 [DBG] failed to connect to the configured connection string NaturalToQuery.Infrastructure.Providers.ProviderConnectionConfig
2025-08-28 00:47:47.270 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:47:47.353 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: failed to connect to the configured connection string Data Source=;Initial Catalog=;Integrated Security=True;Connect Timeout=15;Trust Server Certificate=True
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(ProviderType Type, ProviderConnectionConfig config, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 38
   at NaturalToQuery.Application.Services.SetupService.CreateProfileAsync(SetupRequest request, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 33
   at NaturalToQuery.Api.Controllers.Setup.CreateProfile.HandleAsync(SetupRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\CreateProfile.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:47:47.355 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:47:47.358 +03:00 [DBG] Connection id "0HNF5MAU0M3NH" completed keep alive response.
2025-08-28 00:47:47.359 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:47:47.360 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 500 null application/json; charset=utf-8 21588.4738ms
2025-08-28 00:48:08.162 +03:00 [INF] This is a test log to file!
2025-08-28 00:48:08.491 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:48:08.505 +03:00 [INF] API configured successfully.
2025-08-28 00:48:08.673 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:48:09.212 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:48:09.229 +03:00 [INF] Registered 6 endpoints in 943 milliseconds.
2025-08-28 00:48:09.236 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:48:09.238 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:48:09.239 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:48:09.274 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:48:09.326 +03:00 [DBG] Hosting starting
2025-08-28 00:48:09.342 +03:00 [DBG] Middleware loaded
2025-08-28 00:48:09.345 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:48:09.351 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:48:09.426 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:48:09.429 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:48:09.432 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:48:09.462 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:48:09.523 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:48:09.525 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:48:09.526 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:48:09.526 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:48:09.527 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:48:09.528 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:48:09.533 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:48:09.537 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:48:09.616 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:48:09.617 +03:00 [INF] Hosting environment: Development
2025-08-28 00:48:09.618 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:48:09.619 +03:00 [DBG] Hosting started
2025-08-28 00:48:14.086 +03:00 [DBG] Connection id "0HNF5MDMA1GTF" received FIN.
2025-08-28 00:48:14.091 +03:00 [DBG] Connection id "0HNF5MDMA1GTF" accepted.
2025-08-28 00:48:14.093 +03:00 [DBG] Connection id "0HNF5MDMA1GTF" started.
2025-08-28 00:48:14.095 +03:00 [DBG] Connection id "0HNF5MDMA1GTG" accepted.
2025-08-28 00:48:14.096 +03:00 [DBG] Connection id "0HNF5MDMA1GTG" started.
2025-08-28 00:48:14.100 +03:00 [DBG] Connection id "0HNF5MDMA1GTF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:48:14.103 +03:00 [DBG] Connection id "0HNF5MDMA1GTF" disconnecting.
2025-08-28 00:48:14.105 +03:00 [DBG] Connection id "0HNF5MDMA1GTF" stopped.
2025-08-28 00:48:14.117 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 233
2025-08-28 00:48:14.144 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:48:14.146 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:48:14.165 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 00:48:14.167 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:48:14.169 +03:00 [DBG] Connection id "0HNF5MDMA1GTG" completed keep alive response.
2025-08-28 00:48:14.171 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 57.6695ms
2025-08-28 00:48:14.171 +03:00 [DBG] Connection id "0HNF5MDMA1GTH" received FIN.
2025-08-28 00:48:14.171 +03:00 [DBG] Connection id "0HNF5MDMA1GTI" accepted.
2025-08-28 00:48:14.171 +03:00 [DBG] Connection id "0HNF5MDMA1GTH" accepted.
2025-08-28 00:48:14.180 +03:00 [DBG] Connection id "0HNF5MDMA1GTG", Request id "0HNF5MDMA1GTG:00000001": started reading request body.
2025-08-28 00:48:14.180 +03:00 [DBG] Connection id "0HNF5MDMA1GTI" started.
2025-08-28 00:48:14.181 +03:00 [DBG] Connection id "0HNF5MDMA1GTH" started.
2025-08-28 00:48:14.182 +03:00 [DBG] Connection id "0HNF5MDMA1GTG", Request id "0HNF5MDMA1GTG:00000001": done reading request body.
2025-08-28 00:48:14.183 +03:00 [DBG] Connection id "0HNF5MDMA1GTH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:48:14.185 +03:00 [DBG] Connection id "0HNF5MDMA1GTH" disconnecting.
2025-08-28 00:48:14.186 +03:00 [DBG] Connection id "0HNF5MDMA1GTH" stopped.
2025-08-28 00:48:14.209 +03:00 [DBG] Connection 0HNF5MDMA1GTI established using the following protocol: "Tls13"
2025-08-28 00:48:14.213 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 233
2025-08-28 00:48:14.217 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:48:14.218 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:48:14.221 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:48:14.255 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:48:14.292 +03:00 [DBG] Connection id "0HNF5MDMA1GTI", Request id "0HNF5MDMA1GTI:00000001": started reading request body.
2025-08-28 00:48:14.295 +03:00 [DBG] Connection id "0HNF5MDMA1GTI", Request id "0HNF5MDMA1GTI:00000001": done reading request body.
2025-08-28 00:48:14.319 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:48:14.328 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:48:14.583 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:48:14.604 +03:00 [DBG] Saved secret profile-01448ca1-61bd-4a13-82a8-b127857ef212 for provider "SqlServer"
2025-08-28 00:48:14.605 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:48:14.652 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-28 00:48:14.810 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:48:14.847 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:48:14.857 +03:00 [DBG] Created DbConnection. (11ms).
2025-08-28 00:48:14.860 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:48:14.877 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:48:14.879 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:48:14.886 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:48:14.893 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-28 00:48:14.904 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:48:14.920 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:48:14.927 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:48:14.933 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-28 00:48:14.937 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:48:14.941 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (4ms).
2025-08-28 00:48:15.137 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:48:15.240 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A profile for SqlServer already exists.
   at ProfileRepository.AddAsync(Profile profile, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Persistence\Repositories\ProfileRepository.cs:line 26
   at NaturalToQuery.Application.Services.ProfileService.CreateAsync(ProviderType Type, ProviderConnectionConfig config, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 53
   at NaturalToQuery.Application.Services.SetupService.CreateProfileAsync(SetupRequest request, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 33
   at NaturalToQuery.Api.Controllers.Setup.CreateProfile.HandleAsync(SetupRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\CreateProfile.cs:line 27
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:48:15.249 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:48:15.264 +03:00 [DBG] Connection id "0HNF5MDMA1GTI" completed keep alive response.
2025-08-28 00:48:15.267 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:48:15.270 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:48:15.273 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-28 00:48:15.276 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 500 null application/json; charset=utf-8 1062.8119ms
2025-08-28 00:49:37.587 +03:00 [INF] This is a test log to file!
2025-08-28 00:49:37.794 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:49:37.801 +03:00 [INF] API configured successfully.
2025-08-28 00:49:38.061 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:49:38.732 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:49:38.747 +03:00 [INF] Registered 6 endpoints in 1,098 milliseconds.
2025-08-28 00:49:38.756 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:49:38.758 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:49:38.759 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:49:38.794 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:49:38.851 +03:00 [DBG] Hosting starting
2025-08-28 00:49:38.865 +03:00 [DBG] Middleware loaded
2025-08-28 00:49:38.869 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:49:38.871 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:49:38.999 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:49:39.007 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:49:39.030 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:49:39.083 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:49:39.149 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:49:39.150 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:49:39.151 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:49:39.151 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:49:39.152 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:49:39.153 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:49:39.160 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:49:39.167 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:49:39.320 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:49:39.321 +03:00 [INF] Hosting environment: Development
2025-08-28 00:49:39.322 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:49:39.323 +03:00 [DBG] Hosting started
2025-08-28 00:49:46.313 +03:00 [DBG] Connection id "0HNF5MEHPIVJC" received FIN.
2025-08-28 00:49:46.318 +03:00 [DBG] Connection id "0HNF5MEHPIVJC" accepted.
2025-08-28 00:49:46.320 +03:00 [DBG] Connection id "0HNF5MEHPIVJC" started.
2025-08-28 00:49:46.322 +03:00 [DBG] Connection id "0HNF5MEHPIVJD" accepted.
2025-08-28 00:49:46.323 +03:00 [DBG] Connection id "0HNF5MEHPIVJD" started.
2025-08-28 00:49:46.327 +03:00 [DBG] Connection id "0HNF5MEHPIVJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:49:46.330 +03:00 [DBG] Connection id "0HNF5MEHPIVJC" disconnecting.
2025-08-28 00:49:46.332 +03:00 [DBG] Connection id "0HNF5MEHPIVJC" stopped.
2025-08-28 00:49:46.345 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null 0
2025-08-28 00:49:46.372 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:49:46.418 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-28 00:49:46.440 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 00:49:46.442 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'.
2025-08-28 00:49:46.444 +03:00 [DBG] Connection id "0HNF5MEHPIVJD" completed keep alive response.
2025-08-28 00:49:46.446 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 307 0 null 104.8367ms
2025-08-28 00:49:46.446 +03:00 [DBG] Connection id "0HNF5MEHPIVJE" accepted.
2025-08-28 00:49:46.446 +03:00 [DBG] Connection id "0HNF5MEHPIVJE" received FIN.
2025-08-28 00:49:46.446 +03:00 [DBG] Connection id "0HNF5MEHPIVJF" accepted.
2025-08-28 00:49:46.455 +03:00 [DBG] Connection id "0HNF5MEHPIVJE" started.
2025-08-28 00:49:46.456 +03:00 [DBG] Connection id "0HNF5MEHPIVJF" started.
2025-08-28 00:49:46.458 +03:00 [DBG] Connection id "0HNF5MEHPIVJE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:49:46.459 +03:00 [DBG] Connection id "0HNF5MEHPIVJE" disconnecting.
2025-08-28 00:49:46.460 +03:00 [DBG] Connection id "0HNF5MEHPIVJE" stopped.
2025-08-28 00:49:46.485 +03:00 [DBG] Connection 0HNF5MEHPIVJF established using the following protocol: "Tls13"
2025-08-28 00:49:46.490 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null 0
2025-08-28 00:49:46.493 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:49:46.494 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-28 00:49:46.497 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-28 00:49:46.498 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-28 00:49:46.501 +03:00 [DBG] Connection id "0HNF5MEHPIVJF" completed keep alive response.
2025-08-28 00:49:46.502 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 405 0 null 12.6461ms
2025-08-28 00:50:13.693 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null 0
2025-08-28 00:50:13.696 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:50:13.697 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-28 00:50:13.699 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'.
2025-08-28 00:50:13.700 +03:00 [DBG] Connection id "0HNF5MEHPIVJD" completed keep alive response.
2025-08-28 00:50:13.701 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 307 0 null 7.3951ms
2025-08-28 00:50:13.707 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null 0
2025-08-28 00:50:13.710 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:50:13.711 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-28 00:50:13.712 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-28 00:50:13.713 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-28 00:50:13.717 +03:00 [DBG] Connection id "0HNF5MEHPIVJF" completed keep alive response.
2025-08-28 00:50:13.719 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 405 0 null 12.0486ms
2025-08-28 00:50:27.060 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null null
2025-08-28 00:50:27.062 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:50:27.063 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:50:27.064 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:50:27.065 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'.
2025-08-28 00:50:27.066 +03:00 [DBG] Connection id "0HNF5MEHPIVJD" completed keep alive response.
2025-08-28 00:50:27.066 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 307 0 null 6.5873ms
2025-08-28 00:50:27.067 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null null
2025-08-28 00:50:27.070 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:50:27.070 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:50:27.072 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:50:27.073 +03:00 [INF] Executing endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:50:27.107 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:50:27.223 +03:00 [INF] Executed endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:50:27.265 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeInitializationException: The type initializer for 'FastEndpoints.RequestBinder`1' threw an exception.
 ---> System.NotSupportedException: Only request DTOs with publicly accessible properties are supported for request binding. Offending type: [System.Guid]
   at FastEndpoints.RequestBinder`1..cctor()
   --- End of inner exception stack trace ---
   at FastEndpoints.RequestBinder`1..ctor()
   at InvokeStub_RequestBinder`1..ctor(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at FastEndpoints.ServiceResolver.Resolve(Type typeOfService)
   at FastEndpoints.Endpoint`2.BindRequestAsync(EndpointDefinition def, HttpContext ctx, List`1 failures, CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:50:27.272 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:50:27.279 +03:00 [DBG] Connection id "0HNF5MEHPIVJF" completed keep alive response.
2025-08-28 00:50:27.286 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:50:27.289 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 500 null application/json; charset=utf-8 221.6809ms
2025-08-28 00:52:28.397 +03:00 [INF] This is a test log to file!
2025-08-28 00:52:28.609 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:52:28.618 +03:00 [INF] API configured successfully.
2025-08-28 00:52:28.842 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:52:29.358 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:52:29.371 +03:00 [INF] Registered 6 endpoints in 916 milliseconds.
2025-08-28 00:52:29.376 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:52:29.378 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:52:29.379 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:52:29.400 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:52:29.440 +03:00 [DBG] Hosting starting
2025-08-28 00:52:29.452 +03:00 [DBG] Middleware loaded
2025-08-28 00:52:29.455 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:52:29.457 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:52:29.515 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:52:29.517 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:52:29.520 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:52:29.550 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:52:29.592 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:52:29.594 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:52:29.594 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:52:29.595 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:52:29.596 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:52:29.596 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:52:29.601 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:52:29.606 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:52:29.688 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:52:29.689 +03:00 [INF] Hosting environment: Development
2025-08-28 00:52:29.690 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:52:29.691 +03:00 [DBG] Hosting started
2025-08-28 00:52:42.011 +03:00 [DBG] Connection id "0HNF5MG655NEH" received FIN.
2025-08-28 00:52:42.017 +03:00 [DBG] Connection id "0HNF5MG655NEH" accepted.
2025-08-28 00:52:42.018 +03:00 [DBG] Connection id "0HNF5MG655NEH" started.
2025-08-28 00:52:42.019 +03:00 [DBG] Connection id "0HNF5MG655NEI" accepted.
2025-08-28 00:52:42.021 +03:00 [DBG] Connection id "0HNF5MG655NEI" started.
2025-08-28 00:52:42.026 +03:00 [DBG] Connection id "0HNF5MG655NEH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:52:42.029 +03:00 [DBG] Connection id "0HNF5MG655NEH" disconnecting.
2025-08-28 00:52:42.032 +03:00 [DBG] Connection id "0HNF5MG655NEH" stopped.
2025-08-28 00:52:42.046 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null null
2025-08-28 00:52:42.074 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:52:42.076 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:52:42.079 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:52:42.100 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 00:52:42.103 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'.
2025-08-28 00:52:42.105 +03:00 [DBG] Connection id "0HNF5MG655NEI" completed keep alive response.
2025-08-28 00:52:42.107 +03:00 [DBG] Connection id "0HNF5MG655NEJ" accepted.
2025-08-28 00:52:42.107 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 307 0 null 64.3875ms
2025-08-28 00:52:42.107 +03:00 [DBG] Connection id "0HNF5MG655NEJ" received FIN.
2025-08-28 00:52:42.107 +03:00 [DBG] Connection id "0HNF5MG655NEK" accepted.
2025-08-28 00:52:42.154 +03:00 [DBG] Connection id "0HNF5MG655NEJ" started.
2025-08-28 00:52:42.160 +03:00 [DBG] Connection id "0HNF5MG655NEK" started.
2025-08-28 00:52:42.160 +03:00 [DBG] Connection id "0HNF5MG655NEJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:52:42.162 +03:00 [DBG] Connection id "0HNF5MG655NEJ" disconnecting.
2025-08-28 00:52:42.163 +03:00 [DBG] Connection id "0HNF5MG655NEJ" stopped.
2025-08-28 00:52:42.187 +03:00 [DBG] Connection 0HNF5MG655NEK established using the following protocol: "Tls13"
2025-08-28 00:52:42.191 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null null
2025-08-28 00:52:42.195 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:52:42.196 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:52:42.197 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:52:42.201 +03:00 [INF] Executing endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:52:42.245 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:52:42.285 +03:00 [INF] Removing profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:52:42.288 +03:00 [INF] Deleting profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:52:42.343 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 00:52:42.399 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 00:52:42.701 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:52:42.737 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:52:42.747 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-28 00:52:42.751 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:52:42.769 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:52:42.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:52:42.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:52:42.792 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-08-28 00:52:42.805 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:52:42.828 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:52:42.867 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:52:42.896 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:52:42.903 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 68ms reading results.
2025-08-28 00:52:42.907 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:52:42.911 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (4ms).
2025-08-28 00:52:42.933 +03:00 [DBG] Deleted secret profile-f885d427-c6f1-4470-bb5c-d46e824049bb for profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:52:42.936 +03:00 [DBG] Deleted cache directory C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer for profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:52:42.948 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:52:42.964 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:52:42.985 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:52:42.989 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:52:42.991 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:52:42.993 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:52:43.043 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:52:43.044 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:52:43.047 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:52:43.048 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:52:43.049 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:52:43.050 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Profiles"
WHERE "Id" = @p0
RETURNING 1;
2025-08-28 00:52:43.054 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Profiles"
WHERE "Id" = @p0
RETURNING 1;
2025-08-28 00:52:43.063 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:52:43.064 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-28 00:52:43.066 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:52:43.067 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:52:43.071 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:52:43.074 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:52:43.075 +03:00 [INF] Profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658" deleted successfully
2025-08-28 00:52:43.078 +03:00 [INF] Executed endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:52:43.080 +03:00 [DBG] Connection id "0HNF5MG655NEK" completed keep alive response.
2025-08-28 00:52:43.082 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:52:43.085 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:52:43.088 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-28 00:52:43.090 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 204 null null 898.3001ms
2025-08-28 00:53:55.683 +03:00 [INF] This is a test log to file!
2025-08-28 00:53:55.940 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:53:55.948 +03:00 [INF] API configured successfully.
2025-08-28 00:53:56.089 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:53:56.580 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:53:56.593 +03:00 [INF] Registered 6 endpoints in 832 milliseconds.
2025-08-28 00:53:56.599 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:53:56.607 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:53:56.609 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:53:56.641 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:53:56.685 +03:00 [DBG] Hosting starting
2025-08-28 00:53:56.696 +03:00 [DBG] Middleware loaded
2025-08-28 00:53:56.699 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:53:56.701 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:53:56.785 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:53:56.787 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:53:56.790 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:53:56.824 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:53:56.871 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:53:56.873 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:53:56.874 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:53:56.875 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:53:56.876 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:53:56.877 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:53:56.882 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:53:56.887 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:53:56.915 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:53:56.916 +03:00 [INF] Hosting environment: Development
2025-08-28 00:53:56.917 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:53:56.918 +03:00 [DBG] Hosting started
2025-08-28 00:54:11.304 +03:00 [INF] This is a test log to file!
2025-08-28 00:54:11.524 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:54:11.532 +03:00 [INF] API configured successfully.
2025-08-28 00:54:11.676 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:54:12.175 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:12.195 +03:00 [INF] Registered 6 endpoints in 815 milliseconds.
2025-08-28 00:54:12.201 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:12.203 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:54:12.203 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:54:12.227 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:54:12.274 +03:00 [DBG] Hosting starting
2025-08-28 00:54:12.288 +03:00 [DBG] Middleware loaded
2025-08-28 00:54:12.291 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:54:12.293 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:54:12.367 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:54:12.370 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:54:12.373 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:54:12.407 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:54:12.471 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:54:12.473 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:54:12.474 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:54:12.475 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:54:12.476 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:54:12.477 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:54:12.485 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:54:12.491 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:54:12.529 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:54:12.530 +03:00 [INF] Hosting environment: Development
2025-08-28 00:54:12.531 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:54:12.533 +03:00 [DBG] Hosting started
2025-08-28 00:54:14.588 +03:00 [DBG] Connection id "0HNF5MH1O1VKN" received FIN.
2025-08-28 00:54:14.594 +03:00 [DBG] Connection id "0HNF5MH1O1VKN" accepted.
2025-08-28 00:54:14.596 +03:00 [DBG] Connection id "0HNF5MH1O1VKN" started.
2025-08-28 00:54:14.597 +03:00 [DBG] Connection id "0HNF5MH1O1VKO" accepted.
2025-08-28 00:54:14.598 +03:00 [DBG] Connection id "0HNF5MH1O1VKO" started.
2025-08-28 00:54:14.603 +03:00 [DBG] Connection id "0HNF5MH1O1VKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:54:14.606 +03:00 [DBG] Connection id "0HNF5MH1O1VKN" disconnecting.
2025-08-28 00:54:14.608 +03:00 [DBG] Connection id "0HNF5MH1O1VKN" stopped.
2025-08-28 00:54:14.621 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null null
2025-08-28 00:54:14.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:54:14.650 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:54:14.652 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:14.672 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 00:54:14.674 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'.
2025-08-28 00:54:14.676 +03:00 [DBG] Connection id "0HNF5MH1O1VKO" completed keep alive response.
2025-08-28 00:54:14.678 +03:00 [DBG] Connection id "0HNF5MH1O1VKP" accepted.
2025-08-28 00:54:14.679 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ" accepted.
2025-08-28 00:54:14.679 +03:00 [DBG] Connection id "0HNF5MH1O1VKP" received FIN.
2025-08-28 00:54:14.678 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 307 0 null 60.5082ms
2025-08-28 00:54:14.683 +03:00 [DBG] Connection id "0HNF5MH1O1VKP" started.
2025-08-28 00:54:14.708 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ" started.
2025-08-28 00:54:14.712 +03:00 [DBG] Connection id "0HNF5MH1O1VKP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:54:14.714 +03:00 [DBG] Connection id "0HNF5MH1O1VKP" disconnecting.
2025-08-28 00:54:14.715 +03:00 [DBG] Connection id "0HNF5MH1O1VKP" stopped.
2025-08-28 00:54:14.738 +03:00 [DBG] Connection 0HNF5MH1O1VKQ established using the following protocol: "Tls13"
2025-08-28 00:54:14.741 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - null null
2025-08-28 00:54:14.745 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:54:14.746 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658'
2025-08-28 00:54:14.747 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:14.751 +03:00 [INF] Executing endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:14.787 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:14.815 +03:00 [INF] Removing profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:54:14.819 +03:00 [INF] Deleting profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658"
2025-08-28 00:54:14.862 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 00:54:14.895 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 00:54:15.102 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:54:15.139 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:54:15.150 +03:00 [DBG] Created DbConnection. (10ms).
2025-08-28 00:54:15.154 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:15.164 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:15.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:15.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-28 00:54:15.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-28 00:54:15.181 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:54:15.195 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:54:15.201 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:15.206 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 5ms reading results.
2025-08-28 00:54:15.210 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:15.213 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 00:54:15.215 +03:00 [WRN] Profile "e276ccc6-641e-4d9f-9ba9-26d12bc3b658" not found while attempting delete
2025-08-28 00:54:15.353 +03:00 [INF] Executed endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:15.399 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Profile not found
   at NaturalToQuery.Application.Services.ProfileService.RemoveAsync(Guid profileId, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileService.cs:line 67
   at NaturalToQuery.Application.Services.SetupService.RemoveProfileAsync(Guid ProfileId, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\SetupService.cs:line 39
   at NaturalToQuery.Api.Controllers.Setup.RemoveProfile.HandleAsync(RemoveProfileDto req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Setup\RemoveProfile.cs:line 29
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 00:54:15.411 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 00:54:15.419 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ" completed keep alive response.
2025-08-28 00:54:15.421 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:15.424 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:15.427 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:54:15.429 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/E276CCC6-641E-4D9F-9BA9-26D12BC3B658 - 500 null application/json; charset=utf-8 687.2862ms
2025-08-28 00:54:21.417 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 233
2025-08-28 00:54:21.420 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:54:21.422 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:21.424 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:54:21.425 +03:00 [DBG] Connection id "0HNF5MH1O1VKO" completed keep alive response.
2025-08-28 00:54:21.427 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 10.2192ms
2025-08-28 00:54:21.428 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 233
2025-08-28 00:54:21.430 +03:00 [DBG] Connection id "0HNF5MH1O1VKO", Request id "0HNF5MH1O1VKO:00000002": started reading request body.
2025-08-28 00:54:21.432 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:54:21.433 +03:00 [DBG] Connection id "0HNF5MH1O1VKO", Request id "0HNF5MH1O1VKO:00000002": done reading request body.
2025-08-28 00:54:21.434 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:21.436 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:21.451 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:21.486 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ", Request id "0HNF5MH1O1VKQ:00000002": started reading request body.
2025-08-28 00:54:21.487 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ", Request id "0HNF5MH1O1VKQ:00000002": done reading request body.
2025-08-28 00:54:21.517 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:54:21.525 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:54:21.810 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:54:21.832 +03:00 [DBG] Saved secret profile-5a1bba99-f2ea-489a-ac3c-34e0e12a3b01 for provider "SqlServer"
2025-08-28 00:54:21.833 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:54:21.844 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-28 00:54:21.851 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:54:21.856 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:54:21.857 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 00:54:21.858 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:21.859 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:21.860 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:21.861 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:54:21.863 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:54:21.864 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:54:21.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:54:21.869 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:21.870 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-28 00:54:21.872 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:21.873 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:54:21.898 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:21.939 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:21.945 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:21.956 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:21.961 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:21.963 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:21.963 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:22.014 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:22.016 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:22.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:22.020 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:54:22.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:54:22.022 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:54:22.028 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:54:22.033 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:22.035 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 4ms reading results.
2025-08-28 00:54:22.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:22.038 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:54:22.046 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:22.048 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:54:22.049 +03:00 [INF] Profile created successfully with Id "807ffa2d-3d11-4560-844b-b533244f21eb"
2025-08-28 00:54:22.059 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:22.066 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ" completed keep alive response.
2025-08-28 00:54:22.067 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:22.068 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:22.070 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:54:22.071 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 200 null application/json; charset=utf-8 642.993ms
2025-08-28 00:54:28.688 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb - null null
2025-08-28 00:54:28.691 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb'
2025-08-28 00:54:28.692 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb'
2025-08-28 00:54:28.693 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:28.694 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb'.
2025-08-28 00:54:28.694 +03:00 [DBG] Connection id "0HNF5MH1O1VKO" completed keep alive response.
2025-08-28 00:54:28.695 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb - 307 0 null 6.5751ms
2025-08-28 00:54:28.696 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb - null null
2025-08-28 00:54:28.699 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb'
2025-08-28 00:54:28.700 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb'
2025-08-28 00:54:28.701 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:28.702 +03:00 [INF] Executing endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:28.703 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:28.705 +03:00 [INF] Removing profile "807ffa2d-3d11-4560-844b-b533244f21eb"
2025-08-28 00:54:28.706 +03:00 [INF] Deleting profile "807ffa2d-3d11-4560-844b-b533244f21eb"
2025-08-28 00:54:28.710 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:54:28.711 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 00:54:28.712 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:28.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:28.713 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:28.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:54:28.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:54:28.716 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:54:28.718 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:54:28.723 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:28.728 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:28.729 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 10ms reading results.
2025-08-28 00:54:28.730 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:28.731 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:54:28.743 +03:00 [DBG] Deleted secret profile-5a1bba99-f2ea-489a-ac3c-34e0e12a3b01 for profile "807ffa2d-3d11-4560-844b-b533244f21eb"
2025-08-28 00:54:28.745 +03:00 [DBG] Deleted cache directory C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer for profile "807ffa2d-3d11-4560-844b-b533244f21eb"
2025-08-28 00:54:28.748 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:28.751 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:28.751 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:28.752 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:28.753 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:28.754 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:28.758 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:28.759 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:28.760 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:28.761 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:54:28.762 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:54:28.763 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Profiles"
WHERE "Id" = @p0
RETURNING 1;
2025-08-28 00:54:28.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Profiles"
WHERE "Id" = @p0
RETURNING 1;
2025-08-28 00:54:28.770 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:28.770 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 5ms reading results.
2025-08-28 00:54:28.771 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:28.772 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:54:28.775 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:28.776 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:54:28.777 +03:00 [INF] Profile "807ffa2d-3d11-4560-844b-b533244f21eb" deleted successfully
2025-08-28 00:54:28.780 +03:00 [INF] Executed endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:28.781 +03:00 [DBG] Connection id "0HNF5MH1O1VKQ" completed keep alive response.
2025-08-28 00:54:28.782 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:28.782 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:28.783 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:54:28.784 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/807ffa2d-3d11-4560-844b-b533244f21eb - 200 null application/json; charset=utf-8 88.7451ms
2025-08-28 00:54:43.066 +03:00 [INF] This is a test log to file!
2025-08-28 00:54:43.275 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 00:54:43.283 +03:00 [INF] API configured successfully.
2025-08-28 00:54:43.476 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 00:54:43.931 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:43.946 +03:00 [INF] Registered 6 endpoints in 822 milliseconds.
2025-08-28 00:54:43.957 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:43.960 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:54:43.962 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 00:54:43.995 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 00:54:44.055 +03:00 [DBG] Hosting starting
2025-08-28 00:54:44.080 +03:00 [DBG] Middleware loaded
2025-08-28 00:54:44.083 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 00:54:44.085 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 00:54:44.153 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 00:54:44.155 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 00:54:44.158 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 00:54:44.187 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 00:54:44.231 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 00:54:44.232 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 00:54:44.232 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 00:54:44.233 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 00:54:44.234 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 00:54:44.234 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 00:54:44.239 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:54:44.244 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 00:54:44.271 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 00:54:44.272 +03:00 [INF] Hosting environment: Development
2025-08-28 00:54:44.273 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 00:54:44.273 +03:00 [DBG] Hosting started
2025-08-28 00:54:44.530 +03:00 [DBG] Connection id "0HNF5MHALJMPH" received FIN.
2025-08-28 00:54:44.537 +03:00 [DBG] Connection id "0HNF5MHALJMPH" accepted.
2025-08-28 00:54:44.541 +03:00 [DBG] Connection id "0HNF5MHALJMPI" accepted.
2025-08-28 00:54:44.543 +03:00 [DBG] Connection id "0HNF5MHALJMPH" started.
2025-08-28 00:54:44.543 +03:00 [DBG] Connection id "0HNF5MHALJMPI" started.
2025-08-28 00:54:44.552 +03:00 [DBG] Connection id "0HNF5MHALJMPH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:54:44.567 +03:00 [DBG] Connection id "0HNF5MHALJMPH" disconnecting.
2025-08-28 00:54:44.590 +03:00 [DBG] Connection id "0HNF5MHALJMPH" stopped.
2025-08-28 00:54:44.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 233
2025-08-28 00:54:44.632 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:54:44.636 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:44.661 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 00:54:44.663 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 00:54:44.666 +03:00 [DBG] Connection id "0HNF5MHALJMPI" completed keep alive response.
2025-08-28 00:54:44.668 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 76.6511ms
2025-08-28 00:54:44.669 +03:00 [DBG] Connection id "0HNF5MHALJMPJ" received FIN.
2025-08-28 00:54:44.668 +03:00 [DBG] Connection id "0HNF5MHALJMPK" accepted.
2025-08-28 00:54:44.668 +03:00 [DBG] Connection id "0HNF5MHALJMPJ" accepted.
2025-08-28 00:54:44.680 +03:00 [DBG] Connection id "0HNF5MHALJMPK" started.
2025-08-28 00:54:44.680 +03:00 [DBG] Connection id "0HNF5MHALJMPI", Request id "0HNF5MHALJMPI:00000001": started reading request body.
2025-08-28 00:54:44.680 +03:00 [DBG] Connection id "0HNF5MHALJMPJ" started.
2025-08-28 00:54:44.683 +03:00 [DBG] Connection id "0HNF5MHALJMPI", Request id "0HNF5MHALJMPI:00000001": done reading request body.
2025-08-28 00:54:44.684 +03:00 [DBG] Connection id "0HNF5MHALJMPJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 00:54:44.685 +03:00 [DBG] Connection id "0HNF5MHALJMPJ" disconnecting.
2025-08-28 00:54:44.686 +03:00 [DBG] Connection id "0HNF5MHALJMPJ" stopped.
2025-08-28 00:54:44.716 +03:00 [DBG] Connection 0HNF5MHALJMPK established using the following protocol: "Tls13"
2025-08-28 00:54:44.720 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 233
2025-08-28 00:54:44.725 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 00:54:44.726 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:44.729 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:44.771 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:44.825 +03:00 [DBG] Connection id "0HNF5MHALJMPK", Request id "0HNF5MHALJMPK:00000001": started reading request body.
2025-08-28 00:54:44.827 +03:00 [DBG] Connection id "0HNF5MHALJMPK", Request id "0HNF5MHALJMPK:00000001": done reading request body.
2025-08-28 00:54:44.855 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 00:54:44.870 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:54:45.143 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 00:54:45.174 +03:00 [DBG] Saved secret profile-6c7874d7-2ece-459c-a3b4-d0a905249743 for provider "SqlServer"
2025-08-28 00:54:45.175 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 00:54:45.240 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-28 00:54:45.436 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:54:45.466 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:54:45.483 +03:00 [DBG] Created DbConnection. (16ms).
2025-08-28 00:54:45.496 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:45.519 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:45.523 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:45.531 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-28 00:54:45.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-28 00:54:45.543 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:54:45.557 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 00:54:45.564 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:45.569 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 6ms reading results.
2025-08-28 00:54:45.572 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:45.576 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 00:54:45.606 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:45.656 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:45.660 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:45.683 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:45.689 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:45.691 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:45.692 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:45.739 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:45.741 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:45.744 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:45.745 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:54:45.746 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 00:54:45.748 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:54:45.754 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 00:54:45.757 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:45.758 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 00:54:45.760 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:45.761 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:54:45.768 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:45.770 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:54:45.771 +03:00 [INF] Profile created successfully with Id "408d8af0-dd65-4cd7-aefe-8dd23b16e1fa"
2025-08-28 00:54:45.781 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 00:54:45.786 +03:00 [DBG] Connection id "0HNF5MHALJMPK" completed keep alive response.
2025-08-28 00:54:45.787 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:45.791 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:45.794 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-28 00:54:45.798 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 200 null application/json; charset=utf-8 1078.1863ms
2025-08-28 00:54:52.958 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa - null null
2025-08-28 00:54:52.960 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa'
2025-08-28 00:54:52.962 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa'
2025-08-28 00:54:52.963 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:52.965 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa'.
2025-08-28 00:54:52.967 +03:00 [DBG] Connection id "0HNF5MHALJMPI" completed keep alive response.
2025-08-28 00:54:52.969 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa - 307 0 null 11.0101ms
2025-08-28 00:54:52.971 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa - null null
2025-08-28 00:54:52.974 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa'
2025-08-28 00:54:52.975 +03:00 [DBG] Endpoint 'HTTP: DELETE api/setup/profile/{id}' with route pattern 'api/setup/profile/{id}' is valid for the request path '/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa'
2025-08-28 00:54:52.977 +03:00 [DBG] Request matched endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:52.978 +03:00 [INF] Executing endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:52.996 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 00:54:53.007 +03:00 [INF] Removing profile "408d8af0-dd65-4cd7-aefe-8dd23b16e1fa"
2025-08-28 00:54:53.010 +03:00 [INF] Deleting profile "408d8af0-dd65-4cd7-aefe-8dd23b16e1fa"
2025-08-28 00:54:53.025 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 00:54:53.040 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 00:54:53.130 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 00:54:53.138 +03:00 [DBG] Creating DbConnection.
2025-08-28 00:54:53.139 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 00:54:53.140 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:53.140 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:53.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:53.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:54:53.143 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:54:53.144 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:54:53.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 00:54:53.151 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:53.155 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:53.157 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 10ms reading results.
2025-08-28 00:54:53.158 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:53.158 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:54:53.169 +03:00 [DBG] Deleted secret profile-6c7874d7-2ece-459c-a3b4-d0a905249743 for profile "408d8af0-dd65-4cd7-aefe-8dd23b16e1fa"
2025-08-28 00:54:53.170 +03:00 [DBG] Deleted cache directory C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer for profile "408d8af0-dd65-4cd7-aefe-8dd23b16e1fa"
2025-08-28 00:54:53.172 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:53.175 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:53.176 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:53.177 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:53.177 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 00:54:53.178 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 00:54:53.183 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:53.184 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:53.185 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 00:54:53.186 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 00:54:53.187 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 00:54:53.188 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Profiles"
WHERE "Id" = @p0
RETURNING 1;
2025-08-28 00:54:53.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Profiles"
WHERE "Id" = @p0
RETURNING 1;
2025-08-28 00:54:53.194 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:53.195 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 4ms reading results.
2025-08-28 00:54:53.196 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 00:54:53.197 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 00:54:53.200 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 00:54:53.202 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 00:54:53.203 +03:00 [INF] Profile "408d8af0-dd65-4cd7-aefe-8dd23b16e1fa" deleted successfully
2025-08-28 00:54:53.205 +03:00 [INF] Executed endpoint 'HTTP: DELETE api/setup/profile/{id}'
2025-08-28 00:54:53.206 +03:00 [DBG] Connection id "0HNF5MHALJMPK" completed keep alive response.
2025-08-28 00:54:53.207 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 00:54:53.208 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 00:54:53.209 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 00:54:53.210 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7202/api/setup/profile/408d8af0-dd65-4cd7-aefe-8dd23b16e1fa - 200 null application/json; charset=utf-8 239.0214ms
2025-08-28 01:18:00.641 +03:00 [INF] This is a test log to file!
2025-08-28 01:18:01.153 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 01:18:01.165 +03:00 [INF] API configured successfully.
2025-08-28 01:18:01.403 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 01:18:02.090 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:18:02.146 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:18:02.155 +03:00 [INF] Registered 10 endpoints in 1,350 milliseconds.
2025-08-28 01:18:02.161 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:18:02.164 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:18:02.164 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:18:02.199 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 01:18:02.246 +03:00 [DBG] Hosting starting
2025-08-28 01:18:02.261 +03:00 [DBG] Middleware loaded
2025-08-28 01:18:02.264 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 01:18:02.266 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 01:18:02.351 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 01:18:02.353 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 01:18:02.355 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 01:18:02.402 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 01:18:02.449 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 01:18:02.451 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 01:18:02.451 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 01:18:02.452 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 01:18:02.453 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 01:18:02.453 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 01:18:02.459 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:18:02.466 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:18:02.495 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 01:18:02.496 +03:00 [INF] Hosting environment: Development
2025-08-28 01:18:02.496 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 01:18:02.497 +03:00 [DBG] Hosting started
2025-08-28 01:18:16.503 +03:00 [INF] This is a test log to file!
2025-08-28 01:18:16.762 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 01:18:16.773 +03:00 [INF] API configured successfully.
2025-08-28 01:18:16.904 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 01:18:17.314 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:18:17.340 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:18:17.348 +03:00 [INF] Registered 10 endpoints in 777 milliseconds.
2025-08-28 01:18:17.355 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:18:17.356 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:18:17.357 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:18:17.383 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 01:18:17.414 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 01:18:17.417 +03:00 [DBG] Hosting starting
2025-08-28 01:18:17.429 +03:00 [DBG] Middleware loaded
2025-08-28 01:18:17.432 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 01:18:17.434 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 01:18:17.514 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 01:18:17.515 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 01:18:17.517 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 01:18:17.542 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 01:18:17.579 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 01:18:17.580 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 01:18:17.581 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 01:18:17.582 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 01:18:17.582 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 01:18:17.583 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 01:18:17.588 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:18:17.593 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:18:17.677 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 01:18:17.678 +03:00 [INF] Hosting environment: Development
2025-08-28 01:18:17.679 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 01:18:17.680 +03:00 [DBG] Hosting started
2025-08-28 01:18:55.427 +03:00 [DBG] Connection id "0HNF5MUR2EA95" received FIN.
2025-08-28 01:18:55.441 +03:00 [DBG] Connection id "0HNF5MUR2EA95" accepted.
2025-08-28 01:18:55.450 +03:00 [DBG] Connection id "0HNF5MUR2EA95" started.
2025-08-28 01:18:55.451 +03:00 [DBG] Connection id "0HNF5MUR2EA96" accepted.
2025-08-28 01:18:55.452 +03:00 [DBG] Connection id "0HNF5MUR2EA96" started.
2025-08-28 01:18:55.463 +03:00 [DBG] Connection id "0HNF5MUR2EA95" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:18:55.466 +03:00 [DBG] Connection id "0HNF5MUR2EA95" disconnecting.
2025-08-28 01:18:55.468 +03:00 [DBG] Connection id "0HNF5MUR2EA95" stopped.
2025-08-28 01:18:55.507 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup/profile - application/json 233
2025-08-28 01:18:55.577 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 01:18:55.579 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 01:18:55.608 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 01:18:55.612 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/setup/profile'.
2025-08-28 01:18:55.621 +03:00 [DBG] Connection id "0HNF5MUR2EA96" completed keep alive response.
2025-08-28 01:18:55.624 +03:00 [DBG] Connection id "0HNF5MUR2EA97" accepted.
2025-08-28 01:18:55.624 +03:00 [DBG] Connection id "0HNF5MUR2EA98" accepted.
2025-08-28 01:18:55.624 +03:00 [DBG] Connection id "0HNF5MUR2EA97" received FIN.
2025-08-28 01:18:55.630 +03:00 [DBG] Connection id "0HNF5MUR2EA97" started.
2025-08-28 01:18:55.630 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup/profile - 307 0 null 130.4221ms
2025-08-28 01:18:55.631 +03:00 [DBG] Connection id "0HNF5MUR2EA98" started.
2025-08-28 01:18:55.633 +03:00 [DBG] Connection id "0HNF5MUR2EA97" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:18:55.637 +03:00 [DBG] Connection id "0HNF5MUR2EA97" disconnecting.
2025-08-28 01:18:55.638 +03:00 [DBG] Connection id "0HNF5MUR2EA96", Request id "0HNF5MUR2EA96:00000001": started reading request body.
2025-08-28 01:18:55.638 +03:00 [DBG] Connection id "0HNF5MUR2EA97" stopped.
2025-08-28 01:18:55.639 +03:00 [DBG] Connection id "0HNF5MUR2EA96", Request id "0HNF5MUR2EA96:00000001": done reading request body.
2025-08-28 01:18:55.680 +03:00 [DBG] Connection 0HNF5MUR2EA98 established using the following protocol: "Tls13"
2025-08-28 01:18:55.683 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/setup/profile - application/json 233
2025-08-28 01:18:55.687 +03:00 [DBG] 1 candidate(s) found for the request path '/api/setup/profile'
2025-08-28 01:18:55.688 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/setup/profile'
2025-08-28 01:18:55.691 +03:00 [INF] Executing endpoint 'HTTP: POST api/setup/profile'
2025-08-28 01:18:55.731 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:18:55.788 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000001": started reading request body.
2025-08-28 01:18:55.791 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000001": done reading request body.
2025-08-28 01:18:55.885 +03:00 [INF] Creating profile for provider "SqlServer"
2025-08-28 01:18:55.900 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:18:56.376 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:18:56.402 +03:00 [DBG] Saved secret profile-188401fb-ee5c-4002-986c-6360d262e9ee for provider "SqlServer"
2025-08-28 01:18:56.403 +03:00 [DBG] Generated profile name SqlServer - ProductInventory with cache dir C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer
2025-08-28 01:18:56.470 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-28 01:18:56.642 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 01:18:56.679 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:18:56.688 +03:00 [DBG] Created DbConnection. (10ms).
2025-08-28 01:18:56.692 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:18:56.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:18:56.715 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:18:56.721 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-28 01:18:56.726 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-28 01:18:56.733 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 01:18:56.752 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 01:18:56.759 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:18:56.765 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 7ms reading results.
2025-08-28 01:18:56.768 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:18:56.771 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 01:18:56.800 +03:00 [DBG] 'ProfilesDbContext' generated a value for the property 'Profile.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:18:56.850 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:18:56.856 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 01:18:56.871 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 01:18:56.875 +03:00 [DBG] SaveChanges starting for 'ProfilesDbContext'.
2025-08-28 01:18:56.876 +03:00 [DBG] DetectChanges starting for 'ProfilesDbContext'.
2025-08-28 01:18:56.877 +03:00 [DBG] DetectChanges completed for 'ProfilesDbContext'.
2025-08-28 01:18:56.921 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:18:56.923 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:18:56.925 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:18:56.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:18:56.927 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:18:56.928 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 01:18:56.938 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 49), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 28), @p4='?' (DbType = Int32), @p5='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("Id", "CacheFile", "CreatedUtc", "Name", "Provider", "SecretRef")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-28 01:18:56.942 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:18:56.943 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:18:56.944 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:18:56.946 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:18:56.952 +03:00 [DBG] An entity of type 'Profile' tracked by 'ProfilesDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:18:56.954 +03:00 [DBG] SaveChanges completed for 'ProfilesDbContext' with 1 entities written to the database.
2025-08-28 01:18:56.955 +03:00 [INF] Profile created successfully with Id "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:18:56.970 +03:00 [INF] Executed endpoint 'HTTP: POST api/setup/profile'
2025-08-28 01:18:56.973 +03:00 [DBG] Connection id "0HNF5MUR2EA98" completed keep alive response.
2025-08-28 01:18:56.975 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:18:56.978 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:18:56.980 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:18:56.982 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/setup/profile - 200 null application/json; charset=utf-8 1298.2235ms
2025-08-28 01:21:01.449 +03:00 [DBG] Connection id "0HNF5MUR2EA99" received FIN.
2025-08-28 01:21:01.451 +03:00 [DBG] Connection id "0HNF5MUR2EA99" accepted.
2025-08-28 01:21:01.476 +03:00 [DBG] Connection id "0HNF5MUR2EA99" started.
2025-08-28 01:21:01.477 +03:00 [DBG] Connection id "0HNF5MUR2EA9A" accepted.
2025-08-28 01:21:01.481 +03:00 [DBG] Connection id "0HNF5MUR2EA99" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:21:01.482 +03:00 [DBG] Connection id "0HNF5MUR2EA9A" started.
2025-08-28 01:21:01.483 +03:00 [DBG] Connection id "0HNF5MUR2EA99" disconnecting.
2025-08-28 01:21:01.484 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 79
2025-08-28 01:21:01.484 +03:00 [DBG] Connection id "0HNF5MUR2EA99" stopped.
2025-08-28 01:21:01.486 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:01.489 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:01.490 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:01.492 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:21:01.493 +03:00 [DBG] Connection id "0HNF5MUR2EA9A" completed keep alive response.
2025-08-28 01:21:01.494 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 9.7427ms
2025-08-28 01:21:01.496 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000001": started reading request body.
2025-08-28 01:21:01.496 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 79
2025-08-28 01:21:01.497 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000001": done reading request body.
2025-08-28 01:21:01.500 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:01.501 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:01.502 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:01.504 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:01.528 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:21:01.531 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:21:01.546 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000002": started reading request body.
2025-08-28 01:21:01.547 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000002": done reading request body.
2025-08-28 01:21:01.581 +03:00 [INF] Converting NL to SQL for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:01.588 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 01:21:01.600 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 01:21:01.698 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 01:21:01.707 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:21:01.708 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:21:01.708 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:01.709 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:01.710 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:21:01.712 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:21:01.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:21:01.714 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:01.721 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:01.729 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:21:01.734 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:01.734 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 12ms reading results.
2025-08-28 01:21:01.736 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:01.737 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:21:01.740 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:01.744 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:01.745 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:01.746 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:21:01.747 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:21:01.748 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:21:01.749 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:01.750 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:01.752 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:01.753 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:21:01.755 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:01.755 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:21:01.773 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:01.774 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=false
2025-08-28 01:21:01.776 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-08-28 01:21:01.789 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:21:01.792 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:21:01.897 +03:00 [INF] Loaded 3 tables
2025-08-28 01:21:02.089 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 01:21:02.173 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 01:21:02.175 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 01:21:02.349 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:02.458 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userQuery')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrWhiteSpaceException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrWhiteSpace(String argument, String paramName)
   at NaturalToQuery.Infrastructure.LLM.GroqService.ConvertToSqlAsync(String schema, String userQuery, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\LLM\GroqService.cs:line 46
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ConvertNaturalLanguageAsync(Guid profileId, String naturalLanguage, ExecutionMode Mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 41
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ExecuteQueryAsync(Guid profileId, String naturalLanguage, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 50
   at NaturalToQuery.Api.Controllers.Query.ExecuteQuery.HandleAsync(ExecuteQueryRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Query\ExecuteQuery.cs:line 30
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 01:21:02.476 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 01:21:02.483 +03:00 [DBG] Connection id "0HNF5MUR2EA98" completed keep alive response.
2025-08-28 01:21:02.484 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:21:02.485 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:02.486 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:21:02.488 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 500 null application/json; charset=utf-8 991.7706ms
2025-08-28 01:21:16.615 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 79
2025-08-28 01:21:16.618 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:16.618 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:16.619 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:16.620 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:21:16.621 +03:00 [DBG] Connection id "0HNF5MUR2EA9A" completed keep alive response.
2025-08-28 01:21:16.622 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 6.8969ms
2025-08-28 01:21:16.622 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 79
2025-08-28 01:21:16.624 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000002": started reading request body.
2025-08-28 01:21:16.626 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:16.627 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000002": done reading request body.
2025-08-28 01:21:16.628 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:21:16.629 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:16.631 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:16.632 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:21:16.634 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:21:16.635 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000003": started reading request body.
2025-08-28 01:21:16.636 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000003": done reading request body.
2025-08-28 01:21:16.637 +03:00 [INF] Converting NL to SQL for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:16.640 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:21:16.640 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:21:16.641 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:16.642 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:16.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:21:16.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:21:16.645 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:21:16.646 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:16.648 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:16.650 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:21:16.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:16.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:21:16.653 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:16.654 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:21:16.656 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:16.657 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:16.658 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:16.659 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:21:16.660 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:21:16.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:21:16.662 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:16.663 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:16.665 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:16.666 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:21:16.667 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:16.668 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:21:16.670 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:16.671 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=false
2025-08-28 01:21:16.672 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-08-28 01:21:16.704 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-08-28 01:21:16.867 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:21:16.966 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userQuery')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrWhiteSpaceException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrWhiteSpace(String argument, String paramName)
   at NaturalToQuery.Infrastructure.LLM.GroqService.ConvertToSqlAsync(String schema, String userQuery, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\LLM\GroqService.cs:line 46
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ConvertNaturalLanguageAsync(Guid profileId, String naturalLanguage, ExecutionMode Mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 41
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ExecuteQueryAsync(Guid profileId, String naturalLanguage, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 50
   at NaturalToQuery.Api.Controllers.Query.ExecuteQuery.HandleAsync(ExecuteQueryRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Query\ExecuteQuery.cs:line 30
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 01:21:16.970 +03:00 [ERR] Unhandled exception occurred.
2025-08-28 01:21:16.972 +03:00 [DBG] Connection id "0HNF5MUR2EA98" completed keep alive response.
2025-08-28 01:21:16.972 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:21:16.973 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:16.974 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:21:16.975 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 500 null application/json; charset=utf-8 353.2362ms
2025-08-28 01:21:24.678 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - application/json 79
2025-08-28 01:21:24.680 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:24.681 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:24.683 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:24.684 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'.
2025-08-28 01:21:24.685 +03:00 [DBG] Connection id "0HNF5MUR2EA9A" completed keep alive response.
2025-08-28 01:21:24.686 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - 307 0 null 7.9742ms
2025-08-28 01:21:24.686 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - application/json 79
2025-08-28 01:21:24.688 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000003": started reading request body.
2025-08-28 01:21:24.690 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:24.691 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000003": done reading request body.
2025-08-28 01:21:24.691 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:24.693 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:24.694 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:24.695 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:21:24.697 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:21:24.702 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000004": started reading request body.
2025-08-28 01:21:24.702 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000004": done reading request body.
2025-08-28 01:21:24.894 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:24.895 +03:00 [DBG] Connection id "0HNF5MUR2EA98" completed keep alive response.
2025-08-28 01:21:24.896 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:21:24.897 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - 400 null application/problem+json; charset=utf-8 211.5562ms
2025-08-28 01:21:37.743 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - application/json 77
2025-08-28 01:21:37.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:37.747 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:37.749 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:37.750 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'.
2025-08-28 01:21:37.751 +03:00 [DBG] Connection id "0HNF5MUR2EA9A" completed keep alive response.
2025-08-28 01:21:37.751 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - 307 0 null 8.4876ms
2025-08-28 01:21:37.752 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - application/json 77
2025-08-28 01:21:37.754 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000004": started reading request body.
2025-08-28 01:21:37.755 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:37.756 +03:00 [DBG] Connection id "0HNF5MUR2EA9A", Request id "0HNF5MUR2EA9A:00000004": done reading request body.
2025-08-28 01:21:37.757 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/convert' with route pattern 'api/query/{profileId}/convert' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert'
2025-08-28 01:21:37.758 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:37.759 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:37.760 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:21:37.762 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:21:37.763 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000005": started reading request body.
2025-08-28 01:21:37.763 +03:00 [DBG] Connection id "0HNF5MUR2EA98", Request id "0HNF5MUR2EA98:00000005": done reading request body.
2025-08-28 01:21:37.765 +03:00 [INF] Converting NL to SQL for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:37.766 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:21:37.767 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:21:37.767 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:37.768 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:37.769 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:21:37.769 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:21:37.770 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:21:37.771 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:37.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:37.774 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:21:37.775 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:37.775 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:21:37.776 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:37.777 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:21:37.779 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:37.779 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:37.780 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:37.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:21:37.782 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:21:37.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:21:37.783 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:37.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:21:37.786 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:37.787 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 01:21:37.788 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:21:37.788 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:21:37.789 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:21:37.790 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=false
2025-08-28 01:21:37.791 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-08-28 01:21:37.792 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-08-28 01:21:37.793 +03:00 [INF] Converting natural language to SQL. User query: show all the products
2025-08-28 01:21:37.795 +03:00 [DBG] Generated prompt with system message, 2 examples, and user query
2025-08-28 01:21:37.795 +03:00 [DBG] Generated prompt with 6 messages
2025-08-28 01:21:37.802 +03:00 [DBG] Request payload prepared for Groq API
2025-08-28 01:21:38.939 +03:00 [INF] Groq API responded with status: "OK"
2025-08-28 01:21:38.947 +03:00 [INF] Successfully converted natural language to SQL query
2025-08-28 01:21:38.950 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/convert'
2025-08-28 01:21:38.952 +03:00 [DBG] Connection id "0HNF5MUR2EA98" completed keep alive response.
2025-08-28 01:21:38.954 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:21:38.956 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:21:38.956 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:21:38.957 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/convert - 200 null application/json; charset=utf-8 1205.512ms
2025-08-28 01:36:09.824 +03:00 [INF] This is a test log to file!
2025-08-28 01:36:10.011 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 01:36:10.018 +03:00 [INF] API configured successfully.
2025-08-28 01:36:10.177 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 01:36:10.592 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:36:10.623 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:36:10.631 +03:00 [INF] Registered 10 endpoints in 749 milliseconds.
2025-08-28 01:36:10.638 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:36:10.640 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:36:10.640 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:36:10.666 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 01:36:10.700 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 01:36:10.702 +03:00 [DBG] Hosting starting
2025-08-28 01:36:10.724 +03:00 [DBG] Middleware loaded
2025-08-28 01:36:10.735 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 01:36:10.748 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 01:36:10.835 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 01:36:10.837 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 01:36:10.840 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 01:36:10.873 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 01:36:10.937 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 01:36:10.938 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 01:36:10.939 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 01:36:10.939 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 01:36:10.940 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 01:36:10.940 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 01:36:10.946 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:36:10.951 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:36:11.039 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 01:36:11.040 +03:00 [INF] Hosting environment: Development
2025-08-28 01:36:11.041 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 01:36:11.042 +03:00 [DBG] Hosting started
2025-08-28 01:38:07.779 +03:00 [DBG] Connection id "0HNF5N9IG42K1" received FIN.
2025-08-28 01:38:07.789 +03:00 [DBG] Connection id "0HNF5N9IG42K1" accepted.
2025-08-28 01:38:07.814 +03:00 [DBG] Connection id "0HNF5N9IG42K1" started.
2025-08-28 01:38:07.837 +03:00 [DBG] Connection id "0HNF5N9IG42K2" accepted.
2025-08-28 01:38:07.838 +03:00 [DBG] Connection id "0HNF5N9IG42K2" started.
2025-08-28 01:38:07.843 +03:00 [DBG] Connection id "0HNF5N9IG42K1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:38:07.846 +03:00 [DBG] Connection id "0HNF5N9IG42K1" disconnecting.
2025-08-28 01:38:07.848 +03:00 [DBG] Connection id "0HNF5N9IG42K1" stopped.
2025-08-28 01:38:07.864 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 290
2025-08-28 01:38:07.920 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:07.922 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:07.924 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:07.945 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 01:38:07.947 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:38:07.949 +03:00 [DBG] Connection id "0HNF5N9IG42K2" completed keep alive response.
2025-08-28 01:38:07.952 +03:00 [DBG] Connection id "0HNF5N9IG42K3" accepted.
2025-08-28 01:38:07.952 +03:00 [DBG] Connection id "0HNF5N9IG42K3" received FIN.
2025-08-28 01:38:07.952 +03:00 [DBG] Connection id "0HNF5N9IG42K4" accepted.
2025-08-28 01:38:07.998 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 92.0683ms
2025-08-28 01:38:07.998 +03:00 [DBG] Connection id "0HNF5N9IG42K3" started.
2025-08-28 01:38:08.001 +03:00 [DBG] Connection id "0HNF5N9IG42K4" started.
2025-08-28 01:38:08.006 +03:00 [DBG] Connection id "0HNF5N9IG42K3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:38:08.006 +03:00 [DBG] Connection id "0HNF5N9IG42K2", Request id "0HNF5N9IG42K2:00000001": started reading request body.
2025-08-28 01:38:08.008 +03:00 [DBG] Connection id "0HNF5N9IG42K3" disconnecting.
2025-08-28 01:38:08.009 +03:00 [DBG] Connection id "0HNF5N9IG42K2", Request id "0HNF5N9IG42K2:00000001": done reading request body.
2025-08-28 01:38:08.009 +03:00 [DBG] Connection id "0HNF5N9IG42K3" stopped.
2025-08-28 01:38:08.034 +03:00 [DBG] Connection 0HNF5N9IG42K4 established using the following protocol: "Tls13"
2025-08-28 01:38:08.037 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 290
2025-08-28 01:38:08.040 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:08.041 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:08.043 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:08.046 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:08.082 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:38:08.085 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:38:08.125 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000001": started reading request body.
2025-08-28 01:38:08.128 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000001": done reading request body.
2025-08-28 01:38:08.340 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:08.342 +03:00 [DBG] Connection id "0HNF5N9IG42K4" completed keep alive response.
2025-08-28 01:38:08.344 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:38:08.346 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 400 null application/problem+json; charset=utf-8 309.2693ms
2025-08-28 01:38:15.463 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:38:15.465 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:15.466 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:15.467 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:15.469 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:38:15.470 +03:00 [DBG] Connection id "0HNF5N9IG42K2" completed keep alive response.
2025-08-28 01:38:15.471 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 8.1834ms
2025-08-28 01:38:15.472 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:38:15.473 +03:00 [DBG] Connection id "0HNF5N9IG42K2", Request id "0HNF5N9IG42K2:00000002": started reading request body.
2025-08-28 01:38:15.475 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:15.476 +03:00 [DBG] Connection id "0HNF5N9IG42K2", Request id "0HNF5N9IG42K2:00000002": done reading request body.
2025-08-28 01:38:15.477 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:38:15.479 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:15.480 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:15.490 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:38:15.492 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:38:15.493 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000002": started reading request body.
2025-08-28 01:38:15.494 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000002": done reading request body.
2025-08-28 01:38:15.548 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 01:38:15.594 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 01:38:15.795 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 01:38:15.822 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:38:15.831 +03:00 [DBG] Created DbConnection. (8ms).
2025-08-28 01:38:15.835 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:38:15.845 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:38:15.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:38:15.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-28 01:38:15.858 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-28 01:38:15.863 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:38:15.877 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:38:15.910 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:38:15.934 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:38:15.939 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 56ms reading results.
2025-08-28 01:38:15.943 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:38:15.947 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 01:38:15.955 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:38:15.958 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:38:15.959 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:38:15.960 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:38:15.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:38:15.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:38:15.962 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:38:15.964 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:38:15.966 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:38:15.967 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:38:15.968 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:38:15.969 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:38:15.979 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:38:15.992 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:38:16.004 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:38:16.005 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:38:16.007 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:38:16.232 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:38:16.279 +03:00 [ERR] SQL execution failed after 272 ms
2025-08-28 01:38:16.502 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:38:16.628 +03:00 [ERR] An unhandled exception has occurred while executing the request.
NaturalToQuery.Core.Exceptions.DbExecutionException: Error executing SQL command.
 ---> System.Reflection.TargetParameterCountException: Parameter count mismatch.
   at System.Reflection.MethodBaseInvoker.ThrowTargetParameterCountException()
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.PropertyInfo.GetValue(Object obj)
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.AddParameters(DbCommand cmd, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 726
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteQuery(DbConnection conn, String sql, Object parameters, CancellationToken ct, Stopwatch sw) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 615
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 585
   --- End of inner exception stack trace ---
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 601
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteAsync(ProviderConnectionConfig config, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 179
   at NaturalToQuery.Application.Services.ProfileDbService.ExecuteAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileDbService.cs:line 32
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ExecuteQueryAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 79
   at NaturalToQuery.Api.Controllers.Query.ExecuteQuery.HandleAsync(ExecuteQueryRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Query\ExecuteQuery.cs:line 30
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 01:38:16.639 +03:00 [ERR] Error occurred.
2025-08-28 01:38:16.648 +03:00 [DBG] Connection id "0HNF5N9IG42K4" completed keep alive response.
2025-08-28 01:38:16.649 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:38:16.651 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:38:16.652 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:38:16.654 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 500 null application/json; charset=utf-8 1182.1448ms
2025-08-28 01:39:19.875 +03:00 [DBG] Connection id "0HNF5N9IG42K5" received FIN.
2025-08-28 01:39:19.877 +03:00 [DBG] Connection id "0HNF5N9IG42K5" accepted.
2025-08-28 01:39:19.883 +03:00 [DBG] Connection id "0HNF5N9IG42K5" started.
2025-08-28 01:39:19.884 +03:00 [DBG] Connection id "0HNF5N9IG42K6" accepted.
2025-08-28 01:39:19.890 +03:00 [DBG] Connection id "0HNF5N9IG42K5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:39:19.891 +03:00 [DBG] Connection id "0HNF5N9IG42K6" started.
2025-08-28 01:39:19.892 +03:00 [DBG] Connection id "0HNF5N9IG42K5" disconnecting.
2025-08-28 01:39:19.893 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:39:19.894 +03:00 [DBG] Connection id "0HNF5N9IG42K5" stopped.
2025-08-28 01:39:19.895 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:19.897 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:19.898 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:19.898 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:39:19.899 +03:00 [DBG] Connection id "0HNF5N9IG42K6" completed keep alive response.
2025-08-28 01:39:19.900 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 7.2731ms
2025-08-28 01:39:19.901 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:39:19.902 +03:00 [DBG] Connection id "0HNF5N9IG42K6", Request id "0HNF5N9IG42K6:00000001": started reading request body.
2025-08-28 01:39:19.904 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:19.905 +03:00 [DBG] Connection id "0HNF5N9IG42K6", Request id "0HNF5N9IG42K6:00000001": done reading request body.
2025-08-28 01:39:19.905 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:19.907 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:19.909 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:19.918 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:39:19.920 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:39:19.920 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000003": started reading request body.
2025-08-28 01:39:19.921 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000003": done reading request body.
2025-08-28 01:39:19.923 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:39:19.923 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:39:19.924 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:39:19.925 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:19.926 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:39:19.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:39:19.927 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:39:19.928 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:19.929 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:19.931 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:39:19.932 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:19.933 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:39:19.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:19.936 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:39:19.937 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:39:19.938 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:39:19.940 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:19.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:39:19.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:39:19.942 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:39:19.944 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:19.945 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:19.947 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:19.948 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:39:19.950 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:19.951 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:39:19.952 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:39:19.953 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:39:19.954 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:39:19.955 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:39:19.955 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:39:19.958 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:39:20.012 +03:00 [ERR] SQL execution failed after 56 ms
2025-08-28 01:39:20.169 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:20.213 +03:00 [ERR] An unhandled exception has occurred while executing the request.
NaturalToQuery.Core.Exceptions.DbExecutionException: Error executing SQL command.
 ---> System.Reflection.TargetParameterCountException: Parameter count mismatch.
   at System.Reflection.MethodBaseInvoker.ThrowTargetParameterCountException()
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.PropertyInfo.GetValue(Object obj)
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.AddParameters(DbCommand cmd, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 726
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteQuery(DbConnection conn, String sql, Object parameters, CancellationToken ct, Stopwatch sw) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 615
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 585
   --- End of inner exception stack trace ---
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 601
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteAsync(ProviderConnectionConfig config, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 179
   at NaturalToQuery.Application.Services.ProfileDbService.ExecuteAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileDbService.cs:line 32
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ExecuteQueryAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 79
   at NaturalToQuery.Api.Controllers.Query.ExecuteQuery.HandleAsync(ExecuteQueryRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Query\ExecuteQuery.cs:line 30
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 01:39:20.220 +03:00 [ERR] Error occurred.
2025-08-28 01:39:20.221 +03:00 [DBG] Connection id "0HNF5N9IG42K4" completed keep alive response.
2025-08-28 01:39:20.222 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:39:20.223 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:39:20.224 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:39:20.225 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 500 null application/json; charset=utf-8 324.0179ms
2025-08-28 01:39:36.408 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:39:36.411 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:36.412 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:36.413 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:36.414 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:39:36.415 +03:00 [DBG] Connection id "0HNF5N9IG42K6" completed keep alive response.
2025-08-28 01:39:36.416 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:39:36.416 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 7.8368ms
2025-08-28 01:39:36.417 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:36.419 +03:00 [DBG] Connection id "0HNF5N9IG42K6", Request id "0HNF5N9IG42K6:00000002": started reading request body.
2025-08-28 01:39:36.420 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:36.421 +03:00 [DBG] Connection id "0HNF5N9IG42K6", Request id "0HNF5N9IG42K6:00000002": done reading request body.
2025-08-28 01:39:36.421 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:36.424 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:36.425 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:39:36.426 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:39:36.427 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000004": started reading request body.
2025-08-28 01:39:36.428 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000004": done reading request body.
2025-08-28 01:39:42.849 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:39:42.851 +03:00 [DBG] Created DbConnection. (1ms).
2025-08-28 01:39:42.852 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:39:42.853 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:42.854 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:39:42.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:39:42.855 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:39:42.856 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:42.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:42.859 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:39:42.860 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:42.861 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:39:42.862 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:42.863 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:39:42.864 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:39:42.865 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:39:42.866 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:42.867 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:39:42.868 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:39:42.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:39:42.870 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:42.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:39:42.873 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:42.874 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 01:39:42.875 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:39:42.876 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:39:42.878 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:39:42.879 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:39:42.880 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:39:42.881 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:39:42.882 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:39:42.883 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:39:42.931 +03:00 [ERR] SQL execution failed after 48 ms
2025-08-28 01:39:45.106 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:45.149 +03:00 [ERR] An unhandled exception has occurred while executing the request.
NaturalToQuery.Core.Exceptions.DbExecutionException: Error executing SQL command.
 ---> System.Reflection.TargetParameterCountException: Parameter count mismatch.
   at System.Reflection.MethodBaseInvoker.ThrowTargetParameterCountException()
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.PropertyInfo.GetValue(Object obj)
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.AddParameters(DbCommand cmd, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 726
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteQuery(DbConnection conn, String sql, Object parameters, CancellationToken ct, Stopwatch sw) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 615
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 585
   --- End of inner exception stack trace ---
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 601
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteAsync(ProviderConnectionConfig config, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 179
   at NaturalToQuery.Application.Services.ProfileDbService.ExecuteAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileDbService.cs:line 32
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ExecuteQueryAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 79
   at NaturalToQuery.Api.Controllers.Query.ExecuteQuery.HandleAsync(ExecuteQueryRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Query\ExecuteQuery.cs:line 30
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 01:39:45.153 +03:00 [ERR] Error occurred.
2025-08-28 01:39:45.154 +03:00 [DBG] Connection id "0HNF5N9IG42K4" completed keep alive response.
2025-08-28 01:39:45.155 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:39:45.156 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:39:45.157 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:39:45.158 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 500 null application/json; charset=utf-8 8742.587ms
2025-08-28 01:39:48.170 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:39:48.173 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:48.174 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:48.175 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:48.175 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:39:48.176 +03:00 [DBG] Connection id "0HNF5N9IG42K6" completed keep alive response.
2025-08-28 01:39:48.176 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 6.4204ms
2025-08-28 01:39:48.177 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:39:48.178 +03:00 [DBG] Connection id "0HNF5N9IG42K6", Request id "0HNF5N9IG42K6:00000003": started reading request body.
2025-08-28 01:39:48.180 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:48.181 +03:00 [DBG] Connection id "0HNF5N9IG42K6", Request id "0HNF5N9IG42K6:00000003": done reading request body.
2025-08-28 01:39:48.181 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:39:48.183 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:48.184 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:39:48.185 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:39:48.186 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:39:48.187 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000005": started reading request body.
2025-08-28 01:39:48.188 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000005": done reading request body.
2025-08-28 01:40:18.320 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:40:18.321 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:40:18.322 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:40:18.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:40:18.325 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:40:18.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:40:18.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:40:18.328 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:40:18.330 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:40:18.331 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:40:18.332 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:40:18.333 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:40:18.334 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:40:18.336 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:40:18.337 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:40:18.338 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:40:18.338 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:40:18.339 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:40:18.340 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:40:18.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:40:18.342 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:40:18.346 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:40:18.347 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:40:18.348 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:40:18.349 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:40:18.351 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:40:18.353 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:40:18.951 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:40:27.637 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:40:28.637 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:40:33.952 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:40:33.954 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:40:34.006 +03:00 [ERR] SQL execution failed after 53 ms
2025-08-28 01:40:45.469 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:40:45.535 +03:00 [ERR] An unhandled exception has occurred while executing the request.
NaturalToQuery.Core.Exceptions.DbExecutionException: Error executing SQL command.
 ---> System.Reflection.TargetParameterCountException: Parameter count mismatch.
   at System.Reflection.MethodBaseInvoker.ThrowTargetParameterCountException()
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.PropertyInfo.GetValue(Object obj)
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.AddParameters(DbCommand cmd, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 726
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteQuery(DbConnection conn, String sql, Object parameters, CancellationToken ct, Stopwatch sw) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 615
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 585
   --- End of inner exception stack trace ---
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteSqlCommand(ProviderConnectionConfig config, String sql, CancellationToken ct, Object parameters) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 601
   at NaturalToQuery.Infrastructure.Providers.SqlServerDbProvider.ExecuteAsync(ProviderConnectionConfig config, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Infrastructure\Providers\SqlServerDbProvider.cs:line 179
   at NaturalToQuery.Application.Services.ProfileDbService.ExecuteAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\ProfileDbService.cs:line 32
   at NaturalToQuery.Application.Services.QueryOrchestrationService.ExecuteQueryAsync(Guid profileId, String sql, String userQuery, Object parameters, ExecutionMode mode, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToQuery.Application\Services\QueryOrchestrationService.cs:line 79
   at NaturalToQuery.Api.Controllers.Query.ExecuteQuery.HandleAsync(ExecuteQueryRequest req, CancellationToken ct) in C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\Controllers\Query\ExecuteQuery.cs:line 30
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-28 01:40:45.542 +03:00 [ERR] Error occurred.
2025-08-28 01:40:45.542 +03:00 [DBG] Connection id "0HNF5N9IG42K4" completed keep alive response.
2025-08-28 01:40:45.543 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:40:45.544 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:40:45.545 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:40:45.546 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 500 null application/json; charset=utf-8 57369.5351ms
2025-08-28 01:41:10.326 +03:00 [DBG] Connection id "0HNF5N9IG42K7" received FIN.
2025-08-28 01:41:10.328 +03:00 [DBG] Connection id "0HNF5N9IG42K7" accepted.
2025-08-28 01:41:10.334 +03:00 [DBG] Connection id "0HNF5N9IG42K7" started.
2025-08-28 01:41:10.334 +03:00 [DBG] Connection id "0HNF5N9IG42K8" accepted.
2025-08-28 01:41:10.339 +03:00 [DBG] Connection id "0HNF5N9IG42K7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:41:10.340 +03:00 [DBG] Connection id "0HNF5N9IG42K8" started.
2025-08-28 01:41:10.341 +03:00 [DBG] Connection id "0HNF5N9IG42K7" disconnecting.
2025-08-28 01:41:10.342 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:41:10.342 +03:00 [DBG] Connection id "0HNF5N9IG42K7" stopped.
2025-08-28 01:41:10.343 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:10.345 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:10.346 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:41:10.346 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:41:10.347 +03:00 [DBG] Connection id "0HNF5N9IG42K8" completed keep alive response.
2025-08-28 01:41:10.348 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 6.3082ms
2025-08-28 01:41:10.348 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:41:10.349 +03:00 [DBG] Connection id "0HNF5N9IG42K8", Request id "0HNF5N9IG42K8:00000001": started reading request body.
2025-08-28 01:41:10.351 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:10.352 +03:00 [DBG] Connection id "0HNF5N9IG42K8", Request id "0HNF5N9IG42K8:00000001": done reading request body.
2025-08-28 01:41:10.352 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:10.354 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:41:10.355 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:41:10.356 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:41:10.358 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:41:10.358 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000006": started reading request body.
2025-08-28 01:41:10.359 +03:00 [DBG] Connection id "0HNF5N9IG42K4", Request id "0HNF5N9IG42K4:00000006": done reading request body.
2025-08-28 01:41:13.563 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:41:13.565 +03:00 [DBG] Created DbConnection. (1ms).
2025-08-28 01:41:13.566 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:41:13.568 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:13.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:41:13.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-28 01:41:13.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-28 01:41:13.580 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:13.582 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:13.586 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:41:13.588 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:13.589 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:41:13.590 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:13.591 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:41:13.592 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:41:13.593 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:41:13.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:13.600 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:41:13.601 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:41:13.602 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:41:13.603 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:13.604 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:13.606 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:13.607 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:41:13.608 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:13.609 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:41:13.611 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:41:13.611 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:41:13.612 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:41:13.614 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:41:13.614 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:41:13.615 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:41:48.357 +03:00 [INF] This is a test log to file!
2025-08-28 01:41:48.585 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 01:41:48.597 +03:00 [INF] API configured successfully.
2025-08-28 01:41:48.751 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 01:41:49.491 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:41:49.526 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:41:49.537 +03:00 [INF] Registered 10 endpoints in 1,113 milliseconds.
2025-08-28 01:41:49.544 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:41:49.546 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:41:49.547 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:41:49.579 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 01:41:49.607 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 01:41:49.608 +03:00 [DBG] Hosting starting
2025-08-28 01:41:49.620 +03:00 [DBG] Middleware loaded
2025-08-28 01:41:49.623 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 01:41:49.625 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 01:41:49.712 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 01:41:49.714 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 01:41:49.716 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 01:41:49.744 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 01:41:49.821 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 01:41:49.823 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 01:41:49.824 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 01:41:49.825 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 01:41:49.825 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 01:41:49.826 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 01:41:49.832 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:41:49.840 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:41:49.928 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 01:41:49.929 +03:00 [INF] Hosting environment: Development
2025-08-28 01:41:49.930 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 01:41:49.930 +03:00 [DBG] Hosting started
2025-08-28 01:41:50.900 +03:00 [DBG] Connection id "0HNF5NBKVV7RH" received FIN.
2025-08-28 01:41:50.905 +03:00 [DBG] Connection id "0HNF5NBKVV7RH" accepted.
2025-08-28 01:41:50.907 +03:00 [DBG] Connection id "0HNF5NBKVV7RH" started.
2025-08-28 01:41:50.908 +03:00 [DBG] Connection id "0HNF5NBKVV7RI" accepted.
2025-08-28 01:41:50.909 +03:00 [DBG] Connection id "0HNF5NBKVV7RI" started.
2025-08-28 01:41:50.914 +03:00 [DBG] Connection id "0HNF5NBKVV7RH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:41:50.916 +03:00 [DBG] Connection id "0HNF5NBKVV7RH" disconnecting.
2025-08-28 01:41:50.918 +03:00 [DBG] Connection id "0HNF5NBKVV7RH" stopped.
2025-08-28 01:41:50.931 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:41:50.959 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:50.961 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:50.964 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:41:50.985 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 01:41:50.988 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:41:50.990 +03:00 [DBG] Connection id "0HNF5NBKVV7RI" completed keep alive response.
2025-08-28 01:41:50.993 +03:00 [DBG] Connection id "0HNF5NBKVV7RJ" accepted.
2025-08-28 01:41:50.993 +03:00 [DBG] Connection id "0HNF5NBKVV7RK" accepted.
2025-08-28 01:41:50.993 +03:00 [DBG] Connection id "0HNF5NBKVV7RJ" received FIN.
2025-08-28 01:41:50.993 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 65.0741ms
2025-08-28 01:41:50.997 +03:00 [DBG] Connection id "0HNF5NBKVV7RJ" started.
2025-08-28 01:41:51.021 +03:00 [DBG] Connection id "0HNF5NBKVV7RK" started.
2025-08-28 01:41:51.028 +03:00 [DBG] Connection id "0HNF5NBKVV7RJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:41:51.028 +03:00 [DBG] Connection id "0HNF5NBKVV7RI", Request id "0HNF5NBKVV7RI:00000001": started reading request body.
2025-08-28 01:41:51.029 +03:00 [DBG] Connection id "0HNF5NBKVV7RJ" disconnecting.
2025-08-28 01:41:51.031 +03:00 [DBG] Connection id "0HNF5NBKVV7RI", Request id "0HNF5NBKVV7RI:00000001": done reading request body.
2025-08-28 01:41:51.031 +03:00 [DBG] Connection id "0HNF5NBKVV7RJ" stopped.
2025-08-28 01:41:51.057 +03:00 [DBG] Connection 0HNF5NBKVV7RK established using the following protocol: "Tls13"
2025-08-28 01:41:51.061 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 288
2025-08-28 01:41:51.066 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:51.067 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:41:51.068 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:41:51.071 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:41:51.107 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:41:51.111 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:41:51.145 +03:00 [DBG] Connection id "0HNF5NBKVV7RK", Request id "0HNF5NBKVV7RK:00000001": started reading request body.
2025-08-28 01:41:51.148 +03:00 [DBG] Connection id "0HNF5NBKVV7RK", Request id "0HNF5NBKVV7RK:00000001": done reading request body.
2025-08-28 01:41:51.227 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 01:41:51.258 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 01:41:51.473 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 01:41:51.502 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:41:51.511 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-28 01:41:51.514 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:41:51.524 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:51.528 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:41:51.533 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-28 01:41:51.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-28 01:41:51.543 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:51.558 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:51.590 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:41:51.614 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:51.619 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 54ms reading results.
2025-08-28 01:41:51.623 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:51.627 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 01:41:51.635 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:41:51.639 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:41:51.640 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:51.641 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:41:51.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:41:51.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:41:51.645 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:51.646 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:41:51.650 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:51.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 3ms reading results.
2025-08-28 01:41:51.654 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:41:51.655 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:41:51.664 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:41:51.675 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:41:51.685 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:41:51.687 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:41:51.689 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:41:51.916 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:42:46.252 +03:00 [INF] This is a test log to file!
2025-08-28 01:42:46.443 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 01:42:46.453 +03:00 [INF] API configured successfully.
2025-08-28 01:42:46.588 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 01:42:47.142 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:42:47.173 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:42:47.181 +03:00 [INF] Registered 10 endpoints in 864 milliseconds.
2025-08-28 01:42:47.187 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:42:47.189 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:42:47.190 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 01:42:47.211 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 01:42:47.243 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 01:42:47.244 +03:00 [DBG] Hosting starting
2025-08-28 01:42:47.260 +03:00 [DBG] Middleware loaded
2025-08-28 01:42:47.263 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 01:42:47.265 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 01:42:47.350 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 01:42:47.351 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 01:42:47.354 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 01:42:47.398 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 01:42:47.589 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 01:42:47.590 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 01:42:47.593 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 01:42:47.594 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 01:42:47.595 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 01:42:47.635 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 01:42:47.694 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:42:47.721 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 01:42:47.915 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 01:42:47.916 +03:00 [INF] Hosting environment: Development
2025-08-28 01:42:47.917 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 01:42:47.919 +03:00 [DBG] Hosting started
2025-08-28 01:42:48.458 +03:00 [DBG] Connection id "0HNF5NC64SLAF" received FIN.
2025-08-28 01:42:48.463 +03:00 [DBG] Connection id "0HNF5NC64SLAF" accepted.
2025-08-28 01:42:48.466 +03:00 [DBG] Connection id "0HNF5NC64SLAG" accepted.
2025-08-28 01:42:48.468 +03:00 [DBG] Connection id "0HNF5NC64SLAG" started.
2025-08-28 01:42:48.468 +03:00 [DBG] Connection id "0HNF5NC64SLAF" started.
2025-08-28 01:42:48.476 +03:00 [DBG] Connection id "0HNF5NC64SLAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:42:48.479 +03:00 [DBG] Connection id "0HNF5NC64SLAF" disconnecting.
2025-08-28 01:42:48.486 +03:00 [DBG] Connection id "0HNF5NC64SLAF" stopped.
2025-08-28 01:42:48.499 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 290
2025-08-28 01:42:48.538 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:42:48.540 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:42:48.542 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:42:48.570 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 01:42:48.572 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'.
2025-08-28 01:42:48.575 +03:00 [DBG] Connection id "0HNF5NC64SLAG" completed keep alive response.
2025-08-28 01:42:48.578 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 307 0 null 82.2835ms
2025-08-28 01:42:48.578 +03:00 [DBG] Connection id "0HNF5NC64SLAH" received FIN.
2025-08-28 01:42:48.578 +03:00 [DBG] Connection id "0HNF5NC64SLAI" accepted.
2025-08-28 01:42:48.578 +03:00 [DBG] Connection id "0HNF5NC64SLAH" accepted.
2025-08-28 01:42:48.590 +03:00 [DBG] Connection id "0HNF5NC64SLAH" started.
2025-08-28 01:42:48.590 +03:00 [DBG] Connection id "0HNF5NC64SLAI" started.
2025-08-28 01:42:48.590 +03:00 [DBG] Connection id "0HNF5NC64SLAG", Request id "0HNF5NC64SLAG:00000001": started reading request body.
2025-08-28 01:42:48.594 +03:00 [DBG] Connection id "0HNF5NC64SLAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:42:48.595 +03:00 [DBG] Connection id "0HNF5NC64SLAG", Request id "0HNF5NC64SLAG:00000001": done reading request body.
2025-08-28 01:42:48.596 +03:00 [DBG] Connection id "0HNF5NC64SLAH" disconnecting.
2025-08-28 01:42:48.598 +03:00 [DBG] Connection id "0HNF5NC64SLAH" stopped.
2025-08-28 01:42:48.629 +03:00 [DBG] Connection 0HNF5NC64SLAI established using the following protocol: "Tls13"
2025-08-28 01:42:48.632 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - application/json 290
2025-08-28 01:42:48.636 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:42:48.637 +03:00 [DBG] Endpoint 'HTTP: POST api/query/{profileId}/execute' with route pattern 'api/query/{profileId}/execute' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute'
2025-08-28 01:42:48.638 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:42:48.642 +03:00 [INF] Executing endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:42:48.685 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:42:48.693 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 01:42:48.736 +03:00 [DBG] Connection id "0HNF5NC64SLAI", Request id "0HNF5NC64SLAI:00000001": started reading request body.
2025-08-28 01:42:48.737 +03:00 [DBG] Connection id "0HNF5NC64SLAI", Request id "0HNF5NC64SLAI:00000001": done reading request body.
2025-08-28 01:42:48.799 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 01:42:48.833 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 01:42:49.048 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 01:42:49.076 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:42:49.085 +03:00 [DBG] Created DbConnection. (9ms).
2025-08-28 01:42:49.090 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:42:49.101 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:49.105 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:42:49.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-28 01:42:49.114 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-28 01:42:49.120 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:42:49.136 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:42:49.166 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:42:49.189 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:49.195 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 53ms reading results.
2025-08-28 01:42:49.200 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:49.204 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (4ms).
2025-08-28 01:42:49.212 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:42:49.215 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:42:49.216 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:49.217 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:42:49.218 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:42:49.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:42:49.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:42:49.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:42:49.225 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:49.226 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:42:49.228 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:49.229 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:42:49.239 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:42:49.252 +03:00 [INF] Executing SQL for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", Mode="ReadOnly"
2025-08-28 01:42:49.263 +03:00 [INF] Executing SQL on DESKTOP-QCK8UI5\SQLEXPRESS/ProductInventory (Mode="ReadOnly")
2025-08-28 01:42:49.265 +03:00 [DBG] SQL: SELECT P.Id, P.Name, P.Price, P.StockQuantity, C.Name AS CategoryName FROM Products P INNER JOIN Categories C ON P.CategoryId = C.Id;
2025-08-28 01:42:49.267 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:42:49.516 +03:00 [DBG] Connection opened to DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:42:55.835 +03:00 [INF] Query execution finished in 6568 ms, returned 0 rows
2025-08-28 01:42:55.842 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:42:55.843 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:55.844 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:42:55.844 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:42:55.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:42:55.847 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:42:55.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:42:55.850 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:55.851 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 01:42:55.852 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:55.853 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:42:55.869 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Any(p => (int)p.Provider == (int)__profile_Provider_0)'
2025-08-28 01:42:55.876 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Profiles AS p
                WHERE p.Provider == @__profile_Provider_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 01:42:55.881 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:42:55.883 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:55.884 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:42:55.885 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:42:55.886 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:42:55.887 +03:00 [DBG] Executing DbCommand [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 01:42:55.890 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__profile_Provider_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Profiles" AS "p"
    WHERE "p"."Provider" = @__profile_Provider_0)
2025-08-28 01:42:55.892 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:55.893 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 01:42:55.895 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:42:55.896 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:42:55.937 +03:00 [ERR] Failed to persist query to DB for userQuery=show all products
2025-08-28 01:42:55.945 +03:00 [INF] Executed endpoint 'HTTP: POST api/query/{profileId}/execute'
2025-08-28 01:42:55.948 +03:00 [DBG] Connection id "0HNF5NC64SLAI" completed keep alive response.
2025-08-28 01:42:55.950 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:42:55.953 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:42:55.955 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:42:55.956 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/execute - 200 null application/json; charset=utf-8 7323.8092ms
2025-08-28 01:45:14.380 +03:00 [DBG] Connection id "0HNF5NC64SLAJ" received FIN.
2025-08-28 01:45:14.382 +03:00 [DBG] Connection id "0HNF5NC64SLAJ" accepted.
2025-08-28 01:45:14.391 +03:00 [DBG] Connection id "0HNF5NC64SLAJ" started.
2025-08-28 01:45:14.392 +03:00 [DBG] Connection id "0HNF5NC64SLAK" accepted.
2025-08-28 01:45:14.398 +03:00 [DBG] Connection id "0HNF5NC64SLAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 01:45:14.400 +03:00 [DBG] Connection id "0HNF5NC64SLAK" started.
2025-08-28 01:45:14.401 +03:00 [DBG] Connection id "0HNF5NC64SLAJ" disconnecting.
2025-08-28 01:45:14.403 +03:00 [DBG] Connection id "0HNF5NC64SLAJ" stopped.
2025-08-28 01:45:14.403 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 01:45:14.405 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 01:45:14.406 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 01:45:14.407 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 01:45:14.412 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 01:45:14.413 +03:00 [DBG] Connection id "0HNF5NC64SLAK" completed keep alive response.
2025-08-28 01:45:14.413 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 10.6969ms
2025-08-28 01:45:14.417 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 01:45:14.418 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 01:45:14.419 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 01:45:14.420 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 01:45:14.422 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 01:45:14.441 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:45:14.448 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:45:14.449 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:45:14.449 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:45:14.450 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:14.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:45:14.452 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:45:14.453 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:45:14.453 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:14.455 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:14.457 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:45:14.458 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:14.458 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 01:45:14.459 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:14.460 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:45:14.462 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:45:14.463 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:45:14.463 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:14.464 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:45:14.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:45:14.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:45:14.467 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:14.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:14.469 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:14.470 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 01:45:14.471 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:14.472 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:45:14.474 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:45:14.474 +03:00 [DBG] Fetching databases for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:45:14.476 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:45:14.485 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 01:45:14.487 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:45:14.917 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 01:45:14.922 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 01:45:14.923 +03:00 [DBG] Connection id "0HNF5NC64SLAI" completed keep alive response.
2025-08-28 01:45:14.924 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:45:14.925 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:45:14.926 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:45:14.927 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 510.4783ms
2025-08-28 01:45:23.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 01:45:23.829 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 01:45:23.830 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 01:45:23.831 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 01:45:23.834 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 01:45:23.838 +03:00 [DBG] Connection id "0HNF5NC64SLAK" completed keep alive response.
2025-08-28 01:45:23.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 12.7162ms
2025-08-28 01:45:23.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 01:45:23.844 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 01:45:23.845 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 01:45:23.846 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 01:45:23.848 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 01:45:23.850 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 01:45:23.860 +03:00 [DBG] Creating DbConnection.
2025-08-28 01:45:23.860 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 01:45:23.862 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:45:23.863 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:23.864 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:45:23.865 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:45:23.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 01:45:23.868 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:23.869 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:23.871 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 01:45:23.873 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:23.875 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 4ms reading results.
2025-08-28 01:45:23.877 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:23.878 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 01:45:23.880 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:45:23.880 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:45:23.881 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:23.882 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 01:45:23.883 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 01:45:23.884 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 01:45:23.884 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:23.886 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 01:45:23.887 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:23.888 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 01:45:23.889 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 01:45:23.890 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:45:23.891 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 01:45:23.892 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=false
2025-08-28 01:45:23.894 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-08-28 01:45:23.974 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-08-28 01:45:23.980 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 01:45:23.980 +03:00 [DBG] Connection id "0HNF5NC64SLAI" completed keep alive response.
2025-08-28 01:45:23.981 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 01:45:23.982 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 01:45:23.983 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 01:45:23.984 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 144.9203ms
2025-08-28 02:48:51.464 +03:00 [INF] This is a test log to file!
2025-08-28 02:48:52.162 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 02:48:52.185 +03:00 [INF] API configured successfully.
2025-08-28 02:48:52.440 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 02:48:53.343 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:48:54.157 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 02:51:31.504 +03:00 [INF] This is a test log to file!
2025-08-28 02:51:32.163 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 02:51:32.188 +03:00 [INF] API configured successfully.
2025-08-28 02:51:32.397 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 02:51:32.946 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:51:32.977 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 02:51:32.985 +03:00 [INF] Registered 10 endpoints in 1,269 milliseconds.
2025-08-28 02:51:32.991 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:51:32.994 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 02:51:32.994 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 02:51:33.018 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 02:51:33.050 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 02:51:33.052 +03:00 [DBG] Hosting starting
2025-08-28 02:51:33.064 +03:00 [DBG] Middleware loaded
2025-08-28 02:51:33.067 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 02:51:33.069 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 02:51:33.147 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 02:51:33.149 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 02:51:33.151 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 02:51:33.182 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 02:51:33.252 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 02:51:33.254 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 02:51:33.255 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 02:51:33.256 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 02:51:33.256 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 02:51:33.257 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 02:51:33.266 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 02:51:33.276 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 02:51:33.392 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 02:51:33.393 +03:00 [INF] Hosting environment: Development
2025-08-28 02:51:33.394 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 02:51:33.395 +03:00 [DBG] Hosting started
2025-08-28 02:52:15.240 +03:00 [DBG] Connection id "0HNF5OIVUDKCE" received FIN.
2025-08-28 02:52:15.250 +03:00 [DBG] Connection id "0HNF5OIVUDKCE" accepted.
2025-08-28 02:52:15.255 +03:00 [DBG] Connection id "0HNF5OIVUDKCE" started.
2025-08-28 02:52:15.257 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" accepted.
2025-08-28 02:52:15.258 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" started.
2025-08-28 02:52:15.263 +03:00 [DBG] Connection id "0HNF5OIVUDKCE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 02:52:15.266 +03:00 [DBG] Connection id "0HNF5OIVUDKCE" disconnecting.
2025-08-28 02:52:15.267 +03:00 [DBG] Connection id "0HNF5OIVUDKCE" stopped.
2025-08-28 02:52:15.283 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:15.336 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:15.338 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:15.340 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:15.366 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 02:52:15.368 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:15.370 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:15.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 92.8895ms
2025-08-28 02:52:15.373 +03:00 [DBG] Connection id "0HNF5OIVUDKCG" accepted.
2025-08-28 02:52:15.373 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" accepted.
2025-08-28 02:52:15.373 +03:00 [DBG] Connection id "0HNF5OIVUDKCG" received FIN.
2025-08-28 02:52:15.381 +03:00 [DBG] Connection id "0HNF5OIVUDKCG" started.
2025-08-28 02:52:15.381 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" started.
2025-08-28 02:52:15.383 +03:00 [DBG] Connection id "0HNF5OIVUDKCG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 02:52:15.385 +03:00 [DBG] Connection id "0HNF5OIVUDKCG" disconnecting.
2025-08-28 02:52:15.385 +03:00 [DBG] Connection id "0HNF5OIVUDKCG" stopped.
2025-08-28 02:52:15.413 +03:00 [DBG] Connection 0HNF5OIVUDKCH established using the following protocol: "Tls13"
2025-08-28 02:52:15.417 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:15.420 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:15.421 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:15.422 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:15.425 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:15.461 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:15.535 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 02:52:15.569 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 02:52:15.796 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 02:52:15.826 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:52:15.836 +03:00 [DBG] Created DbConnection. (10ms).
2025-08-28 02:52:15.840 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:52:15.851 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:52:15.854 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:52:15.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-28 02:52:15.863 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-28 02:52:15.869 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:52:15.886 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:52:15.917 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:52:15.940 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:52:15.946 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 53ms reading results.
2025-08-28 02:52:15.950 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:52:15.953 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 02:52:15.963 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:52:15.966 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:52:15.968 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:52:15.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:52:15.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:52:15.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:52:15.971 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:52:15.973 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:52:15.975 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:52:15.976 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:52:15.977 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:52:15.978 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:52:15.987 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:52:15.999 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=false
2025-08-28 02:52:16.001 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-08-28 02:52:16.124 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-08-28 02:52:16.140 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:16.143 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:16.144 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:16.147 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:52:16.149 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-28 02:52:16.151 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 733.8291ms
2025-08-28 02:52:17.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:17.311 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:17.312 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:17.313 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:17.315 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:17.316 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:17.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 9.2668ms
2025-08-28 02:52:17.319 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:17.321 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:17.322 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:17.323 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:17.324 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:17.342 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:17.344 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:17.345 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:17.345 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:17.346 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 27.5842ms
2025-08-28 02:52:18.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:18.171 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.172 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.173 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.174 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:18.175 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:18.175 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 7.2585ms
2025-08-28 02:52:18.176 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:18.180 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.181 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.182 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.183 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.185 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:18.186 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.187 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:18.188 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:18.189 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 13.4398ms
2025-08-28 02:52:18.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:18.960 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.961 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.962 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.963 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:18.964 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:18.965 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 7.2004ms
2025-08-28 02:52:18.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:18.968 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.969 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:18.970 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.971 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.973 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:18.974 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:18.975 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:18.976 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:18.977 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 11.2503ms
2025-08-28 02:52:19.648 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:19.651 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:19.652 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:19.653 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:19.654 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:19.655 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:19.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 8.0688ms
2025-08-28 02:52:19.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:19.661 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:19.662 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:19.663 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:19.664 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:19.665 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:19.666 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:19.667 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:19.668 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:19.669 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 13.3012ms
2025-08-28 02:52:20.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:20.311 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.312 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.313 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.313 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:20.314 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:20.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 6.8373ms
2025-08-28 02:52:20.315 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:20.319 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.320 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.321 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.321 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.322 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:20.324 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.325 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:20.326 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:20.327 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 11.2809ms
2025-08-28 02:52:20.910 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:20.912 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.913 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.914 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.915 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:20.916 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:20.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 6.7135ms
2025-08-28 02:52:20.917 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:20.920 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.921 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:20.922 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.923 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.924 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:20.927 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:20.928 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:20.929 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:20.929 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 12.1191ms
2025-08-28 02:52:23.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:23.032 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.034 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.035 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.035 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:23.036 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:23.037 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 6.2737ms
2025-08-28 02:52:23.038 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:23.040 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.041 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.042 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.043 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.045 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:23.046 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.047 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:23.048 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:23.049 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 11.1173ms
2025-08-28 02:52:23.710 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:23.712 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.713 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.714 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.715 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:23.715 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:23.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 6.2345ms
2025-08-28 02:52:23.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:23.720 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.721 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:23.722 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.723 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.724 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:23.726 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:23.726 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:23.727 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:23.728 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 10.9671ms
2025-08-28 02:52:26.343 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:26.347 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:26.348 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:26.349 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:26.350 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:52:26.350 +03:00 [DBG] Connection id "0HNF5OIVUDKCF" completed keep alive response.
2025-08-28 02:52:26.351 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 8.135ms
2025-08-28 02:52:26.351 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:52:26.355 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:26.356 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:52:26.357 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:26.358 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:26.359 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:52:26.360 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:52:26.361 +03:00 [DBG] Connection id "0HNF5OIVUDKCH" completed keep alive response.
2025-08-28 02:52:26.362 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:52:26.363 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 11.5678ms
2025-08-28 02:53:02.962 +03:00 [INF] This is a test log to file!
2025-08-28 02:53:03.241 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 02:53:03.249 +03:00 [INF] API configured successfully.
2025-08-28 02:53:03.395 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 02:53:04.137 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:53:04.175 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 02:53:04.252 +03:00 [INF] Registered 10 endpoints in 1,199 milliseconds.
2025-08-28 02:53:04.270 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:53:04.272 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 02:53:04.279 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 02:53:04.311 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 02:53:04.357 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 02:53:04.359 +03:00 [DBG] Hosting starting
2025-08-28 02:53:04.374 +03:00 [DBG] Middleware loaded
2025-08-28 02:53:04.379 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 02:53:04.381 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 02:53:04.489 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 02:53:04.490 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 02:53:04.494 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 02:53:04.538 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 02:53:04.591 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 02:53:04.593 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 02:53:04.594 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 02:53:04.595 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 02:53:04.596 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 02:53:04.597 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 02:53:04.606 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 02:53:04.615 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 02:53:04.653 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 02:53:04.654 +03:00 [INF] Hosting environment: Development
2025-08-28 02:53:04.655 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 02:53:04.656 +03:00 [DBG] Hosting started
2025-08-28 02:53:08.992 +03:00 [DBG] Connection id "0HNF5OJFV1CI0" received FIN.
2025-08-28 02:53:08.997 +03:00 [DBG] Connection id "0HNF5OJFV1CI0" accepted.
2025-08-28 02:53:08.998 +03:00 [DBG] Connection id "0HNF5OJFV1CI0" started.
2025-08-28 02:53:09.000 +03:00 [DBG] Connection id "0HNF5OJFV1CI1" accepted.
2025-08-28 02:53:09.001 +03:00 [DBG] Connection id "0HNF5OJFV1CI1" started.
2025-08-28 02:53:09.007 +03:00 [DBG] Connection id "0HNF5OJFV1CI0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 02:53:09.011 +03:00 [DBG] Connection id "0HNF5OJFV1CI0" disconnecting.
2025-08-28 02:53:09.013 +03:00 [DBG] Connection id "0HNF5OJFV1CI0" stopped.
2025-08-28 02:53:09.029 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:53:09.062 +03:00 [DBG] No candidates found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:53:09.064 +03:00 [DBG] Request did not match any endpoints
2025-08-28 02:53:09.092 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 02:53:09.095 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:53:09.097 +03:00 [DBG] Connection id "0HNF5OJFV1CI1" completed keep alive response.
2025-08-28 02:53:09.099 +03:00 [DBG] Connection id "0HNF5OJFV1CI2" accepted.
2025-08-28 02:53:09.099 +03:00 [DBG] Connection id "0HNF5OJFV1CI2" received FIN.
2025-08-28 02:53:09.099 +03:00 [DBG] Connection id "0HNF5OJFV1CI3" accepted.
2025-08-28 02:53:09.100 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 74.9263ms
2025-08-28 02:53:09.107 +03:00 [DBG] Connection id "0HNF5OJFV1CI2" started.
2025-08-28 02:53:09.108 +03:00 [DBG] Connection id "0HNF5OJFV1CI3" started.
2025-08-28 02:53:09.112 +03:00 [DBG] Connection id "0HNF5OJFV1CI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 02:53:09.114 +03:00 [DBG] Connection id "0HNF5OJFV1CI2" disconnecting.
2025-08-28 02:53:09.114 +03:00 [DBG] Connection id "0HNF5OJFV1CI2" stopped.
2025-08-28 02:53:09.141 +03:00 [DBG] Connection 0HNF5OJFV1CI3 established using the following protocol: "Tls13"
2025-08-28 02:53:09.145 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:53:09.148 +03:00 [DBG] No candidates found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:53:09.149 +03:00 [DBG] Request did not match any endpoints
2025-08-28 02:53:09.154 +03:00 [DBG] Connection id "0HNF5OJFV1CI3" completed keep alive response.
2025-08-28 02:53:09.155 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 404 0 null 10.5429ms
2025-08-28 02:53:09.158 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema, Response status code: 404
2025-08-28 02:53:38.174 +03:00 [INF] This is a test log to file!
2025-08-28 02:53:38.440 +03:00 [INF] Shared Kernal configured successfully.
2025-08-28 02:53:38.450 +03:00 [INF] API configured successfully.
2025-08-28 02:53:38.604 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-28 02:53:39.234 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:53:39.273 +03:00 [INF] Groq API key configured for HttpClient
2025-08-28 02:53:39.283 +03:00 [INF] Registered 10 endpoints in 1,034 milliseconds.
2025-08-28 02:53:39.290 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:53:39.293 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 02:53:39.294 +03:00 [INF] Infrastructure configured successfully.
2025-08-28 02:53:39.326 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-28 02:53:39.360 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-28 02:53:39.362 +03:00 [DBG] Hosting starting
2025-08-28 02:53:39.375 +03:00 [DBG] Middleware loaded
2025-08-28 02:53:39.377 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16521 B).
2025-08-28 02:53:39.379 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-28 02:53:39.464 +03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-28 02:53:39.466 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-28 02:53:39.468 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-28 02:53:39.502 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-08-28 02:53:39.567 +03:00 [INF] Now listening on: https://localhost:7202
2025-08-28 02:53:39.568 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-28 02:53:39.569 +03:00 [DBG] Loaded hosting startup assembly NaturalToQuery.Api
2025-08-28 02:53:39.570 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-28 02:53:39.571 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-28 02:53:39.571 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-28 02:53:39.577 +03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 02:53:39.585 +03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-28 02:53:39.691 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-28 02:53:39.692 +03:00 [INF] Hosting environment: Development
2025-08-28 02:53:39.693 +03:00 [INF] Content root path: C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql
2025-08-28 02:53:39.694 +03:00 [DBG] Hosting started
2025-08-28 02:53:45.358 +03:00 [DBG] Connection id "0HNF5OJQPRD0L" received FIN.
2025-08-28 02:53:45.363 +03:00 [DBG] Connection id "0HNF5OJQPRD0L" accepted.
2025-08-28 02:53:45.364 +03:00 [DBG] Connection id "0HNF5OJQPRD0L" started.
2025-08-28 02:53:45.365 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" accepted.
2025-08-28 02:53:45.366 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" started.
2025-08-28 02:53:45.372 +03:00 [DBG] Connection id "0HNF5OJQPRD0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 02:53:45.375 +03:00 [DBG] Connection id "0HNF5OJQPRD0L" disconnecting.
2025-08-28 02:53:45.378 +03:00 [DBG] Connection id "0HNF5OJQPRD0L" stopped.
2025-08-28 02:53:45.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:53:45.424 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:53:45.426 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:53:45.428 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:53:45.455 +03:00 [DBG] Https port '7202' loaded from configuration.
2025-08-28 02:53:45.458 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:53:45.461 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:53:45.463 +03:00 [DBG] Connection id "0HNF5OJQPRD0N" accepted.
2025-08-28 02:53:45.463 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" accepted.
2025-08-28 02:53:45.463 +03:00 [DBG] Connection id "0HNF5OJQPRD0N" received FIN.
2025-08-28 02:53:45.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 74.987ms
2025-08-28 02:53:45.470 +03:00 [DBG] Connection id "0HNF5OJQPRD0N" started.
2025-08-28 02:53:45.470 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" started.
2025-08-28 02:53:45.475 +03:00 [DBG] Connection id "0HNF5OJQPRD0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-28 02:53:45.477 +03:00 [DBG] Connection id "0HNF5OJQPRD0N" disconnecting.
2025-08-28 02:53:45.478 +03:00 [DBG] Connection id "0HNF5OJQPRD0N" stopped.
2025-08-28 02:53:45.504 +03:00 [DBG] Connection 0HNF5OJQPRD0O established using the following protocol: "Tls13"
2025-08-28 02:53:45.508 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:53:45.512 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:53:45.513 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:53:45.514 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:53:45.518 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:53:45.576 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:53:45.756 +03:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Include(e => e.Queries)
    .FirstOrDefault(e => e.Id.Equals(__id_0))'
2025-08-28 02:53:45.800 +03:00 [DBG] Including navigation: 'Profile.Queries'.
2025-08-28 02:53:46.065 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Profile>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.CacheFile (string) MaxLength(500), 1], [Property: Profile.CreatedUtc (DateTimeOffset) Required, 2], [Property: Profile.Name (string) Required MaxLength(200), 3], [Property: Profile.Provider (ProviderType) Required, 4], [Property: Profile.SecretRef (string) Required, 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Query.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Query.ProfileId (Guid) Required FK Index, 7], [Property: Query.ResultJson (string) Required, 8], [Property: Query.SqlQuery (string) Required, 9], [Property: Query.TimestampUtc (DateTime) Required, 10], [Property: Query.UserQuery (string) Required, 11] }
                3 -> 6
            SELECT p0.Id, p0.CacheFile, p0.CreatedUtc, p0.Name, p0.Provider, p0.SecretRef, q.Id, q.ProfileId, q.ResultJson, q.SqlQuery, q.TimestampUtc, q.UserQuery
            FROM 
            (
                SELECT TOP(1) p.Id, p.CacheFile, p.CreatedUtc, p.Name, p.Provider, p.SecretRef
                FROM Profiles AS p
                WHERE p.Id == @__id_0
            ) AS p0
            LEFT JOIN Queries AS q ON p0.Id == q.ProfileId
            ORDER BY p0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Profile entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Profile instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Profile);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Profile.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Profile)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]: 
                                {
                                    return 
                                    {
                                        Profile instance;
                                        instance = new Profile();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CacheFile>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedUtc>k__BackingField = dataReader.GetFieldValue<DateTimeOffset>(2);
                                        instance.<Name>k__BackingField = dataReader.GetString(3);
                                        instance.<Provider>k__BackingField = Invoke(((EnumToNumberConverter<ProviderType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Profile.Provider (ProviderType) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindProperty("Provider")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                        instance.<SecretRef>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Profile | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Profile)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Profile, Profile>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Profile)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Profile.Queries (List<Query>) Collection ToDependent Query Inverse: Profile | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Profile, Query>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(6) ? default(Guid?) : (Guid?)dataReader.GetGuid(6) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Query entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Query instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Query);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Query.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetGuid(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Query)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]: 
                                    {
                                        return 
                                        {
                                            Query instance;
                                            instance = new Query();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(Guid) : dataReader.GetGuid(6);
                                            instance.<ProfileId>k__BackingField = dataReader.IsDBNull(7) ? default(Guid) : dataReader.GetGuid(7);
                                            instance.<ResultJson>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<SqlQuery>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<TimestampUtc>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<UserQuery>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Query | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Query)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Query.Profile (Profile) ToPrincipal Profile Inverse: Queries | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Queries.Query").FindNavigation("Profile")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Profile, List<Query>, Query> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("NaturalToQuery.Core.Contributers.Entities.Profiles.Profile").FindNavigation("Queries").GetCollectionAccessor()].Add(
                        entity: namelessParameter{10}, 
                        value: namelessParameter{11}, 
                        forMaterialization: True);
                    return namelessParameter{11}.<Profile>k__BackingField = namelessParameter{10};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Profile)(resultContext.Values[0]) : default(Profile);
        }, 
        contextType: NaturalToQuery.Infrastructure.Persistence.ProfilesDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-28 02:53:46.092 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:53:46.109 +03:00 [DBG] Created DbConnection. (16ms).
2025-08-28 02:53:46.112 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:53:46.124 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:53:46.129 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:53:46.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-28 02:53:46.141 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-28 02:53:46.148 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:53:46.176 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:53:46.234 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:53:46.265 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:53:46.270 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 87ms reading results.
2025-08-28 02:53:46.275 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:53:46.278 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (3ms).
2025-08-28 02:53:46.286 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:53:46.289 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:53:46.290 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:53:46.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:53:46.292 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:53:46.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:53:46.294 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:53:46.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:53:46.299 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:53:46.300 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:53:46.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:53:46.301 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:53:46.312 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:53:46.325 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=false
2025-08-28 02:53:46.328 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=false)
2025-08-28 02:53:46.431 +03:00 [INF] Loaded schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory from cache file
2025-08-28 02:53:46.443 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:53:46.447 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:53:46.449 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:53:46.453 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:53:46.455 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (2ms).
2025-08-28 02:53:46.458 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 949.7447ms
2025-08-28 02:54:04.041 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:04.045 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:04.046 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:04.048 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:04.050 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:04.051 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:04.051 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 10.124ms
2025-08-28 02:54:04.052 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:04.056 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:04.057 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:04.058 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:04.061 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:04.070 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:04.078 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:04.079 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:04.080 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:04.081 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:04.082 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:04.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:04.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:04.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:04.086 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:04.088 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:04.089 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:04.091 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 02:54:04.092 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:04.093 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:04.094 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:04.095 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:04.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:04.097 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:04.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:04.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:04.100 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:04.101 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:04.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:04.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:54:04.105 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:04.106 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:04.107 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:04.108 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:04.109 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:04.132 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:04.426 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:04.535 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:04.729 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:04.764 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:04.766 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:04.767 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:04.769 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:04.770 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:04.770 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:04.771 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:04.773 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 720.1266ms
2025-08-28 02:54:05.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:05.660 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:05.661 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:05.663 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:05.664 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:05.664 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:05.666 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 7.9782ms
2025-08-28 02:54:05.667 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:05.670 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:05.671 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:05.673 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:05.674 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:05.675 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:05.679 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:05.679 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:05.680 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:05.681 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:05.682 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:05.683 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:05.684 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 02:54:05.685 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:05.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:05.688 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:05.690 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:05.691 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 02:54:05.692 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:05.693 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:05.695 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:05.696 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:05.698 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:05.699 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:05.699 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:05.700 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:05.701 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:05.703 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:05.704 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:05.705 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:54:05.706 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:05.707 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:05.709 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:05.709 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:05.710 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:05.711 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:05.713 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:05.718 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:05.725 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:05.731 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:05.732 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:05.734 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:05.735 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:05.736 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:05.737 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:05.739 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:05.740 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 73.521ms
2025-08-28 02:54:06.519 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:06.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:06.523 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:06.525 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:06.525 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:06.526 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:06.527 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 7.8784ms
2025-08-28 02:54:06.527 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:06.532 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:06.533 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:06.534 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:06.535 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:06.536 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:06.538 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:06.539 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:06.540 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:06.541 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:06.541 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:06.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:06.543 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:06.544 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:06.545 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:06.547 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:06.548 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:06.549 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:54:06.550 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:06.551 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:06.552 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:06.553 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:06.554 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:06.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:06.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:06.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:06.557 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:06.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:06.560 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:06.561 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 02:54:06.562 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:06.563 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:06.564 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:06.565 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:06.566 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:06.567 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:06.567 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:06.571 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:06.577 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:06.581 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:06.582 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:06.583 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:06.584 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:06.584 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:06.585 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:06.586 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:06.588 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 60.1262ms
2025-08-28 02:54:07.350 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:07.352 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:07.353 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:07.354 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:07.355 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:07.355 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:07.357 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 6.7533ms
2025-08-28 02:54:07.357 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:07.360 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:07.361 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:07.362 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:07.363 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:07.364 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:07.366 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:07.367 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:07.367 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:07.368 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:07.369 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:07.370 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:07.371 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:07.372 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:07.373 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:07.375 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:07.376 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:07.377 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 02:54:07.378 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:07.379 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:07.381 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:07.382 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:07.383 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:07.383 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:07.384 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:07.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:07.386 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:07.388 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:07.389 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:07.390 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:54:07.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:07.392 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:07.393 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:07.394 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:07.395 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:07.396 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:07.397 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:07.400 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:07.406 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:07.410 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:07.410 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:07.411 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:07.412 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:07.413 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:07.414 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:07.415 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:07.416 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 58.5907ms
2025-08-28 02:54:08.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:08.064 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.065 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.066 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.067 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:08.068 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:08.069 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 6.7798ms
2025-08-28 02:54:08.069 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:08.073 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.073 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.074 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.075 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.076 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:08.078 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:08.079 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:08.079 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:08.080 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.081 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:08.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:08.082 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:08.083 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.085 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.087 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:08.088 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.089 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:54:08.091 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.092 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:08.093 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:08.094 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:08.095 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.097 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:08.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:08.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:08.099 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.101 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 1ms reading results.
2025-08-28 02:54:08.105 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.106 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:08.107 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:08.108 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:08.109 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:08.110 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:08.111 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:08.114 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:08.120 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:08.124 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:08.125 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:08.126 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.127 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:08.128 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:08.129 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:08.130 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:08.131 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 61.7213ms
2025-08-28 02:54:08.784 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:08.786 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.787 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.789 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.790 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:08.790 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:08.791 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 7.1211ms
2025-08-28 02:54:08.792 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:08.796 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.796 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:08.798 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.798 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.800 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:08.802 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:08.802 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:08.803 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:08.804 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:08.806 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:08.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-28 02:54:08.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.811 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:08.812 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.813 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 02:54:08.814 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.815 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:08.816 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:08.818 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:08.819 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.820 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:08.821 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:08.822 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:08.823 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.824 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:08.825 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.826 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 02:54:08.827 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:08.828 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:08.830 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:08.831 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:08.832 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:08.832 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:08.834 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:08.837 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:08.842 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:08.847 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:08.848 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:08.849 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:08.850 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:08.851 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:08.851 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:08.852 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:08.853 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 61.8174ms
2025-08-28 02:54:09.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:09.532 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:09.533 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:09.535 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:09.536 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true'.
2025-08-28 02:54:09.536 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:09.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 307 0 null 6.7147ms
2025-08-28 02:54:09.538 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - null null
2025-08-28 02:54:09.542 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:09.543 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:09.544 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:09.545 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:09.546 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:09.548 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:09.548 +03:00 [DBG] Created DbConnection. (0ms).
2025-08-28 02:54:09.549 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:09.550 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:09.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:09.552 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:09.553 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:09.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:09.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:09.557 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:09.558 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:09.559 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 02:54:09.560 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:09.561 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:09.563 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:09.564 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:09.565 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:09.566 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:09.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:09.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:09.569 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:09.571 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:09.573 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:09.573 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 02:54:09.575 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:09.576 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:09.578 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:09.579 +03:00 [DBG] Fetching schema for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754", ForceRefresh=true
2025-08-28 02:54:09.580 +03:00 [INF] Fetching schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory (ForceRefresh=true)
2025-08-28 02:54:09.581 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:09.582 +03:00 [DBG] Connected to database for schema extraction (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:09.586 +03:00 [INF] Loaded 3 tables
2025-08-28 02:54:09.593 +03:00 [INF] Schema loaded: 3 tables, 10 columns, 1 relations
2025-08-28 02:54:09.599 +03:00 [DBG] Saved cache file C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:09.599 +03:00 [INF] Cached schema for DESKTOP-QCK8UI5\SQLEXPRESS|ProductInventory to C:\Users\Zyad\AppData\Local\MicroSqlRag\SqlServer\SqlServer_schemas.json
2025-08-28 02:54:09.601 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:09.602 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:09.602 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:09.603 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:09.604 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:09.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema?ForceRefresh=true - 200 null application/json; charset=utf-8 67.9788ms
2025-08-28 02:54:12.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:12.071 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.073 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.074 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.075 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:54:12.075 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:12.076 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 7.6363ms
2025-08-28 02:54:12.076 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:12.082 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.083 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.084 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.085 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.086 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:12.088 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.088 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:12.089 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:12.090 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 13.9622ms
2025-08-28 02:54:12.748 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:12.751 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.752 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.753 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.753 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:54:12.754 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:12.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 7.1311ms
2025-08-28 02:54:12.755 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:12.759 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.760 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:12.761 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.761 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.763 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:12.765 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:12.766 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:12.767 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:12.768 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 13.1742ms
2025-08-28 02:54:13.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:13.424 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:13.425 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:13.426 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:13.427 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:54:13.427 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:13.428 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 6.0165ms
2025-08-28 02:54:13.429 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:13.432 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:13.433 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:13.434 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:13.435 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:13.437 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:13.438 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:13.439 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:13.440 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:13.440 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 11.7261ms
2025-08-28 02:54:15.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:15.047 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:15.048 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:15.049 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:15.050 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'.
2025-08-28 02:54:15.050 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:15.051 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 307 0 null 6.4645ms
2025-08-28 02:54:15.052 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - null null
2025-08-28 02:54:15.056 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:15.057 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/schema' with route pattern 'api/query/{profileId}/schema' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema'
2025-08-28 02:54:15.057 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:15.058 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:15.060 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:15.061 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/schema'
2025-08-28 02:54:15.062 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:15.063 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:15.063 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/schema - 200 null application/json; charset=utf-8 11.911ms
2025-08-28 02:54:41.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:41.060 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:41.061 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:41.062 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:41.063 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 02:54:41.064 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:41.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 6.3203ms
2025-08-28 02:54:41.090 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:41.097 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:41.098 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:41.099 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:41.100 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:41.101 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:41.105 +03:00 [DBG] Creating DbConnection.
2025-08-28 02:54:41.106 +03:00 [DBG] Created DbConnection. (1ms).
2025-08-28 02:54:41.107 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:41.108 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:41.109 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:41.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:41.111 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:41.112 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:41.114 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:41.115 +03:00 [DBG] Context 'ProfilesDbContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-28 02:54:41.117 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:41.117 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 2ms reading results.
2025-08-28 02:54:41.119 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:41.120 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:41.121 +03:00 [INF] Fetching connection string for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:41.122 +03:00 [DBG] Opening connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:41.123 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:41.124 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-28 02:54:41.125 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-28 02:54:41.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-28 02:54:41.127 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:41.128 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "p0"."Id", "p0"."CacheFile", "p0"."CreatedUtc", "p0"."Name", "p0"."Provider", "p0"."SecretRef", "q"."Id", "q"."ProfileId", "q"."ResultJson", "q"."SqlQuery", "q"."TimestampUtc", "q"."UserQuery"
FROM (
    SELECT "p"."Id", "p"."CacheFile", "p"."CreatedUtc", "p"."Name", "p"."Provider", "p"."SecretRef"
    FROM "Profiles" AS "p"
    WHERE "p"."Id" = @__id_0
    LIMIT 1
) AS "p0"
LEFT JOIN "Queries" AS "q" ON "p0"."Id" = "q"."ProfileId"
ORDER BY "p0"."Id"
2025-08-28 02:54:41.130 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:41.131 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db' is being disposed after spending 0ms reading results.
2025-08-28 02:54:41.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Zyad\Documents\NaturalToSql\NaturalToSql\schema_cache.db'.
2025-08-28 02:54:41.133 +03:00 [DBG] Closed connection to database 'main' on server 'schema_cache.db' (0ms).
2025-08-28 02:54:41.134 +03:00 [DBG] Fetched secret for profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:41.135 +03:00 [DBG] Fetching databases for Profile "abb423db-5670-442d-ac8f-2a2cc1beb754"
2025-08-28 02:54:41.136 +03:00 [INF] Fetching databases for server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 02:54:41.139 +03:00 [INF] Creating connection (Server=DESKTOP-QCK8UI5\SQLEXPRESS, Database=ProductInventory)
2025-08-28 02:54:41.140 +03:00 [DBG] Connected to server DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 02:54:41.545 +03:00 [INF] Found 8 databases on DESKTOP-QCK8UI5\SQLEXPRESS
2025-08-28 02:54:41.550 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:41.552 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:41.552 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:41.553 +03:00 [DBG] Disposing connection to database 'main' on server 'schema_cache.db'.
2025-08-28 02:54:41.554 +03:00 [DBG] Disposed connection to database 'main' on server 'schema_cache.db' (1ms).
2025-08-28 02:54:41.555 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 464.988ms
2025-08-28 02:54:43.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:43.076 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.078 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.079 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.079 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 02:54:43.080 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:43.081 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 6.9333ms
2025-08-28 02:54:43.081 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:43.085 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.086 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.087 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.087 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.089 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:43.090 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.091 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:43.092 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:43.093 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 11.5326ms
2025-08-28 02:54:43.925 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:43.927 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.928 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.929 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.930 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 02:54:43.931 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:43.932 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:43.932 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 7.5633ms
2025-08-28 02:54:43.934 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.936 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:43.937 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.938 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.939 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:43.940 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:43.941 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:43.942 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:43.942 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 10.0873ms
2025-08-28 02:54:45.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:45.038 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:45.038 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:45.039 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:45.040 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 02:54:45.041 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:45.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 6.8501ms
2025-08-28 02:54:45.042 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:45.046 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:45.047 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:45.048 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:45.049 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:45.050 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:45.051 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:45.052 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:45.053 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:45.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 11.6291ms
2025-08-28 02:54:46.675 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:46.677 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:46.678 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:46.679 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:46.680 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 02:54:46.681 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:54:46.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 6.9071ms
2025-08-28 02:54:46.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:54:46.685 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:46.686 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:54:46.687 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:46.688 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:46.690 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:54:46.691 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:54:46.692 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:54:46.693 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:54:46.694 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 11.6345ms
2025-08-28 02:55:15.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:55:15.307 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:55:15.308 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:55:15.310 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:55:15.310 +03:00 [DBG] Redirecting to 'https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'.
2025-08-28 02:55:15.311 +03:00 [DBG] Connection id "0HNF5OJQPRD0M" completed keep alive response.
2025-08-28 02:55:15.312 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - null null
2025-08-28 02:55:15.312 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 307 0 null 32.3458ms
2025-08-28 02:55:15.314 +03:00 [DBG] 1 candidate(s) found for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:55:15.316 +03:00 [DBG] Endpoint 'HTTP: GET api/query/{profileId}/databases' with route pattern 'api/query/{profileId}/databases' is valid for the request path '/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases'
2025-08-28 02:55:15.317 +03:00 [DBG] Request matched endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:55:15.318 +03:00 [INF] Executing endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:55:15.320 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ProfilesDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.8' with options: None
2025-08-28 02:55:15.321 +03:00 [INF] Executed endpoint 'HTTP: GET api/query/{profileId}/databases'
2025-08-28 02:55:15.322 +03:00 [DBG] Connection id "0HNF5OJQPRD0O" completed keep alive response.
2025-08-28 02:55:15.323 +03:00 [DBG] 'ProfilesDbContext' disposed.
2025-08-28 02:55:15.324 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/query/abb423db-5670-442d-ac8f-2a2cc1beb754/databases - 200 null application/json; charset=utf-8 11.7311ms
